---
title: ğŸ˜‘python-mess-code
password: ""
tags:
  - python
  - opengl
  - å¤šçº¿ç¨‹
  - äººå·¥æ™ºèƒ½
katex: false
comments: true
aside: true
date: 2022-04-22 16:22:34
cover: https://www.helloimg.com/images/2022/04/22/RHDLJD.png
top_img:
---

<!--
 * @?: *********************************************************************
 * @Author: Weidows
 * @LastEditors: Weidows
 * @LastEditTime: 2022-04-20 23:11:24
 * @FilePath: \Blog-private\scaffolds\post.md
 * @Description:
 * @!: *********************************************************************
-->


## basic

### static-method

python ä¸­å¹¶æ²¡æœ‰åƒæ˜¯ Java é‡Œçš„ static å…³é”®å­—,å–ä»£çš„æ˜¯ `@classmethod` å’Œ `@staticmethod`



```python
class A:

    name = 'A'

    # è‡³å°‘æœ‰ä¸€ä¸ªéšå¼å½¢å‚ (æœ¬ç±» cls å¯¹è±¡), å¯ä»¥è®¿é—®ç±»å±æ€§
    @classmethod
    def a(cls):
        print(cls.name)

    # æ— å½¢å‚, ä¹Ÿå°±æ˜¯è¯´æ‹¿ä¸åˆ°ç±»å±æ€§
    @staticmethod
    def b():
        print('b')


A.a()
A.b()
```

    A
    b
    

### multi-condition

if(a||b)å½“ a ä¸ºçœŸæ—¶ï¼Œè¿˜ä¼šå¯¹ b æ±‚å€¼å—?

> ä¸ä¼š



```python
import time


def calculate(name, t):
    print("calculating: ", name, "seconds needs: ", t)
    time.sleep(t)
    return True


if (calculate('A', 2) or calculate('B', 2)):
    print("Done")

```

    calculating:  A seconds needs:  2
    Done
    

## modules

### base64



```python
import base64

username = 'Weidows'
password = '123456'

encode = base64.b64encode((username + ":" + password).encode())
# Basic V2VpZG93czoxMjM0NTY==
headers = {"Authorization": "Basic " + encode.decode()}

print(headers)
```

    {'Authorization': 'Basic V2VpZG93czoxMjM0NTY='}
    

### å¤šçº¿ç¨‹-è¿›ç¨‹

> Python å¤šçº¿ç¨‹ä¸èƒ½åˆ©ç”¨ CPU å¤šæ ¸ä¼˜åŠ¿ï¼ŒIO å¯†é›†å‹å¯ç”¨å¤šçº¿ç¨‹ï¼ŒCPU å¯†é›†å‹é€‚åˆç”¨å¤šè¿›ç¨‹ <sup id='cite_ref-2'>[\[2\]](#cite_note-2)</sup>

ä¹Ÿå°±æ˜¯è¯´åªæœ‰ IO å¯†é›†å‹ä»»åŠ¡é€‚ç”¨å¤šçº¿ç¨‹,å…¶ä»–æƒ…å†µ: `å¤šè¿›ç¨‹ > ä¸ç”¨ > å¤šçº¿ç¨‹`, API åŒºåˆ«å¦‚ä¸‹:<sup id='cite_ref-3'>[\[3\]](#cite_note-3)</sup>

![R9zQZh.png](https://www.helloimg.com/images/2022/05/02/R9zQZh.png)

è™½ç„¶ä½†æ˜¯,å¾ˆå¤šæƒ…å†µä¸‹æ¶‰åŠåˆ°èµ„æºå…±äº«, å¤šè¿›ç¨‹å¤„ç†èµ·æ¥æ¯”è¾ƒéº»çƒ¦,è¿˜æ˜¯å¤šçº¿ç¨‹èˆ’æœ.



```python
from concurrent.futures import ThreadPoolExecutor
import threading
import multiprocessing
import time

multi_num = multiprocessing.cpu_count() * 2

def counter(num):
    time.sleep(num)
    print(threading.currentThread().name, num, end='\t')


if __name__ == '__main__':
    with ThreadPoolExecutor(max_workers=multi_num) as thread_pool:
        start = time.time()
        thread_pool.map(counter, range(10))

        # ç­‰å¾…ä»»åŠ¡æ‰§è¡Œå®Œå†è·³å› main
        thread_pool.shutdown(wait=True)
        print("å¤šçº¿ç¨‹: ", time.time() - start)
```

    ThreadPoolExecutor-0_0 0	ThreadPoolExecutor-0_1 1	ThreadPoolExecutor-0_0 2	ThreadPoolExecutor-0_2 3	ThreadPoolExecutor-0_3 4	ThreadPoolExecutor-0_4 5	ThreadPoolExecutor-0_5 6	ThreadPoolExecutor-0_6 7	ThreadPoolExecutor-0_7 8	ThreadPoolExecutor-0_8 9	å¤šçº¿ç¨‹:  9.009207010269165
    

## opengl

### å½©è‰²ä¸‰è§’å½¢



```python
# -------------------------------------------
# quidam_01.py ä¸‰ç»´ç©ºé—´çš„ä¸–ç•Œåæ ‡ç³»å’Œä¸‰è§’å½¢
# -------------------------------------------

from OpenGL.GL import *
from OpenGL.GLUT import *


def draw():
    # ---------------------------------------------------------------
    glBegin(GL_LINES)  # å¼€å§‹ç»˜åˆ¶çº¿æ®µï¼ˆä¸–ç•Œåæ ‡ç³»ï¼‰

    # ä»¥çº¢è‰²ç»˜åˆ¶xè½´
    glColor4f(1.0, 0.0, 0.0, 1.0)  # è®¾ç½®å½“å‰é¢œè‰²ä¸ºçº¢è‰²ä¸é€æ˜
    glVertex3f(-0.8, 0.0, 0.0)  # è®¾ç½®xè½´é¡¶ç‚¹ï¼ˆxè½´è´Ÿæ–¹å‘ï¼‰
    glVertex3f(0.8, 0.0, 0.0)  # è®¾ç½®xè½´é¡¶ç‚¹ï¼ˆxè½´æ­£æ–¹å‘ï¼‰

    # ä»¥ç»¿è‰²ç»˜åˆ¶yè½´
    glColor4f(0.0, 1.0, 0.0, 1.0)  # è®¾ç½®å½“å‰é¢œè‰²ä¸ºç»¿è‰²ä¸é€æ˜
    glVertex3f(0.0, -0.8, 0.0)  # è®¾ç½®yè½´é¡¶ç‚¹ï¼ˆyè½´è´Ÿæ–¹å‘ï¼‰
    glVertex3f(0.0, 0.8, 0.0)  # è®¾ç½®yè½´é¡¶ç‚¹ï¼ˆyè½´æ­£æ–¹å‘ï¼‰

    # ä»¥è“è‰²ç»˜åˆ¶zè½´
    glColor4f(0.0, 0.0, 1.0, 1.0)  # è®¾ç½®å½“å‰é¢œè‰²ä¸ºè“è‰²ä¸é€æ˜
    glVertex3f(0.0, 0.0, -0.8)  # è®¾ç½®zè½´é¡¶ç‚¹ï¼ˆzè½´è´Ÿæ–¹å‘ï¼‰
    glVertex3f(0.0, 0.0, 0.8)  # è®¾ç½®zè½´é¡¶ç‚¹ï¼ˆzè½´æ­£æ–¹å‘ï¼‰

    glEnd()  # ç»“æŸç»˜åˆ¶çº¿æ®µ

    # ---------------------------------------------------------------
    glBegin(GL_TRIANGLES)  # å¼€å§‹ç»˜åˆ¶ä¸‰è§’å½¢ï¼ˆzè½´è´ŸåŠåŒºï¼‰

    glColor4f(1.0, 0.0, 0.0, 1.0)  # è®¾ç½®å½“å‰é¢œè‰²ä¸ºçº¢è‰²ä¸é€æ˜
    glVertex3f(-0.5, -0.366, -0.5)  # è®¾ç½®ä¸‰è§’å½¢é¡¶ç‚¹
    glColor4f(0.0, 1.0, 0.0, 1.0)  # è®¾ç½®å½“å‰é¢œè‰²ä¸ºç»¿è‰²ä¸é€æ˜
    glVertex3f(0.5, -0.366, -0.5)  # è®¾ç½®ä¸‰è§’å½¢é¡¶ç‚¹
    glColor4f(0.0, 0.0, 1.0, 1.0)  # è®¾ç½®å½“å‰é¢œè‰²ä¸ºè“è‰²ä¸é€æ˜
    glVertex3f(0.0, 0.5, -0.5)  # è®¾ç½®ä¸‰è§’å½¢é¡¶ç‚¹

    glEnd()  # ç»“æŸç»˜åˆ¶ä¸‰è§’å½¢

    # ---------------------------------------------------------------
    glFlush()  # æ¸…ç©ºç¼“å†²åŒºï¼Œå°†æŒ‡ä»¤é€å¾€ç¡¬ä»¶ç«‹å³æ‰§è¡Œ


if __name__ == "__main__":
    glutInit()  # 1. åˆå§‹åŒ–glutåº“
    glutCreateWindow('Quidam Of OpenGL')  # 2. åˆ›å»ºglutçª—å£
    glutDisplayFunc(draw)  # 3. æ³¨å†Œå›è°ƒå‡½æ•°draw()
    glutMainLoop()  # 4. è¿›å…¥glutä¸»å¾ªç¯
```

### ç‚¹çº¿æŠ›ç‰©çº¿



```python
from OpenGL.GL import *
from OpenGL.GLU import *
from OpenGL.GLUT import *
from numpy import *
import sys


def init():
    glClearColor(1.0, 1.0, 1.0, 1.0)
    gluOrtho2D(-5.0, 5.0, -5.0, 5.0)


def plotfunc():
    glClear(GL_COLOR_BUFFER_BIT)
    glColor3f(1.0, 0.2, 0.6)
    glPointSize(3.0)

    glBegin(GL_POINTS)
    for x in arange(-5.0, 5.0, 0.1):  #from -5.0 to 5.0 plus 0.1 every time
        y = x * x
        glVertex2f(x, y)
    glEnd()
    glFlush()


def main():
    glutInit(sys.argv)
    glutInitDisplayMode(GLUT_SINGLE | GLUT_RGB)
    glutInitWindowPosition(50, 100)
    glutInitWindowSize(400, 400)
    glutCreateWindow("Function Plotter")
    glutDisplayFunc(plotfunc)

    init()
    glutMainLoop()


main()
```

### è½¬åŠ¨æ—¶é’Ÿ



```python
from OpenGL.GL import *
from OpenGL.GLU import *
from OpenGL.GLUT import *
import math
import time

h = 0
m = 0
s = 0


def Draw():
    PI = 3.1415926
    R = 0.5
    TR = R - 0.05
    glClear(GL_COLOR_BUFFER_BIT)
    glLineWidth(5)
    glBegin(GL_LINE_LOOP)
    for i in range(100):
        glVertex2f(R * math.cos(2 * PI / 100 * i),
                   R * math.sin(2 * PI / 100 * i))
    glEnd()
    glLineWidth(2)
    for i in range(100):
        glBegin(GL_LINES)
        glVertex2f(TR * math.sin(2 * PI / 12 * i),
                   TR * math.cos(2 * PI / 12 * i))
        glVertex2f(R * math.sin(2 * PI / 12 * i),
                   R * math.cos(2 * PI / 12 * i))
        glEnd()
    glLineWidth(1)

    h_Length = 0.2
    m_Length = 0.3
    s_Length = 0.4
    count = 60.0
    s_Angle = s / count
    count *= 60
    m_Angle = (m * 60 + s) / count
    count *= 12
    h_Angle = (h * 60 * 60 + m * 60 + s) / count
    glLineWidth(1)
    glBegin(GL_LINES)
    glVertex2f(0.0, 0.0)
    glVertex2f(s_Length * math.sin(2 * PI * s_Angle),
               s_Length * math.cos(2 * PI * s_Angle))
    glEnd()
    glLineWidth(5)
    glBegin(GL_LINES)
    glVertex2f(0.0, 0.0)
    glVertex2f(h_Length * math.sin(2 * PI * h_Angle),
               h_Length * math.cos(2 * PI * h_Angle))
    glEnd()
    glLineWidth(3)
    glBegin(GL_LINES)
    glVertex2f(0.0, 0.0)
    glVertex2f(m_Length * math.sin(2 * PI * m_Angle),
               m_Length * math.cos(2 * PI * m_Angle))
    glEnd()
    glLineWidth(1)
    glBegin(GL_POLYGON)
    for i in range(100):
        glVertex2f(0.03 * math.cos(2 * PI / 100 * i),
                   0.03 * math.sin(2 * PI / 100 * i))
    glEnd()
    glFlush()


def Update():
    global h, m, s
    t = time.localtime(time.time())
    h = int(time.strftime('%H', t))
    m = int(time.strftime('%M', t))
    s = int(time.strftime('%S', t))
    glutPostRedisplay()


glutInit()
glutInitDisplayMode(GLUT_SINGLE | GLUT_RGBA)
glutInitWindowSize(400, 400)
glutCreateWindow("My clock")
glutDisplayFunc(Draw)
glutIdleFunc(Update)
glutMainLoop()
```

### Hello-World-pyglet



```python
import pyglet

window = pyglet.window.Window()

label = pyglet.text.Label('Hello, world',
                          font_name='Times New Roman',
                          font_size=36,
                          x=window.width // 2,
                          y=window.height // 2,
                          anchor_x='center',
                          anchor_y='center')


@window.event
def on_draw():
    window.clear()
    label.draw()


pyglet.app.run()
```

### èŒ¶å£¶

#### åŠ¨æ€



```python
from OpenGL.GL import *
from OpenGL.GLU import *
from OpenGL.GLUT import *


def drawFunc():
    #æ¸…æ¥šä¹‹å‰ç”»é¢
    glClear(GL_COLOR_BUFFER_BIT)
    glRotatef(0.1, 5, 5, 0)  #(è§’åº¦,x,y,z)
    glutWireTeapot(0.5)
    #åˆ·æ–°æ˜¾ç¤º
    glFlush()


#ä½¿ç”¨glutåˆå§‹åŒ–OpenGL
glutInit()
#æ˜¾ç¤ºæ¨¡å¼:GLUT_SINGLEæ— ç¼“å†²ç›´æ¥æ˜¾ç¤º|GLUT_RGBAé‡‡ç”¨RGB(Aéalpha)
glutInitDisplayMode(GLUT_SINGLE | GLUT_RGBA)
#çª—å£ä½ç½®åŠå¤§å°-ç”Ÿæˆ
glutInitWindowPosition(0, 0)
glutInitWindowSize(400, 400)
glutCreateWindow(b"first")
#è°ƒç”¨å‡½æ•°ç»˜åˆ¶å›¾åƒ
glutDisplayFunc(drawFunc)
glutIdleFunc(drawFunc)
#ä¸»å¾ªç¯
glutMainLoop()
```

#### é™æ€



```python
from OpenGL.GL import *
from OpenGL.GLU import *
from OpenGL.GLUT import *


def drawFunc():
    glClear(GL_COLOR_BUFFER_BIT)
    # è®¾ç½®ä¸ºçº¢è‰²
    glColor3f(1.0, 0.0, 0.0)
    glutWireTeapot(0.5)
    glFlush()


glutInit()
glutInitDisplayMode(GLUT_SINGLE | GLUT_RGBA)
glutInitWindowSize(400, 400)

#å‚æ•°ä¸ºbç±»å‹è€Œä¸æ˜¯string
glutCreateWindow(b"Teapot")
glutDisplayFunc(drawFunc)
glutMainLoop()
```

## æ•°æ®åˆ†æ

### numpy

#### newaxis



```python
import numpy as np

A = np.array([[2, 0, 2, 1], [2, 0, 2, 2]])

print(A)
print("A.shape: ", A.shape)

# new ä¸€ä¸ªä¸€ç»´æ•°ç»„,ç„¶åæŠŠ A æ•´ä¸ªæ€¼è¿›å»
B = A[np.newaxis, :]
print(B)
print("B.shape: ", B.shape)

C = A[:, np.newaxis]
print(C)
print("C.shape: ", C.shape)

# æŠŠæ¯ä¸ªç¬¬äºŒç»´ç¬¬å››ä½çš„å…ƒç´ æ€¼è¿›ä¸€ä¸ªæ–°æ•°ç»„,æŠŠåŸç¬¬äºŒä½æ›¿æ¢ä¸ºæ­¤æ–°æ•°ç»„
D = A[:, np.newaxis, 3]
print(D)
print("D.shape: ", D.shape)

```

    [[2 0 2 1]
     [2 0 2 2]]
    A.shape:  (2, 4)
    [[[2 0 2 1]
      [2 0 2 2]]]
    B.shape:  (1, 2, 4)
    [[[2 0 2 1]]
    
     [[2 0 2 2]]]
    C.shape:  (2, 1, 4)
    [[1]
     [2]]
    D.shape:  (2, 1)
    

<a>![åˆ†å‰²çº¿](https://fastly.jsdelivr.net/gh/Weidows/Images/img/divider.png)</a>

## å€Ÿç‰©è¡¨

<a name='cite_note-1' href='#cite_ref-1'>[1]</a>: [How does numpy.newaxis work and when to use it?](https://stackoverflow.com/questions/29241056/how-does-numpy-newaxis-work-and-when-to-use-it)

<a name='cite_note-2' href='#cite_ref-2'>[2]</a>: [Python threadpoolä¸multiprocessing](https://blog.csdn.net/gzmgzm_ming/article/details/81783450)

<a name='cite_note-3' href='#cite_ref-3'>[3]</a>: [Pythonå¹¶å‘å®æˆ˜ï¼Œæ€æ ·ä½¿ç”¨å¤šè¿›ç¨‹multiprocessingåŠ é€Ÿç¨‹åºè¿è¡Œ](https://www.bilibili.com/video/BV1yp4y1679u)


