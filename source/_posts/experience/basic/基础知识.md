---
title: 🌈基础知识
categories:
  - experience
  - basic
tags:
  - 备忘录
  - 笔记
  - 计算机系统
  - 理论知识
date: 2021-03-25 11:32:45
cover: https://cdn.jsdelivr.net/gh/Weidows/Images/hpp/蓝黄色深色城市插画手绘地球一小时宣传微信公众号封面.jpg
top_img:
---

<!--
 * @?: *********************************************************************
 * @Author: Weidows
 * @LastEditors: Weidows
 * @LastEditTime: 2021-10-28 20:02:46
 * @FilePath: \Blog-private\source\_posts\experience\basic\基础知识.md
 * @Description:
 * @!: *********************************************************************
-->

- [参照](#参照)
- [硬件](#硬件)
  - [原反补码](#原反补码)
  - [单片机](#单片机)
- [复变函数](#复变函数)
  - [复数](#复数)
- [计算机网络](#计算机网络)
  - [数据链路层](#数据链路层)
    - [媒体接入控制分类](#媒体接入控制分类)
    - [CSMA/CD](#csmacd)
    - [MAC 层协议](#mac-层协议)
  - [网络层](#网络层)
    - [路由选择协议](#路由选择协议)
    - [路由信息协议 RIP 的基本工作原理](#路由信息协议-rip-的基本工作原理)
    - [开放最短路径优先 OSPF 的基本工作原理](#开放最短路径优先-ospf-的基本工作原理)
    - [边界网关协议 BGP](#边界网关协议-bgp)
- [离散](#离散)
  - [图](#图)

![分割线](https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png)

## 参照

> 已录入 [😍Weidows の成长路线.#理论课程](../../../others/LearnWay#理论课程)

![分割线](https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png)

## 硬件

### 原反补码

- 开局三张图,故事全靠编 🤣

  <img src="https://cdn.jsdelivr.net/gh/Weidows/Images/hpp/20210325114342.png" alt="20210325114342" />
  <img src="https://cdn.jsdelivr.net/gh/Weidows/Images/hpp/20210325114403.png" alt="20210325114403" />
  <img src="https://cdn.jsdelivr.net/gh/Weidows/Images/hpp/20210325114419.png" alt="20210325114419" />

- 因为带有符号位的二进制数在计算机内计算时,原码和反码的运算结果都不是 100%正确,而且会有`+0`和`-0`两个零

- 补码 100%正确,于是我们采用补码,而且补码只有一个零

  - 补码就是为了解决这两个问题的,没了.

---

### 单片机

- 标志寄存器内部的八位是分开使用的,作用不同,但功能都是作为标志位

  <img src="https://cdn.jsdelivr.net/gh/Weidows/Images/hpp/20210331121042.png" alt="20210331121042" />

  <img src="https://cdn.jsdelivr.net/gh/Weidows/Images/hpp/20210331122847.png" alt="20210331122847" />

  <img src="https://cdn.jsdelivr.net/gh/Weidows/Images/hpp/20210331122957.png" alt="20210331122957" />

![分割线](https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png)

## 复变函数

### 复数

- 运算
  <img src="https://cdn.jsdelivr.net/gh/Weidows/Images/hpp/20210402161142.png" alt="20210402161142" />

- 一般表示
  <img src="https://cdn.jsdelivr.net/gh/Weidows/Images/hpp/20210325170144.png" alt="20210325170144" />

- 几何表示
  <img src="https://cdn.jsdelivr.net/gh/Weidows/Images/hpp/20210325170538.png" alt="20210325170538" />

- 幂与根
  <img src="https://cdn.jsdelivr.net/gh/Weidows/Images/hpp/20210325181554.png" alt="20210325181554" />

![分割线](https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png)

## 计算机网络

### 数据链路层

#### 媒体接入控制分类

<img src="https://i.loli.net/2021/09/30/xQHF3y59JUehCXm.png" alt="20210930170530" />

#### CSMA/CD

> [2016.6.20 计算机网络复习要点第三章之 CSMA/CD 协议(示例代码)](https://www.136.la/tech/show-132262.html)

采用随机接入,当多个主机同时发送帧时会`发生碰撞/冲突`.无连接不可靠,尽力交付的服务.

- CSMA/CD (载波监听多点接入/碰撞检测) 是以太网采用的`解决冲突`的方法

  - 多路接入 MA: 多个站点接入同一条总线上,竞争使用总线
  - 载波监听 CS: 站点发送数据前，先检查总线上是不是已经有数据在传输，如果有就暂缓发送，避免冲突。
  - 冲突检测: 边发送边对介质上电压信号进行检测，当电压摆动值超过一定门限时就认为发生了冲突。一旦发生冲突就停止发送数据，然后根据协议进行重传。

  ***

- 在使用 CSMA/CD 协议时，一个站不可能同时进行发送和接收（但必须边发送边监听）。因此，使用 CSMA/CD 协议的以太网不可能进行全双工通信而只能进行半双工通信（双向交替通信）；

  - 每一个站在自己发送数据之后的一小段时间内，存在着遭遇碰撞的可能性，这一小段时间是不确定的，它取决于另一个发送数据的站到本站的距离；

  - 最先发送数据帧的 A 站，在发送数据帧后至多经过时间 2r 就可知道所发送的数据帧是否遭受到碰撞；因此，以太网端到端往返时间 2r 称为争用期（碰撞窗口）；

  - 经过争用期还没有检测到碰撞，才能肯定后续发送的数据一定不会发送碰撞；

  - 凡是长度小于 64 字节的帧都是由于冲突而异常中止的无效帧，只要收到了这种无效帧，就应当立即将其丢弃；

  ***

- 采用截断二进制指数退避算法来确定碰撞后重传的时机

  - 让发生碰撞的站停止发送数据后，不是等待信道变为空闲后就立即发送数据，而是推迟（退避）一个随机的时间

  - 单位回退时间通常取冲突窗口(争用期)的值 2r，即传输最小帧长 512bit 数据用时，叫作时槽。

  - 取 r, 0 ≤ r < 2^k-1,重传的时延(退避时间)就是 r 倍的单位回退时间。

  - K 为碰撞次数时。K=Min[重传次数，10]，当重传次数超过 10 时，K 就不在增大而是一直等于 10；当重传达 16 次仍不能成功时，则丢弃该帧，并向高层报告

  <img src="https://i.loli.net/2021/09/30/2WyIlfDNPrJ6sQ1.png" alt="20210930181153" />

- 信道利用率

  <img src="https://i.loli.net/2021/09/30/hd45lubyon7FDr3.png" alt="20210930191350" />

- 帧发送/接收流程

  <img src="https://i.loli.net/2021/09/30/8jYab4yC9VLRG1W.png" alt="20210930191552" />

  <img src="https://i.loli.net/2021/09/30/PFVHYloxm1hckEM.png" alt="20210930191636" />

---

#### MAC 层协议

> 1. [以太网 MAC 层基础知识学习](https://blog.csdn.net/t_home/article/details/90711643)
> 2. 小林 Coding - 图解网络

- MAC (media access control) / (message authentication code)

  - MAC 地址相同的设备只要不是同属一个数据链路就不会出现问题。同一网段下两设备都不能正常联网.

  > I3E 注册管理结构 RA（Registration Authority）是局域网全球地址的法定管理机构[W-IEEERA]，负责分配前三个字节；前三个字节又称组织唯一标识符 OUI（Organizationally Unique Identifier），又称公司标识符（Company ID）[RFC 7042]。后三个字节由厂家自行指派称为扩展标识符（Extended Identifier）。总的一起叫做 EUI-48 扩展的唯一标识符（Extended Unique Identifier）。

  ***

- 以太网 V2 的 MAC 帧格式(MAC 格式标准有两个，一个是 DIX Ethernet V2 标准，一个是 IEEE 的 802.3 标准)

  - IEEE 802 标准中规定了一种 48 位的全球地址，此地址固化在适配器的 ROM 中（所以称为物理地址）。无线 LAN、蓝牙、以太网、FDDI、ATM 等设备都使用相同规格的 MAC 地址。

- MAC 地址字段

  <img src="https://i.loli.net/2021/09/30/C1TXwPMj9zHQ2aF.png" alt="20210930194939" />

  <img src="https://i.loli.net/2021/09/30/JxoYR9LODWjGnbp.png" alt="20210930202539" />

  ***

- 网络包至此(数据链路层)的图解

  <img src="https://i.loli.net/2021/09/30/eVHymoZWgErR2Av.png" alt="20210930204450" />

---

### 网络层

#### 路由选择协议

- 动/静态路由选择

  <img src="https://i.loli.net/2021/10/22/HkKA2PnsEm4tNL3.png" alt="20211022084950" />

- 因特网`采用动态路由选择`,分层次自治

  <img src="https://i.loli.net/2021/10/22/9IZUoa8HqYElz5F.png" alt="20211022085337" />

  <img src="https://i.loli.net/2021/10/22/hPpgxf58tyMq3DN.png" alt="20211022085557" />

- 路由器基本结构

  <img src="https://i.loli.net/2021/10/22/zPGbwVF3qlKjXC2.png" alt="20211022090722" />

#### 路由信息协议 RIP 的基本工作原理

<img src="https://i.loli.net/2021/10/22/jdVpGbKIcXsq6DE.png" alt="20211022100415" />

- RIP 会选择距离向量短的路由,而不管带宽 (距离相同的话使用负载均衡)

  <img src="https://i.loli.net/2021/10/22/R5AifYzypPelHbv.png" alt="20211022100624" />

  <img src="https://i.loli.net/2021/10/22/9WzcwDOFVLPhAfR.png" alt="20211022100656" />

- RIP 交换要点

  只和相邻路由器交换信息

  交换自己的路由表

  周期性交换 (比如 30s)

- 举例: RIP 路由条目更新规则

  <img src="https://i.loli.net/2021/10/22/LvTHYGxhgrsJIAB.png" alt="20211022115640" />

- 坏消息传得慢/路由环路/距离无穷计数问题

  新更新的路由表被老版本覆盖,有几个措施可以`减少出现概率`或减小危害:

  1. 限制最大路径为 15

  2. 路由表发生变化时立即发送更新报文 (触发更新)

  3. 记录特定接口的路由信息,而不反向传递 (水平分割)

---

#### 开放最短路径优先 OSPF 的基本工作原理

- 基本工作原理

  基于链路状态,使用最短路径优先,保证不会产生路由环路

  不限制网络规模,更新效率高,收敛速度快

  链路状态是指与哪些路由器相邻以及相应连路的代价 (费用/距离/时延/带宽等等)

  <img src="https://i.loli.net/2021/10/22/HYzejtkFZDTUKrN.png" alt="20211022165456" />

- 链路状态更新 && 最短路径 SPF 计算

  每个路由器会产生链路状态通告(LSA),包含: 直连网络/邻居路由器得到链路状态

  LSA 封装在链路状态更新分组(LSU)中,采用洪泛法发送

  每个路由器通过链路状态数据库(LSDB)来接收 LSU 维护链路状态,各路由器 LSDB 最终一致

  <img src="https://i.loli.net/2021/10/22/6K5CxSOMV8G1XNj.png" alt="20211022170324" />

- OSPF 工作过程 && 五种数据分组

  <img src="https://i.loli.net/2021/10/22/bvPgLwtE95OeJCG.png" alt="20211022170725" />

- 邻居关系建立 && 划分区域

  <img src="https://i.loli.net/2021/10/22/9KXGIOVhlwcpkWL.png" alt="20211022174329" />

  <img src="https://i.loli.net/2021/10/22/F4gZe2kz83mxNVP.png" alt="20211022174754" />

#### 边界网关协议 BGP

- 路由选择

  不同自治系统内度量路由的代价可能是不同的,所以无法通过代价度量来寻找最佳路由

  自治系统间路由选择还需要考虑政治,经济,安全等因素

  BGP 力求找一条不兜圈子的较好的路由线路,而不是找最佳路由

  <img src="https://i.loli.net/2021/10/22/Ea8Ug2YTDhMyHk5.png" alt="20211022232434" />

- 举例: BGP 路径向量应用

  <img src="https://i.loli.net/2021/10/22/PVhkctRs47nZ9Yp.png" alt="20211022232856" />

- BGP-4 的四种报文

  <img src="https://i.loli.net/2021/10/22/rn8ziTL3eb69RaU.png" alt="20211022233905" />

- 直接封装 xx 报文的协议

  RIP -> UDP

  OSPF -> IP

  BGP -> TCP

![分割线](https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png)

## 离散

### 图

- 有向图-邻接矩阵存储

  <img src="https://i.loli.net/2021/10/28/NVhbGgOzdX1ts5k.png" alt="20211028200201" />
