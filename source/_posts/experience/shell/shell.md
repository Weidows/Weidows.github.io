---
title: ğŸ’§ä¸€äº›å¸¸ç”¨ç»ˆç«¯å‘½ä»¤.
date: 2020-09-03 17:35:04
tags:
  - shell
  - å¤‡å¿˜å½•
  - Linux
  - è®¡ç®—æœºç³»ç»Ÿ
  - å®å¡”é¢æ¿
cover: https://cdn.jsdelivr.net/gh/Weidows/Images/post/gTyr4jImCiDKYfx.jpg
---

<!--
 * @Author: Weidows
 * @Date: 2020-09-03 17:35:04
 * @LastEditors: Weidows
 * @LastEditTime: 2022-02-17 01:56:44
 * @FilePath: \Blog-private\source\_posts\experience\shell\shell.md
-->

# ğŸ’§ ä¸€äº›å¸¸ç”¨ç»ˆç«¯å‘½ä»¤.

{% pullquote mindmap mindmap-md %}

- [ğŸ’§ ä¸€äº›å¸¸ç”¨ç»ˆç«¯å‘½ä»¤.](#-ä¸€äº›å¸¸ç”¨ç»ˆç«¯å‘½ä»¤)
  - [é€šç”¨](#é€šç”¨)
    - [æ–‡ä»¶æœ«å°¾è¿½åŠ å‘½ä»¤](#æ–‡ä»¶æœ«å°¾è¿½åŠ å‘½ä»¤)
    - [è¾“å‡ºé‡å®šå‘](#è¾“å‡ºé‡å®šå‘)
    - [å¯åŠ¨ç¨‹åº](#å¯åŠ¨ç¨‹åº)
    - [æ¸…åƒåœ¾(?](#æ¸…åƒåœ¾)
    - [ä¸æˆ–-ç®¡é“è¿ç®—ç¬¦](#ä¸æˆ–-ç®¡é“è¿ç®—ç¬¦)
  - [CMD/PowerShell](#cmdpowershell)
  - [Linux](#linux)
    - [æŸ¥æ€è¿›ç¨‹](#æŸ¥æ€è¿›ç¨‹)
    - [å®å¡”](#å®å¡”)
  - [Git](#git)
  - [Docker](#docker)
  - [Vim](#vim)
  - [æ‰©å±•ç¨‹åº](#æ‰©å±•ç¨‹åº)
    - [fzf](#fzf)
    - [tldr](#tldr)

{% endpullquote %}

<a>![åˆ†å‰²çº¿](https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png)</a>

## é€šç”¨

|                   æŒ‡ä»¤                   |                 ä½œç”¨                  |
| :--------------------------------------: | :-----------------------------------: |
| `cd path` // `cd ..` // `cd /` // `cd ~` | è¿›å…¥ æŒ‡å®š // ä¸Šå±‚ // æ ¹ // home ç›®å½•  |
|                `Ctrl + L`                |                 æ¸…å±                  |
|                  `exit`                  |                 é€€å‡º                  |
|                  `ping`                  |           æµ‹è¯•ç½‘ç»œé€šæ–­çŠ¶æ€            |
|                `Ctrl + C`                |             åœæ­¢å½“å‰ä»»åŠ¡              |
|                  `exit`                  |            åœæ­¢ä»»åŠ¡æˆ–ç»ˆç«¯             |
|                 `mkdir`                  |              æ–°å»ºæ–‡ä»¶å¤¹               |
|            `cp(xcopy)/mv/rm`             |       æ–‡ä»¶(å¤¹)å¤åˆ¶ã€ç§»åŠ¨ä¸åˆ é™¤        |
|               `curl + URL`               |      è®¿é—® URL(å¯åŠ å‚æ•°,å…·ä½“ç™¾åº¦)      |
|                  `pwd`                   |            æ˜¾ç¤ºå½“å‰å…¨è·¯å¾„             |
|                 `dir/ls`                 |        åˆ—å‡ºå½“å‰ç›®å½•(æ ·å¼ä¸åŒ)         |
|                  `cat`                   |     (æŒ‰å‚æ•°æ ¼å¼)è¾“å‡ºæ–‡ä»¶æ‰€æœ‰å†…å®¹      |
|                 `clear`                  |                 æ¸…å±                  |
|                  `echo`                  |          å›æ˜¾,å¸¸ç”¨ä½œæ–‡æœ¬è¾“å‡º          |
|       `shutdown -h now` / `reboot`       |              å…³æœº / é‡å¯              |
|             `ls \| grep abc`             |  è¿‡æ»¤ ls çš„è¾“å‡º,åªæ˜¾ç¤ºå«"abc"çš„å†…å®¹   |
|          `ls \| tee [-a] t.log`          | æ˜¾ç¤º ls è¾“å‡ºåŒæ—¶[è¿½åŠ ]è¾“å‡ºåˆ° t.log é‡Œ |

---

### æ–‡ä»¶æœ«å°¾è¿½åŠ å‘½ä»¤

|                       æŒ‡ä»¤                       |                    ä½œç”¨                     |
| :----------------------------------------------: | :-----------------------------------------: |
|     `echo 'add content'>/home/data/test.sh`      |               è¦†ç›–åŸæ–‡ä»¶å†…å®¹                |
|     `echo 'add content'>>/home/data/test.sh`     |                 åœ¨æœ«å°¾è¿½åŠ                   |
| `date +"%Y-%m-%d %H:%M:%S.%N" >> keepchange.txt` | è¿™ç§å†™æ³•ä¹Ÿå¯ä»¥,å°±æ˜¯æŠŠå‰é¢å½“æˆå­—ç¬¦ä¸²è¾“å…¥æ–‡ä»¶ |

---

### è¾“å‡ºé‡å®šå‘

|       æŒ‡ä»¤        |                                    ä½œç”¨                                     |
| :---------------: | :-------------------------------------------------------------------------: |
|   `ls > ls.txt`   |                         æŠŠ ls è¾“å‡ºå†…å®¹è¾“å‡ºåˆ° ls.txt                         |
|   `>/dev/null`    | æŠŠæ ‡å‡†è¾“å‡ºé‡å®šå‘åˆ°é»‘æ´,ç›¸å½“äº(1>/dev/null) æ ‡å‡†è¾“å…¥ 0,æ ‡å‡†è¾“å‡º 1,æ ‡å‡†é”™è¯¯ 2 |
| `>/dev/null 2>&1` |               æŠŠæ ‡å‡†é”™è¯¯é‡å®šå‘åˆ°æ ‡å‡†è¾“å‡º,ä¹Ÿå°±æ˜¯è¿™ä¿©éƒ½è¿›äº†é»‘æ´               |
| `2>&1 >/dev/null` |               æŠŠæ ‡å‡†é”™è¯¯é‡å®šå‘åˆ°æ ‡å‡†è¾“å‡º(å±å¹•),æ ‡å‡†è¾“å‡ºè¿›é»‘æ´               |

> [2>/dev/null å’Œ>/dev/null 2>&1 å’Œ 2>&1>/dev/null çš„åŒºåˆ«](https://blog.csdn.net/longgeaisisi/article/details/90519690)

---

### å¯åŠ¨ç¨‹åº

> [åŒæ­¥(Synchronous)å’Œå¼‚æ­¥(Asynchronous)](https://www.cnblogs.com/IT-CPC/p/10898871.html) åŒæ­¥ï¼Œå°±æ˜¯è°ƒç”¨æŸä¸ªä¸œè¥¿æ—¶ï¼Œè°ƒç”¨æ–¹å¾—ç­‰å¾…è¿™ä¸ªè°ƒç”¨è¿”å›ç»“æœæ‰èƒ½ç»§ç»­å¾€åæ‰§è¡Œã€‚å¼‚æ­¥ï¼Œå’ŒåŒæ­¥ç›¸å è°ƒç”¨æ–¹ä¸ä¼šç†è§£å¾—åˆ°ç»“æœï¼Œè€Œæ˜¯åœ¨è°ƒç”¨å‘å‡ºåè°ƒç”¨è€…å¯ç”¨ç»§ç»­æ‰§è¡Œåç»­æ“ä½œï¼Œè¢«è°ƒç”¨è€…é€šè¿‡çŠ¶ä½“æ¥é€šçŸ¥è°ƒç”¨è€…ï¼Œæˆ–è€…é€šè¿‡å›æ‰å‡½æ•°æ¥å¤„ç†è¿™ä¸ªè°ƒç”¨
>
> - start å¼‚æ­¥
> - call åŒæ­¥

---

### æ¸…åƒåœ¾(?

- å†™è„šæœ¬æ—¶,å¦‚æœé‡åˆ°ä¸¤ç§æƒ…å†µ:

  1. è¦åˆ é™¤æŸè·¯å¾„ä¸‹æ‰€æœ‰ä¸œè¥¿

  2. è·¯å¾„æ˜¯å˜é‡

  é‚£å°±æœ‰å¯èƒ½å°±å˜æˆåˆ åº“è·‘è·¯äº†..

  ***

- æ¯”å¦‚

  ```bat
  set PATH=%1
  rm -rf %PATH%/*
  ```

  ***

- PATH é è°ƒç”¨è„šæœ¬æ—¶ä¼ å…¥çš„å‚æ•°æ¥å®šä¹‰,æ²¡ä¼ å‚æ•°çš„è¯å°± undefined,ä»¥è‡³äºä¸‹ä¸€è¡Œå˜æˆå¤§åé¼é¼çš„

  `rm -rf /*`

---

### ä¸æˆ–-ç®¡é“è¿ç®—ç¬¦

command1 & command2 & command3: ä¸è®ºæˆè´¥éƒ½ä¼šæ‰§è¡Œ

command1 && command2 && command3: å·¦è¾¹å…¨éƒ½æ‰§è¡ŒæˆåŠŸ/è¿”å› 0 æ‰ä¼šæ‰§è¡Œå³è¾¹çš„å‘½ä»¤

command1 || command2 || command2: å·¦è¾¹å…¨éƒ½æ‰§è¡Œå¤±è´¥/è¿”å› 1 æ‰ä¼šæ‰§è¡Œå³è¾¹çš„å‘½ä»¤

command1 | command2: æŠŠå·¦è¾¹çš„å‘½ä»¤çš„è¾“å‡ºç»“æœä½œä¸ºå³è¾¹çš„å‘½ä»¤çš„è¾“å…¥,ä¾‹å¦‚ `ps | grep win`

<a>![åˆ†å‰²çº¿](https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png)</a>

## CMD/PowerShell

> [æ‰¹å¤„ç†å®šä¹‰å­ç¨‹åº](https://www.hxstrive.com/article/804.htm)\
> [æ‰¹å¤„ç†å‘½ä»¤ä¹‹ Start çš„è¯¦ç»†ç”¨æ³•](https://www.cnblogs.com/qlqwjy/p/8445993.html)

> [bat ä¸ shell äº’è½¬ Appendix L. Converting DOS Batch Files to Shell Scripts](http://shouce.jb51.net/shell/dosbatch.html)

|              æŒ‡ä»¤              |       ä½œç”¨        |
| :----------------------------: | :---------------: |
|              `md`              | åˆ›å»ºç›®å½•,åŒ mkdir |
|              `rd`              |  åˆ é™¤ç›®å½•,åŒ rm   |
|             `del`              |     åˆ é™¤æ–‡ä»¶      |
|             `cls`              |   æ¸…å±,åŒ clear   |
|           `ipconfig`           |   æŸ¥çœ‹ç½‘ç»œé…ç½®    |
|         `start + exe`          |   æ‰“å¼€åº”ç”¨ç¨‹åº    |
| `start/explore + URL/HTMLæ–‡ä»¶` | ç”¨é»˜è®¤æµè§ˆå™¨æ‰“å¼€  |
|      `microsoft-edge:URL`      | ç”¨ edge æ‰“å¼€ URL  |
|            `xxx /?`            |    xxx çš„å¸®åŠ©     |

- æ³¨æ„ cmd ä¸æ”¯æŒ`/`ä½œä¸ºè·¯å¾„,PowerShell æ”¯æŒ

<a>![åˆ†å‰²çº¿](https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png)</a>

## Linux

|                    æŒ‡ä»¤                     |                             ä½œç”¨                              |
| :-----------------------------------------: | :-----------------------------------------------------------: |
|                  `su root`                  |               è·å–æœ€é«˜æƒé™(éœ€è¦è¾“å…¥ root å¯†ç )                |
|                 `ifconfig`                  |                         æŸ¥çœ‹ç½‘ç»œé…ç½®                          |
|                 `dhclient`                  |                       DHCP é‡æ–°é…ç½® IP                        |
|        `./xxx.sh start/restart/xxx`         |                     å¯åŠ¨/é‡å¯ shell è„šæœ¬                      |
|              `nohup xxx.sh &`               | ä¸æŒ‚èµ·æ‰§è¡Œ xxx (é€€å‡ºç»ˆç«¯ä¸å½±å“ç¨‹åºè¿è¡Œ),éœ€è¦ ps/kill æ€æ­»è¿›ç¨‹ |
|           `tail -n 20 README.md`            |           è¾“å‡º READMD æœ€å 20 è¡Œå†…å®¹(é»˜è®¤æ˜¯ 10 è¡Œ)            |
| `systemctl start/enable/status xxx.service` |                  xxx æœåŠ¡-å¼€å¯/å¼€æœºå¯åŠ¨/çŠ¶æ€                  |
|                `touch a.txt`                |                        åˆ›å»º a.txt æ–‡ä»¶                        |

> [Linux nohup å‘½ä»¤](https://www.runoob.com/linux/linux-comm-nohup.html) \
> [Linux tail å‘½ä»¤](https://www.runoob.com/linux/linux-comm-tail.html) \
> [åŸºäº VSCode å’Œ CMake è¿›è¡Œ C/C++å¼€å‘ã€Œç¬¬ä¸€è®²ã€linux ç³»ç»Ÿä»‹ç»](https://mp.weixin.qq.com/s?__biz=MzIwMjU3NDI5Ng==&mid=2247483948&idx=1&sn=6eed2f766b1a815c9bcca38cf9ccd3c2&chksm=96ddd29ba1aa5b8d240d2c7cf9902b24f48ab36b196b86f7ea6d0b987c4538108276e6e273e6&mpshare=1&scene=23&srcid=1020CNuclmVRrL4LTW9lyHwq&sharer_sharetime=1634691119252&sharer_shareid=ff6bb8cfd138294e80df076b8b76232d#rd)

---

### æŸ¥æ€è¿›ç¨‹

|              æŒ‡ä»¤               |                     ä½œç”¨                      |
| :-----------------------------: | :-------------------------------------------: |
|          `ps -ef/aux`           |    æ˜¾ç¤ºè¿›ç¨‹(æ³¨æ„å¤šä¸ªè¿›ç¨‹ç”¨','éš”å¼€è€Œéç©ºæ ¼)    |
|          `kill -9 pid`          |                   æ€æ­»è¿›ç¨‹                    |
| `lsof -i:8080 / -i@12:34:56:78` | Linux ä¸­ä¸€åˆ‡çš†æ–‡ä»¶,æ­¤å‘½ä»¤å¯ä»¥æ˜¾ç¤ºæŒ‡å®šæ–‡ä»¶ä¿¡æ¯ |

> [ps -ef å’Œ ps -aux å’Œ ps aux](https://blog.csdn.net/weixin_38756990/article/details/72638084)\
> [Linux kill å‘½ä»¤](https://www.runoob.com/linux/linux-comm-kill.html)\
> [Linux å‘½ä»¤ç¥å™¨ï¼šlsof](https://www.jianshu.com/p/a3aa6b01b2e1)

---

### å®å¡”

|           æŒ‡ä»¤           |       ä½œç”¨       |
| :----------------------: | :--------------: |
| `/etc/init.d/bt default` | æŸ¥çœ‹å®å¡”é¢æ¿å…¥å£ |

<a>![åˆ†å‰²çº¿](https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png)</a>

## Git

|                  æŒ‡ä»¤                  |   ä½œç”¨   |
| :------------------------------------: | :------: |
| `git remote add origin ä½ çš„è¿œç¨‹åº“åœ°å€` | æ·»åŠ è¿œç¨‹ |

- Git ä¸‰è¿
  | æŒ‡ä»¤ | ä½œç”¨ |
  | :------------------------------------: | :--------: |
  | `git add .` | åŠ å…¥æš‚å­˜åŒº |
  | `git commit -m "æäº¤æ¶ˆæ¯,å¯æ·»åŠ emojiğŸ˜"` | æäº¤ |
  | `git push [origin(è¿œç¨‹åå­—,é»˜è®¤æ˜¯origin) master(åˆ†æ”¯åå­—)]` | æ¨é€ |

<a>![åˆ†å‰²çº¿](https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png)</a>

## Docker

|                    æŒ‡ä»¤                     |                      ä½œç”¨                      |
| :-----------------------------------------: | :--------------------------------------------: |
|              `docker ps [-a]`               |                 åˆ—å‡º[æ‰€æœ‰]å®¹å™¨                 |
| `docker ps --filter "abcd / status=running` |      ç­›é€‰å‡ºå«"abcd"/çŠ¶æ€ä¸º running çš„å®¹å™¨      |
|              `docker kill xxx`              |                 å…³é—­ xxx å®¹å™¨                  |
|          `docker list\| grep abc`           | ç­›é€‰ docker list å‘½ä»¤ä¸­å«æœ‰ abc å­—ç¬¦ä¸²çš„ç»“æœé›† |

<a>![åˆ†å‰²çº¿](https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png)</a>

## Vim

| æŒ‡ä»¤  |                  ä½œç”¨                   |
| :---: | :-------------------------------------: |
| `:q!` | å¦‚ä½•è·å¾—ä¸€ä¸ªéšæœºå­—ç¬¦ä¸²? >è®©æ–°æ‰‹é€€å‡º vim |

<a>![åˆ†å‰²çº¿](https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png)</a>

## æ‰©å±•ç¨‹åº

> [5 æ¬¾è¶…çº§å¥½ç”¨çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œæå‡ä½ çš„å¼€å‘æ•ˆç‡ï¼](https://zhuanlan.zhihu.com/p/176277245)\
> [æ¨è 18 ä¸ªç»ˆç«¯å‘½ä»¤è¡Œå·¥å…·](https://mp.weixin.qq.com/s?__biz=MzIyMDkwODczNw==&mid=2247500080&idx=2&sn=64d4a8f3e4013ba7a77f25502cf945dd&chksm=97c65c9ea0b1d58881e761a4bd69fa1136b87102e94d301685a085f2c6b09670dac5f5781e6a&mpshare=1&scene=23&srcid=07058VtSWw1T2LusxMXcZtRs&sharer_sharetime=1625473567691&sharer_shareid=ff6bb8cfd138294e80df076b8b76232d#rd)

### fzf

- ä¸ grep ç›¸ä¼¼,ä¸åŒç‚¹:

  - grep æ˜¯æŸ¥æ‰¾å†™æ­»çš„ä¸œè¥¿,æŸ¥æ‰¾èŒƒå›´å›ºå®š

  - fzf å¯åŠ¨æ€æŸ¥æ‰¾ç”¨æˆ·è¾“å…¥çš„å†…å®¹,å¹¶ä¸”èŒƒå›´å¤§

|    æŒ‡ä»¤     |          ä½œç”¨          |
| :---------: | :--------------------: |
|    `fzf`    |        æ¨¡ç³ŠæŸ¥æ‰¾        |
| `ls \| fzf` | åœ¨ ls çš„è¾“å‡ºå†…å®¹ä¸­æŸ¥æ‰¾ |

---

### tldr

å‘½ä»¤å¸®åŠ©æ–‡æ¡£,ä¼˜åŒ–ç‰ˆçš„ man,æœ‰ä¸ªç±»ä¼¼çš„å·¥å…· `cheat.sh`,ä¸€ç•ªè§’é€ä¹‹ä¸‹æˆ‘è¿˜æ˜¯ç”¨çš„ tldr

|   æŒ‡ä»¤    |
| :-------: |
|  tldr cd  |
| tldr java |
