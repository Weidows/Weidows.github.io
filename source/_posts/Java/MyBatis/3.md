---
title: MyBatis~(贰)
categories:
  - Java
  - MyBatis
tags:
  - Java
  - MyBatis
  - 数据库
  - 注解
date: 2021-05-16 11:18:27
cover: https://i.loli.net/2021/05/16/fa8ckdq5iHhtGLv.png
top_img:
---

<!--
 * @?: *********************************************************************
 * @Author: Weidows
 * @LastEditors: Weidows
 * @LastEditTime: 2021-05-22 10:57:16
 * @FilePath: \Weidowsd:\Game\Github\Blog-private\source\_posts\Java\MyBatis\3.md
 * @Description:
 * @!: *********************************************************************
-->

- [笔记代码](#笔记代码)
- [面向接口编程](#面向接口编程)
- [注解开发](#注解开发)
- [原理分析](#原理分析)

# [笔记代码](https://github.com/Weidows/Weidows/blob/09b2ed9b8e2b87709f36228e0ce46fe977534ce9/MyBatis/)

![分割线](https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png)

# 面向接口编程

- 主要目的就是`解耦`,分层开发中,上层业务不用管具体的实现.

- 使得 `规范` 和 `实现` 两部分分离,接口作为项目骨架.

---

# 注解开发

- 接口上直接注解 SQL 语句

  ```java
  public interface UserMapper {
    @Select("select * from mybatis.user")
    List<User> getUsers();
  }
  ```

- 绑定接口

  ```xml
    <mappers>
      <!--之前是用xml绑定的-->
      <!--<mapper resource="Mappers/UserMapper.xml"/>-->

      <!--这里换成绑定接口-->
      <mapper class="dao.UserMapper"/>
    </mappers>
  ```

- 实现原理: 通过`反射机制`获取接口中的信息,然后用`动态代理`实现业务.

  <img src="https://i.loli.net/2021/05/22/dCVzKFnXZ9c7ISY.png" alt="代理模式.drawio" />

- 调试

  <img src="https://i.loli.net/2021/05/22/WEvNxfeOLcr3Js1.png" alt="20210522000831" />

![分割线](https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png)

# 原理分析

> [mybatis 的执行流程](https://blog.csdn.net/qq_38270106/article/details/93398694)

<img src="https://i.loli.net/2021/05/22/zTEReYFDZbnpK4C.png" alt="MyBatis流程.drawio" />
