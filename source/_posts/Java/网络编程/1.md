---
title: 🎶Java网络编程
categories:
  - Java
  - 网络编程
tags:
  - Java
date: 2021-02-28 17:06:28
cover: https://cdn.jsdelivr.net/gh/Weidows/Images@master/hpp/20210228170730.png
top_img:
---

<!--
 * @?: *********************************************************************
 * @Author: Weidows
 * @LastEditors: Weidows
 * @LastEditTime: 2021-03-01 22:35:16
 * @FilePath: \Weidowsd:\Game\Github\Blog-private\source\_posts\Java\网络编程\1.md
 * @Description:
 * @!: *********************************************************************
-->

- [参考](#参考)
- [简介](#简介)
- [IP](#ip)
- [端口](#端口)
- [通信协议](#通信协议)
  - [TCP](#tcp)
  - [UDP](#udp)

![分割线](https://cdn.jsdelivr.net/gh/Weidows/Images@master/img/divider.png)

# 参考

> [【狂神说 Java】网络编程](https://blog.csdn.net/weixin_45717355/article/details/110945343)

---

# 简介

- 架构区分

  - 网页编程: B/S
  - 网络编程: C/S

  ***

- 通信要素(TCP/IP)

  - IP
  - 端口

  ***

- 协议参考

  <img src="https://cdn.jsdelivr.net/gh/Weidows/Images@master/hpp/20210228232437.png" alt="20210228232437" />

  > 更为详细的: [科来网络通讯协议图 2020 版](http://www.colasoft.com.cn/download/protocols_map.php)

  - 此处针对传输层 TCP/UDP 学习.

![分割线](https://cdn.jsdelivr.net/gh/Weidows/Images@master/img/divider.png)

# IP

```Java
import java.net.InetAddress;
import java.net.UnknownHostException;

public class Ip {

  public static void main(String[] args) {
    // write your code here
    try {
      // 获取本机内网IP地址
      InetAddress inetAddress1 = InetAddress.getByName("127.0.0.1");
      System.out.println(inetAddress1);
      InetAddress inetAddress2 = InetAddress.getByName("localhost");
      System.out.println(inetAddress2);
      InetAddress inetAddress3 = InetAddress.getLocalHost();
      System.out.println(inetAddress3);

      //查询网站ip地址
      InetAddress inetAddress4 = InetAddress.getByName("www.bilibili.com");
      System.out.println(inetAddress4);

      //常用方法
      System.out.println(inetAddress4.getAddress());
      System.out.println(inetAddress4.getCanonicalHostName()); //规范的名字
      System.out.println(inetAddress4.getHostAddress()); //ip
      System.out.println(inetAddress4.getHostName()); //域名，或者自己电脑的名字
    } catch (UnknownHostException e) {
      e.printStackTrace();
    }
  }
  /**
    /127.0.0.1
    localhost/127.0.0.1
    DESKTOP-CTDDD3K/192.168.114.1
    www.bilibili.com/121.17.123.130
    [B@2a3046da
    121.17.123.130
    121.17.123.130
    www.bilibili.com
   */
}
```

# 端口

- TCP 与 UDP 各有 65535 个端口

  - 两个协议间不冲突

  - 但是一个协议下的一个端口只能同时被一个软件占用.

  ***

- 端口分类

  - 公有端口 0 ~ 1023

    - HTTP：80

    - HTTPS：443

    - FTP：21

    - Telent：23

  - 程序注册端口：1024 ~ 49151，分配给用户或者程序

    - Tomcat：8080

    - MySQL：3306

    - Oracle：1512

  - 动态、私有：49152 ~ 65535

  ***

- 常用 shell 指令

  ```shell
  netstat -ano #查看所有的端口
  netstat -ano | finstr "5900" #查看指定的端口
  tasklist | findstr "8696" #查看指定端口的进程
  ```

- InetSocketAddress

  ```Java
  import java.net.InetSocketAddress;

  public class Port {
    public static void main(String[] args) {
      InetSocketAddress socketAddress = new InetSocketAddress("localhost", 8080);
      System.out.println(socketAddress);

      System.out.println(socketAddress.getAddress());
      System.out.println(socketAddress.getHostName());
      System.out.println(socketAddress.getPort());
    }
    /**
      localhost/127.0.0.1:8080
      localhost/127.0.0.1
      localhost
      8080
    */
  }
  ```

![分割线](https://cdn.jsdelivr.net/gh/Weidows/Images@master/img/divider.png)

# 通信协议

- 通过约定协议来管控通信的速率,码率等问题

- 并通过协议分层来简化复杂度

  ***

- 几种协议

  - TCP:用户传输协议

  - UDP:用户数据报协议

  - IP:网络互连协议

  - TCP/IP 协议簇:是一组协议 (四层概念模型)

---

## TCP

- TCP 是客户端<-->服务端双向的信息沟通,可长时间稳定连接

- 稳定连接最小验证`三次握手,四次挥手`

  ```
  最少需要三次，保证稳定连接！
  A：你瞅啥？
  B：瞅你咋地？
  A：干一场！

  至少四次,双方才能都断开连接
  A：我要走了
  B：你真的要走了吗？
  B：你真的真的要走了吗？
  A：我真的要走了
  ```

---

## UDP

- 单向的信息传递

- 没有客户端与服务端界限

- 无论有没有接收方,无论接收方是否接收,发送方只管发送

- 常见的`DDOS攻击`,让大量垃圾信息污染服务器接收端口,使其瘫痪.

![分割线](https://cdn.jsdelivr.net/gh/Weidows/Images@master/img/divider.png)
