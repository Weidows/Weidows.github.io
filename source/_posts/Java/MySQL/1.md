---
title: 🚀进修MySQL~(壹)
categories:
  - Java
  - MySQL
tags:
  - Java
  - MySQL
date: 2021-03-03 23:58:07
cover: https://cdn.jsdelivr.net/gh/Weidows/Images@master/hpp/20210304000514.png
top_img:
---

<!--
 * @?: *********************************************************************
 * @Author: Weidows
 * @LastEditors: Weidows
 * @LastEditTime: 2021-03-05 16:59:42
 * @FilePath: \Weidowsd:\Game\Github\Blog-private\source\_posts\Java\MySQL\1.md
 * @Description:
 * @!: *********************************************************************
-->

- [参考](#参考)
- [简介](#简介)
- [安装 MySQL](#安装-mysql)
- [设置密码](#设置密码)
- [连接 MySQL](#连接-mysql)
  - [VScode](#vscode)
  - [SQLyog](#sqlyog)
- [常用操作](#常用操作)
- [列类型](#列类型)
  - [数值](#数值)
  - [字符串](#字符串)
  - [日期](#日期)
  - [NULL 值](#null-值)
- [字段属性](#字段属性)
  - [阿里规范](#阿里规范)
  - [例子](#例子)

![分割线](https://cdn.jsdelivr.net/gh/Weidows/Images@master/img/divider.png)

# 参考

> [狂神说 MySQL 学习笔记](https://csp1999.blog.csdn.net/article/details/109526825?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-6.control&dist_request_id=&depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-6.control)

# 简介

- `DB` 数据库 ( DataBase )

  - 关系型数据库 ( SQL ),比如 MySQL , Oracle , SQL Server , SQLite

  - 非关系型数据库 ( NOSQL ),比如 Redis , MongoDB

- `DBA` 数据库管理员（Database Administrator)

- `DBMS` 数据库管理系统 ( DataBase Management System )

---

# 安装 MySQL

- 使用 scoop 安装

  ```shell
  scoop install mysql
  ```

- 然后注册系统服务

  - (这条信息在安装后会提示,需要`在管理员模式`的命令行下执行)

  ```
  mysqld --install MySQL --defaults-file="D:\Game\Scoop\apps\mysql\current\my.ini"
  ```

- 然后`重启电脑`,MySQL 服务会自己跑起来.

---

# 设置密码

- 在 `MySQL/bin/`下打开终端

- 进入 MySQL 管理

  ```
  mysql –u root –p
  ```

- 更新密码

  ```
  update mysql.user set authentication_string=password('2333') where user='root'and Host = 'localhost';
  ```

- 刷新权限

  ```
  flush privileges;
  ```

- 重启 MySQL 服务

  ```
  net stop mysql
  net start mysql
  ```

---

# 连接 MySQL

## VScode

- VScode 连接,需要安装 SQL 扩展(随便选一个)

- 安装插件后只需要填写需要的信息,就可以连接上了.

  <img src="https://cdn.jsdelivr.net/gh/Weidows/Images@master/hpp/20210304094732.png" alt="20210304094732" />

---

## SQLyog

- 跟上面一样

  <img src="https://cdn.jsdelivr.net/gh/Weidows/Images@master/hpp/20210304233850.png" alt="20210304233850" />

![分割线](https://cdn.jsdelivr.net/gh/Weidows/Images@master/img/divider.png)

# 常用操作

<img src="https://cdn.jsdelivr.net/gh/Weidows/Images@master/hpp/20210305104453.png" alt="20210305104453" />

```SQL
update user set password=password('123456')where user='root'; --修改密码
flush privileges; --刷新数据库权限

show databases; --显示所有数据库
use dbname; --打开某个数据库
create database [if not exists] 数据库名; --创建数据库
drop database [if exists] 数据库名; --删除数据库

show tables; --显示数据库 mysql 中所有的表
desc user; --显示表user 表的信息
create database name; --创建数据库
use databasename; --选择数据库

-- 单行注释
/* 多行注释 */
```

- 使用 SQLyog

  <img src="https://cdn.jsdelivr.net/gh/Weidows/Images@master/hpp/20210305111225.png" alt="20210305111225" />
  <img src="https://cdn.jsdelivr.net/gh/Weidows/Images@master/hpp/20210305111244.png" alt="20210305111244" />

---

# 列类型

- 标红的为常用的.

## 数值

<img src="https://cdn.jsdelivr.net/gh/Weidows/Images@master/hpp/20210305115939.png" alt="20210305115939" />

## 字符串

<img src="https://cdn.jsdelivr.net/gh/Weidows/Images@master/hpp/20210305115957.png" alt="20210305115957" />

## 日期

<img src="https://cdn.jsdelivr.net/gh/Weidows/Images@master/hpp/20210305120011.png" alt="20210305120011" />

## NULL 值

- 不要用 NULL 进行算术运算 , 结果仍为 NULL

![分割线](https://cdn.jsdelivr.net/gh/Weidows/Images@master/img/divider.png)

# 字段属性

<img src="https://cdn.jsdelivr.net/gh/Weidows/Images@master/hpp/20210305155250.png" alt="20210305155250" />

- UnSigned

  - 无符号的
  - 声明该数据列不允许负数 .

- ZEROFILL

  - 0 填充的
  - 不足位数的用 0 来填充 , 如 int(3),5 则为 005

- Auto_InCrement

  - 自动增长的 , 每添加一条数据 , 自动在上一个记录数上加 1(默认)
  - 通常用于设置主键 , 且为整数类型
  - 可定义起始值和步长,当前表设置步长(AUTO_INCREMENT=100) : 只影响当前表
  - SET @@auto_increment_increment=5 ; 影响所有使用自增的表(全局)

- NOT NULL

  - 默认为 NULL , 即没有插入该列的数值
  - 如果设置为 NOT NULL , 则该列必须有值

- DEFAULT

  - 默认的,用于设置默认值
  - 例如,性别字段,默认为"男" , 否则为 “女” ; 若无指定该列的值 , 则默认值为"男"的值

---

## 阿里规范

- 每个表必须有的五个属性

  - id 主键
  - version 乐观锁
  - is_delete 伪删除
  - gmt_create 创建时间
  - gmt_update 修改时间

---

## 例子

- 板栗

  ```SQL
  CREATE TABLE IF NOT EXISTS `student`(
    -- CREATE TABLE [IF NOT EXISTS] `表名`(
    id int NOT NULL primary key AUTO_INCREMENT comment 'primary key',
    create_time DATETIME COMMENT 'create time',
    update_time DATETIME COMMENT 'update time',
    -- `字段名` 列类型 [字段属性] [索引] [注释],
    -- `字段名` 列类型 [字段属性] [索引] [注释],
    -- `字段名` 列类型 [字段属性] [索引] [注释],
  ) default charset utf8 comment '';
  -- ) [表类型] [字符集] [注释];
  ```

---

- 举例

  ```SQL
  /*
    创建一个school数据库->创建学生表(列,字段)
    学号int 登录密码varchar(20) 姓名,性别varchar(2),出生日期(datatime),家庭住址,email
    创建表之前 , 一定要先选择数据库
  */
  USE `school`;
  CREATE TABLE IF NOT EXISTS `stu_data` (
    `id` int(4) NOT NULL AUTO_INCREMENT COMMENT '学号',
    `name` varchar(30) NOT NULL DEFAULT '匿名' COMMENT '姓名',
    `pwd` varchar(20) NOT NULL DEFAULT '123456' COMMENT '密码',
    `sex` varchar(2) NOT NULL DEFAULT '男' COMMENT '性别',
    `birthday` datetime DEFAULT NULL COMMENT '生日',
    `address` varchar(100) DEFAULT NULL COMMENT '地址',
    `email` varchar(50) DEFAULT NULL COMMENT '邮箱',
    PRIMARY KEY (`id`)
  ) ENGINE = InnoDB DEFAULT CHARSET = utf8;
  ```
