<?xml version="1.0"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://blog.weidows.tech</id>
    <title>⭐️齐下无贰⭐️ • Posts by &#34;alist&#34; tag</title>
    <link href="https://blog.weidows.tech" />
    <updated>2024-08-02T19:42:31.000Z</updated>
    <category term="备忘录" />
    <category term="API" />
    <category term="Twitter" />
    <category term="cloudflare" />
    <category term="推荐" />
    <category term="浏览器" />
    <category term="扩展" />
    <category term="FFmpeg" />
    <category term="算法" />
    <category term="hexdump" />
    <category term="HLS" />
    <category term="openssl" />
    <category term="shell" />
    <category term="密码学" />
    <category term="QQ" />
    <category term="PS" />
    <category term="设计" />
    <category term="配色" />
    <category term="架构" />
    <category term="公司" />
    <category term="管理" />
    <category term="doing" />
    <category term="ideas" />
    <category term="design" />
    <category term="摄影" />
    <category term="SSH" />
    <category term="Linux" />
    <category term="Regex" />
    <category term="yaml" />
    <category term="笔记" />
    <category term="English" />
    <category term="生活" />
    <category term="游戏" />
    <category term="Steam" />
    <category term="ARK" />
    <category term="Noita" />
    <category term="哲学" />
    <category term="Dev" />
    <category term="医学" />
    <category term="健身" />
    <category term="猫" />
    <category term="工作" />
    <category term="VScode" />
    <category term="IDEA" />
    <category term="HTML" />
    <category term="CSS" />
    <category term="JavaScript" />
    <category term="成长路线" />
    <category term="基础知识" />
    <category term="Java" />
    <category term="cpp" />
    <category term="Python" />
    <category term="工具" />
    <category term="大前端" />
    <category term="Font" />
    <category term="VR" />
    <category term="网课" />
    <category term="Manjaro" />
    <category term="操作系统" />
    <category term="服务器" />
    <category term="虚拟机" />
    <category term="树莓派" />
    <category term="Windows" />
    <category term="office" />
    <category term="Docker" />
    <category term="多线程" />
    <category term="进程" />
    <category term="CPU" />
    <category term="Scoop" />
    <category term="Maven" />
    <category term="Git" />
    <category term="nodejs" />
    <category term="wsl2" />
    <category term="Aria2" />
    <category term="PyCharm" />
    <category term="Goland" />
    <category term="图床" />
    <category term="爬虫" />
    <category term="SM.MS" />
    <category term="package" />
    <category term="homebrew" />
    <category term="Tomcat" />
    <category term="Website" />
    <category term="AI" />
    <category term="GPT" />
    <category term="手机" />
    <category term="耳机" />
    <category term="电脑" />
    <category term="npm" />
    <category term="yarn" />
    <category term="system" />
    <category term="distribution" />
    <category term="LeetCode" />
    <category term="数据结构" />
    <category term="面试" />
    <category term="OpenGL" />
    <category term="C" />
    <category term="conan" />
    <category term="计网" />
    <category term="硬件" />
    <category term="OneNote" />
    <category term="复变函数" />
    <category term="人工智能" />
    <category term="通信" />
    <category term="音频" />
    <category term="傅里叶变换" />
    <category term="极化码" />
    <category term="信息论" />
    <category term="SQL" />
    <category term="前端" />
    <category term="JSON" />
    <category term="Mariadb" />
    <category term="后端" />
    <category term="k8s" />
    <category term="天文学" />
    <category term="物理" />
    <category term="LaTeX" />
    <category term="Butterfly" />
    <category term="KaTeX" />
    <category term="Math" />
    <category term="research" />
    <category term="math" />
    <category term="dataset" />
    <category term="深度学习" />
    <category term="点云" />
    <category term="自动驾驶" />
    <category term="Color" />
    <category term="创业" />
    <category term="Javadoc" />
    <category term="编码" />
    <category term="设计模式" />
    <category term="JVM" />
    <category term="Lambda" />
    <category term="CORS" />
    <category term="JQuery" />
    <category term="Vue" />
    <category term="Cmake" />
    <category term="区块链" />
    <category term="Golang" />
    <category term="tools" />
    <category term="doc" />
    <category term="wutils" />
    <category term="Markdown" />
    <category term="markdown" />
    <category term="slidev" />
    <category term="PHP" />
    <category term="Processing" />
    <category term="Anaconda" />
    <category term="python" />
    <category term="opengl" />
    <category term="PowerShell" />
    <category term="zsh" />
    <category term="宝塔面板" />
    <category term="nextjs" />
    <category term="fullstack" />
    <category term="vercel" />
    <category term="阿里云" />
    <category term="jimp" />
    <category term="typescript" />
    <category term="guitar" />
    <category term="music" />
    <category term="音乐" />
    <category term="心理学" />
    <category term="搞笑" />
    <category term="高能" />
    <category term="微信" />
    <category term="relationship" />
    <category term="card" />
    <category term="闲鱼" />
    <category term="购物" />
    <category term="快捷键" />
    <category term="theme" />
    <category term="AWS" />
    <category term="Server" />
    <category term="Ubuntu" />
    <category term="alist" />
    <category term="蓝易云" />
    <category term="Hexo" />
    <category term="Github" />
    <category term="Gitee" />
    <category term="Action" />
    <category term="branch" />
    <category term="release" />
    <category term="Copilot" />
    <category term="插件" />
    <category term="Emmet" />
    <category term="美化" />
    <category term="vscode" />
    <category term="extension" />
    <category term="snippet" />
    <category term="SEO" />
    <category term="Pjax" />
    <category term="butterfly" />
    <category term="pug" />
    <category term="styl" />
    <category term="优化" />
    <category term="魔改" />
    <category term="MyBatis" />
    <category term="Map" />
    <category term="CRUD" />
    <category term="日志" />
    <category term="分页" />
    <category term="数据库" />
    <category term="注解" />
    <category term="MySQL" />
    <category term="JDBC" />
    <category term="JavaWeb" />
    <category term="Servlet" />
    <category term="Cookie" />
    <category term="Session" />
    <category term="JSP" />
    <category term="Filter" />
    <category term="对象" />
    <category term="反射" />
    <category term="机器学习" />
    <category term="MMDetection" />
    <category term="Colab" />
    <category term="概率论" />
    <entry>
        <id>https://blog.weidows.tech/post/system/server/serv00/</id>
        <title>serv00-服务搭建记录</title>
        <link rel="alternate" href="https://blog.weidows.tech/post/system/server/serv00/"/>
        <content type="html">&lt;h1&gt;serv00-服务搭建记录&lt;/h1&gt;
&lt;!--
 * @?: *********************************************************************
 * @Author: Weidows
 * @LastEditors: Weidows
 * @LastEditTime: 2024-08-07 12:20:39
 * @FilePath: \Blog-private\source\_posts\system\serv00.md
 * @Description:
 * @!: *********************************************************************
--&gt;
&lt;blockquote class=&#34;pullquote mindmap mindmap-sm&#34;&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#serv00-%E6%9C%8D%E5%8A%A1%E6%90%AD%E5%BB%BA%E8%AE%B0%E5%BD%95&#34;&gt;serv00-服务搭建记录&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%9C%8D%E5%8A%A1%E5%99%A8&#34;&gt;服务器&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#login-failed&#34;&gt;login-failed&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%96%87%E4%BB%B6%E5%90%8C%E6%AD%A5&#34;&gt;文件同步&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E9%87%8D%E5%90%AF%E5%90%8E%E6%9C%8D%E5%8A%A1%E6%81%A2%E5%A4%8D&#34;&gt;重启后服务恢复&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#alist-%E5%9B%BE%E5%BA%8A&#34;&gt;alist-图床&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%9B%BE%E7%89%87%E4%B8%8B%E8%BD%BD%E9%97%AE%E9%A2%98&#34;&gt;图片下载问题&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#cloudflare&#34;&gt;cloudflare&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%80%9F%E7%89%A9%E8%A1%A8&#34;&gt;借物表&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;a&gt;&lt;img src= &#34;https://pan.weidows.tech/d/local/img/loading.svg&#34; data-lazy-src=&#34;https://pan.weidows.tech/d/local/img/divider.png&#34; alt=&#34;分割线&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;服务器&#34;&gt;服务器&lt;/h2&gt;
&lt;h3 id=&#34;login-failed&#34;&gt;login-failed&lt;/h3&gt;
&lt;p&gt;官方邮件给的地址 &lt;code&gt;s4.serv00.com&lt;/code&gt; 之前还行, 现在无法登录, 全球无解析状态&lt;/p&gt;
&lt;p&gt;ssh host 换为 &lt;code&gt;web4.serv00.com&lt;/code&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&#34;文件同步&#34;&gt;文件同步&lt;/h3&gt;
&lt;p&gt;在 duck / rclone / rsync 中选择的 duck+WebDAV&lt;/p&gt;
&lt;p&gt;其他两个不方便/有报错&lt;/p&gt;
&lt;p&gt;我的配置: 主要用来备份服务器上的图片文件 &lt;sup id=&#39;cite_ref-1&#39;&gt;&lt;a href=&#34;#cite_note-1&#34;&gt;[1]&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;duck --synchronize davs://pan.weidows.tech/dav/local/ ./backup --username xxx --password xxx --parallel --quiet&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;hr&gt;
&lt;h3 id=&#34;重启后服务恢复&#34;&gt;重启后服务恢复&lt;/h3&gt;
&lt;p&gt;serv00 服务器每天会不定时重启, 网上提供的方法大多是重启后进一下 cron, 但似乎不太好用&lt;/p&gt;
&lt;p&gt;我自己改了下, 启用定时 cron:&lt;/p&gt;
&lt;figure class=&#34;highlight gradle&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;ps aux | &lt;span class=&#34;keyword&#34;&gt;grep&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;#x27;[P]M2&amp;#x27;&lt;/span&gt; || &lt;span class=&#34;regexp&#34;&gt;/home/&lt;/span&gt;Weidows&lt;span class=&#34;regexp&#34;&gt;/.npm-global/&lt;/span&gt;bin/pm2 resurrect&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;可以用这个杀一下用户进程&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;pkill -&lt;span class=&#34;built_in&#34;&gt;kill&lt;/span&gt; -u Weidows&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;a&gt;&lt;img src= &#34;https://pan.weidows.tech/d/local/img/loading.svg&#34; data-lazy-src=&#34;https://pan.weidows.tech/d/local/img/divider.png&#34; alt=&#34;分割线&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;alist-图床&#34;&gt;alist-图床&lt;/h2&gt;
&lt;p&gt;我的目标是搭建一个 alist , 同时用本地那 3 个 G 存储做 &lt;code&gt;个人图床&lt;/code&gt; (相当够用了, 不够再加其他盘), 看网上别人踩坑的记录挺少的&lt;/p&gt;
&lt;p&gt;首先在 serv00 上正常搭建起来, 有两种方法能对外开放: &lt;code&gt;argo cloudflared&lt;/code&gt; 或者 &lt;code&gt;panel 添加网站&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;还是更推荐直连, 速度和延迟都很不错, argo 并不稳&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&#34;图片下载问题&#34;&gt;图片下载问题&lt;/h3&gt;
&lt;p&gt;按上面那样搭好后, 在网页中图片显示没有问题, 但是右键 -&amp;gt; 新页面打开后会直接弹到下载 (是 header 设置的问题)&lt;/p&gt;
&lt;p&gt;可以使用 cloudflare 的服务给在中间截胡更改了:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;cloudflare -&amp;gt; 点开用的域名 -&amp;gt; 规则 -&amp;gt; 转换规则 -&amp;gt; 修改响应头&lt;/li&gt;
&lt;li&gt;名字随便起 -&amp;gt; 自定义筛选表达式&lt;/li&gt;
&lt;li&gt;匹配: &lt;code&gt;主机名 等于 pan.weidows.tech&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;设置静态 -&amp;gt; &lt;code&gt;Content-Disposition&lt;/code&gt; = &lt;code&gt;inline; filename=&amp;quot;from-pan.weidows.tech.jpg&amp;quot;&lt;/code&gt; , 当然可以改一改自定义内容&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a&gt;&lt;img src= &#34;https://pan.weidows.tech/d/local/img/loading.svg&#34; data-lazy-src=&#34;https://pan.weidows.tech/d/local/img/divider.png&#34; alt=&#34;分割线&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;cloudflare&#34;&gt;cloudflare&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;../../../Web/cloudflare&#34;&gt;cloudflare-使用及问题记录&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a&gt;&lt;img src= &#34;https://pan.weidows.tech/d/local/img/loading.svg&#34; data-lazy-src=&#34;https://pan.weidows.tech/d/local/img/divider.png&#34; alt=&#34;分割线&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;借物表&#34;&gt;借物表&lt;/h2&gt;
&lt;p&gt;&lt;a name=&#39;cite_note-1&#39; href=&#39;#cite_ref-1&#39;&gt;[1]&lt;/a&gt;: &lt;a href=&#34;https://docs.duck.sh/cli/#synchronize-folders-with-synchronize&#34;&gt;https://docs.duck.sh/cli/#synchronize-folders-with-synchronize&lt;/a&gt;&lt;/p&gt;
&lt;script type=&#34;text&amp;#x2F;javascript&#34; src=&#34;https://unpkg.com/kity@2.0.4/dist/kity.min.js&#34;&gt;&lt;/script&gt;&lt;script type=&#34;text&amp;#x2F;javascript&#34; src=&#34;https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js&#34;&gt;&lt;/script&gt;&lt;script defer=&#34;true&#34; type=&#34;text&amp;#x2F;javascript&#34; src=&#34;https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js&#34;&gt;&lt;/script&gt;&lt;link rel=&#34;stylesheet&#34; type=&#34;text&amp;#x2F;css&#34; href=&#34;https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css&#34;&gt;</content>
        <category term="cloudflare" />
        <category term="system" />
        <category term="alist" />
        <updated>2024-08-02T19:42:31.000Z</updated>
    </entry>
</feed>
