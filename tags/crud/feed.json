{
    "version": "https://jsonfeed.org/version/1",
    "title": "⭐️齐下无贰⭐️ • All posts by \"crud\" tag",
    "description": "May all the beauty be bless.✨",
    "home_page_url": "https://weidows.github.io",
    "items": [
        {
            "id": "https://weidows.github.io/post/Java/MyBatis/2/",
            "url": "https://weidows.github.io/post/Java/MyBatis/2/",
            "title": "MyBatis~(贰)",
            "date_published": "2021-05-05T16:04:28.000Z",
            "content_html": "<!--\n * @?: *********************************************************************\n * @Author: Weidows\n * @LastEditors: Weidows\n * @LastEditTime: 2021-05-16 11:19:03\n * @FilePath: \\Weidowsd:\\Game\\Github\\Blog-private\\source\\_posts\\Java\\MyBatis\\2.md\n * @Description:\n * @!: *********************************************************************\n-->\n<ul>\n<li><a href=\"#%E7%AC%94%E8%AE%B0%E4%BB%A3%E7%A0%81\">笔记代码</a></li>\n<li><a href=\"#%E9%85%8D%E7%BD%AE%E8%A7%A3%E6%9E%90\">配置解析</a>\n<ul>\n<li><a href=\"#environments\">environments</a></li>\n<li><a href=\"#properties\">properties</a></li>\n<li><a href=\"#typealiases\">typeAliases</a></li>\n<li><a href=\"#settings\">Settings</a></li>\n<li><a href=\"#plugins\">plugins</a></li>\n<li><a href=\"#mappers\">mappers</a></li>\n<li><a href=\"#%E4%BD%9C%E7%94%A8%E5%9F%9F%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F\">作用域/生命周期</a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%B1%9E%E6%80%A7%E5%90%8D%E5%92%8C%E5%AD%97%E6%AE%B5%E5%90%8D%E4%B8%8D%E4%B8%80%E8%87%B4%E7%9A%84%E9%97%AE%E9%A2%98\">属性名和字段名不一致的问题</a>\n<ul>\n<li><a href=\"#%E9%97%AE%E9%A2%98%E5%B1%95%E7%A4%BA\">问题展示</a></li>\n<li><a href=\"#%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95\">解决办法</a>\n<ul>\n<li><a href=\"#%E8%B5%B7%E5%88%AB%E5%90%8D\">起别名</a></li>\n<li><a href=\"#resultmap\">resultMap</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"#%E6%97%A5%E5%BF%97\">日志</a>\n<ul>\n<li><a href=\"#%E7%AE%80%E4%BB%8B\">简介</a></li>\n<li><a href=\"#stdout_logging\">STDOUT_LOGGING</a></li>\n<li><a href=\"#log4j\">Log4j</a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%88%86%E9%A1%B5\">分页</a></li>\n</ul>\n<h2 id=\"笔记代码\"><a href=\"https://github.com/Weidows/Weidows/blob/09b2ed9b8e2b87709f36228e0ce46fe977534ce9/MyBatis/\">笔记代码</a></h2>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"配置解析\">配置解析</h2>\n<p><code>MyBatis-Config.xml</code>这个文件,配置层级如下</p>\n<ul>\n<li>\n<p>configuration（配置）</p>\n<ul>\n<li>properties（属性）</li>\n<li>settings（设置）</li>\n<li>typeAliases（类型别名）</li>\n<li>typeHandlers（类型处理器）*</li>\n<li>objectFactory（对象工厂）*</li>\n<li>plugins（插件）*</li>\n<li>environments（环境配置）\n<ul>\n<li>environment（环境变量）\n<ul>\n<li>transactionManager（事务管理器）</li>\n<li>dataSource（数据源）</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>databaseIdProvider（数据库厂商标识）</li>\n<li>mappers（映射器）</li>\n</ul>\n</li>\n<li>\n<p>带 <code>'\\*'</code> 的是了解即可的.</p>\n</li>\n</ul>\n<hr>\n<h3 id=\"environments\">environments</h3>\n<ul>\n<li>\n<p>MyBatis 可以适应连接多个环境,但是每个 SqlSessionFactory 只能选择一种环境</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">environments</span> <span class=\"attr\">default</span>=<span class=\"string\">&quot;development&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">environment</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;development&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">transactionManager</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;JDBC&quot;</span>/&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">dataSource</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;POOLED&quot;</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;driver&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;com.mysql.cj.jdbc.Driver&quot;</span>/&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;url&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                <span class=\"attr\">value</span>=<span class=\"string\">&quot;jdbc:mysql://localhost:3306/mybatis?userSSL=true<span class=\"symbol\">&amp;amp;</span>useUnicode=true<span class=\"symbol\">&amp;amp;</span>characterEncoding=UTF-8<span class=\"symbol\">&amp;amp;</span>serverTimezone=UTC&quot;</span>/&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;username&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;root&quot;</span>/&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;password&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;123456&quot;</span>/&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">dataSource</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">environment</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">environment</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;test&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">transactionManager</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;JDBC&quot;</span>/&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">dataSource</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;POOLED&quot;</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;driver&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;com.mysql.cj.jdbc.Driver&quot;</span>/&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;url&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                <span class=\"attr\">value</span>=<span class=\"string\">&quot;jdbc:mysql://localhost:3306/mybatis?userSSL=true<span class=\"symbol\">&amp;amp;</span>useUnicode=true<span class=\"symbol\">&amp;amp;</span>characterEncoding=UTF-8<span class=\"symbol\">&amp;amp;</span>serverTimezone=UTC&quot;</span>/&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;username&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;root&quot;</span>/&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;password&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;123456&quot;</span>/&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">dataSource</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">environment</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">environments</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>MyBatis 默认事务管理器是 JDBC,数据源类型可用 POOLED/UNPOOLED/JNDI</p>\n<p>常见的数据源: dbcp, c3p0, druid</p>\n<p><a href=\"https://www.php.cn/mysql-tutorials-378143.html\">数据源有哪几种？</a></p>\n</li>\n</ul>\n<hr>\n<h3 id=\"properties\">properties</h3>\n<ul>\n<li>\n<p>可以通过 properties 属性来实现引用配置文件,比如把上方的 xml 配置抽离到 <code>db.properties</code></p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;driver&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;com.mysql.cj.jdbc.Driver&quot;</span>/&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;url&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">          <span class=\"attr\">value</span>=<span class=\"string\">&quot;jdbc:mysql://localhost:3306/mybatis?userSSL=true<span class=\"symbol\">&amp;amp;</span>useUnicode=true<span class=\"symbol\">&amp;amp;</span>characterEncoding=UTF-8<span class=\"symbol\">&amp;amp;</span>serverTimezone=UTC&quot;</span>/&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;username&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;root&quot;</span>/&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;password&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;123456&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>\n<hr>\n<figure class=\"highlight properties\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">driver</span>=<span class=\"string\">com.mysql.cj.jdbc.Driver</span></span><br><span class=\"line\"><span class=\"attr\">url</span>=<span class=\"string\">jdbc:mysql://localhost:3306/mybatis?userSSL=true&amp;useUnicode=true&amp;characterEncoding=UTF-8&amp;serverTimezone=UTC</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!--引入外部配置文件,同时增添一些配置--&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">properties</span> <span class=\"attr\">resource</span>=<span class=\"string\">&quot;db.properties&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;username&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;root&quot;</span>/&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;password&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;123456&quot;</span>/&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">properties</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">environments</span> <span class=\"attr\">default</span>=<span class=\"string\">&quot;development&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">environment</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;development&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">transactionManager</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;JDBC&quot;</span>/&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">dataSource</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;POOLED&quot;</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;driver&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;$&#123;driver&#125;&quot;</span>/&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;url&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                <span class=\"attr\">value</span>=<span class=\"string\">&quot;$&#123;url&#125;&quot;</span>/&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;username&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;$&#123;username&#125;&quot;</span>/&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;password&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;$&#123;password&#125;&quot;</span>/&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">dataSource</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">environment</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">environments</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<h3 id=\"typeAliases\">typeAliases</h3>\n<ul>\n<li>\n<p>可以给配置起一个别名,或者扫描导入 pojo 包</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">typeAliases</span>&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">&lt;!--相当于&lt;typeAlias type=&quot;pojo.User&quot; alias=&quot;user&quot;/&gt;--&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">typeAlias</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;pojo.User&quot;</span>/&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">&lt;!--在没有注解的情况下，会使用 Bean 的首字母小写的非限定类名来作为它的别名.比如pojo.User别名为user--&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">package</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;pojo&quot;</span>/&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">typeAliases</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>注解方式起别名</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Alias(&quot;user&quot;)</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">User</span> </span>&#123;</span><br><span class=\"line\">  ...</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>MyBatis 还有一些默认的别名</p>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GV4QHq.png\" alt=\"20210507212138\" />\n</li>\n</ul>\n<hr>\n<h3 id=\"Settings\">Settings</h3>\n<ul>\n<li>\n<p>会改变 MyBatis 运行状态的配置</p>\n</li>\n<li>\n<p>需要修改时找文档就行.</p>\n</li>\n</ul>\n<hr>\n<h3 id=\"plugins\">plugins</h3>\n<ul>\n<li>mybatis-generator-core</li>\n<li>mybatis-plus</li>\n<li>通用 mapper</li>\n</ul>\n<hr>\n<h3 id=\"mappers\">mappers</h3>\n<ul>\n<li>\n<p>注册绑定我们的 Mapper.xml 文件,有下面三种方式:</p>\n<p>这三种不能同时导入同一个资源,会冲突报错</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">mappers</span>&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">&lt;!--</span></span><br><span class=\"line\"><span class=\"comment\">    1. (推荐)</span></span><br><span class=\"line\"><span class=\"comment\">    每一个Mapper.xml都需要在MyBatis核心配置文件中注册</span></span><br><span class=\"line\"><span class=\"comment\">    --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">mapper</span> <span class=\"attr\">resource</span>=<span class=\"string\">&quot;dao/UserMapper.xml&quot;</span>/&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">&lt;!--</span></span><br><span class=\"line\"><span class=\"comment\">    2.</span></span><br><span class=\"line\"><span class=\"comment\">    使用class文件绑定注册</span></span><br><span class=\"line\"><span class=\"comment\">    注意:接口和他的Mapper配置文件必须同名且在同一个包下</span></span><br><span class=\"line\"><span class=\"comment\">  --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">mapper</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;dao.UserMapper&quot;</span>/&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">&lt;!--</span></span><br><span class=\"line\"><span class=\"comment\">    3.</span></span><br><span class=\"line\"><span class=\"comment\">    使用包扫描进行注入</span></span><br><span class=\"line\"><span class=\"comment\">  --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">package</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;dao&quot;</span>/&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">mappers</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<h3 id=\"作用域-生命周期\">作用域/生命周期</h3>\n<blockquote>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GV4bPP.png\" alt=\"20210508000956\" />\n<img src=\"https://www.helloimg.com/images/2022/02/27/GV4p7r.png\" alt=\"20210508000002\" />\n</blockquote>\n<ul>\n<li>\n<p>SqlSessionFactoryBuilder: 创建 SqlSessionFactory 之后就被消除的局部变量</p>\n</li>\n<li>\n<p>SqlSessionFactory</p>\n<p>可以想象为：<code>数据库连接池</code></p>\n<p>被创建之后在应用运行期间<code>一直存在</code></p>\n<p><code>应用作用域</code>,使用(静态)<code>单例模式</code></p>\n<hr>\n</li>\n<li>\n<p>SqlSession</p>\n<p>连接到连接池的一个请求</p>\n<p><code>线程不安全</code>,因此是不能被共享的，所以它的最佳的作用域是请求或方法作用域。</p>\n<p>用完就需要关掉,否则占用资源.</p>\n</li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"属性名和字段名不一致的问题\">属性名和字段名不一致的问题</h2>\n<h3 id=\"问题展示\">问题展示</h3>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">User</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">int</span> id;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> String name;</span><br><span class=\"line\">  <span class=\"comment\">//password - pwd 属性名和字段名不一致</span></span><br><span class=\"line\">  <span class=\"keyword\">private</span> String password;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>\n<p>结果: 在数据库查不到名为&quot;password&quot;的字段,所以 password 显示为 null</p>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">User(<span class=\"attribute\">id</span>=1, <span class=\"attribute\">name</span>=张三, <span class=\"attribute\">password</span>=<span class=\"literal\">null</span>)</span><br><span class=\"line\">User(<span class=\"attribute\">id</span>=2, <span class=\"attribute\">name</span>=李四, <span class=\"attribute\">password</span>=<span class=\"literal\">null</span>)</span><br><span class=\"line\">User(<span class=\"attribute\">id</span>=3, <span class=\"attribute\">name</span>=王五, <span class=\"attribute\">password</span>=<span class=\"literal\">null</span>)</span><br><span class=\"line\">User(<span class=\"attribute\">id</span>=4, <span class=\"attribute\">name</span>=赵六, <span class=\"attribute\">password</span>=<span class=\"literal\">null</span>)</span><br><span class=\"line\">User(<span class=\"attribute\">id</span>=6, <span class=\"attribute\">name</span>=王虎, <span class=\"attribute\">password</span>=<span class=\"literal\">null</span>)</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<h3 id=\"解决办法\">解决办法</h3>\n<h4 id=\"起别名\">起别名</h4>\n<figure class=\"highlight applescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">select * <span class=\"keyword\">from</span> user <span class=\"keyword\">where</span> <span class=\"built_in\">id</span> = <span class=\"comment\">#&#123;id&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\">select <span class=\"built_in\">id</span>,<span class=\"built_in\">name</span>,pwd <span class=\"keyword\">from</span> user <span class=\"keyword\">where</span> <span class=\"built_in\">id</span> = <span class=\"comment\">#&#123;id&#125;</span></span><br></pre></td></tr></table></figure>\n<hr>\n<h4 id=\"resultMap\">resultMap</h4>\n<blockquote>\n<p>MyBatis 中最重要最强大的元素。</p>\n</blockquote>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">resultMap</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;userResultMap&quot;</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;pojo.User&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">&lt;!--</span></span><br><span class=\"line\"><span class=\"comment\">    property: User中的属性名</span></span><br><span class=\"line\"><span class=\"comment\">    column: 数据库的字段名</span></span><br><span class=\"line\"><span class=\"comment\">    只需要设置这条名字不一样的映射</span></span><br><span class=\"line\"><span class=\"comment\">  --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">result</span> <span class=\"attr\">property</span>=<span class=\"string\">&quot;password&quot;</span> <span class=\"attr\">column</span>=<span class=\"string\">&quot;pwd&quot;</span>/&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">resultMap</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">select</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;getUserList&quot;</span> <span class=\"attr\">resultMap</span>=<span class=\"string\">&quot;userResultMap&quot;</span>&gt;</span></span><br><span class=\"line\">  select *</span><br><span class=\"line\">  from User</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">select</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"日志\">日志</h2>\n<h3 id=\"简介-5\">简介</h3>\n<ul>\n<li>\n<p>用来查看运行状态,<code>排错</code>.</p>\n</li>\n<li>\n<p>之前用的是 sout,debug 这种,现在出现了<code>日志工厂</code>,方便做日志</p>\n<ul>\n<li>\n<p>SLF4J</p>\n</li>\n<li>\n<p>LOG4J 【掌握】</p>\n</li>\n<li>\n<p>LOG4J2</p>\n</li>\n<li>\n<p>JDK_LOGGING</p>\n</li>\n<li>\n<p>COMMONS_LOGGING</p>\n</li>\n<li>\n<p>STDOUT_LOGGING 【掌握】</p>\n</li>\n<li>\n<p>NO_LOGGING</p>\n</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h3 id=\"STDOUT-LOGGING\">STDOUT_LOGGING</h3>\n<ul>\n<li>\n<p>在 MyBatis-config.xml 中写入配置 (注意 settings 标签所处上下位置不要错)</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">settings</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">setting</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;logImpl&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;STDOUT_LOGGING&quot;</span>/&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">settings</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<hr>\n</li>\n<li>\n<p>自动添加这种日志</p>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Opening JDBC<span class=\"built_in\"> Connection</span></span><br><span class=\"line\"><span class=\"built_in\"></span>Sun May 09 23:57:40 CST 2021 WARN: Establishing SSL<span class=\"built_in\"> connection </span>without server<span class=\"string\">&#x27;s identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn&#x27;</span>t set. <span class=\"keyword\">For</span> compliance with existing applications <span class=\"keyword\">not</span> using SSL the verifyServerCertificate property is <span class=\"builtin-name\">set</span> <span class=\"keyword\">to</span> <span class=\"string\">&#x27;false&#x27;</span>. You need either <span class=\"keyword\">to</span> explicitly <span class=\"builtin-name\">disable</span> SSL by setting <span class=\"attribute\">useSSL</span>=<span class=\"literal\">false</span>, <span class=\"keyword\">or</span> <span class=\"builtin-name\">set</span> <span class=\"attribute\">useSSL</span>=<span class=\"literal\">true</span> <span class=\"keyword\">and</span> provide truststore <span class=\"keyword\">for</span><span class=\"built_in\"> server </span>certificate verification.</span><br><span class=\"line\">Created<span class=\"built_in\"> connection </span>1524305331.</span><br><span class=\"line\">Setting autocommit <span class=\"keyword\">to</span> <span class=\"literal\">false</span> on JDBC<span class=\"built_in\"> Connection </span>[com.mysql.cj.jdbc.ConnectionImpl@5adb0db3]</span><br><span class=\"line\">==&gt;  Preparing: select * <span class=\"keyword\">from</span><span class=\"built_in\"> User</span></span><br><span class=\"line\"><span class=\"built_in\"></span>==&gt; Parameters:</span><br><span class=\"line\">&lt;==    Columns: id, name, pwd</span><br><span class=\"line\">&lt;==        Row: 1, 张三, 123456</span><br><span class=\"line\">&lt;==        Row: 2, 李四, 123456</span><br><span class=\"line\">&lt;==        Row: 3, 王五, 123456</span><br><span class=\"line\">&lt;==        Row: 4, 赵六, 123456</span><br><span class=\"line\">&lt;==        Row: 6, 王虎, 789</span><br><span class=\"line\">&lt;==      Total: 5</span><br><span class=\"line\">User(<span class=\"attribute\">id</span>=1, <span class=\"attribute\">name</span>=张三, <span class=\"attribute\">password</span>=123456)</span><br><span class=\"line\">User(<span class=\"attribute\">id</span>=2, <span class=\"attribute\">name</span>=李四, <span class=\"attribute\">password</span>=123456)</span><br><span class=\"line\">User(<span class=\"attribute\">id</span>=3, <span class=\"attribute\">name</span>=王五, <span class=\"attribute\">password</span>=123456)</span><br><span class=\"line\">User(<span class=\"attribute\">id</span>=4, <span class=\"attribute\">name</span>=赵六, <span class=\"attribute\">password</span>=123456)</span><br><span class=\"line\">User(<span class=\"attribute\">id</span>=6, <span class=\"attribute\">name</span>=王虎, <span class=\"attribute\">password</span>=789)</span><br><span class=\"line\">Resetting autocommit <span class=\"keyword\">to</span> <span class=\"literal\">true</span> on JDBC<span class=\"built_in\"> Connection </span>[com.mysql.cj.jdbc.ConnectionImpl@5adb0db3]</span><br><span class=\"line\">Closing JDBC<span class=\"built_in\"> Connection </span>[com.mysql.cj.jdbc.ConnectionImpl@5adb0db3]</span><br><span class=\"line\">Returned<span class=\"built_in\"> connection </span>1524305331 <span class=\"keyword\">to</span> pool.</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<h3 id=\"Log4j\">Log4j</h3>\n<p>更加细化,配置化的日志工厂</p>\n<ul>\n<li>\n<p>依赖:</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>log4j<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>log4j<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>1.2.17<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<hr>\n</li>\n<li>\n<p>配置文件 <code>src/main/resources/log4j.properties</code></p>\n<figure class=\"highlight properties\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#将等级为DEBUG的日志信息输出到console和file</span></span><br><span class=\"line\"><span class=\"meta\">log4j.rootLogger</span>=<span class=\"string\">DEBUG,console,file</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">#日志输出级别</span></span><br><span class=\"line\"><span class=\"meta\">log4j.logger.org.mybatis</span>=<span class=\"string\">DEBUG</span></span><br><span class=\"line\"><span class=\"meta\">log4j.logger.java.sql</span>=<span class=\"string\">DEBUG</span></span><br><span class=\"line\"><span class=\"meta\">log4j.logger.java.sql.Statement</span>=<span class=\"string\">DEBUG</span></span><br><span class=\"line\"><span class=\"meta\">log4j.logger.java.sql.ResultSet</span>=<span class=\"string\">DEBUG</span></span><br><span class=\"line\"><span class=\"meta\">log4j.logger.java.sq1.PreparedStatement</span>=<span class=\"string\">DEBUG</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">#控制台输出的相关设置</span></span><br><span class=\"line\"><span class=\"meta\">log4j.appender.console</span> = <span class=\"string\">org.apache.log4j.ConsoleAppender</span></span><br><span class=\"line\"><span class=\"meta\">log4j.appender.console.Target</span> = <span class=\"string\">System.out</span></span><br><span class=\"line\"><span class=\"meta\">log4j.appender.console.Threshold</span>=<span class=\"string\">DEBUG</span></span><br><span class=\"line\"><span class=\"meta\">log4j.appender.console.layout</span> = <span class=\"string\">org.apache.log4j.PatternLayout</span></span><br><span class=\"line\"><span class=\"meta\">log4j.appender.console.layout.ConversionPattern</span>=<span class=\"string\">[%c]-%m%n</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">#文件输出的相关设置</span></span><br><span class=\"line\"><span class=\"meta\">log4j.appender.file</span> = <span class=\"string\">org.apache.log4j.RollingFileAppender</span></span><br><span class=\"line\"><span class=\"comment\">#输出路径</span></span><br><span class=\"line\"><span class=\"meta\">log4j.appender.file.File</span>=<span class=\"string\">./log/rzp.log</span></span><br><span class=\"line\"><span class=\"meta\">log4j.appender.file.MaxFileSize</span>=<span class=\"string\">10mb</span></span><br><span class=\"line\"><span class=\"meta\">log4j.appender.file.Threshold</span>=<span class=\"string\">DEBUG</span></span><br><span class=\"line\"><span class=\"meta\">log4j.appender.file.layout</span>=<span class=\"string\">org.apache.log4j.PatternLayout</span></span><br><span class=\"line\"><span class=\"meta\">log4j.appender.file.layout.ConversionPattern</span>=<span class=\"string\">[%p][%d&#123;yy-MM-dd&#125;][%c]%m%n</span></span><br></pre></td></tr></table></figure>\n<hr>\n</li>\n<li>\n<p>测试 <code>src/test/java/Log4jTest.java</code></p>\n<p>日志有三个输出等级</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> dao.UserMapperTest;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.junit.Test;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.log4j.Logger;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Log4jTest</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"meta\">@Test</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">test</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    UserMapperTest.getUserList();</span><br><span class=\"line\">    Logger logger = Logger.getLogger(Log4jTest.class);</span><br><span class=\"line\">    logger.info(<span class=\"string\">&quot;info: 测试log4j&quot;</span>);</span><br><span class=\"line\">    logger.debug(<span class=\"string\">&quot;debug: 测试log4j&quot;</span>);</span><br><span class=\"line\">    logger.error(<span class=\"string\">&quot;error:测试log4j&quot;</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>结果日志</p>\n<figure class=\"highlight prolog\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[<span class=\"symbol\">DEBUG</span>][<span class=\"number\">21</span><span class=\"number\">-05</span><span class=\"number\">-11</span>][org.apache.ibatis.logging.<span class=\"symbol\">LogFactory</span>]<span class=\"symbol\">Logging</span> initialized using <span class=\"string\">&#x27;class org.apache.ibatis.logging.log4j.Log4jImpl&#x27;</span> adapter.</span><br><span class=\"line\">[<span class=\"symbol\">DEBUG</span>][<span class=\"number\">21</span><span class=\"number\">-05</span><span class=\"number\">-11</span>][org.apache.ibatis.logging.<span class=\"symbol\">LogFactory</span>]<span class=\"symbol\">Logging</span> initialized using <span class=\"string\">&#x27;class org.apache.ibatis.logging.log4j.Log4jImpl&#x27;</span> adapter.</span><br><span class=\"line\">[<span class=\"symbol\">DEBUG</span>][<span class=\"number\">21</span><span class=\"number\">-05</span><span class=\"number\">-11</span>][org.apache.ibatis.datasource.pooled.<span class=\"symbol\">PooledDataSource</span>]<span class=\"symbol\">PooledDataSource</span> forcefully closed/removed all connections.</span><br><span class=\"line\">[<span class=\"symbol\">DEBUG</span>][<span class=\"number\">21</span><span class=\"number\">-05</span><span class=\"number\">-11</span>][org.apache.ibatis.datasource.pooled.<span class=\"symbol\">PooledDataSource</span>]<span class=\"symbol\">PooledDataSource</span> forcefully closed/removed all connections.</span><br><span class=\"line\">[<span class=\"symbol\">DEBUG</span>][<span class=\"number\">21</span><span class=\"number\">-05</span><span class=\"number\">-11</span>][org.apache.ibatis.datasource.pooled.<span class=\"symbol\">PooledDataSource</span>]<span class=\"symbol\">PooledDataSource</span> forcefully closed/removed all connections.</span><br><span class=\"line\">[<span class=\"symbol\">DEBUG</span>][<span class=\"number\">21</span><span class=\"number\">-05</span><span class=\"number\">-11</span>][org.apache.ibatis.datasource.pooled.<span class=\"symbol\">PooledDataSource</span>]<span class=\"symbol\">PooledDataSource</span> forcefully closed/removed all connections.</span><br><span class=\"line\">[<span class=\"symbol\">DEBUG</span>][<span class=\"number\">21</span><span class=\"number\">-05</span><span class=\"number\">-11</span>][org.apache.ibatis.transaction.jdbc.<span class=\"symbol\">JdbcTransaction</span>]<span class=\"symbol\">Opening</span> <span class=\"symbol\">JDBC</span> <span class=\"symbol\">Connection</span></span><br><span class=\"line\">[<span class=\"symbol\">DEBUG</span>][<span class=\"number\">21</span><span class=\"number\">-05</span><span class=\"number\">-11</span>][org.apache.ibatis.datasource.pooled.<span class=\"symbol\">PooledDataSource</span>]<span class=\"symbol\">Created</span> connection <span class=\"number\">24650043.</span></span><br><span class=\"line\">[<span class=\"symbol\">DEBUG</span>][<span class=\"number\">21</span><span class=\"number\">-05</span><span class=\"number\">-11</span>][org.apache.ibatis.transaction.jdbc.<span class=\"symbol\">JdbcTransaction</span>]<span class=\"symbol\">Setting</span> autocommit to false on <span class=\"symbol\">JDBC</span> <span class=\"symbol\">Connection</span> [com.mysql.cj.jdbc.<span class=\"symbol\">ConnectionImpl</span>@<span class=\"number\">178213</span>b]</span><br><span class=\"line\">[<span class=\"symbol\">DEBUG</span>][<span class=\"number\">21</span><span class=\"number\">-05</span><span class=\"number\">-11</span>][dao.<span class=\"symbol\">UserMapper</span>.getUserList]==&gt;  <span class=\"symbol\">Preparing</span>: select * from <span class=\"symbol\">User</span></span><br><span class=\"line\">[<span class=\"symbol\">DEBUG</span>][<span class=\"number\">21</span><span class=\"number\">-05</span><span class=\"number\">-11</span>][dao.<span class=\"symbol\">UserMapper</span>.getUserList]==&gt; <span class=\"symbol\">Parameters</span>:</span><br><span class=\"line\">[<span class=\"symbol\">DEBUG</span>][<span class=\"number\">21</span><span class=\"number\">-05</span><span class=\"number\">-11</span>][dao.<span class=\"symbol\">UserMapper</span>.getUserList]&lt;==      <span class=\"symbol\">Total</span>: <span class=\"number\">5</span></span><br><span class=\"line\">[<span class=\"symbol\">DEBUG</span>][<span class=\"number\">21</span><span class=\"number\">-05</span><span class=\"number\">-11</span>][org.apache.ibatis.transaction.jdbc.<span class=\"symbol\">JdbcTransaction</span>]<span class=\"symbol\">Resetting</span> autocommit to true on <span class=\"symbol\">JDBC</span> <span class=\"symbol\">Connection</span> [com.mysql.cj.jdbc.<span class=\"symbol\">ConnectionImpl</span>@<span class=\"number\">178213</span>b]</span><br><span class=\"line\">[<span class=\"symbol\">DEBUG</span>][<span class=\"number\">21</span><span class=\"number\">-05</span><span class=\"number\">-11</span>][org.apache.ibatis.transaction.jdbc.<span class=\"symbol\">JdbcTransaction</span>]<span class=\"symbol\">Closing</span> <span class=\"symbol\">JDBC</span> <span class=\"symbol\">Connection</span> [com.mysql.cj.jdbc.<span class=\"symbol\">ConnectionImpl</span>@<span class=\"number\">178213</span>b]</span><br><span class=\"line\">[<span class=\"symbol\">DEBUG</span>][<span class=\"number\">21</span><span class=\"number\">-05</span><span class=\"number\">-11</span>][org.apache.ibatis.datasource.pooled.<span class=\"symbol\">PooledDataSource</span>]<span class=\"symbol\">Returned</span> connection <span class=\"number\">24650043</span> to pool.</span><br><span class=\"line\">[<span class=\"symbol\">INFO</span>][<span class=\"number\">21</span><span class=\"number\">-05</span><span class=\"number\">-11</span>][<span class=\"symbol\">Log4jTest</span>]info: 测试log4j</span><br><span class=\"line\">[<span class=\"symbol\">DEBUG</span>][<span class=\"number\">21</span><span class=\"number\">-05</span><span class=\"number\">-11</span>][<span class=\"symbol\">Log4jTest</span>]debug: 测试log4j</span><br><span class=\"line\">[<span class=\"symbol\">ERROR</span>][<span class=\"number\">21</span><span class=\"number\">-05</span><span class=\"number\">-11</span>][<span class=\"symbol\">Log4jTest</span>]error:测试log4j</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"分页\">分页</h2>\n<ul>\n<li>\n<p>简单的分页查询,可能会有报错,但是可以正常运行</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\">List&lt;User&gt; <span class=\"title\">getUsersByLimit</span><span class=\"params\">(Map&lt;String, Integer&gt; map)</span></span>;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!--分页查询--&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">select</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;getUsersByLimit&quot;</span> <span class=\"attr\">parameterType</span>=<span class=\"string\">&quot;map&quot;</span> <span class=\"attr\">resultType</span>=<span class=\"string\">&quot;pojo.User&quot;</span>&gt;</span></span><br><span class=\"line\">  select *</span><br><span class=\"line\">  from mybatis.user</span><br><span class=\"line\">  limit #&#123;startIndex&#125;,#&#123;pageSize&#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">select</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Test</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">getUserByLimit</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">  SqlSession sqlSession = MyBatisUtils.getSqlSession();</span><br><span class=\"line\">  UserMapper mapper = sqlSession.getMapper(UserMapper.class);</span><br><span class=\"line\"></span><br><span class=\"line\">  HashMap&lt;String, Integer&gt; map = <span class=\"keyword\">new</span> HashMap&lt;&gt;();</span><br><span class=\"line\">  map.put(<span class=\"string\">&quot;startIndex&quot;</span>, <span class=\"number\">1</span>);</span><br><span class=\"line\">  map.put(<span class=\"string\">&quot;pageSize&quot;</span>, <span class=\"number\">2</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  List&lt;User&gt; list = mapper.getUsersByLimit(map);</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (User user : list) &#123;</span><br><span class=\"line\">    System.out.println(user);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kity@2.0.4/dist/kity.min.js\"></script><script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js\"></script><script defer=\"true\" type=\"text&#x2F;javascript\" src=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js\"></script><link rel=\"stylesheet\" type=\"text&#x2F;css\" href=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css\">",
            "tags": [
                "java",
                "mybatis",
                "map",
                "crud",
                "日志",
                "分页",
                "数据库"
            ]
        },
        {
            "id": "https://weidows.github.io/post/Java/MyBatis/1/",
            "url": "https://weidows.github.io/post/Java/MyBatis/1/",
            "title": "MyBatis~(壹)初探.",
            "date_published": "2021-05-02T08:14:02.000Z",
            "content_html": "<!--\n * @?: *********************************************************************\n * @Author: Weidows\n * @LastEditors: Weidows\n * @LastEditTime: 2021-05-22 10:54:52\n * @FilePath: \\Weidowsd:\\Game\\Github\\Blog-private\\source\\_posts\\Java\\MyBatis\\1.md\n * @Description:\n * @!: *********************************************************************\n-->\n<ul>\n<li><a href=\"#%E9%A1%B9%E7%9B%AE%E4%BB%A3%E7%A0%81\">项目代码</a></li>\n<li><a href=\"#%E5%8F%82%E7%85%A7\">参照</a></li>\n<li><a href=\"#%E7%AE%80%E4%BB%8B\">简介</a></li>\n<li><a href=\"#hello-mybatis\">Hello-MyBatis</a>\n<ul>\n<li><a href=\"#%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE\">环境配置</a></li>\n<li><a href=\"#%E6%95%B0%E6%8D%AE%E5%BA%93\">数据库</a></li>\n<li><a href=\"#%E5%B7%A5%E5%85%B7%E7%B1%BB\">工具类</a></li>\n<li><a href=\"#dao\">Dao</a></li>\n<li><a href=\"#%E6%B5%8B%E8%AF%95\">测试</a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%BC%80%E5%A7%8B-crud\">开始 CRUD</a></li>\n<li><a href=\"#%E9%80%9A%E8%BF%87-map-%E4%BC%98%E5%8C%96\">通过 Map 优化</a></li>\n</ul>\n<h2 id=\"项目代码\"><a href=\"https://github.com/Weidows/Weidows/blob/c0e919f1561aa427bbe159c4583bbdd14f26cc98/MyBatis\">项目代码</a></h2>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"借物表-16\">借物表</h2>\n<blockquote>\n<p>在此文章记录了: <a href=\"../../../others/LearnWay#mybatis\">😍Weidows の成长路线.#mybatis</a></p>\n</blockquote>\n<hr>\n<h2 id=\"简介-4\">简介</h2>\n<p>MyBatis 是优秀的持久层框架,简单来说就是方便<code>存-取数据</code>的工具.</p>\n<p>持久层: Dao 层、Service 层、Controller 层</p>\n<ul>\n<li>\n<p>之前听说过 <code>MyBatis-plus</code>,这里贴一篇二者的区别</p>\n<blockquote>\n<p><a href=\"https://www.jianshu.com/p/8556c8468241\">MyBatis 与 MyBatis-plus 的区别</a></p>\n</blockquote>\n<p>下图中蓝色小鸟就是 MyBatis-plus</p>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVSWtu.png\" alt=\"20210503164644\" />\n</li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"Hello-MyBatis\">Hello-MyBatis</h2>\n<h3 id=\"环境配置\">环境配置</h3>\n<ul>\n<li>\n<p>用 Maven 创建空项目,<code>导入依赖</code>&amp;<code>设置 Maven 过滤器</code>:</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!--导入依赖--&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependencies</span>&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">&lt;!--mysqlq驱动--&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>mysql<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>mysql-connector-java<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>8.0.12<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">&lt;!--mybatis--&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.mybatis<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>mybatis<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>3.5.4<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">&lt;!--junit--&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>junit<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>junit<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>4.12<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">scope</span>&gt;</span>test<span class=\"tag\">&lt;/<span class=\"name\">scope</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.projectlombok<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>lombok<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>1.18.20<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">dependencies</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">&lt;!--Mapper资源导出,不设置的话会报错--&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">build</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">resources</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">resource</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">directory</span>&gt;</span>src/main/resources<span class=\"tag\">&lt;/<span class=\"name\">directory</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">includes</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">include</span>&gt;</span>**/*.properties<span class=\"tag\">&lt;/<span class=\"name\">include</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">include</span>&gt;</span>**/*.xml<span class=\"tag\">&lt;/<span class=\"name\">include</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">includes</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">filtering</span>&gt;</span>true<span class=\"tag\">&lt;/<span class=\"name\">filtering</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">resource</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">resource</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">directory</span>&gt;</span>src/main/java<span class=\"tag\">&lt;/<span class=\"name\">directory</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">includes</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">include</span>&gt;</span>**/*.properties<span class=\"tag\">&lt;/<span class=\"name\">include</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">include</span>&gt;</span>**/*.xml<span class=\"tag\">&lt;/<span class=\"name\">include</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">includes</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">filtering</span>&gt;</span>true<span class=\"tag\">&lt;/<span class=\"name\">filtering</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">resource</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">resources</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">build</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>然后创建空的子模块,子模块中开发就不需要再导入依赖了,MyBatis 需要添加一个配置文件: <code>src/main/resources/MyBatis-config.xml</code></p>\n<ul>\n<li>后面每增加一个 Mapper.xml,都需要在这里面添加 Mapper 映射;后面会提到.</li>\n</ul>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span></span><br><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">configuration</span></span></span><br><span class=\"line\"><span class=\"meta\">    <span class=\"meta-keyword\">PUBLIC</span> <span class=\"meta-string\">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span></span><br><span class=\"line\"><span class=\"meta\">    <span class=\"meta-string\">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!--configuration核心配置文件--&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">configuration</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">environments</span> <span class=\"attr\">default</span>=<span class=\"string\">&quot;development&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">environment</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;development&quot;</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">transactionManager</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;JDBC&quot;</span>/&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">dataSource</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;POOLED&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;driver&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;com.mysql.cj.jdbc.Driver&quot;</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;url&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                  <span class=\"attr\">value</span>=<span class=\"string\">&quot;jdbc:mysql://localhost:3306/mybatis?userSSL=true<span class=\"symbol\">&amp;amp;</span>useUnicode=true<span class=\"symbol\">&amp;amp;</span>characterEncoding=UTF-8<span class=\"symbol\">&amp;amp;</span>serverTimezone=UTC&quot;</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;username&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;root&quot;</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;password&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;123456&quot;</span>/&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">dataSource</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">environment</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">environments</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<h3 id=\"数据库\">数据库</h3>\n<ul>\n<li>\n<p>初始化数据库和 pojo</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">create</span> schema <span class=\"keyword\">User</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">create</span> <span class=\"keyword\">table</span> <span class=\"keyword\">User</span></span><br><span class=\"line\">(</span><br><span class=\"line\">  id   <span class=\"type\">int</span>                      <span class=\"keyword\">not</span> <span class=\"keyword\">null</span>,</span><br><span class=\"line\">  name <span class=\"type\">varchar</span>(<span class=\"number\">30</span>) <span class=\"keyword\">default</span> <span class=\"keyword\">null</span> <span class=\"keyword\">null</span>,</span><br><span class=\"line\">  pwd  <span class=\"type\">varchar</span>(<span class=\"number\">30</span>) <span class=\"keyword\">default</span> <span class=\"keyword\">null</span> <span class=\"keyword\">null</span>,</span><br><span class=\"line\">  <span class=\"keyword\">constraint</span> User_pk</span><br><span class=\"line\">    <span class=\"keyword\">primary</span> key (id)</span><br><span class=\"line\">) ENGINE <span class=\"operator\">=</span> INNODB</span><br><span class=\"line\">  <span class=\"keyword\">DEFAULT</span> <span class=\"type\">CHARACTER</span> <span class=\"keyword\">SET</span> <span class=\"operator\">=</span> utf8;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">insert</span> <span class=\"keyword\">into</span> <span class=\"keyword\">User</span>(id, name, pwd)</span><br><span class=\"line\"><span class=\"keyword\">values</span> (<span class=\"number\">1</span>, <span class=\"string\">&#x27;张三&#x27;</span>, <span class=\"number\">123456</span>),</span><br><span class=\"line\">      (<span class=\"number\">2</span>, <span class=\"string\">&#x27;李四&#x27;</span>, <span class=\"number\">123456</span>),</span><br><span class=\"line\">      (<span class=\"number\">3</span>, <span class=\"string\">&#x27;王五&#x27;</span>, <span class=\"number\">123456</span>),</span><br><span class=\"line\">      (<span class=\"number\">4</span>, <span class=\"string\">&#x27;赵六&#x27;</span>, <span class=\"number\">123456</span>)</span><br></pre></td></tr></table></figure>\n<hr>\n<ul>\n<li>\n<p><code>src/main/java/pojo/User.java</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> pojo;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> lombok.AllArgsConstructor;</span><br><span class=\"line\"><span class=\"keyword\">import</span> lombok.Data;</span><br><span class=\"line\"><span class=\"keyword\">import</span> lombok.NoArgsConstructor;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Data</span></span><br><span class=\"line\"><span class=\"meta\">@AllArgsConstructor</span></span><br><span class=\"line\"><span class=\"meta\">@NoArgsConstructor</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">User</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">int</span> id;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> String name;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> String pwd;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n</li>\n</ul>\n<h3 id=\"工具类\">工具类</h3>\n<p><code>src/main/java/utils/MyBatisUtils.java</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> utils;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.ibatis.io.Resources;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.ibatis.session.SqlSession;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.ibatis.session.SqlSessionFactory;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.ibatis.session.SqlSessionFactoryBuilder;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.IOException;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.InputStream;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//sqlSessionFactory --&gt; sqlSession</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MyBatisUtils</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> SqlSessionFactory sqlSessionFactory = <span class=\"keyword\">null</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">static</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">      <span class=\"comment\">//使用Mybatis第一步 ：获取sqlSessionFactory对象</span></span><br><span class=\"line\">      String resource = <span class=\"string\">&quot;MyBatis-config.xml&quot;</span>;</span><br><span class=\"line\">      InputStream inputStream = Resources.getResourceAsStream(resource);</span><br><span class=\"line\">      sqlSessionFactory = <span class=\"keyword\">new</span> SqlSessionFactoryBuilder().build(inputStream);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">catch</span> (IOException e) &#123;</span><br><span class=\"line\">      e.printStackTrace();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">  * 既然有了 SqlSessionFactory，顾名思义，我们可以从中获得 SqlSession 的实例.</span></span><br><span class=\"line\"><span class=\"comment\">  * SqlSession 提供了在数据库执行 SQL 命令所需的所有方法。</span></span><br><span class=\"line\"><span class=\"comment\">  */</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> SqlSession <span class=\"title\">getSqlSession</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> sqlSessionFactory.openSession();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"Dao\">Dao</h3>\n<ul>\n<li>\n<p>dao 中编写<code>接口</code>和绑定 <code>Mapper.xml</code></p>\n<blockquote>\n<p><a href=\"https://github.com/Weidows/Java/blob/master/MyBatis/1-hello-MyBatis/src/main/java/dao\">https://github.com/Weidows/Java/blob/master/MyBatis/1-hello-MyBatis/src/main/java/dao</a></p>\n</blockquote>\n<ul>\n<li>\n<p>这里的 xml 配置绑定好接口,就可以让 MyBatis 负责 SQL 代码了,避免了 dao 层中 JDBC 代码过于繁杂和重复的问题</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF8&quot; ?&gt;</span></span><br><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">mapper</span></span></span><br><span class=\"line\"><span class=\"meta\">    <span class=\"meta-keyword\">PUBLIC</span> <span class=\"meta-string\">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span></span><br><span class=\"line\"><span class=\"meta\">    <span class=\"meta-string\">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">&lt;!--namespace=绑定一个指定的Dao/Mapper接口--&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">mapper</span> <span class=\"attr\">namespace</span>=<span class=\"string\">&quot;dao.UserMapper&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">&lt;!--这里id就是方法名,相当于实现方法--&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">select</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;getUserList&quot;</span> <span class=\"attr\">resultType</span>=<span class=\"string\">&quot;pojo.User&quot;</span>&gt;</span></span><br><span class=\"line\">    select *</span><br><span class=\"line\">    from User</span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">select</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n<li>\n<p>Mapper.xml 绑定的是与之对应的接口,然后需要在 <code>MyBatis-config.xml</code>中绑定需要的 <code>Mapper.xml</code></p>\n<p><code>绑定关系</code>: UserMapper.java -&gt; UserMapper.xml -&gt; MyBatis-config.xml</p>\n<p>添加绑定如下:</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF8&quot; ?&gt;</span></span><br><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">configuration</span></span></span><br><span class=\"line\"><span class=\"meta\">    <span class=\"meta-keyword\">PUBLIC</span> <span class=\"meta-string\">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span></span><br><span class=\"line\"><span class=\"meta\">    <span class=\"meta-string\">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!--configuration核心配置文件--&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">configuration</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">environments</span> <span class=\"attr\">default</span>=<span class=\"string\">&quot;development&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">environment</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;development&quot;</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">transactionManager</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;JDBC&quot;</span>/&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">dataSource</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;POOLED&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;driver&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;com.mysql.cj.jdbc.Driver&quot;</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;url&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                  <span class=\"attr\">value</span>=<span class=\"string\">&quot;jdbc:mysql://localhost:3306/mybatis?userSSL=true<span class=\"symbol\">&amp;amp;</span>useUnicode=true<span class=\"symbol\">&amp;amp;</span>characterEncoding=UTF-8<span class=\"symbol\">&amp;amp;</span>serverTimezone=UTC&quot;</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;username&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;root&quot;</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;password&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;123456&quot;</span>/&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">dataSource</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">environment</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">environments</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">&lt;!--绑定Mapper.xml--&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">mappers</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">mapper</span> <span class=\"attr\">resource</span>=<span class=\"string\">&quot;dao/UserMapper.xml&quot;</span>/&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">mappers</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">configuration</span>&gt;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<h3 id=\"测试\">测试</h3>\n<ul>\n<li>\n<p>注意 test 中层级与 main 中层级一一对应</p>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GV4afo.png\" alt=\"20210504111311\" />\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> dao;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.ibatis.session.SqlSession;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.junit.Test;</span><br><span class=\"line\"><span class=\"keyword\">import</span> pojo.User;</span><br><span class=\"line\"><span class=\"keyword\">import</span> utils.MyBatisUtils;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.List;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">UserMapperTest</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"meta\">@Test</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">test</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//1.获取SqlSession对象</span></span><br><span class=\"line\">    SqlSession sqlSession = MyBatisUtils.getSqlSession();</span><br><span class=\"line\">    <span class=\"comment\">//2.执行SQL</span></span><br><span class=\"line\">    UserMapper userMapper = sqlSession.getMapper(UserMapper.class);</span><br><span class=\"line\">    List&lt;User&gt; userList = userMapper.getUserList();</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (User user : userList) &#123;</span><br><span class=\"line\">      System.out.println(user);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//关闭sqlSession</span></span><br><span class=\"line\">    sqlSession.close();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Test</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">test1</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//1.获取SqlSession对象</span></span><br><span class=\"line\">    SqlSession sqlSession = MyBatisUtils.getSqlSession();</span><br><span class=\"line\">    <span class=\"comment\">//2.执行SQL</span></span><br><span class=\"line\">    List&lt;User&gt; userList = sqlSession.selectList(<span class=\"string\">&quot;dao.UserMapper.getUserList&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (User user : userList) &#123;</span><br><span class=\"line\">      System.out.println(user);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//关闭sqlSession</span></span><br><span class=\"line\">    sqlSession.close();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>排错:</p>\n<ul>\n<li>\n<p><code>org.apache.ibatis.binding.BindingException: Type interface dao.UserDao is not known to the MapperRegistry.</code></p>\n<p>这是因为 Mapper.xml 资源没有被 Maven 导出,所以找不到资源,<a href=\"#hello-mybatis\">解决办法:资源导出</a></p>\n</li>\n<li>\n<p><code>1字节的UTF-8序列的字节1无效的问题处理</code></p>\n<p>这个问题格外 dan 疼,把下面的 <code>UTF-8</code> 改为 <code>UTF8</code> 试试…</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"开始-CRUD\">开始 CRUD</h2>\n<ul>\n<li>\n<p>完善 CRUD 只需要修改下面三个文件:</p>\n</li>\n<li>\n<p><code>src/main/java/dao/UserMapper.java</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> dao;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> pojo.User;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.List;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">UserMapper</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\">List&lt;User&gt; <span class=\"title\">getUserList</span><span class=\"params\">()</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\">User <span class=\"title\">getUserById</span><span class=\"params\">(<span class=\"keyword\">int</span> id)</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">addUser</span><span class=\"params\">(User user)</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">updateUser</span><span class=\"params\">(User user)</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">deleteUser</span><span class=\"params\">(<span class=\"keyword\">int</span> id)</span></span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n</li>\n<li>\n<p><code>src/main/java/dao/UserMapper.xml</code></p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF8&quot; ?&gt;</span></span><br><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">mapper</span></span></span><br><span class=\"line\"><span class=\"meta\">    <span class=\"meta-keyword\">PUBLIC</span> <span class=\"meta-string\">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span></span><br><span class=\"line\"><span class=\"meta\">    <span class=\"meta-string\">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">&lt;!--namespace=绑定一个指定的Dao/Mapper接口--&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">mapper</span> <span class=\"attr\">namespace</span>=<span class=\"string\">&quot;dao.UserMapper&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">&lt;!--这里id就是方法名,相当于实现方法--&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">select</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;getUserList&quot;</span> <span class=\"attr\">resultType</span>=<span class=\"string\">&quot;pojo.User&quot;</span>&gt;</span></span><br><span class=\"line\">    select *</span><br><span class=\"line\">    from User</span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">select</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">select</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;getUserById&quot;</span> <span class=\"attr\">resultType</span>=<span class=\"string\">&quot;pojo.User&quot;</span> <span class=\"attr\">parameterType</span>=<span class=\"string\">&quot;int&quot;</span>&gt;</span></span><br><span class=\"line\">    select *</span><br><span class=\"line\">    from mybatis.user</span><br><span class=\"line\">    where id = #&#123;id&#125;</span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">select</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">insert</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;addUser&quot;</span> <span class=\"attr\">parameterType</span>=<span class=\"string\">&quot;pojo.User&quot;</span>&gt;</span></span><br><span class=\"line\">    insert into mybatis.user(id, name, pwd)</span><br><span class=\"line\">    values (#&#123;id&#125;, #&#123;name&#125;, #&#123;pwd&#125;)</span><br><span class=\"line\">    ## 对象中的属性可以被直接取出来(这里取得可以是传入的参数,也可以是传入对象的属性)</span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">insert</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">update</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;updateUser&quot;</span> <span class=\"attr\">parameterType</span>=<span class=\"string\">&quot;pojo.User&quot;</span>&gt;</span></span><br><span class=\"line\">    update mybatis.user</span><br><span class=\"line\">    set name =#&#123;name&#125;,</span><br><span class=\"line\">        pwd=#&#123;pwd&#125;</span><br><span class=\"line\">    where id = #&#123;id&#125;</span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">update</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">delete</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;deleteUser&quot;</span> <span class=\"attr\">parameterType</span>=<span class=\"string\">&quot;int&quot;</span>&gt;</span></span><br><span class=\"line\">    delete</span><br><span class=\"line\">    from mybatis.user</span><br><span class=\"line\">    where id = #&#123;id&#125;</span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">delete</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<hr>\n</li>\n<li>\n<p><code>src/test/java/dao/UserMapperTest.java</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> dao;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.ibatis.session.SqlSession;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.junit.Test;</span><br><span class=\"line\"><span class=\"keyword\">import</span> pojo.User;</span><br><span class=\"line\"><span class=\"keyword\">import</span> utils.MyBatisUtils;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.List;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">UserMapperTest</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"meta\">@Test</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">test</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//1.获取SqlSession对象</span></span><br><span class=\"line\">    SqlSession sqlSession = MyBatisUtils.getSqlSession();</span><br><span class=\"line\">    <span class=\"comment\">//2.执行SQL</span></span><br><span class=\"line\">    UserMapper userMapper = sqlSession.getMapper(UserMapper.class);</span><br><span class=\"line\">    List&lt;User&gt; userList = userMapper.getUserList();</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (User user : userList) &#123;</span><br><span class=\"line\">      System.out.println(user);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//关闭sqlSession</span></span><br><span class=\"line\">    sqlSession.close();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Test</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">test1</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//1.获取SqlSession对象</span></span><br><span class=\"line\">    SqlSession sqlSession = MyBatisUtils.getSqlSession();</span><br><span class=\"line\">    <span class=\"comment\">//2.执行SQL</span></span><br><span class=\"line\">    List&lt;User&gt; userList = sqlSession.selectList(<span class=\"string\">&quot;dao.UserMapper.getUserList&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (User user : userList) &#123;</span><br><span class=\"line\">      System.out.println(user);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//关闭sqlSession</span></span><br><span class=\"line\">    sqlSession.close();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Test</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">getUserById</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    SqlSession sqlSession = MyBatisUtils.getSqlSession();</span><br><span class=\"line\">    UserMapper mapper = sqlSession.getMapper(UserMapper.class);</span><br><span class=\"line\">    System.out.println(mapper.getUserById(<span class=\"number\">3</span>));</span><br><span class=\"line\">    sqlSession.close();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Test</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">addUser</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    SqlSession sqlSession = MyBatisUtils.getSqlSession();</span><br><span class=\"line\">    UserMapper mapper = sqlSession.getMapper(UserMapper.class);</span><br><span class=\"line\">    <span class=\"keyword\">int</span> i = mapper.addUser(<span class=\"keyword\">new</span> User(<span class=\"number\">5</span>, <span class=\"string\">&quot;五号&quot;</span>, <span class=\"string\">&quot;123456&quot;</span>));</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (i &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">//注意 增删改 需要提交事务</span></span><br><span class=\"line\">      sqlSession.commit();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    sqlSession.close();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Test</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">updateUser</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    SqlSession sqlSession = MyBatisUtils.getSqlSession();</span><br><span class=\"line\">    UserMapper mapper = sqlSession.getMapper(UserMapper.class);</span><br><span class=\"line\">    <span class=\"keyword\">int</span> i = mapper.updateUser(<span class=\"keyword\">new</span> User(<span class=\"number\">5</span>, <span class=\"string\">&quot;⑤号&quot;</span>, <span class=\"string\">&quot;654321&quot;</span>));</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (i &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">      sqlSession.commit();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    sqlSession.close();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Test</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">deleteUser</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    SqlSession sqlSession = MyBatisUtils.getSqlSession();</span><br><span class=\"line\">    UserMapper mapper = sqlSession.getMapper(UserMapper.class);</span><br><span class=\"line\">    <span class=\"keyword\">int</span> i = mapper.deleteUser(<span class=\"number\">5</span>);</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (i &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">      sqlSession.commit();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    sqlSession.close();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"通过-Map-优化\">通过 Map 优化</h2>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//用Map插入用户</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">addUser2</span><span class=\"params\">(Map&lt;String, Object&gt; map)</span></span>;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!--通过USer传参的话,必须用User的属性名取出; 而通过map传参的话,属性名可以任意--&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">insert</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;addUser2&quot;</span> <span class=\"attr\">parameterType</span>=<span class=\"string\">&quot;Map&quot;</span>&gt;</span></span><br><span class=\"line\">  insert into mybatis.user(id, name, pwd)</span><br><span class=\"line\">  values (#&#123;userid&#125;, #&#123;username&#125;, #&#123;userpassword&#125;)</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">insert</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@Test</span><br><span class=\"line\">public void addUser2() &#123;</span><br><span class=\"line\">  SqlSession sqlSession = MyBatisUtils.getSqlSession();</span><br><span class=\"line\">  UserMapper mapper = sqlSession.getMapper(UserMapper.class);</span><br><span class=\"line\"></span><br><span class=\"line\">  HashMap&lt;String, Object&gt; map = new HashMap<span class=\"tag\">&lt;&gt;</span>();</span><br><span class=\"line\">  map.put(&quot;userid&quot;, 6);</span><br><span class=\"line\">  map.put(&quot;username&quot;, &quot;王虎&quot;);</span><br><span class=\"line\">  map.put(&quot;userpassword&quot;, 789);</span><br><span class=\"line\"></span><br><span class=\"line\">  int i = mapper.addUser2(map);</span><br><span class=\"line\">  if (i &gt; 0) sqlSession.commit();</span><br><span class=\"line\">  sqlSession.close();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kity@2.0.4/dist/kity.min.js\"></script><script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js\"></script><script defer=\"true\" type=\"text&#x2F;javascript\" src=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js\"></script><link rel=\"stylesheet\" type=\"text&#x2F;css\" href=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css\">",
            "tags": [
                "java",
                "mybatis",
                "map",
                "crud"
            ]
        }
    ]
}