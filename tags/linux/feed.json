{
    "version": "https://jsonfeed.org/version/1",
    "title": "⭐️齐下无贰⭐️ • All posts by \"linux\" tag",
    "description": "May all the beauty be bless.✨",
    "home_page_url": "https://blog.weidows.tech",
    "items": [
        {
            "id": "https://blog.weidows.tech/post/experience/SSH/",
            "url": "https://blog.weidows.tech/post/experience/SSH/",
            "title": "✨SSH远程连接.",
            "date_published": "2020-12-06T16:12:52.000Z",
            "content_html": "<!--\n * @Author: Weidows\n * @Date: 2020-12-07 00:12:52\n * @LastEditors: Weidows\n * @LastEditTime: 2023-04-20 18:31:21\n * @FilePath: \\Blog-private\\source\\_posts\\experience\\SSH.md\n * @Description:\n-->\n<ul>\n<li><a href=\"#%E6%89%8B%E5%8A%A8%E6%8C%A1\">手动挡</a>\n<ul>\n<li><a href=\"#%E7%94%9F%E6%88%90%E5%85%AC%E7%A7%81%E7%A7%98%E9%92%A5\">生成公私秘钥</a></li>\n<li><a href=\"#%E9%85%8D%E7%BD%AE%E8%BF%9E%E9%80%9A\">配置连通</a></li>\n<li><a href=\"#%E6%B5%8B%E8%AF%95%E5%91%BD%E4%BB%A4\">测试命令</a></li>\n<li><a href=\"#%E8%B7%B3%E6%9D%BF%E6%9C%BA%E4%BB%A3%E7%90%86%E8%BF%9E%E6%8E%A5\">跳板机代理连接</a></li>\n</ul>\n</li>\n<li><a href=\"#%E8%87%AA%E5%8A%A8%E6%8C%A1\">自动挡</a>\n<ul>\n<li><a href=\"#finalshell\">FinalShell</a></li>\n<li><a href=\"#vscode-%E8%BF%9E%E6%8E%A5\">VScode 连接</a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%AD%98%E5%9C%A8%E3%81%AE%E9%97%AE%E9%A2%98\">存在の问题</a>\n<ul>\n<li><a href=\"#root-denied\">root-denied</a></li>\n<li><a href=\"#vscode-ssh-%E6%96%AD%E5%BC%80%E8%BF%9E%E6%8E%A5\">VScode-ssh-断开连接</a></li>\n<li><a href=\"#ssh-too-open\">ssh-too-open</a></li>\n<li><a href=\"#tcp-%E4%BF%9D%E6%B4%BB\">TCP-保活</a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%80%9F%E7%89%A9%E8%A1%A8\">借物表</a></li>\n</ul>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"手动挡\">手动挡</h2>\n<h3 id=\"生成公私秘钥\">生成公私秘钥</h3>\n<ul>\n<li>\n<p>比如</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">ssh-keygen -t rsa -C &quot;utsuko27@qq.com&quot; -f ~/.ssh/Gitee_rsa</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>生成后<code>.ssh/</code>文件夹下面就会出现两个文件</p>\n<ul>\n<li><code>Gitee_rsa</code> 私钥</li>\n<li><code>Gitee_rsa.pub</code> 公钥</li>\n</ul>\n</li>\n<li>\n<p>通过<code>cd ~/.ssh</code>或者<code>cat ~/.ssh/Gitee_rsa.pub</code>的方式获取公钥</p>\n<ul>\n<li>一般.ssh 路径为<code>C:\\Users\\username\\.ssh</code></li>\n<li>把公钥复制到远程机上.</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h3 id=\"配置连通\">配置连通</h3>\n<ul>\n<li>\n<p>在.ssh 下新建<code>config</code>文件,参照以下模板:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\"># gitee</span><br><span class=\"line\">Host gitee.com</span><br><span class=\"line\">  HostName gitee.com</span><br><span class=\"line\">  PreferredAuthentications publickey</span><br><span class=\"line\">  IdentityFile ~/.ssh/Gitee_rsa</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>多个 ssh 秘钥在这个 config 文件里配置</p>\n<p>如果不想让它确认输入 yes,可以在这个文件里加上一行:</p>\n<figure class=\"highlight nginx\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">StrictHostKeyChecking</span> <span class=\"literal\">no</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>配置文件完成,现在应该是这样子:</p>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GVPqNQ.png\" alt=\"20201207100813\" />\n</li>\n</ul>\n<hr>\n<h3 id=\"测试命令\">测试命令</h3>\n<ul>\n<li>\n<p>终端进入这个.ssh 文件夹(不在这个文件夹下无法导通)</p>\n<figure class=\"highlight nginx\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">ssh</span> -T git<span class=\"variable\">@gitee</span>.com</span><br></pre></td></tr></table></figure>\n<p>出现<code>git@gitee.com: Permission denied (publickey).</code>,说明哪里没配置好出问题了.</p>\n<p>出现<code>Hi Weidows! You've successfully authenticated, but GITEE.COM does not provide shell access.</code>说明配置好了.</p>\n</li>\n<li>\n<p>测试完成,两机处于连通状态!</p>\n</li>\n</ul>\n<hr>\n<h3 id=\"跳板机代理连接\">跳板机代理连接</h3>\n<p>使用跳板机进行代理 ssh 连接, 需要在最终的目标机子 <code>~/.ssh/authorized_keys</code> 内添加本机的公钥, 然后配置本机 ssh config 如下</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\"># 跳板机</span><br><span class=\"line\">Host board</span><br><span class=\"line\">  HostName xxxx</span><br><span class=\"line\">  User root</span><br><span class=\"line\">  PreferredAuthentications publickey</span><br><span class=\"line\">  IdentityFile ~/.ssh/id_rsa</span><br><span class=\"line\"></span><br><span class=\"line\"># 生产机</span><br><span class=\"line\">Host production</span><br><span class=\"line\">  HostName xxxx</span><br><span class=\"line\">  User root</span><br><span class=\"line\">  PreferredAuthentications publickey</span><br><span class=\"line\">  IdentityFile ~/.ssh/id_rsa</span><br><span class=\"line\">  ProxyJump board</span><br></pre></td></tr></table></figure>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"自动挡\">自动挡</h2>\n<h3 id=\"FinalShell\">FinalShell</h3>\n<ul>\n<li>\n<p>连接树莓派,ip 为<code>192.168.43.119</code>,用户名为<code>pi</code>,密码为默认的<code>raspberry</code></p>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GVPzcT.png\" alt=\"20201203113101\" />\n</li>\n</ul>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h3 id=\"VScode-连接\">VScode 连接</h3>\n<ul>\n<li>\n<p>安装插件<code>Remote-SSH</code></p>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GVmGiv.png\" alt=\"20201204202003\" />\n</li>\n<li>\n<p>安装后侧边栏出现<code>远程资源管理器</code>,然后点新建,出现下面东东~</p>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GVSxFh.png\" alt=\"20210128005600\" />\n</li>\n<li>\n<p>照着他的提示输入就行,比如我以<code>pi</code>用户登录,树莓派<code>内网ip</code>是<code>192.168.2.116</code>,那么应该输入</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">ssh pi@192.168.2.116 -A</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>打开 <code>ssh 配置文件</code>查看一下,可以自定义修改配置,如下.</p>\n<ul>\n<li>我把 Host 后面的名字改成了树莓派,其他没动.</li>\n</ul>\n<figure class=\"highlight crmsh\"><table><tr><td class=\"code\"><pre><span class=\"line\">Host 树莓派</span><br><span class=\"line\">  HostName <span class=\"number\">192.168</span>.<span class=\"number\">2.116</span></span><br><span class=\"line\">  <span class=\"keyword\">User</span> <span class=\"title\">pi</span></span><br><span class=\"line\">  ForwardAgent yes</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>打开输入对应用户的密码就可以登录了.</p>\n</li>\n</ul>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"存在の问题\">存在の问题</h2>\n<h3 id=\"root-denied\">root-denied</h3>\n<ul>\n<li>某些系统对 ssh 不开放 root,比如<code>Deepin</code>,网上有开放方法</li>\n</ul>\n<blockquote>\n<p><a href=\"https://blog.csdn.net/weixin_42408060/article/details/102952986\">深度（deepin）系统不能 ssh root 用户登录</a></p>\n</blockquote>\n<hr>\n<h3 id=\"VScode-ssh-断开连接\">VScode-ssh-断开连接</h3>\n<ul>\n<li>\n<p>按照上面配合后使用完全没有问题,但是 ssh 连接后一段时间你没有跟远程机传输数据的话,连接就会断开</p>\n</li>\n<li>\n<p>网上搜了一大顿,有些解决办法,比如<code>修改ssh_config</code>,<code>卸载Chinese插件</code>,<code>TCP保活</code>,<code>定时唤醒</code>等等…</p>\n</li>\n</ul>\n<hr>\n<ul>\n<li>\n<p>最终,我用二分法查出了问题所在:</p>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GVFWDS.png\" alt=\"20210206124525\" />\n</li>\n<li>\n<p>问题出自于一个叫<code>code time</code>的插件,它的<code>issue</code>里面也提了这个 bug,还没解决.</p>\n<p>可以用<code>wakatime</code>替代,这个插件没事.</p>\n</li>\n</ul>\n<hr>\n<h3 id=\"ssh-too-open\">ssh-too-open</h3>\n<figure class=\"highlight gauss\"><table><tr><td class=\"code\"><pre><span class=\"line\">weidows<span class=\"comment\">@bogon ~ % ssh codeup.aliyun.com</span></span><br><span class=\"line\"><span class=\"comment\">Warning: Permanently added &#x27;codeup.aliyun.com,118.31.165.50&#x27; (RSA) to the list of known hosts.</span></span><br><span class=\"line\"><span class=\"comment\">@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span></span><br><span class=\"line\"><span class=\"comment\">@ WARNING: UNPROTECTED PRIVATE KEY FILE! @</span></span><br><span class=\"line\"><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@</span></span><br><span class=\"line\"><span class=\"comment\">Permissions 0644 for &#x27;/Users/weidows/.ssh/liuwei_rsa&#x27; are too open.</span></span><br><span class=\"line\"><span class=\"comment\">It is required that your private key files are NOT accessible by others.</span></span><br><span class=\"line\"><span class=\"comment\">This private key will be ignored.</span></span><br><span class=\"line\"><span class=\"comment\">Load key &quot;/Users/weidows/.ssh/liuwei_rsa&quot;: bad permissions</span></span><br><span class=\"line\"><span class=\"comment\">weidows@</span>codeup.aliyun.com: Permission <span class=\"built_in\">denied</span> (publickey).</span><br></pre></td></tr></table></figure>\n<p>解决方案: <sup id='cite_ref-1'><a href=\"#cite_note-1\">[1]</a></sup></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">chmod</span> 400 ~/.ssh/id_rsa</span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"TCP-保活\">TCP-保活</h3>\n<ul>\n<li>\n<p>没特殊需求的话不需要配置, 在<code>~/.ssh/config</code>里添加如下:</p>\n<figure class=\"highlight apache\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">ClientAliveInterval</span> <span class=\"number\">10</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"借物表\">借物表</h2>\n<p><a name='cite_note-1' href='#cite_ref-1'>[1]</a>: <a href=\"https://stackoverflow.com/questions/29933918/ssh-key-permissions-0644-for-id-rsa-pub-are-too-open-on-mac\">SSH Key: “Permissions 0644 for ‘id_rsa.pub’ are too open.” on mac</a></p>\n<script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kity@2.0.4/dist/kity.min.js\"></script><script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js\"></script><script defer=\"true\" type=\"text&#x2F;javascript\" src=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js\"></script><link rel=\"stylesheet\" type=\"text&#x2F;css\" href=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css\">",
            "tags": [
                "SSH",
                "Linux"
            ]
        },
        {
            "id": "https://blog.weidows.tech/post/lang/shell/shell/",
            "url": "https://blog.weidows.tech/post/lang/shell/shell/",
            "title": "💧Shell-Command-速查表",
            "date_published": "2020-09-03T09:35:04.000Z",
            "content_html": "<h1>一些常用终端命令</h1>\n<!--\n * @Author: Weidows\n * @Date: 2020-09-03 17:35:04\n * @LastEditors: Weidows\n * @LastEditTime: 2024-01-03 20:15:48\n * @FilePath: \\Blog-private\\source\\_posts\\experience\\shell\\shell.md\n-->\n<blockquote class=\"pullquote mindmap mindmap-md\"><ul>\n<li><a href=\"#%E4%B8%80%E4%BA%9B%E5%B8%B8%E7%94%A8%E7%BB%88%E7%AB%AF%E5%91%BD%E4%BB%A4\">一些常用终端命令</a>\n<ul>\n<li><a href=\"#%E9%80%9A%E7%94%A8\">通用</a>\n<ul>\n<li><a href=\"#%E6%96%87%E4%BB%B6%E6%9C%AB%E5%B0%BE%E8%BF%BD%E5%8A%A0%E5%91%BD%E4%BB%A4\">文件末尾追加命令</a></li>\n<li><a href=\"#%E8%BE%93%E5%87%BA%E9%87%8D%E5%AE%9A%E5%90%91\">输出重定向</a></li>\n<li><a href=\"#%E5%90%AF%E5%8A%A8%E7%A8%8B%E5%BA%8F\">启动程序</a></li>\n<li><a href=\"#%E6%B8%85%E5%9E%83%E5%9C%BE\">清垃圾(?</a></li>\n<li><a href=\"#%E4%B8%8E%E6%88%96-%E7%AE%A1%E9%81%93%E8%BF%90%E7%AE%97%E7%AC%A6\">与或-管道运算符</a></li>\n<li><a href=\"#%E8%8E%B7%E5%8F%96%E6%96%87%E4%BB%B6%E5%90%8D\">获取文件名</a></li>\n</ul>\n</li>\n<li><a href=\"#linux\">Linux</a>\n<ul>\n<li><a href=\"#%E6%9F%A5%E6%9D%80%E8%BF%9B%E7%A8%8B\">查杀进程</a></li>\n<li><a href=\"#%E8%AE%BE%E7%BD%AE%E4%BB%A3%E7%90%86\">设置代理</a></li>\n<li><a href=\"#%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86\">用户管理</a>\n<ul>\n<li><a href=\"#%E5%88%87%E6%8D%A2%E7%94%A8%E6%88%B7\">切换用户</a></li>\n<li><a href=\"#%E8%AE%BE%E7%BD%AE%E4%B8%8E%E8%A7%A3%E9%94%81%E7%94%A8%E6%88%B7%E5%AF%86%E7%A0%81\">设置与解锁用户密码</a></li>\n<li><a href=\"#%E5%88%A0%E9%99%A4%E7%94%A8%E6%88%B7\">删除用户</a></li>\n</ul>\n</li>\n<li><a href=\"#supervisor\">supervisor</a></li>\n<li><a href=\"#%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F\">环境变量</a></li>\n<li><a href=\"#%E6%9D%A1%E4%BB%B6%E5%88%86%E6%94%AF%E5%88%A4%E6%96%AD\">条件分支判断</a></li>\n</ul>\n</li>\n<li><a href=\"#windows\">windows</a>\n<ul>\n<li><a href=\"#powershell\">powershell</a></li>\n</ul>\n</li>\n<li><a href=\"#cli-tools\">cli-tools</a>\n<ul>\n<li><a href=\"#ffmpeg\">FFmpeg</a>\n<ul>\n<li><a href=\"#%E6%89%B9%E9%87%8F%E8%B0%83%E6%95%B4%E9%9F%B3%E9%A2%91%E9%9F%B3%E9%87%8F\">批量调整音频音量</a></li>\n<li><a href=\"#%E6%8A%A5%E9%94%99\">报错</a></li>\n</ul>\n</li>\n<li><a href=\"#git\">Git</a></li>\n<li><a href=\"#docker\">Docker</a></li>\n<li><a href=\"#vim\">Vim</a></li>\n<li><a href=\"#fzf\">fzf</a></li>\n<li><a href=\"#tldr\">tldr</a></li>\n<li><a href=\"#pandoc\">pandoc</a>\n<ul>\n<li><a href=\"#word2markdown\">word2markdown</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"#%E5%90%84%E7%A7%8D%E9%97%AE%E9%A2%98\">各种问题</a>\n<ul>\n<li><a href=\"#%E6%8D%A2%E8%A1%8C%E7%AC%A6%E5%AF%BC%E8%87%B4%E6%8A%A5%E9%94%99\">换行符导致报错</a></li>\n<li><a href=\"#%E4%B8%8D%E5%90%8C%E7%BB%88%E7%AB%AF%E5%B7%AE%E5%BC%82\">不同终端差异</a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%80%9F%E7%89%A9%E8%A1%A8\">借物表</a></li>\n</ul>\n</li>\n</ul>\n</blockquote>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"通用\">通用</h2>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">指令</th>\n<th style=\"text-align:center\">作用</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\"><code>cd path</code> / <code>cd ..</code> / <code>cd /</code> / <code>cd ~</code></td>\n<td style=\"text-align:center\">进入 指定 / 上层 / 根 / home 目录</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>Ctrl + L</code></td>\n<td style=\"text-align:center\">清屏</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>exit</code></td>\n<td style=\"text-align:center\">退出</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>ping</code></td>\n<td style=\"text-align:center\">测试网络通断状态</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>Ctrl + C</code></td>\n<td style=\"text-align:center\">停止当前任务</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>exit</code></td>\n<td style=\"text-align:center\">停止任务或终端</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>mkdir</code></td>\n<td style=\"text-align:center\">新建文件夹</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>cp(xcopy)/mv/rm</code></td>\n<td style=\"text-align:center\">文件(夹)复制、移动与删除</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>curl + URL</code></td>\n<td style=\"text-align:center\">访问 URL(可加参数,具体百度)</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>pwd</code></td>\n<td style=\"text-align:center\">显示当前全路径</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>dir/ls</code></td>\n<td style=\"text-align:center\">列出当前目录(样式不同)</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>cat</code></td>\n<td style=\"text-align:center\">(按参数格式)输出文件所有内容</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>clear</code></td>\n<td style=\"text-align:center\">清屏</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>echo</code></td>\n<td style=\"text-align:center\">回显,常用作文本输出</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>shutdown -h now</code> / <code>reboot</code></td>\n<td style=\"text-align:center\">关机 / 重启</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>ls | grep abc</code></td>\n<td style=\"text-align:center\">过滤 ls 的输出,只显示含&quot;abc&quot;的内容</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>ls | tee [-a] t.log</code></td>\n<td style=\"text-align:center\">显示 ls 输出同时[追加]输出到 t.log 里</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>mktemp</code></td>\n<td style=\"text-align:center\">临时创建一个 temp 文件</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>zip &quot;A.zip&quot; &quot;folder_A/**&quot; &quot;folder_B/**&quot;</code></td>\n<td style=\"text-align:center\">压缩多个文件夹或文件到 zip 文件</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>md5sum/sha256sum xxx</code></td>\n<td style=\"text-align:center\">计算文件 hash</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>scp -r -i ~/.ssh/liuwei_rsa 1.txt project-1@1.2.3.4:/home/project-1/</code></td>\n<td style=\"text-align:center\">远程文件复制</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>date +%Y%m%d-%H%M%S.%N</code></td>\n<td style=\"text-align:center\">20221022-153014.813488400</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>tar -cf a.tar a.txt b.txt</code> / <code>tar -xf a.tar</code></td>\n<td style=\"text-align:center\">打包 / 解压</td>\n</tr>\n</tbody>\n</table>\n<hr>\n<h3 id=\"文件末尾追加命令\">文件末尾追加命令</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">指令</th>\n<th style=\"text-align:center\">作用</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\"><code>echo 'add content'&gt;/home/data/test.sh</code></td>\n<td style=\"text-align:center\">覆盖原文件内容</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>echo 'add content'&gt;&gt;/home/data/test.sh</code></td>\n<td style=\"text-align:center\">在末尾追加</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>date +&quot;%Y-%m-%d %H:%M:%S.%N&quot; &gt;&gt; keepchange.txt</code></td>\n<td style=\"text-align:center\">这种写法也可以,就是把前面当成字符串输入文件</td>\n</tr>\n</tbody>\n</table>\n<hr>\n<h3 id=\"输出重定向\">输出重定向</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">指令</th>\n<th style=\"text-align:center\">作用</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\"><code>ls &gt; ls.txt</code></td>\n<td style=\"text-align:center\">把 ls 输出内容输出到 ls.txt</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>&gt;/dev/null</code></td>\n<td style=\"text-align:center\">把标准输出重定向到黑洞,相当于(1&gt;/dev/null) 标准输入 0,标准输出 1,标准错误 2</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>&gt;/dev/null 2&gt;&amp;1</code></td>\n<td style=\"text-align:center\">把标准错误重定向到标准输出,也就是这俩都进了黑洞</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>2&gt;&amp;1 &gt;/dev/null</code></td>\n<td style=\"text-align:center\">把标准错误重定向到标准输出(屏幕),标准输出进黑洞</td>\n</tr>\n</tbody>\n</table>\n<blockquote>\n<p><a href=\"https://blog.csdn.net/longgeaisisi/article/details/90519690\">2&gt;/dev/null 和&gt;/dev/null 2&gt;&amp;1 和 2&gt;&amp;1&gt;/dev/null 的区别</a></p>\n</blockquote>\n<hr>\n<h3 id=\"启动程序\">启动程序</h3>\n<blockquote>\n<p><a href=\"https://www.cnblogs.com/IT-CPC/p/10898871.html\">同步(Synchronous)和异步(Asynchronous)</a> 同步，就是调用某个东西时，调用方得等待这个调用返回结果才能继续往后执行。异步，和同步相反 调用方不会理解得到结果，而是在调用发出后调用者可用继续执行后续操作，被调用者通过状体来通知调用者，或者通过回掉函数来处理这个调用</p>\n<ul>\n<li>start 异步</li>\n<li>call 同步</li>\n</ul>\n</blockquote>\n<hr>\n<h3 id=\"清垃圾\">清垃圾(?</h3>\n<ul>\n<li>\n<p>写脚本时,如果遇到两种情况:</p>\n<ol>\n<li>\n<p>要删除某路径下所有东西</p>\n</li>\n<li>\n<p>路径是变量</p>\n</li>\n</ol>\n<p>那就有可能就变成删库跑路了…</p>\n<hr>\n</li>\n<li>\n<p>比如</p>\n<figure class=\"highlight bat\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">set</span> <span class=\"built_in\">PATH</span>=%<span class=\"number\">1</span></span><br><span class=\"line\">rm -rf <span class=\"variable\">%PATH%</span>/*</span><br></pre></td></tr></table></figure>\n<hr>\n</li>\n<li>\n<p>PATH 靠调用脚本时传入的参数来定义,没传参数的话就 undefined,以至于下一行变成大名鼎鼎的</p>\n<p><code>rm -rf /*</code></p>\n</li>\n</ul>\n<hr>\n<h3 id=\"与或-管道运算符\">与或-管道运算符</h3>\n<p>command1 &amp; command2 &amp; command3: 不论成败都会执行</p>\n<p>command1 &amp;&amp; command2 &amp;&amp; command3: 左边全都执行成功/返回 0 才会执行右边的命令</p>\n<p>command1 || command2 || command2: 左边全都执行失败/返回 1 才会执行右边的命令</p>\n<p>command1 | command2: 把左边的命令的输出结果作为右边的命令的输入,例如 <code>ps | grep win</code></p>\n<hr>\n<h3 id=\"获取文件名\">获取文件名</h3>\n<ul>\n<li>\n<p>可以用 basename, 用法 <sup id='cite_ref-1'><a href=\"#cite_note-1\">[1]</a></sup></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">name=`basename -s .c *.c`</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>比如想获取下面两个文件的名字 (排除后缀)</p>\n<figure class=\"highlight smali\"><table><tr><td class=\"code\"><pre><span class=\"line\">dair_v2x_i_infos_temporal_train.pkl</span><br><span class=\"line\">dair_v2x_i_infos_temporal_val.pkl</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">basename -s .pkl *.pkl</span><br></pre></td></tr></table></figure>\n<p>结果:</p>\n<figure class=\"highlight smali\"><table><tr><td class=\"code\"><pre><span class=\"line\">dair_v2x_i_infos_temporal_train</span><br><span class=\"line\">dair_v2x_i_infos_temporal_val</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"Linux\">Linux</h2>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">指令</th>\n<th style=\"text-align:center\">作用</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\"><code>su root</code></td>\n<td style=\"text-align:center\">获取最高权限(需要输入 root 密码)</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>ifconfig</code></td>\n<td style=\"text-align:center\">查看网络配置</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>dhclient</code></td>\n<td style=\"text-align:center\">DHCP 重新配置 IP</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>./xxx.sh start/restart/xxx</code></td>\n<td style=\"text-align:center\">启动/重启 shell 脚本</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>nohup xxx.sh &amp;</code></td>\n<td style=\"text-align:center\">不挂起执行 xxx (退出终端不影响程序运行),需要 ps/kill 杀死进程</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>tail -n 20 README.md</code></td>\n<td style=\"text-align:center\">输出 READMD 最后 20 行内容(默认是 10 行)</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>tail -f README.md</code></td>\n<td style=\"text-align:center\">输出 READMD 追加的更新内容</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>systemctl start/enable/status xxx.service</code></td>\n<td style=\"text-align:center\">xxx 服务-开启/开机启动/状态</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>touch a.txt</code></td>\n<td style=\"text-align:center\">创建 a.txt 文件</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>TOPIC=1234 ./run</code></td>\n<td style=\"text-align:center\">带着环境变量 TOPIC 执行 run 程序</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>chmod u+x ./run</code></td>\n<td style=\"text-align:center\">给 run 赋予执行权限</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>/etc/init.d/bt default</code></td>\n<td style=\"text-align:center\">查看宝塔面板入口</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>ln -s A B</code></td>\n<td style=\"text-align:center\">创建 A 的符号链接,名为 B <sup id='cite_ref-3'><a href=\"#cite_note-3\">[3]</a></sup></td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>rm/unlink xxx</code></td>\n<td style=\"text-align:center\">删除虚拟链接 <sup id='cite_ref-4'><a href=\"#cite_note-4\">[4]</a></sup></td>\n</tr>\n</tbody>\n</table>\n<hr>\n<h3 id=\"查杀进程\">查杀进程</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">指令</th>\n<th style=\"text-align:center\">作用</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\"><code>ps -ef/aux</code></td>\n<td style=\"text-align:center\">显示进程(注意多个进程用’,'隔开而非空格)</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>kill -9 pid</code></td>\n<td style=\"text-align:center\">杀死进程</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>lsof -i:8080 / -i@12:34:56:78</code></td>\n<td style=\"text-align:center\">Linux 中一切皆文件,此命令可以显示指定文件信息</td>\n</tr>\n</tbody>\n</table>\n<hr>\n<h3 id=\"设置代理\">设置代理</h3>\n<figure class=\"highlight routeros\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">export</span> <span class=\"attribute\">http_proxy</span>=http://192.168.131.1:7890</span><br><span class=\"line\"><span class=\"built_in\">export</span> <span class=\"attribute\">https_proxy</span>=http://192.168.131.1:7890</span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"用户管理\">用户管理</h3>\n<h4 id=\"切换用户\">切换用户</h4>\n<p>命令是 <code>su xxx</code> <sup id='cite_ref-2'><a href=\"#cite_note-2\">[2]</a></sup></p>\n<ol>\n<li>切换到每个用户的密码不一定一样 (主要看设置的是否一样), 为了防止乱切乱改, 每个账户设置独立密码</li>\n<li>root 用户下无需密码切换到任何用户</li>\n<li>su 与 sudo 所需密码并不是同一个, su 要的是 root 密码, sudo 要的是当前用户密码, sudo 后默认 15 分钟内不需要再次输密码</li>\n</ol>\n<hr>\n<h4 id=\"设置与解锁用户密码\">设置与解锁用户密码</h4>\n<p><code>passwd xxx</code></p>\n<p>设置 root 账户密码: <code>sudo passwd root</code>, 之后 su root 就需要密码验证了</p>\n<blockquote>\n<p>有个误区, 之前我误认为每个用户切到 root 账户的密码是独立的, 所以改了服务器的 root 密码… 差点出幺蛾子</p>\n</blockquote>\n<p>解锁 xxx 用户密码: <code>sudo passwd --unlock xxx</code></p>\n<hr>\n<h4 id=\"删除用户\">删除用户</h4>\n<figure class=\"highlight css\"><table><tr><td class=\"code\"><pre><span class=\"line\">userdel -<span class=\"attribute\">r</span> xxx</span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"supervisor\">supervisor</h3>\n<figure class=\"highlight livecodeserver\"><table><tr><td class=\"code\"><pre><span class=\"line\">apt-<span class=\"built_in\">get</span> install supervisor</span><br><span class=\"line\"></span><br><span class=\"line\">vim /etc/supervisord.conf</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 启动</span></span><br><span class=\"line\">supervisord -c supervisord.conf</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 查看状态</span></span><br><span class=\"line\">supervisorctl status</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 启动/停止服务(组)</span></span><br><span class=\"line\">supervisorctl <span class=\"built_in\">start</span>/<span class=\"built_in\">stop</span>/restart serverName</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 启动/关闭所有服务(组)</span></span><br><span class=\"line\">supervisorctl <span class=\"built_in\">start</span>/<span class=\"built_in\">stop</span>/restart all</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 重新加载所有服务，如果有新添加的服务也会直接加进来并启动, 大概需要十秒, 期间 supervisorctl status 会报错</span></span><br><span class=\"line\">supervisorctl reload</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 重新加载已添加服务的configuration配置内容，但是不会重启，也不会自动添加新进程/移除进程，和reload不同</span></span><br><span class=\"line\"><span class=\"comment\"># 新加的.ini结尾的新进程(组) 或者更新的配置文件，update添加进来</span></span><br><span class=\"line\">supervisorctl reread</span><br><span class=\"line\">supervisorctl update xxx</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 查看日志</span></span><br><span class=\"line\">tail -n <span class=\"number\">100</span> /var/<span class=\"built_in\">log</span>/supervisor/supervisord.<span class=\"built_in\">log</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li>\n<p>在 supervisorctl status 有时会出现</p>\n<blockquote>\n<p>error: &lt;class ‘xmlrpclib.Fault’&gt;, &lt;Fault 6: ‘SHUTDOWN_STATE’&gt;: file: /usr/lib/python2.7/xmlrpclib.py line: 800</p>\n</blockquote>\n<p>可以执行 <code>/etc/init.d/supervisor stop &amp;&amp; /etc/init.d/supervisor start</code> <sup id='cite_ref-12'><a href=\"#cite_note-12\">[12]</a></sup></p>\n<p>但需要注意, 在 supervisorctl reload 执行开始几秒内程序还没重启完确实会出现这种报错, 并非哪有异常</p>\n</li>\n</ul>\n<hr>\n<h3 id=\"环境变量\">环境变量</h3>\n<p><code>PATH=$GOROOT/bin:$PATH</code></p>\n<p>冒号起分隔路径作用, linux 中一个环境变量可对应多个目录, 如</p>\n<p>export LD_LIBRARY_PATH=/mnt:/usr/local/3rdlib:$LD_LIBRARY_PATH</p>\n<p>意思就是在已有的 LD_LIBRARY_PATH 这个变量基础上再加目录</p>\n<h3 id=\"条件分支判断\">条件分支判断</h3>\n<blockquote>\n<p><a href=\"https://blog.csdn.net/superbfly/article/details/49274889\">linux 下 shell 中 if 的“-e，-d，-f”是什么意思_高晓伟_Steven 的博客-CSDN 博客_linux -d</a></p>\n</blockquote>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"windows\">windows</h2>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">指令</th>\n<th style=\"text-align:center\">作用</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\"><code>md</code></td>\n<td style=\"text-align:center\">创建目录,同 mkdir</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>rd</code></td>\n<td style=\"text-align:center\">删除目录,同 rm</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>del</code></td>\n<td style=\"text-align:center\">删除文件</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>cls</code></td>\n<td style=\"text-align:center\">清屏,同 clear</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>ipconfig</code></td>\n<td style=\"text-align:center\">查看网络配置</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>start + exe</code></td>\n<td style=\"text-align:center\">打开应用程序</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>start/explore + URL/HTML文件</code></td>\n<td style=\"text-align:center\">用默认浏览器打开</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>microsoft-edge:URL</code></td>\n<td style=\"text-align:center\">用 edge 打开 URL</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>xxx /?</code></td>\n<td style=\"text-align:center\">xxx 的帮助</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>mklink A B</code></td>\n<td style=\"text-align:center\">创建 B 的硬链接(仅限文件), 名为 A</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>mklink /d A B</code></td>\n<td style=\"text-align:center\">创建 B 的符号链接, 名为 A(scoop-current)</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>mklink /j A B</code></td>\n<td style=\"text-align:center\">创建 B 的符号链接, 名为 A(快捷方式)</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>ren a.jpg b.png</code></td>\n<td style=\"text-align:center\">重命名 a -&gt; b</td>\n</tr>\n</tbody>\n</table>\n<hr>\n<h3 id=\"powershell\">powershell</h3>\n<blockquote>\n<p>Cannot convert the “xxx” value of type “System.String” to type “System.Security.SecureString”.</p>\n</blockquote>\n<p>需要强制转为 securestring <sup id='cite_ref-14'><a href=\"#cite_note-14\">[14]</a></sup></p>\n<figure class=\"highlight gams\"><table><tr><td class=\"code\"><pre><span class=\"line\"># <span class=\"keyword\">Set</span>-OpenAIKey <span class=\"comment\">&quot;xxx&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\">$ss <span class=\"comment\">= convertto-securestring</span> <span class=\"comment\">&quot;xxx&quot;</span> <span class=\"comment\">-asplaintext -force</span></span><br><span class=\"line\"><span class=\"keyword\">Set</span>-OpenAIKey <span class=\"comment\">$ss</span></span><br></pre></td></tr></table></figure>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"cli-tools\">cli-tools</h2>\n<h3 id=\"FFmpeg\">FFmpeg</h3>\n<h4 id=\"批量调整音频音量\">批量调整音频音量</h4>\n<p>网上找了下相关软件/web tools, 没有特别符合要求的, 然后突然想到可以用 AI:</p>\n<p>我想通过 FFmpeg 批量降低一些音频文件的音量 (格式包括 mp3 和 wav), 请写一下 shell 程序</p>\n<p><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/oS7qvX.png\" alt=\"oS7qvX.png\"></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">定义一个函数，接受一个音频文件名和一个音量调整参数（分贝值）</span></span><br><span class=\"line\">adjust_volume() &#123;</span><br><span class=\"line\"><span class=\"meta prompt_\">  # </span><span class=\"language-bash\">使用ffmpeg的volume滤镜来改变音频文件的音量</span></span><br><span class=\"line\">  ffmpeg -i &quot;$1&quot; -filter:a &quot;volume=$2dB&quot; &quot;adjusted/$1&quot;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">mkdir adjusted</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">遍历当前目录下的所有mp3和wav文件</span></span><br><span class=\"line\">for file in *.mp3 *.wav; do</span><br><span class=\"line\"><span class=\"meta prompt_\">  # </span><span class=\"language-bash\">调用函数，将音量降低5分贝</span></span><br><span class=\"line\">  adjust_volume &quot;$file&quot; -10</span><br><span class=\"line\">done</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\">!/bin/bash</span></span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">输入和输出文件夹的名称</span></span><br><span class=\"line\">input_dir=&quot;audio&quot;</span><br><span class=\"line\">output_dir=&quot;output&quot;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">音量调整的比例</span></span><br><span class=\"line\">volume_ratio=0.5</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">创建输出文件夹（如果不存在）</span></span><br><span class=\"line\">mkdir -p $output_dir</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">遍历输入文件夹中的所有音频文件</span></span><br><span class=\"line\">for file in $input_dir/*.&#123;mp3,wav&#125;; do</span><br><span class=\"line\"><span class=\"meta prompt_\">  # </span><span class=\"language-bash\">获取文件名（不含扩展名）</span></span><br><span class=\"line\">  filename=$(basename -- &quot;$file&quot;)</span><br><span class=\"line\">  extension=&quot;$&#123;filename##*.&#125;&quot;</span><br><span class=\"line\">  filename=&quot;$&#123;filename%.*&#125;&quot;</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\">  # </span><span class=\"language-bash\">使用FFmpeg调整音量并保存到输出文件夹中</span></span><br><span class=\"line\">  ffmpeg -i &quot;$file&quot; -af &quot;volume=$volume_ratio&quot; &quot;$output_dir/$filename.$extension&quot;</span><br><span class=\"line\">done</span><br></pre></td></tr></table></figure>\n<h4 id=\"报错\">报错</h4>\n<ul>\n<li>\n<p>用的第三方 FFmpeg, 换成官方的就好了</p>\n<figure class=\"highlight apache\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">nb_samples</span> (<span class=\"number\">47</span>) != frame_size (<span class=\"number\">0</span>)</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h3 id=\"Git\">Git</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">指令</th>\n<th style=\"text-align:center\">作用</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\"><code>git remote add origin 你的远程库地址</code></td>\n<td style=\"text-align:center\">添加远程</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>git add .</code></td>\n<td style=\"text-align:center\">加入暂存区</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>git commit -m &quot;提交消息,可添加emoji😝&quot;</code></td>\n<td style=\"text-align:center\">提交</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>git push [origin(远程名字,默认是origin) master(分支名字)]</code></td>\n<td style=\"text-align:center\">推送</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>git checkout --orphan 新分支名</code></td>\n<td style=\"text-align:center\">创建一个新分支</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>git submodule update --init --recursive &amp;&amp; git pull --recurse-submodules</code></td>\n<td style=\"text-align:center\">拉取 submodules</td>\n</tr>\n</tbody>\n</table>\n<hr>\n<h3 id=\"Docker\">Docker</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">指令</th>\n<th style=\"text-align:center\">作用</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\"><code>docker ps [-a]</code></td>\n<td style=\"text-align:center\">列出[所有]容器</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>docker ps --filter &quot;abcd / status=running</code></td>\n<td style=\"text-align:center\">筛选出含&quot;abcd&quot;/状态为 running 的容器</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>docker kill xxx</code></td>\n<td style=\"text-align:center\">关闭 xxx 容器</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>docker list| grep abc</code></td>\n<td style=\"text-align:center\">筛选 docker list 命令中含有 abc 字符串的结果集</td>\n</tr>\n</tbody>\n</table>\n<hr>\n<h3 id=\"Vim\">Vim</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">指令</th>\n<th style=\"text-align:center\">作用</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\"><code>:q!</code></td>\n<td style=\"text-align:center\">如何获得一个随机字符串? &gt;让新手退出 vim</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>:wq</code></td>\n<td style=\"text-align:center\">write &amp; quit</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>dd</code></td>\n<td style=\"text-align:center\">删除行</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>dG</code></td>\n<td style=\"text-align:center\">delete Global</td>\n</tr>\n</tbody>\n</table>\n<hr>\n<h3 id=\"fzf\">fzf</h3>\n<ul>\n<li>\n<p>与 grep 相似,不同点:</p>\n<ul>\n<li>\n<p>grep 是查找写死的东西,查找范围固定</p>\n</li>\n<li>\n<p>fzf 可动态查找用户输入的内容,并且范围大</p>\n</li>\n</ul>\n</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">指令</th>\n<th style=\"text-align:center\">作用</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\"><code>fzf</code></td>\n<td style=\"text-align:center\">模糊查找</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><code>ls | fzf</code></td>\n<td style=\"text-align:center\">在 ls 的输出内容中查找</td>\n</tr>\n</tbody>\n</table>\n<hr>\n<h3 id=\"tldr\">tldr</h3>\n<p>命令帮助文档,优化版的 man,有个类似的工具 <code>cheat.sh</code>,一番角逐之下我还是用的 tldr</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">指令</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">tldr cd</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">tldr java</td>\n</tr>\n</tbody>\n</table>\n<hr>\n<h3 id=\"pandoc\">pandoc</h3>\n<h4 id=\"word2markdown\">word2markdown</h4>\n<figure class=\"highlight apache\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">pandoc</span> -f docx -t markdown --extract-media ./images -o <span class=\"number\">1</span>.md <span class=\"number\">1</span>.docx</span><br></pre></td></tr></table></figure>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"各种问题\">各种问题</h2>\n<h3 id=\"换行符导致报错\">换行符导致报错</h3>\n<blockquote>\n<p>syntax error near unexpected token `xxx</p>\n</blockquote>\n<p>Linux 并不兼容 windows 下的换行符, 可以通过 vscode 右下角转为 LF <sup id='cite_ref-5'><a href=\"#cite_note-5\">[5]</a></sup></p>\n<hr>\n<h3 id=\"不同终端差异\">不同终端差异</h3>\n<p>cmd 不支持<code>/</code>作为路径, PowerShell 支持</p>\n<p>安装 git-all + pwsh 可以使用绝大多数 linux 的命令</p>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"借物表\">借物表</h2>\n<p><a name='cite_note-1' href='#cite_ref-1'>[1]</a>: <a href=\"https://segmentfault.com/a/1190000022722483\">Linux 技巧：介绍从目录路径获取文件名和目录前缀的方法</a></p>\n<p><a name='cite_note-2' href='#cite_ref-2'>[2]</a>: <a href=\"https://jingyan.baidu.com/article/a17d5285eb93ea8099c8f24d.html\">Linux 下如何切换用户</a></p>\n<p><a name='cite_note-3' href='#cite_ref-3'>[3]</a>: <a href=\"https://www.runoob.com/linux/linux-comm-ln.html\">Linux ln 命令</a></p>\n<p><a name='cite_note-4' href='#cite_ref-4'>[4]</a>: <a href=\"https://fantiq.github.io/2017/07/06/%E5%A6%82%E4%BD%95%E6%AD%A3%E7%A1%AE%E7%9A%84%E5%88%A0%E9%99%A4%E8%BD%AF%E8%BF%9E%E6%8E%A5/\">如何正确的删除软连接</a></p>\n<p><a name='cite_note-5' href='#cite_ref-5'>[5]</a>: <a href=\"http://t.zoukankan.com/chenjianhong-p-4144905.html\">syntax error near unexpected token `原因及解决办法 - 走看看</a></p>\n<p><a name='cite_note-6' href='#cite_ref-6'>[6]</a>: <a href=\"https://zhuanlan.zhihu.com/p/176277245\">5 款超级好用的命令行工具，提升你的开发效率！</a></p>\n<p><a name='cite_note-7' href='#cite_ref-7'>[7]</a>: <a href=\"https://mp.weixin.qq.com/s?__biz=MzIyMDkwODczNw==&amp;mid=2247500080&amp;idx=2&amp;sn=64d4a8f3e4013ba7a77f25502cf945dd&amp;chksm=97c65c9ea0b1d58881e761a4bd69fa1136b87102e94d301685a085f2c6b09670dac5f5781e6a&amp;mpshare=1&amp;scene=23&amp;srcid=07058VtSWw1T2LusxMXcZtRs&amp;sharer_sharetime=1625473567691&amp;sharer_shareid=ff6bb8cfd138294e80df076b8b76232d#rd\">推荐 18 个终端命令行工具</a></p>\n<p><a name='cite_note-8' href='#cite_ref-8'>[8]</a>: <a href=\"https://blog.csdn.net/weixin_38756990/article/details/72638084\">ps -ef 和 ps -aux 和 ps aux</a> | <a href=\"https://www.runoob.com/linux/linux-comm-kill.html\">Linux kill 命令</a> | <a href=\"https://www.jianshu.com/p/a3aa6b01b2e1\">Linux 命令神器：lsof</a></p>\n<p><a name='cite_note-9' href='#cite_ref-9'>[9]</a>: <a href=\"https://blog.51cto.com/u_14286115/5114696\">Windows vs linux-查看文件 MD5 值等_51CTO 博客_windows 查看文件 md5 值</a></p>\n<p><a name='cite_note-10' href='#cite_ref-10'>[10]</a>: <a href=\"https://www.runoob.com/linux/linux-comm-nohup.html\">Linux nohup 命令</a> | <a href=\"https://www.runoob.com/linux/linux-comm-tail.html\">Linux tail 命令</a> | <a href=\"https://mp.weixin.qq.com/s?__biz=MzIwMjU3NDI5Ng==&amp;mid=2247483948&amp;idx=1&amp;sn=6eed2f766b1a815c9bcca38cf9ccd3c2&amp;chksm=96ddd29ba1aa5b8d240d2c7cf9902b24f48ab36b196b86f7ea6d0b987c4538108276e6e273e6&amp;mpshare=1&amp;scene=23&amp;srcid=1020CNuclmVRrL4LTW9lyHwq&amp;sharer_sharetime=1634691119252&amp;sharer_shareid=ff6bb8cfd138294e80df076b8b76232d#rd\">基于 VSCode 和 CMake 进行 C/C++开发「第一讲」linux 系统介绍</a></p>\n<p><a name='cite_note-11' href='#cite_ref-11'>[11]</a>: <a href=\"https://www.hxstrive.com/article/804.htm\">批处理定义子程序</a> | <a href=\"https://www.cnblogs.com/qlqwjy/p/8445993.html\">批处理命令之 Start 的详细用法</a> | <a href=\"http://shouce.jb51.net/shell/dosbatch.html\">bat 与 shell 互转 Appendix L. Converting DOS Batch Files to Shell Scripts</a></p>\n<p><a name='cite_note-12' href='#cite_ref-12'>[12]</a>: <a href=\"https://github.com/Supervisor/supervisor/issues/48\">Running <code>supervisorctl restart &amp;lt;name&amp;gt;</code> causes xmlrpclib.Fault · Issue #48 · Supervisor/supervisor</a></p>\n<p><a name='cite_note-13' href='#cite_ref-13'>[13]</a>: <a href=\"https://www.95its.com/pc/101.html\">Win10 mklink 命令怎么用，mklink 命令使用教程</a></p>\n<p><a name='cite_note-14' href='#cite_ref-14'>[14]</a>: <a href=\"https://sharepoint.stackexchange.com/questions/108843/why-cant-powershell-convert-my-password-from-system-string-to-system-security-s\">Why can't powershell convert my password from system.string to system.security.securestring?</a></p>\n<p><a name='cite_note-15' href='#cite_ref-15'>[15]</a>: <a href=\"https://stackoverflow.com/questions/20939562/scp-permission-denied-publickey-on-ec2-only-when-using-r-flag-on-directories\">SCP Permission denied (publickey). on EC2 only when using -r flag on directories</a></p>\n<script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kity@2.0.4/dist/kity.min.js\"></script><script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js\"></script><script defer=\"true\" type=\"text&#x2F;javascript\" src=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js\"></script><link rel=\"stylesheet\" type=\"text&#x2F;css\" href=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css\">",
            "tags": [
                "备忘录",
                "shell",
                "Linux",
                "操作系统",
                "宝塔面板"
            ]
        }
    ]
}