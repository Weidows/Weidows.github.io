{
    "version": "https://jsonfeed.org/version/1",
    "title": "⭐️齐下无贰⭐️ • All posts by \"cpu\" tag",
    "description": "May all the beauty be bless.✨",
    "home_page_url": "https://weidows.github.io",
    "items": [
        {
            "id": "https://weidows.github.io/post/system/process-thread/",
            "url": "https://weidows.github.io/post/system/process-thread/",
            "title": "🤷‍♂️进程, 线程,CPU 核心, 并行, 并发大杂碎!",
            "date_published": "2021-03-05T13:08:33.000Z",
            "content_html": "<!--\n * @?: *********************************************************************\n * @Author: Weidows\n * @LastEditors: Weidows\n * @LastEditTime: 2021-03-06 00:30:57\n * @FilePath: \\Weidowsd:\\Game\\Github\\Blog-private\\source\\_posts\\system\\process-thread.md\n * @Description:\n * @!: *********************************************************************\n-->\n<ul>\n<li><a href=\"#%E5%BC%95%E5%AD%90\">引子</a></li>\n<li><a href=\"#%E8%BF%9B%E7%A8%8B%E4%B8%8E%E7%BA%BF%E7%A8%8B\">进程与线程</a>\n<ul>\n<li><a href=\"#%E8%BF%9B%E7%A8%8B\">进程</a></li>\n<li><a href=\"#%E7%BA%BF%E7%A8%8B\">线程</a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%87%A0%E6%A0%B8%E5%87%A0%E7%BA%BF%E7%A8%8B\">几核几线程</a></li>\n<li><a href=\"#%E5%B9%B6%E8%A1%8C%E4%B8%8E%E5%B9%B6%E5%8F%91\">并行与并发</a></li>\n<li><a href=\"#%E5%8F%82%E7%85%A7%E6%8E%A8%E8%8D%90%E9%98%85%E8%AF%BB\">参照 &amp; 推荐阅读</a></li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"引子\">引子</h2>\n<ul>\n<li>谈操作系统会了解到 <code> 进程与线程</code></li>\n<li>谈 CPU 会听到 <code> 几核几线程</code></li>\n<li>谈 CPU 调度会存疑 <code> 并行与并发</code></li>\n</ul>\n<hr>\n<h2 id=\"进程与线程\">进程与线程</h2>\n<ul>\n<li>简单层级关系: <code>应用程序 -&gt; 一至多个进程 -&gt; 一至多个线程</code></li>\n</ul>\n<blockquote>\n<p>线程是调度的基本单位，而进程则是资源拥有的基本单位。</p>\n</blockquote>\n<h3 id=\"进程\">进程</h3>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVsaG1.png\" alt=\"20210305222645\" />\n<hr>\n<ul>\n<li>\n<p>在前台显示的 (有图形窗口的) 程序, 叫做<code>&quot; 应用 &quot;</code></p>\n<ul>\n<li>比如 IDEA, 酷狗,Edge,QQ 这些都是应用.</li>\n<li>同一个程序, 打开多个窗口, 其产生的进程也会被归到一个应用下\n<ul>\n<li>比如打开两个 VScode 窗口, 其产生的新进程也会列在 VScode 栏下, 并不会出现两个 VScode 栏</li>\n<li>另外, 新建窗口不一定会产生新进程(比如打开两个 IDEA 窗口,IDEA 栏下的进程数没变)</li>\n</ul>\n</li>\n<li>关闭窗口后, 应用要么被全然关闭, 要么转入后台进程\n<ul>\n<li>就比如 QQ 可以选择整个关掉或者后台挂着, 后台挂着时 QQ 不会在 <code>&quot; 应用 &quot;</code> 列表出现, 会被归到后台进程</li>\n</ul>\n</li>\n</ul>\n<hr>\n</li>\n<li>\n<p>每个应用会有一个至多个进程</p>\n<ul>\n<li>至少有一个 <code>&quot; 应用 &quot;</code> 进程和若干<code>&quot; 后台进程 &quot;</code>.</li>\n<li>比如 IDEA 下面的一排, 六个进程</li>\n<li>一个进程 = <code>.exe</code>之类的可执行文件 + 运行时数据\n<ul>\n<li>也就是说同一个程序运行在不同数据环境下会产生不同进程(比如 IDEA 下的两个 TabNine 进程)</li>\n</ul>\n</li>\n</ul>\n<hr>\n</li>\n<li>\n<p>不同进程之间数据隔离</p>\n<ul>\n<li>也就是说一个进程挂掉只影响这个进程, 对其他进程无影响</li>\n<li>比如浏览器,<code>一个页面就是一个进程</code>(如果两个页面相同会共享同一进程), 脚本插件另行计算, 一个页面崩溃一般只影响这个页面.</li>\n</ul>\n<hr>\n</li>\n<li>\n<p>后台进程</p>\n<ul>\n<li>现在我们可以理解没有界面的程序运行时肯定会被归到 <code> 后台进程</code>\n<ul>\n<li>比如 <code>aria2c.exe</code>, 没有界面, 只可能出现在后台进程.</li>\n</ul>\n</li>\n<li>但是, 有些程序会 <code> 两面吃 </code>, 比如 vscode 运行时,<code>&quot; 应用 &quot;</code> 栏有它,<code>后台进程 </code> 栏也有它!\n<ul>\n<li>&quot; 应用 &quot; 栏会归并对当前程序窗口有影响的进程, 没影响的叫做<code>&quot; 守护进程 &quot;</code></li>\n<li>也就是说这些后台进程有他们的作用, 但是这作用并不依赖于程序运行 (比如说发光发热, 对程序没影响, 但这个进程有它存在的意义), 它们就被归到<code> 后台进程 </code> 去了.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h3 id=\"线程\">线程</h3>\n<ul>\n<li>\n<p>轮到线程了:</p>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVs14K.png\" alt=\"20210305231739\" />\n</li>\n<li>\n<p>这个比较简单了, 线程是进程内部的, 如上图两个 aria2c 进程中, 分别有一个和三个线程</p>\n</li>\n<li>\n<p>一个进程至少一个线程.</p>\n<ul>\n<li>\n<p>不同线程之间共享同一个进程内的资源.</p>\n</li>\n<li>\n<p>一个线程崩溃会牵连所有, 整个进程会崩溃.</p>\n</li>\n</ul>\n<hr>\n</li>\n<li>\n<p>多线程主要为了 <code> 提升性能</code></p>\n<ul>\n<li>\n<p>比如一个进程只有一个线程, 那它只能同时靠一个 CPU 逻辑处理器处理</p>\n</li>\n<li>\n<p>如果是多线程, 比如 9 个线程, 那么在 8 个逻辑处理器的 CPU 上, 这个进程可以占有 8 个逻辑处理器的算力, 提升运行速度</p>\n</li>\n</ul>\n</li>\n<li>\n<p>如果线程数大于 CPU 逻辑处理器数, 其他的线程排队等待.</p>\n</li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"几核几线程\">几核几线程</h2>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVsFDT.png\" alt=\"20210305210405\" />\n<ul>\n<li>\n<p>如上图, 一个插槽对应一块结结实实的 CPU</p>\n<ul>\n<li>\n<p>这块 CPU 里面被划分出四个隔离的核心 -&gt; <code>四核</code></p>\n</li>\n<li>\n<p>每个核心, 又可以分为两个逻辑处理器, 一个逻辑处理器只能同时处理一个任务 (线程) -&gt; <code> 八线程</code></p>\n</li>\n<li>\n<p>上面八个线形图就是每个逻辑处理器的使用率</p>\n</li>\n</ul>\n<hr>\n</li>\n<li>\n<p>运行速度标的是每个核心 (core) 而非逻辑处理器 (processor) 的速度</p>\n</li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"并行与并发\">并行与并发</h2>\n<ul>\n<li>\n<p>实际上, 网上对这两个词义一定程度上在混用~</p>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVs30b.png\" alt=\"20210306000528\" />\n</li>\n<li>\n<p>有个词叫<code>&quot; 并行不悖 &quot;</code>, 记住这个就不会弄混了.</p>\n</li>\n<li>\n<p><code>多进程并发, 多线程并行.</code></p>\n</li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"参照 - 推荐阅读\">参照 &amp; 推荐阅读</h2>\n<blockquote>\n<p><a href=\"https://mp.weixin.qq.com/s?__biz=Mzk0NzE4NTk4Ng==&amp;mid=2247486625&amp;idx=1&amp;sn=f35d340727b0e8e23f82ff7c5182c893&amp;chksm=c37bfc8cf40c759a084effb4c5b253ad50ad0be02b8b8dea073fa333ca6adefce6ef8cb6db9f&amp;mpshare=1&amp;scene=23&amp;srcid=0305mrfN5sGJ1jI9aPxUFqjU&amp;sharer_sharetime=1614936389002&amp;sharer_shareid=ff6bb8cfd138294e80df076b8b76232d#rd\">进程和线程基础知识全家桶，30 张图一套带走</a></p>\n</blockquote>\n<blockquote>\n<p><a href=\"https://blog.csdn.net/cherrycheng_/article/details/51384657\">基础知识：线程，进程。多进程，多线程。并发，并行的区别</a></p>\n</blockquote>\n<blockquote>\n<p><a href=\"https://zhuanlan.zhihu.com/p/86855590\">cpu 核心数与线程数</a></p>\n</blockquote>\n<blockquote>\n<p><a href=\"https://blog.51cto.com/14462329/2427415\">为什么 Chrome 在任务管理器里有 4 个进程？</a></p>\n</blockquote>\n<blockquote>\n<p><a href=\"https://blog.csdn.net/a3192048/article/details/82085422?utm_medium=distribute.pc_relevant.none-task-blog-baidujs_baidulandingword-1&amp;spm=1001.2101.3001.4242\">程序，进程，线程的区别和联系</a></p>\n</blockquote>\n<script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kity@2.0.4/dist/kity.min.js\"></script><script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js\"></script><script defer=\"true\" type=\"text&#x2F;javascript\" src=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js\"></script><link rel=\"stylesheet\" type=\"text&#x2F;css\" href=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css\">",
            "tags": [
                "计算机系统",
                "多线程",
                "进程",
                "cpu"
            ]
        }
    ]
}