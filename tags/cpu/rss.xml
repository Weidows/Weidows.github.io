<?xml version="1.0"?>
<rss version="2.0">
    <channel>
        <title>⭐️齐下无贰⭐️ • Posts by &#34;cpu&#34; tag</title>
        <link>https://weidows.github.io</link>
        <description>May all the beauty be bless.✨</description>
        <language>zh-CN</language>
        <pubDate>Fri, 05 Mar 2021 13:08:33 +0000</pubDate>
        <lastBuildDate>Fri, 05 Mar 2021 13:08:33 +0000</lastBuildDate>
        <category>java</category>
        <category>javadoc</category>
        <category>编码</category>
        <category>vscode</category>
        <category>maven</category>
        <category>对象</category>
        <category>设计模式</category>
        <category>jvm</category>
        <category>lambda</category>
        <category>备忘录</category>
        <category>api</category>
        <category>推荐</category>
        <category>浏览器</category>
        <category>扩展</category>
        <category>ffmpeg</category>
        <category>算法</category>
        <category>hexdump</category>
        <category>hls</category>
        <category>openssl</category>
        <category>shell</category>
        <category>密码学</category>
        <category>ps</category>
        <category>设计</category>
        <category>摄影</category>
        <category>latex</category>
        <category>php</category>
        <category>website</category>
        <category>ssh</category>
        <category>linux</category>
        <category>regex</category>
        <category>yaml</category>
        <category>音乐</category>
        <category>哲学</category>
        <category>生活</category>
        <category>健身</category>
        <category>面试</category>
        <category>笔记</category>
        <category>english</category>
        <category>idea</category>
        <category>html</category>
        <category>css</category>
        <category>javascript</category>
        <category>成长路线</category>
        <category>deprecated</category>
        <category>font</category>
        <category>vr</category>
        <category>网课</category>
        <category>manjaro</category>
        <category>计算机系统</category>
        <category>服务器</category>
        <category>虚拟机</category>
        <category>树莓派</category>
        <category>windows</category>
        <category>docker</category>
        <category>多线程</category>
        <category>进程</category>
        <category>cpu</category>
        <category>scoop</category>
        <category>git</category>
        <category>python</category>
        <category>node</category>
        <category>ubuntu</category>
        <category>wsl2</category>
        <category>环境变量</category>
        <category>aria2</category>
        <category>工具</category>
        <category>pycharm</category>
        <category>goland</category>
        <category>图床</category>
        <category>爬虫</category>
        <category>sm.ms</category>
        <category>package</category>
        <category>tomcat</category>
        <category>mybatis</category>
        <category>map</category>
        <category>crud</category>
        <category>日志</category>
        <category>分页</category>
        <category>数据库</category>
        <category>注解</category>
        <category>mysql</category>
        <category>jdbc</category>
        <category>sql</category>
        <category>前端</category>
        <category>json</category>
        <category>javaweb</category>
        <category>servlet</category>
        <category>cookie</category>
        <category>session</category>
        <category>jsp</category>
        <category>filter</category>
        <category>架构</category>
        <category>反射</category>
        <category>cors</category>
        <category>大前端</category>
        <category>jquery</category>
        <category>npm</category>
        <category>yarn</category>
        <category>vue</category>
        <category>opengl</category>
        <category>c</category>
        <category>conan</category>
        <category>理论知识</category>
        <category>通信</category>
        <category>音频</category>
        <category>傅里叶变换</category>
        <category>极化码</category>
        <category>信息论</category>
        <category>powershell</category>
        <category>宝塔面板</category>
        <category>搞笑</category>
        <category>高能</category>
        <category>快捷键</category>
        <category>cmake</category>
        <category>区块链</category>
        <category>golang</category>
        <category>markdown</category>
        <category>processing</category>
        <category>anaconda</category>
        <category>hexo</category>
        <category>github</category>
        <category>gitee</category>
        <category>action</category>
        <category>branch</category>
        <category>release</category>
        <category>pages</category>
        <category>copilot</category>
        <category>插件</category>
        <category>emmet</category>
        <category>美化</category>
        <category>snippet</category>
        <category>seo</category>
        <category>node.js</category>
        <category>butterfly</category>
        <category>pug</category>
        <category>styl</category>
        <category>pjax</category>
        <category>优化</category>
        <category>魔改</category>
        <item>
            <guid isPermalink="true">https://weidows.github.io/post/system/process-thread/</guid>
            <title>🤷‍♂️进程, 线程,CPU 核心, 并行, 并发大杂碎!</title>
            <link>https://weidows.github.io/post/system/process-thread/</link>
            <category>计算机系统</category>
            <category>多线程</category>
            <category>进程</category>
            <category>cpu</category>
            <pubDate>Fri, 05 Mar 2021 13:08:33 +0000</pubDate>
            <description><![CDATA[ &lt;!--
 * @?: *********************************************************************
 * @Author: Weidows
 * @LastEditors: Weidows
 * @LastEditTime: 2021-03-06 00:30:57
 * @FilePath: \Weidowsd:\Game\Github\Blog-private\source\_posts\system\process-thread.md
 * @Description:
 * @!: *********************************************************************
--&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%BC%95%E5%AD%90&#34;&gt;引子&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%BF%9B%E7%A8%8B%E4%B8%8E%E7%BA%BF%E7%A8%8B&#34;&gt;进程与线程&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%BF%9B%E7%A8%8B&#34;&gt;进程&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%BA%BF%E7%A8%8B&#34;&gt;线程&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%87%A0%E6%A0%B8%E5%87%A0%E7%BA%BF%E7%A8%8B&#34;&gt;几核几线程&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%B9%B6%E8%A1%8C%E4%B8%8E%E5%B9%B6%E5%8F%91&#34;&gt;并行与并发&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%8F%82%E7%85%A7%E6%8E%A8%E8%8D%90%E9%98%85%E8%AF%BB&#34;&gt;参照 &amp;amp; 推荐阅读&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png&#34; alt=&#34;分割线&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;引子&#34;&gt;引子&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;谈操作系统会了解到 &lt;code&gt; 进程与线程&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;谈 CPU 会听到 &lt;code&gt; 几核几线程&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;谈 CPU 调度会存疑 &lt;code&gt; 并行与并发&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;进程与线程&#34;&gt;进程与线程&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;简单层级关系: &lt;code&gt;应用程序 -&amp;gt; 一至多个进程 -&amp;gt; 一至多个线程&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;线程是调度的基本单位，而进程则是资源拥有的基本单位。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;进程&#34;&gt;进程&lt;/h3&gt;
&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Weidows/Images/post/20210305222645.png&#34; alt=&#34;20210305222645&#34; /&gt;
&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;在前台显示的 (有图形窗口的) 程序, 叫做&lt;code&gt;&amp;quot; 应用 &amp;quot;&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;比如 IDEA, 酷狗,Edge,QQ 这些都是应用.&lt;/li&gt;
&lt;li&gt;同一个程序, 打开多个窗口, 其产生的进程也会被归到一个应用下
&lt;ul&gt;
&lt;li&gt;比如打开两个 VScode 窗口, 其产生的新进程也会列在 VScode 栏下, 并不会出现两个 VScode 栏&lt;/li&gt;
&lt;li&gt;另外, 新建窗口不一定会产生新进程(比如打开两个 IDEA 窗口,IDEA 栏下的进程数没变)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;关闭窗口后, 应用要么被全然关闭, 要么转入后台进程
&lt;ul&gt;
&lt;li&gt;就比如 QQ 可以选择整个关掉或者后台挂着, 后台挂着时 QQ 不会在 &lt;code&gt;&amp;quot; 应用 &amp;quot;&lt;/code&gt; 列表出现, 会被归到后台进程&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;每个应用会有一个至多个进程&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;至少有一个 &lt;code&gt;&amp;quot; 应用 &amp;quot;&lt;/code&gt; 进程和若干&lt;code&gt;&amp;quot; 后台进程 &amp;quot;&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;比如 IDEA 下面的一排, 六个进程&lt;/li&gt;
&lt;li&gt;一个进程 = &lt;code&gt;.exe&lt;/code&gt;之类的可执行文件 + 运行时数据
&lt;ul&gt;
&lt;li&gt;也就是说同一个程序运行在不同数据环境下会产生不同进程(比如 IDEA 下的两个 TabNine 进程)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;不同进程之间数据隔离&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;也就是说一个进程挂掉只影响这个进程, 对其他进程无影响&lt;/li&gt;
&lt;li&gt;比如浏览器,&lt;code&gt;一个页面就是一个进程&lt;/code&gt;(如果两个页面相同会共享同一进程), 脚本插件另行计算, 一个页面崩溃一般只影响这个页面.&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;后台进程&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;现在我们可以理解没有界面的程序运行时肯定会被归到 &lt;code&gt; 后台进程&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;比如 &lt;code&gt;aria2c.exe&lt;/code&gt;, 没有界面, 只可能出现在后台进程.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;但是, 有些程序会 &lt;code&gt; 两面吃 &lt;/code&gt;, 比如 vscode 运行时,&lt;code&gt;&amp;quot; 应用 &amp;quot;&lt;/code&gt; 栏有它,&lt;code&gt;后台进程 &lt;/code&gt; 栏也有它!
&lt;ul&gt;
&lt;li&gt;&amp;quot; 应用 &amp;quot; 栏会归并对当前程序窗口有影响的进程, 没影响的叫做&lt;code&gt;&amp;quot; 守护进程 &amp;quot;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;也就是说这些后台进程有他们的作用, 但是这作用并不依赖于程序运行 (比如说发光发热, 对程序没影响, 但这个进程有它存在的意义), 它们就被归到&lt;code&gt; 后台进程 &lt;/code&gt; 去了.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;线程&#34;&gt;线程&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;轮到线程了:&lt;/p&gt;
&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Weidows/Images/post/20210305231739.png&#34; alt=&#34;20210305231739&#34; /&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;这个比较简单了, 线程是进程内部的, 如上图两个 aria2c 进程中, 分别有一个和三个线程&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;一个进程至少一个线程.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;不同线程之间共享同一个进程内的资源.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;一个线程崩溃会牵连所有, 整个进程会崩溃.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;多线程主要为了 &lt;code&gt; 提升性能&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;比如一个进程只有一个线程, 那它只能同时靠一个 CPU 逻辑处理器处理&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;如果是多线程, 比如 9 个线程, 那么在 8 个逻辑处理器的 CPU 上, 这个进程可以占有 8 个逻辑处理器的算力, 提升运行速度&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;如果线程数大于 CPU 逻辑处理器数, 其他的线程排队等待.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png&#34; alt=&#34;分割线&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;几核几线程&#34;&gt;几核几线程&lt;/h2&gt;
&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Weidows/Images/post/20210305210405.png&#34; alt=&#34;20210305210405&#34; /&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;如上图, 一个插槽对应一块结结实实的 CPU&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;这块 CPU 里面被划分出四个隔离的核心 -&amp;gt; &lt;code&gt;四核&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;每个核心, 又可以分为两个逻辑处理器, 一个逻辑处理器只能同时处理一个任务 (线程) -&amp;gt; &lt;code&gt; 八线程&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;上面八个线形图就是每个逻辑处理器的使用率&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;运行速度标的是每个核心 (core) 而非逻辑处理器 (processor) 的速度&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png&#34; alt=&#34;分割线&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;并行与并发&#34;&gt;并行与并发&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;实际上, 网上对这两个词义一定程度上在混用~&lt;/p&gt;
&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Weidows/Images/post/20210306000528.png&#34; alt=&#34;20210306000528&#34; /&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;有个词叫&lt;code&gt;&amp;quot; 并行不悖 &amp;quot;&lt;/code&gt;, 记住这个就不会弄混了.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;多进程并发, 多线程并行.&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png&#34; alt=&#34;分割线&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;参照 - 推荐阅读&#34;&gt;参照 &amp;amp; 推荐阅读&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&#34;https://mp.weixin.qq.com/s?__biz=Mzk0NzE4NTk4Ng==&amp;amp;mid=2247486625&amp;amp;idx=1&amp;amp;sn=f35d340727b0e8e23f82ff7c5182c893&amp;amp;chksm=c37bfc8cf40c759a084effb4c5b253ad50ad0be02b8b8dea073fa333ca6adefce6ef8cb6db9f&amp;amp;mpshare=1&amp;amp;scene=23&amp;amp;srcid=0305mrfN5sGJ1jI9aPxUFqjU&amp;amp;sharer_sharetime=1614936389002&amp;amp;sharer_shareid=ff6bb8cfd138294e80df076b8b76232d#rd&#34;&gt;进程和线程基础知识全家桶，30 张图一套带走&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.csdn.net/cherrycheng_/article/details/51384657&#34;&gt;基础知识：线程，进程。多进程，多线程。并发，并行的区别&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&#34;https://zhuanlan.zhihu.com/p/86855590&#34;&gt;cpu 核心数与线程数&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.51cto.com/14462329/2427415&#34;&gt;为什么 Chrome 在任务管理器里有 4 个进程？&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.csdn.net/a3192048/article/details/82085422?utm_medium=distribute.pc_relevant.none-task-blog-baidujs_baidulandingword-1&amp;amp;spm=1001.2101.3001.4242&#34;&gt;程序，进程，线程的区别和联系&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;script type=&#34;text&amp;#x2F;javascript&#34; src=&#34;https://unpkg.com/kity@2.0.4/dist/kity.min.js&#34;&gt;&lt;/script&gt;&lt;script type=&#34;text&amp;#x2F;javascript&#34; src=&#34;https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js&#34;&gt;&lt;/script&gt;&lt;script defer=&#34;true&#34; type=&#34;text&amp;#x2F;javascript&#34; src=&#34;https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js&#34;&gt;&lt;/script&gt;&lt;link rel=&#34;stylesheet&#34; type=&#34;text&amp;#x2F;css&#34; href=&#34;https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css&#34;&gt; ]]></description>
        </item>
    </channel>
</rss>
