{
    "version": "https://jsonfeed.org/version/1",
    "title": "⭐️齐下无贰⭐️ • All posts by \"aria2\" tag",
    "description": "May all the beauty be bless.✨",
    "home_page_url": "https://weidows.github.io",
    "items": [
        {
            "id": "https://weidows.github.io/post/tools/Aria2/",
            "url": "https://weidows.github.io/post/tools/Aria2/",
            "title": "✨炒鸡好用的下载器-Aria2",
            "date_published": "2021-01-29T04:59:50.000Z",
            "content_html": "<!--\n * @?: *********************************************************************\n * @Author: Weidows\n * @Date: 2021-01-29 12:59:50\n * @LastEditors: Weidows\n * @LastEditTime: 2022-02-09 01:41:08\n * @FilePath: \\Blog-private\\source\\_posts\\tools\\Aria2.md\n * @Description:\n * @!: *********************************************************************\n-->\n<ul>\n<li><a href=\"#%E7%AE%80%E4%BB%8B\">简介</a></li>\n<li><a href=\"#%E9%9C%80%E6%B1%82\">需求</a></li>\n<li><a href=\"#%E6%A8%AA%E5%90%91%E5%AF%B9%E6%AF%94\">横向对比</a>\n<ul>\n<li><a href=\"#idm\">IDM</a></li>\n<li><a href=\"#motrix\">Motrix</a></li>\n<li><a href=\"#%E8%BF%85%E9%9B%B7\">迅雷</a></li>\n<li><a href=\"#ffmpeg\">FFmpeg</a></li>\n<li><a href=\"#aria2-ariang\">Aria2-AriaNg</a></li>\n</ul>\n</li>\n<li><a href=\"#%E9%85%8D%E7%BD%AE\">配置</a>\n<ul>\n<li><a href=\"#%E9%85%8D%E7%BD%AE-aria2\">配置 Aria2</a></li>\n<li><a href=\"#%E9%85%8D%E7%BD%AE%E6%B5%8F%E8%A7%88%E5%99%A8\">配置浏览器</a></li>\n</ul>\n</li>\n<li><a href=\"#%E9%97%AE%E9%A2%98-%E9%85%8D%E7%BD%AE%E4%B8%AD%E5%B7%B2%E9%9B%86%E6%88%90%E8%A7%A3%E5%86%B3\">问题-配置中已集成解决</a>\n<ul>\n<li><a href=\"#%E5%90%AF%E5%8A%A8-aria2-rpc\">启动 Aria2-RPC</a></li>\n<li><a href=\"#%E5%BC%80%E6%9C%BA%E8%87%AA%E5%90%AF%E5%90%8E%E5%8F%B0%E8%BF%90%E8%A1%8C\">开机自启/后台运行</a></li>\n<li><a href=\"#%E8%87%AA%E5%8A%A8%E6%9B%B4%E6%96%B0-tracker\">自动更新 tracker</a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%8F%82%E8%80%83\">参考</a></li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"简介-3\">简介</h2>\n<ul>\n<li>\n<p><code>Aria2</code>是一个命令行下载器,没有 UI 界面</p>\n</li>\n<li>\n<p>支持多线程下载,各种协议导入.</p>\n</li>\n<li>\n<p>通过下面知乎问答可以了解下下载协议和目前主流下载器运行方式.</p>\n</li>\n</ul>\n<blockquote>\n<p><a href=\"https://www.zhihu.com/question/61896660\">为什么很多人都推荐 IDM 下载 说这才是下载神器 不限速的 比迅雷下载和百度网盘下载好多了？</a></p>\n</blockquote>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"需求\">需求</h2>\n<ol>\n<li>\n<p>个人需要一个<code>多线程</code>下载器,其实也不用强调,因为目前大多数下载器都是多线程的</p>\n</li>\n<li>\n<p>可以替换掉浏览器默认下载(浏览器默认下载太反人类了)</p>\n</li>\n<li>\n<p>个人比较看重的一点,我有时会需要<code>批量下载</code>B 站上的分 P 视频以防止视频下架 (<s>已弃用</s>)</p>\n</li>\n</ol>\n<ul>\n<li>\n<p>我用的脚本只能导出如下几个下载方式</p>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVSM7Q.png\" alt=\"20210129155515\" />\n</li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"横向对比\">横向对比</h2>\n<h3 id=\"IDM\">IDM</h3>\n<ul>\n<li>支持的协议太少了,而且不太好用,优点是它可以抓取网页中的音视频下载,但是对于我来说,下载音乐并不靠这个,下载视频(B 站和油管的),它都不支持,不过倒是支持个上面的批量下载.</li>\n<li>总的来说是我的第二选择.</li>\n</ul>\n<hr>\n<h3 id=\"Motrix\">Motrix</h3>\n<ul>\n<li>\n<p>底层就是用的 Aria2,所以说支持的协议挺多的,确实不错但是奈何我用不着…</p>\n<p>现在<code>Aria2+AriaNg</code>已经足够满足我了.</p>\n</li>\n</ul>\n<hr>\n<h3 id=\"迅雷\">迅雷</h3>\n<ul>\n<li>\n<p>Emmm <s>跟我的需求有点不一样,排除.</s></p>\n<p>后来用了一下,发现它下载 p2p 资源还是比 aria2 强不少的; 于是我两个都用~</p>\n</li>\n</ul>\n<hr>\n<h3 id=\"FFmpeg\">FFmpeg</h3>\n<ul>\n<li>这个主业是音视频处理,比如 B 站视频源格式是 <code>flv</code>, 可以通过 FFmpeg 转为 <code>mp4</code></li>\n</ul>\n<hr>\n<h3 id=\"Aria2-AriaNg\">Aria2-AriaNg</h3>\n<ul>\n<li>\n<p>这个就是主角,也就是我正在用的.</p>\n</li>\n<li>\n<p>Aria2 可以通过 Scoop 安装,而且 Scoop 可以通过调用 aria2 实现加速下载.</p>\n</li>\n<li>\n<p>我需要做的就是安装浏览器插件:<code>Aria2 for Chrome</code>或者<code>Aria Manager</code>之类的,让他连通作为 Aria2 的 UI 界面</p>\n</li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"配置-2\">配置</h2>\n<h3 id=\"配置-Aria2\">配置 Aria2</h3>\n<ul>\n<li>\n<p>用过 Scoop 的应该都知道 Aria2,一般安装 Scoop 时都会装上</p>\n<figure class=\"highlight mipsasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">scoop </span><span class=\"keyword\">install </span>aria2</span><br></pre></td></tr></table></figure>\n<hr>\n</li>\n<li>\n<p>如果你有幸折腾过这家伙,那么下面应该是全网最精简/完美的配置方案了:</p>\n<ol>\n<li>\n<p>新建一个 <code>随意名称.bat</code> 复制下面东西粘贴进去,每次需要启动时点一下 (或者直接弄进开机启动项)</p>\n</li>\n<li>\n<p>aria2 所需要的 conf 配置,任务连接 session,启动脚本 vbs,tracker; 全都~堆进这里面了,不需要任何其他配置,想配置的话可以修改一下第二行的 <code>BACKUP_DIR</code></p>\n</li>\n</ol>\n<figure class=\"highlight bat\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">@REM aria2: 直接通过shell启动会被它占用,所以另开</span></span><br><span class=\"line\"><span class=\"built_in\">set</span> BACKUP_DIR=</span><br><span class=\"line\">  <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> <span class=\"keyword\">defined</span> BACKUP_DIR <span class=\"built_in\">set</span> BACKUP_DIR=%~dp0Programming-Configuration</span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">@REM 下载目录, 默认为 D:\\Download</span></span><br><span class=\"line\"><span class=\"built_in\">set</span> DOWNLOAD_DIR=</span><br><span class=\"line\">  <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> <span class=\"keyword\">defined</span> DOWNLOAD_DIR <span class=\"built_in\">set</span> DOWNLOAD_DIR=D:\\Download</span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">@REM 调用链: utils.bat -&gt; aria2.vbs -&gt; aria2.exe -&gt; aria2.conf -&gt; aria2.session</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">@REM aria2.session</span></span><br><span class=\"line\">touch <span class=\"variable\">%BACKUP_DIR%</span>\\others\\aria2\\aria2.session</span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">@REM 括号内命令的标准输出会重定向到 aria2.conf</span></span><br><span class=\"line\">(</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> ## # 开头为注释内容, 选项都有相应的注释说明, 根据需要修改 ##</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> ## 被注释的选项填写的是默认值, 建议在需要修改时再取消注释  ##</span><br><span class=\"line\">  <span class=\"built_in\">echo</span>.</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> ## 文件保存相关 ##</span><br><span class=\"line\">  <span class=\"built_in\">echo</span>.</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> # 文件的保存路径 （可使用绝对路径或相对路径）, 默认: 当前启动位置</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> <span class=\"built_in\">dir</span>=<span class=\"variable\">%DOWNLOAD_DIR%</span></span><br><span class=\"line\">  <span class=\"built_in\">echo</span> # 启用磁盘缓存, <span class=\"number\">0</span> 为禁用缓存, 需 <span class=\"number\">1</span>.<span class=\"number\">16</span> 以上版本, 默认:<span class=\"number\">16</span>M</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> #disk-cache=</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> # 文件预分配方式, 能有效降低磁盘碎片, 默认:prealloc</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> # 预分配所需时间: none 《 falloc ? trunc 《 prealloc</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> # falloc 和 trunc 则需要文件系统和内核支持</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> # NTFS 建议使用 falloc, EXT3/<span class=\"number\">4</span> 建议 trunc, MAC 下需要注释此项</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> file-allocation=none</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> # 断点续传</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> continue=true</span><br><span class=\"line\">  <span class=\"built_in\">echo</span>.</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> ## 下载连接相关 ##</span><br><span class=\"line\">  <span class=\"built_in\">echo</span>.</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> # 最大同时下载任务数, 运行时可修改, 默认:<span class=\"number\">5</span></span><br><span class=\"line\">  <span class=\"built_in\">echo</span> max-concurrent-downloads=<span class=\"number\">5</span></span><br><span class=\"line\">  <span class=\"built_in\">echo</span> # 同一服务器连接数, 添加时可指定, 默认:<span class=\"number\">1</span></span><br><span class=\"line\">  <span class=\"built_in\">echo</span> max-connection-per-server=<span class=\"number\">16</span></span><br><span class=\"line\">  <span class=\"built_in\">echo</span> # 最小文件分片大小, 添加时可指定, 取值范围 <span class=\"number\">1</span>M -<span class=\"number\">1024</span>M, 默认:<span class=\"number\">20</span>M</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> # 假定 size=<span class=\"number\">10</span>M, 文件为 <span class=\"number\">20</span>MiB 则使用两个来源下载; 文件为 <span class=\"number\">15</span>MiB 则使用一个来源下载</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> # min-split-size=<span class=\"number\">1</span>M</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> # 单个任务最大线程数, 添加时可指定, 默认:<span class=\"number\">5</span></span><br><span class=\"line\">  <span class=\"built_in\">echo</span> # split=<span class=\"number\">32</span></span><br><span class=\"line\">  <span class=\"built_in\">echo</span> # 整体下载速度限制, 运行时可修改, 默认:<span class=\"number\">0</span></span><br><span class=\"line\">  <span class=\"built_in\">echo</span> #max-overall-download-limit=<span class=\"number\">0</span></span><br><span class=\"line\">  <span class=\"built_in\">echo</span> # 单个任务下载速度限制, 默认:<span class=\"number\">0</span></span><br><span class=\"line\">  <span class=\"built_in\">echo</span> #max-download-limit=<span class=\"number\">0</span></span><br><span class=\"line\">  <span class=\"built_in\">echo</span> # 整体上传速度限制, 运行时可修改, 默认:<span class=\"number\">0</span></span><br><span class=\"line\">  <span class=\"built_in\">echo</span> #max-overall-upload-limit=<span class=\"number\">0</span></span><br><span class=\"line\">  <span class=\"built_in\">echo</span> # 单个任务上传速度限制, 默认:<span class=\"number\">0</span></span><br><span class=\"line\">  <span class=\"built_in\">echo</span> #max-upload-limit=<span class=\"number\">0</span></span><br><span class=\"line\">  <span class=\"built_in\">echo</span> # 禁用 IPv6, 默认:false</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> # disable-ipv6=true</span><br><span class=\"line\">  <span class=\"built_in\">echo</span>.</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> ## 进度保存相关 ##</span><br><span class=\"line\">  <span class=\"built_in\">echo</span>.</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> # 从会话文件中读取下载任务</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> input-file=<span class=\"variable\">%BACKUP_DIR%</span>\\others\\aria2\\aria2.session</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> # 在 Aria2 退出时保存 ` 错误 / 未完成 ` 的下载任务到会话文件</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> save-session=<span class=\"variable\">%BACKUP_DIR%</span>\\others\\aria2\\aria2.session</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> # 定时保存会话, <span class=\"number\">0</span> 为退出时才保存, 需 <span class=\"number\">1</span>.<span class=\"number\">16</span>.<span class=\"number\">1</span> 以上版本, 默认:<span class=\"number\">0</span></span><br><span class=\"line\">  <span class=\"built_in\">echo</span> save-session-interval=<span class=\"number\">60</span></span><br><span class=\"line\">  <span class=\"built_in\">echo</span>.</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> ## RPC 相关设置 ##</span><br><span class=\"line\">  <span class=\"built_in\">echo</span>.</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> # 启用 RPC, 默认:false</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> enable-rpc=true</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> # 允许所有来源, 默认:false</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> rpc-allow-origin-all=true</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> # 允许非外部访问, 默认:false</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> rpc-listen-all=true</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> # 事件轮询方式, 取值:[epoll, kqueue, port, poll, select], 不同系统默认值不同</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> #event-poll=select</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> # RPC 监听端口, 端口被占用时可以修改, 默认:<span class=\"number\">6800</span></span><br><span class=\"line\">  <span class=\"built_in\">echo</span> #rpc-listen-port=<span class=\"number\">6800</span></span><br><span class=\"line\">  <span class=\"built_in\">echo</span> # 设置的 RPC 授权令牌, v1.<span class=\"number\">18</span>.<span class=\"number\">4</span> 新增功能, 取代 --rpc-user 和 --rpc-passwd 选项</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> #rpc-secret=<span class=\"number\">12345678</span></span><br><span class=\"line\">  <span class=\"built_in\">echo</span> # 设置的 RPC 访问用户名, 此选项新版已废弃, 建议改用 --rpc-secret 选项</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> #rpc-user=《USER》</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> #rpc-passwd=《PASSWD》</span><br><span class=\"line\">  <span class=\"built_in\">echo</span>.</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> ## BT/PT 下载相关 ##</span><br><span class=\"line\">  <span class=\"built_in\">echo</span>.</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> # 当下载的是一个种子（以.torrent 结尾） 时, 自动开始 BT 任务, 默认:true</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> #follow-torrent=true</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> # BT 监听端口, 当端口被屏蔽时使用, 默认:<span class=\"number\">6881</span>-<span class=\"number\">6999</span></span><br><span class=\"line\">  <span class=\"built_in\">echo</span> listen-port=<span class=\"number\">51413</span></span><br><span class=\"line\">  <span class=\"built_in\">echo</span> # 单个种子最大连接数, 默认:<span class=\"number\">55</span></span><br><span class=\"line\">  <span class=\"built_in\">echo</span> #bt-max-peers=<span class=\"number\">55</span></span><br><span class=\"line\">  <span class=\"built_in\">echo</span> # 打开 DHT 功能, PT 需要禁用, 默认:true</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> enable-dht=false</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> # 打开 IPv6 DHT 功能, PT 需要禁用</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> #enable-dht6=false</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> # DHT 网络监听端口, 默认:<span class=\"number\">6881</span>-<span class=\"number\">6999</span></span><br><span class=\"line\">  <span class=\"built_in\">echo</span> #dht-listen-port=<span class=\"number\">6881</span>-<span class=\"number\">6999</span></span><br><span class=\"line\">  <span class=\"built_in\">echo</span> # 本地节点查找, PT 需要禁用, 默认:false</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> #bt-enable-lpd=false</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> # 种子交换, PT 需要禁用, 默认:true</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> enable-peer-exchange=false</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> # 每个种子限速, 对少种的 PT 很有用, 默认:<span class=\"number\">50</span>K</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> #bt-request-peer-speed-limit=<span class=\"number\">50</span>K</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> # 客户端伪装, PT 需要</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> peer-id-prefix=-TR2770-</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> user-agent=Transmission/<span class=\"number\">2</span>.<span class=\"number\">77</span></span><br><span class=\"line\">  <span class=\"built_in\">echo</span> # 当种子的分享率达到这个数时, 自动停止做种, <span class=\"number\">0</span> 为一直做种, 默认:<span class=\"number\">1</span>.<span class=\"number\">0</span></span><br><span class=\"line\">  <span class=\"built_in\">echo</span> seed-ratio=<span class=\"number\">0</span></span><br><span class=\"line\">  <span class=\"built_in\">echo</span> # 强制保存会话, 即使任务已经完成, 默认:false</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> # 较新的版本开启后会在任务完成后依然保留.aria2 文件</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> #force-save=false</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> # BT 校验相关, 默认:true</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> #bt-hash-check-seed=true</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> # 继续之前的 BT 任务时, 无需再次校验, 默认:false</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> bt-seed-unverified=true</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> # 保存磁力链接元数据为种子文件（.torrent 文件）, 默认:false</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> bt-save-metadata=true</span><br><span class=\"line\">)&gt; <span class=\"variable\">%BACKUP_DIR%</span>\\others\\aria2\\aria2.conf</span><br><span class=\"line\">  <span class=\"keyword\">call</span> curl -s https://trackerslist.com/best_aria2.txt&gt;<span class=\"variable\">%BACKUP_DIR%</span>\\others\\aria2\\trackerslist.txt</span><br><span class=\"line\">  <span class=\"built_in\">set</span> /p trackerslist=&lt;<span class=\"variable\">%BACKUP_DIR%</span>\\others\\aria2\\trackerslist.txt</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> bt-tracker=<span class=\"variable\">%trackerslist%</span>&gt;&gt;<span class=\"variable\">%BACKUP_DIR%</span>\\others\\aria2\\aria2.conf</span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">@REM aria2.vbs</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> CreateObject(&quot;WScript.Shell&quot;).Run &quot;aria2c --conf-<span class=\"built_in\">path</span>=<span class=\"variable\">%BACKUP_DIR%</span>\\others\\aria2\\aria2.conf&quot;,<span class=\"number\">0</span> &gt; <span class=\"variable\">%BACKUP_DIR%</span>\\others\\aria2\\aria2.vbs</span><br><span class=\"line\">cscript //Nologo <span class=\"variable\">%BACKUP_DIR%</span>\\others\\aria2\\aria2.vbs</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<blockquote>\n<p><a href=\"https://github.com/Weidows-projects/Keeper/blob/main/utils.bat\">我的日常启动脚本</a></p>\n</blockquote>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"分割线\"></a></p>\n<h3 id=\"配置浏览器\">配置浏览器</h3>\n<ul>\n<li>\n<p>上面提到了,需要安装<code>Aria2 for Chrome</code>或者<code>Aria Manager</code>之类的插件</p>\n</li>\n<li>\n<p>安装完之后出现插件设置界面</p>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVPHQP.png\" alt=\"20210129162937\" />\n</li>\n<li>\n<p>或者在<code>AriaNg</code>管理页面,这两个页面一样</p>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVtkzR.png\" alt=\"20210129164251\" />\n</li>\n<li>\n<p>必须填写的是画圈的部分,也就是上面<code>conf</code>文件第 62 行填的,我写的是<code>12345678</code></p>\n</li>\n<li>\n<p>其他的配置随意,这样,浏览器就配置好了.</p>\n</li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"问题-配置中已集成解决\">问题-配置中已集成解决</h2>\n<h3 id=\"启动-Aria2-RPC\">启动 Aria2-RPC</h3>\n<ul>\n<li>\n<p>实现原理是让<code>Aria2.exe</code>程序读取<code>conf</code>文件跑起来<code>RPC服务</code>,然后浏览器插件连接这个 RPC 实现界面化管理.</p>\n</li>\n<li>\n<p>运行程序</p>\n<ul>\n<li>没配置环境变量的话需要指定<code>aria2.exe</code>路径,用 Scoop 安装的不用配置.</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">aria2c --conf-path=&quot;D:\\Game\\Scoop\\persist\\aria2\\conf&quot;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>在命令行中服务跑起来了,显示如下</p>\n<figure class=\"highlight jboss-cli\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">❯ aria2c <span class=\"params\">--conf-path=</span><span class=\"string\">&quot;D:\\Game\\Scoop\\persist\\aria2\\conf&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\">01/29 16<span class=\"function\">:38</span><span class=\"function\">:59</span> [WARN] Neither <span class=\"params\">--rpc-secret</span> nor a combination of <span class=\"params\">--rpc-user</span> and <span class=\"params\">--rpc-passwd</span> is <span class=\"keyword\">set</span>. This is insecure. It is extremely recommended to specify <span class=\"params\">--rpc-secret</span> with the adequate secrecy or now deprecated <span class=\"params\">--rpc-user</span> and <span class=\"params\">--rpc-passwd</span>.</span><br><span class=\"line\"></span><br><span class=\"line\">01/29 16<span class=\"function\">:38</span><span class=\"function\">:59</span> [NOTICE] IPv4 RPC: listening on TCP port 6800</span><br></pre></td></tr></table></figure>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVLP3D.png\" alt=\"20210129164430\" />\n</li>\n<li>\n<p>但是有个问题,一旦这个终端关闭,aria.exe 也会跟着被关闭,这个服务就会断了(连接失败)</p>\n<ul>\n<li>\n<p>通俗来说任务管理器中必须有个<code>aria.exe</code>在运行着.</p>\n</li>\n<li>\n<p>解决办法如下.</p>\n</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h3 id=\"开机自启-后台运行\">开机自启/后台运行</h3>\n<ul>\n<li>\n<p>Aria2 本身特别小,后台一直开着没影响,我们让他开机自启,在后台一直挂着.</p>\n</li>\n<li>\n<p>新建一个<code>start.vbs</code>,内容如下</p>\n<figure class=\"highlight vbs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">CreateObject</span>(<span class=\"string\">&quot;WScript.Shell&quot;</span>).Run <span class=\"string\">&quot;aria2c --conf-path=D:\\Game\\Scoop\\persist\\aria2\\conf&quot;</span>,<span class=\"number\">0</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>把这个 vbs 文件想个法挂到开机启动程序中,相信你能办到!</p>\n</li>\n<li>\n<p><code>搞腚!</code></p>\n</li>\n</ul>\n<hr>\n<h3 id=\"自动更新-tracker\">自动更新 tracker</h3>\n<ul>\n<li>\n<p>时不时需要网上找 tracker 然后复制进 config 里</p>\n<p>实在不够优雅,直接上 bat 脚本</p>\n<figure class=\"highlight bat\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">call</span> curl -s https://trackerslist.com/best_aria2.txt&gt;<span class=\"variable\">%BACKUP_DIR%</span>\\others\\aria2\\trackerslist.txt</span><br><span class=\"line\"><span class=\"built_in\">set</span> /p trackerslist=&lt;<span class=\"variable\">%BACKUP_DIR%</span>\\others\\aria2\\trackerslist.txt</span><br><span class=\"line\"><span class=\"built_in\">echo</span> bt-tracker=<span class=\"variable\">%trackerslist%</span>&gt;&gt;<span class=\"variable\">%BACKUP_DIR%</span>\\others\\aria2\\aria2.conf</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"借物表-13\">借物表</h2>\n<ul>\n<li>\n<p>本篇文章介绍不是很平滑,建议结合参照文章一同食用.</p>\n<blockquote>\n<p><a href=\"https://p3terx.com/archives/aria2-started-guide.html\">Aria2 新手入门教程</a> <br>\n<a href=\"https://www.jianshu.com/p/7c030484ac90\">下载工具系列——Aria2 (几乎全能的下载神器)</a> <br>\n<a href=\"https://blog.csdn.net/jeefchen/article/details/5644450?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control\">几种隐藏批处理运行窗口的方法</a></p>\n</blockquote>\n</li>\n</ul>\n<blockquote>\n<p><a href=\"https://github.com/XIU2/TrackersListCollection/\">https://github.com/XIU2/TrackersListCollection/</a></p>\n</blockquote>\n<script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kity@2.0.4/dist/kity.min.js\"></script><script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js\"></script><script defer=\"true\" type=\"text&#x2F;javascript\" src=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js\"></script><link rel=\"stylesheet\" type=\"text&#x2F;css\" href=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css\">",
            "tags": [
                "工具",
                "aria2"
            ]
        }
    ]
}