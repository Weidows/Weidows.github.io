{
    "version": "https://jsonfeed.org/version/1",
    "title": "â­ï¸é½ä¸‹æ— è´°â­ï¸ â€¢ All posts by \"å¤šçº¿ç¨‹\" tag",
    "description": "May all the beauty be bless.âœ¨",
    "home_page_url": "https://blog.weidows.tech",
    "items": [
        {
            "id": "https://blog.weidows.tech/post/lang/python/%E6%9D%82/",
            "url": "https://blog.weidows.tech/post/lang/python/%E6%9D%82/",
            "title": "ğŸ˜‘python-mess-code",
            "date_published": "2022-04-22T08:22:34.000Z",
            "content_html": "<!--\n * @?: *********************************************************************\n * @Author: Weidows\n * @LastEditors: Weidows\n * @LastEditTime: 2023-04-20 18:38:53\n * @FilePath: \\Blog-private\\source\\_posts\\python\\æ‚.md\n * @Description:\n * @!: *********************************************************************\n-->\n<h2 id=\"basic\">basic</h2>\n<h3 id=\"static-method\">static-method</h3>\n<p>python ä¸­å¹¶æ²¡æœ‰åƒæ˜¯ Java é‡Œçš„ static å…³é”®å­—,å–ä»£çš„æ˜¯ <code>@classmethod</code> å’Œ <code>@staticmethod</code></p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">A</span>:</span><br><span class=\"line\"></span><br><span class=\"line\">    name = <span class=\"string\">&#x27;A&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># è‡³å°‘æœ‰ä¸€ä¸ªéšå¼å½¢å‚ (æœ¬ç±» cls å¯¹è±¡), å¯ä»¥è®¿é—®ç±»å±æ€§</span></span><br><span class=\"line\"><span class=\"meta\">    @classmethod</span></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">a</span>(<span class=\"params\">cls</span>):</span><br><span class=\"line\">        <span class=\"built_in\">print</span>(cls.name)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># æ— å½¢å‚, ä¹Ÿå°±æ˜¯è¯´æ‹¿ä¸åˆ°ç±»å±æ€§</span></span><br><span class=\"line\"><span class=\"meta\">    @staticmethod</span></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">b</span>():</span><br><span class=\"line\">        <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;b&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">A.a()</span><br><span class=\"line\">A.b()</span><br></pre></td></tr></table></figure>\n<pre><code>A\nb\n</code></pre>\n<h3 id=\"multi-condition\">multi-condition</h3>\n<p>if(a||b)å½“ a ä¸ºçœŸæ—¶ï¼Œè¿˜ä¼šå¯¹ b æ±‚å€¼å—?</p>\n<blockquote>\n<p>ä¸ä¼š</p>\n</blockquote>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> time</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">calculate</span>(<span class=\"params\">name, t</span>):</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(<span class=\"string\">&quot;calculating: &quot;</span>, name, <span class=\"string\">&quot;seconds needs: &quot;</span>, t)</span><br><span class=\"line\">    time.sleep(t)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> (calculate(<span class=\"string\">&#x27;A&#x27;</span>, <span class=\"number\">2</span>) <span class=\"keyword\">or</span> calculate(<span class=\"string\">&#x27;B&#x27;</span>, <span class=\"number\">2</span>)):</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(<span class=\"string\">&quot;Done&quot;</span>)</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<pre><code>calculating:  A seconds needs:  2\nDone\n</code></pre>\n<h3 id=\"ä¸‹åˆ’çº¿\">ä¸‹åˆ’çº¿</h3>\n<p>æ•™ç¨‹æ¥è‡ª: <sup id='cite_ref-4'><a href=\"#cite_note-4\">[4]</a></sup></p>\n<h4 id=\"\">_</h4>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># å•ä¸ª _ æŒ‡å‘æœ€åä¸€æ¬¡æ‰§è¡Œè¡¨è¾¾å¼ (ç»“æœ)</span></span><br><span class=\"line\"><span class=\"comment\"># åœ¨ python å‘½ä»¤è¡Œä¸­å¯ä»¥è·‘, åœ¨è¿™é‡Œä¸è¡Œ</span></span><br><span class=\"line\"><span class=\"comment\"># 1 + 2</span></span><br><span class=\"line\"><span class=\"comment\"># _</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># æ ¼å¼åŒ–æ•°å­—</span></span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"number\">114_514_1919_810</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># ç±»ä¼¼ golang çš„éå†</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"number\">10</span>):</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(_)</span><br></pre></td></tr></table></figure>\n<pre><code>1145141919810\n0\n1\n2\n3\n4\n5\n6\n7\n8\n9\n</code></pre>\n<h4 id=\"xxx\">__xxx__</h4>\n<p>é­”æœ¯æ–¹æ³• / é­”æ³•å‡½æ•°, ä¸€èˆ¬ä½œä¸ºå†…ç½®æ–¹æ³•</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> random</span><br><span class=\"line\"></span><br><span class=\"line\">random.__name__</span><br></pre></td></tr></table></figure>\n<pre><code>'random'\n</code></pre>\n<h4 id=\"xxx-2\">_xxx</h4>\n<p>ç§æœ‰åŒ–, ä»…æä¾›æ¨¡å—å†…éƒ¨è°ƒç”¨, ç±»ä¼¼Javaé‡Œçš„ protect</p>\n<h4 id=\"xxx-3\">__xxx</h4>\n<p>ä¹Ÿæ˜¯ç§æœ‰åŒ–, ç±»ä¼¼ Java å†…çš„ private, æ— æ³•ç›´æ¥è®¿é—®æ­¤å˜é‡/æ–¹æ³•, ä½†å¯ä»¥é—´æ¥è®¿é—®</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Person</span>:</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">__init__</span>(<span class=\"params\">self, name, age</span>):</span><br><span class=\"line\">        <span class=\"variable language_\">self</span>.name = name</span><br><span class=\"line\">        <span class=\"variable language_\">self</span>.__age = age</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">get_age</span>(<span class=\"params\">self</span>):</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"variable language_\">self</span>.__age</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">me = Person(<span class=\"string\">&#x27;å¼ ä¸‰&#x27;</span>, <span class=\"number\">18</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">print</span>(me.name)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># print(me.age)</span></span><br><span class=\"line\"><span class=\"comment\"># print(me.__age)</span></span><br><span class=\"line\"><span class=\"comment\"># ä¸Šé¢ä¸¤ç§éƒ½ä¼šæŠ¥é”™, __age -&gt; _Person__age</span></span><br><span class=\"line\"><span class=\"built_in\">print</span>(me._Person__age)</span><br><span class=\"line\"><span class=\"built_in\">print</span>(me.get_age())</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"built_in\">dir</span>(me))</span><br></pre></td></tr></table></figure>\n<pre><code>å¼ ä¸‰\n18\n18\n['_Person__age', '__class__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', '__weakref__', 'get_age', 'name']\n</code></pre>\n<h4 id=\"xxx-xxx\">_xxx__xxx</h4>\n<p>ä»ä¸Šé¢ä¾‹å­å¯ä»¥çœ‹åˆ°, èƒ½é€šè¿‡è¿™ä¸ªè®¿é—®ç±»ç§æœ‰åŒ–å±æ€§</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\">you = Person(<span class=\"string\">&#x27;æå››&#x27;</span>, <span class=\"number\">20</span>)</span><br><span class=\"line\">you._Person__age += <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"built_in\">print</span>(you.get_age())</span><br></pre></td></tr></table></figure>\n<pre><code>21\n</code></pre>\n<h4 id=\"xxx-4\">xxx_</h4>\n<p>ç±»ä¼¼è½¬ä¹‰, è®©æŸäº›å…³é”®è¯æ— æ•ˆåŒ–</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\">max_ = <span class=\"built_in\">max</span>(<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>)</span><br><span class=\"line\"><span class=\"built_in\">print</span>(max_)</span><br></pre></td></tr></table></figure>\n<pre><code>3\n</code></pre>\n<h3 id=\"é—­åŒ…\">é—­åŒ…</h3>\n<p>å¬èµ·æ¥æŒºæŠ½è±¡çš„, ä¸‹é¢è¿™ä¸ªä¾‹å­å®ç°çš„é™æ€ä»£ç†çš„åŠŸèƒ½, åªä¸è¿‡è¿™ç§é€šè¿‡å‡½æ•°åŒ…è£¹å‡½æ•°å¹¶ä¸”å›ä¼ å‡½æ•°çš„å½¢å¼ç§°ä¸ºé—­åŒ…</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">func_1</span>(<span class=\"params\">func</span>):</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">wrapper</span>():</span><br><span class=\"line\">        <span class=\"built_in\">print</span>(<span class=\"string\">f&#x27;<span class=\"subst\">&#123;func&#125;</span> running&#x27;</span>)</span><br><span class=\"line\">        func()</span><br><span class=\"line\">        <span class=\"built_in\">print</span>(<span class=\"string\">f&#x27;<span class=\"subst\">&#123;func&#125;</span> finished&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> wrapper</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">my_func = func_1(<span class=\"keyword\">lambda</span>: <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;hello&#x27;</span>))</span><br><span class=\"line\">my_func()</span><br></pre></td></tr></table></figure>\n<pre><code>&lt;function &lt;lambda&gt; at 0x000002C6132A50D0&gt; running\nhello\n&lt;function &lt;lambda&gt; at 0x000002C6132A50D0&gt; finished\n</code></pre>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">login_user</span>(<span class=\"params\">username, password</span>):</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;login success&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">check</span>(<span class=\"params\">func</span>):</span><br><span class=\"line\">    <span class=\"comment\"># è¿™é‡Œçš„ argv å¯ä»¥ç›´æ¥è·å– func çš„</span></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">wrapper</span>(<span class=\"params\">username, password</span>):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> username == <span class=\"string\">&#x27;user&#x27;</span> <span class=\"keyword\">and</span> password == <span class=\"string\">&#x27;password&#x27;</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> func(username, password)</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;login failed&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> wrapper</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">login_user = check(login_user)</span><br><span class=\"line\">login_user(<span class=\"string\">&#x27;user&#x27;</span>, <span class=\"string\">&#x27;password&#x27;</span>)</span><br></pre></td></tr></table></figure>\n<pre><code>login success\n</code></pre>\n<h3 id=\"è£…é¥°å™¨\">è£…é¥°å™¨</h3>\n<p>decorator-@, ä»Javaé‡Œå«æ³¨è§£, ä¸Šé¢çš„ä¾‹å­å¯å†™æˆä¸‹é¢è¿™æ ·</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@check</span></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">login_user</span>(<span class=\"params\">username, password</span>):</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;login success&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">check</span>(<span class=\"params\">func</span>):</span><br><span class=\"line\">    <span class=\"comment\"># è¿™é‡Œçš„ argv å¯ä»¥ç›´æ¥è·å– func çš„</span></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">wrapper</span>(<span class=\"params\">username, password</span>):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> username == <span class=\"string\">&#x27;user&#x27;</span> <span class=\"keyword\">and</span> password == <span class=\"string\">&#x27;password&#x27;</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> func(username, password)</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;login failed&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> wrapper</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">login_user(<span class=\"string\">&#x27;user&#x27;</span>, <span class=\"string\">&#x27;password&#x27;</span>)</span><br></pre></td></tr></table></figure>\n<pre><code>login success\n</code></pre>\n<h2 id=\"modules\">modules</h2>\n<h3 id=\"base64\">base64</h3>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> base64</span><br><span class=\"line\"></span><br><span class=\"line\">username = <span class=\"string\">&#x27;Weidows&#x27;</span></span><br><span class=\"line\">password = <span class=\"string\">&#x27;123456&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">encode = base64.b64encode((username + <span class=\"string\">&quot;:&quot;</span> + password).encode())</span><br><span class=\"line\"><span class=\"comment\"># Basic V2VpZG93czoxMjM0NTY==</span></span><br><span class=\"line\">headers = &#123;<span class=\"string\">&quot;Authorization&quot;</span>: <span class=\"string\">&quot;Basic &quot;</span> + encode.decode()&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">print</span>(headers)</span><br></pre></td></tr></table></figure>\n<pre><code>&#123;'Authorization': 'Basic V2VpZG93czoxMjM0NTY='&#125;\n</code></pre>\n<h3 id=\"å¤šçº¿ç¨‹-è¿›ç¨‹\">å¤šçº¿ç¨‹-è¿›ç¨‹</h3>\n<blockquote>\n<p>Python å¤šçº¿ç¨‹ä¸èƒ½åˆ©ç”¨ CPU å¤šæ ¸ä¼˜åŠ¿ï¼ŒIO å¯†é›†å‹å¯ç”¨å¤šçº¿ç¨‹ï¼ŒCPU å¯†é›†å‹é€‚åˆç”¨å¤šè¿›ç¨‹ <sup id='cite_ref-2'><a href=\"#cite_note-2\">[2]</a></sup></p>\n</blockquote>\n<p>ä¹Ÿå°±æ˜¯è¯´åªæœ‰ IO å¯†é›†å‹ä»»åŠ¡é€‚ç”¨å¤šçº¿ç¨‹,å…¶ä»–æƒ…å†µ: <code>å¤šè¿›ç¨‹ &gt; ä¸ç”¨ &gt; å¤šçº¿ç¨‹</code>, API åŒºåˆ«å¦‚ä¸‹:<sup id='cite_ref-3'><a href=\"#cite_note-3\">[3]</a></sup></p>\n<p><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/R9zQZh.png\" alt=\"R9zQZh.png\"></p>\n<p>è™½ç„¶ä½†æ˜¯,å¾ˆå¤šæƒ…å†µä¸‹æ¶‰åŠåˆ°èµ„æºå…±äº«, å¤šè¿›ç¨‹å¤„ç†èµ·æ¥æ¯”è¾ƒéº»çƒ¦,è¿˜æ˜¯å¤šçº¿ç¨‹èˆ’æœ.</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> concurrent.futures <span class=\"keyword\">import</span> ThreadPoolExecutor</span><br><span class=\"line\"><span class=\"keyword\">import</span> threading</span><br><span class=\"line\"><span class=\"keyword\">import</span> multiprocessing</span><br><span class=\"line\"><span class=\"keyword\">import</span> time</span><br><span class=\"line\"></span><br><span class=\"line\">multi_num = multiprocessing.cpu_count() * <span class=\"number\">2</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">counter</span>(<span class=\"params\">num</span>):</span><br><span class=\"line\">    time.sleep(num)</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(threading.currentThread().name, num, end=<span class=\"string\">&#x27;\\t&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">&#x27;__main__&#x27;</span>:</span><br><span class=\"line\">    <span class=\"keyword\">with</span> ThreadPoolExecutor(max_workers=multi_num) <span class=\"keyword\">as</span> thread_pool:</span><br><span class=\"line\">        start = time.time()</span><br><span class=\"line\">        thread_pool.<span class=\"built_in\">map</span>(counter, <span class=\"built_in\">range</span>(<span class=\"number\">10</span>))</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\"># ç­‰å¾…ä»»åŠ¡æ‰§è¡Œå®Œå†è·³å› main</span></span><br><span class=\"line\">        thread_pool.shutdown(wait=<span class=\"literal\">True</span>)</span><br><span class=\"line\">        <span class=\"built_in\">print</span>(<span class=\"string\">&quot;å¤šçº¿ç¨‹: &quot;</span>, time.time() - start)</span><br></pre></td></tr></table></figure>\n<pre><code>ThreadPoolExecutor-0_0 0\tThreadPoolExecutor-0_1 1\tThreadPoolExecutor-0_0 2\tThreadPoolExecutor-0_2 3\tThreadPoolExecutor-0_3 4\tThreadPoolExecutor-0_4 5\tThreadPoolExecutor-0_5 6\tThreadPoolExecutor-0_6 7\tThreadPoolExecutor-0_7 8\tThreadPoolExecutor-0_8 9\tå¤šçº¿ç¨‹:  9.009207010269165\n</code></pre>\n<h2 id=\"opengl\">opengl</h2>\n<h3 id=\"å½©è‰²ä¸‰è§’å½¢\">å½©è‰²ä¸‰è§’å½¢</h3>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># -------------------------------------------</span></span><br><span class=\"line\"><span class=\"comment\"># quidam_01.py ä¸‰ç»´ç©ºé—´çš„ä¸–ç•Œåæ ‡ç³»å’Œä¸‰è§’å½¢</span></span><br><span class=\"line\"><span class=\"comment\"># -------------------------------------------</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">from</span> OpenGL.GL <span class=\"keyword\">import</span> *</span><br><span class=\"line\"><span class=\"keyword\">from</span> OpenGL.GLUT <span class=\"keyword\">import</span> *</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">draw</span>():</span><br><span class=\"line\">    <span class=\"comment\"># ---------------------------------------------------------------</span></span><br><span class=\"line\">    glBegin(GL_LINES)  <span class=\"comment\"># å¼€å§‹ç»˜åˆ¶çº¿æ®µï¼ˆä¸–ç•Œåæ ‡ç³»ï¼‰</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># ä»¥çº¢è‰²ç»˜åˆ¶xè½´</span></span><br><span class=\"line\">    glColor4f(<span class=\"number\">1.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span>)  <span class=\"comment\"># è®¾ç½®å½“å‰é¢œè‰²ä¸ºçº¢è‰²ä¸é€æ˜</span></span><br><span class=\"line\">    glVertex3f(-<span class=\"number\">0.8</span>, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>)  <span class=\"comment\"># è®¾ç½®xè½´é¡¶ç‚¹ï¼ˆxè½´è´Ÿæ–¹å‘ï¼‰</span></span><br><span class=\"line\">    glVertex3f(<span class=\"number\">0.8</span>, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>)  <span class=\"comment\"># è®¾ç½®xè½´é¡¶ç‚¹ï¼ˆxè½´æ­£æ–¹å‘ï¼‰</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># ä»¥ç»¿è‰²ç»˜åˆ¶yè½´</span></span><br><span class=\"line\">    glColor4f(<span class=\"number\">0.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span>)  <span class=\"comment\"># è®¾ç½®å½“å‰é¢œè‰²ä¸ºç»¿è‰²ä¸é€æ˜</span></span><br><span class=\"line\">    glVertex3f(<span class=\"number\">0.0</span>, -<span class=\"number\">0.8</span>, <span class=\"number\">0.0</span>)  <span class=\"comment\"># è®¾ç½®yè½´é¡¶ç‚¹ï¼ˆyè½´è´Ÿæ–¹å‘ï¼‰</span></span><br><span class=\"line\">    glVertex3f(<span class=\"number\">0.0</span>, <span class=\"number\">0.8</span>, <span class=\"number\">0.0</span>)  <span class=\"comment\"># è®¾ç½®yè½´é¡¶ç‚¹ï¼ˆyè½´æ­£æ–¹å‘ï¼‰</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># ä»¥è“è‰²ç»˜åˆ¶zè½´</span></span><br><span class=\"line\">    glColor4f(<span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>)  <span class=\"comment\"># è®¾ç½®å½“å‰é¢œè‰²ä¸ºè“è‰²ä¸é€æ˜</span></span><br><span class=\"line\">    glVertex3f(<span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, -<span class=\"number\">0.8</span>)  <span class=\"comment\"># è®¾ç½®zè½´é¡¶ç‚¹ï¼ˆzè½´è´Ÿæ–¹å‘ï¼‰</span></span><br><span class=\"line\">    glVertex3f(<span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">0.8</span>)  <span class=\"comment\"># è®¾ç½®zè½´é¡¶ç‚¹ï¼ˆzè½´æ­£æ–¹å‘ï¼‰</span></span><br><span class=\"line\"></span><br><span class=\"line\">    glEnd()  <span class=\"comment\"># ç»“æŸç»˜åˆ¶çº¿æ®µ</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># ---------------------------------------------------------------</span></span><br><span class=\"line\">    glBegin(GL_TRIANGLES)  <span class=\"comment\"># å¼€å§‹ç»˜åˆ¶ä¸‰è§’å½¢ï¼ˆzè½´è´ŸåŠåŒºï¼‰</span></span><br><span class=\"line\"></span><br><span class=\"line\">    glColor4f(<span class=\"number\">1.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span>)  <span class=\"comment\"># è®¾ç½®å½“å‰é¢œè‰²ä¸ºçº¢è‰²ä¸é€æ˜</span></span><br><span class=\"line\">    glVertex3f(-<span class=\"number\">0.5</span>, -<span class=\"number\">0.366</span>, -<span class=\"number\">0.5</span>)  <span class=\"comment\"># è®¾ç½®ä¸‰è§’å½¢é¡¶ç‚¹</span></span><br><span class=\"line\">    glColor4f(<span class=\"number\">0.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span>)  <span class=\"comment\"># è®¾ç½®å½“å‰é¢œè‰²ä¸ºç»¿è‰²ä¸é€æ˜</span></span><br><span class=\"line\">    glVertex3f(<span class=\"number\">0.5</span>, -<span class=\"number\">0.366</span>, -<span class=\"number\">0.5</span>)  <span class=\"comment\"># è®¾ç½®ä¸‰è§’å½¢é¡¶ç‚¹</span></span><br><span class=\"line\">    glColor4f(<span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>)  <span class=\"comment\"># è®¾ç½®å½“å‰é¢œè‰²ä¸ºè“è‰²ä¸é€æ˜</span></span><br><span class=\"line\">    glVertex3f(<span class=\"number\">0.0</span>, <span class=\"number\">0.5</span>, -<span class=\"number\">0.5</span>)  <span class=\"comment\"># è®¾ç½®ä¸‰è§’å½¢é¡¶ç‚¹</span></span><br><span class=\"line\"></span><br><span class=\"line\">    glEnd()  <span class=\"comment\"># ç»“æŸç»˜åˆ¶ä¸‰è§’å½¢</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># ---------------------------------------------------------------</span></span><br><span class=\"line\">    glFlush()  <span class=\"comment\"># æ¸…ç©ºç¼“å†²åŒºï¼Œå°†æŒ‡ä»¤é€å¾€ç¡¬ä»¶ç«‹å³æ‰§è¡Œ</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">&quot;__main__&quot;</span>:</span><br><span class=\"line\">    glutInit()  <span class=\"comment\"># 1. åˆå§‹åŒ–glutåº“</span></span><br><span class=\"line\">    glutCreateWindow(<span class=\"string\">&#x27;Quidam Of OpenGL&#x27;</span>)  <span class=\"comment\"># 2. åˆ›å»ºglutçª—å£</span></span><br><span class=\"line\">    glutDisplayFunc(draw)  <span class=\"comment\"># 3. æ³¨å†Œå›è°ƒå‡½æ•°draw()</span></span><br><span class=\"line\">    glutMainLoop()  <span class=\"comment\"># 4. è¿›å…¥glutä¸»å¾ªç¯</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"ç‚¹çº¿æŠ›ç‰©çº¿\">ç‚¹çº¿æŠ›ç‰©çº¿</h3>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> OpenGL.GL <span class=\"keyword\">import</span> *</span><br><span class=\"line\"><span class=\"keyword\">from</span> OpenGL.GLU <span class=\"keyword\">import</span> *</span><br><span class=\"line\"><span class=\"keyword\">from</span> OpenGL.GLUT <span class=\"keyword\">import</span> *</span><br><span class=\"line\"><span class=\"keyword\">from</span> numpy <span class=\"keyword\">import</span> *</span><br><span class=\"line\"><span class=\"keyword\">import</span> sys</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">init</span>():</span><br><span class=\"line\">    glClearColor(<span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>, <span class=\"number\">1.0</span>)</span><br><span class=\"line\">    gluOrtho2D(-<span class=\"number\">5.0</span>, <span class=\"number\">5.0</span>, -<span class=\"number\">5.0</span>, <span class=\"number\">5.0</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">plotfunc</span>():</span><br><span class=\"line\">    glClear(GL_COLOR_BUFFER_BIT)</span><br><span class=\"line\">    glColor3f(<span class=\"number\">1.0</span>, <span class=\"number\">0.2</span>, <span class=\"number\">0.6</span>)</span><br><span class=\"line\">    glPointSize(<span class=\"number\">3.0</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    glBegin(GL_POINTS)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> arange(-<span class=\"number\">5.0</span>, <span class=\"number\">5.0</span>, <span class=\"number\">0.1</span>):  <span class=\"comment\">#from -5.0 to 5.0 plus 0.1 every time</span></span><br><span class=\"line\">        y = x * x</span><br><span class=\"line\">        glVertex2f(x, y)</span><br><span class=\"line\">    glEnd()</span><br><span class=\"line\">    glFlush()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">main</span>():</span><br><span class=\"line\">    glutInit(sys.argv)</span><br><span class=\"line\">    glutInitDisplayMode(GLUT_SINGLE | GLUT_RGB)</span><br><span class=\"line\">    glutInitWindowPosition(<span class=\"number\">50</span>, <span class=\"number\">100</span>)</span><br><span class=\"line\">    glutInitWindowSize(<span class=\"number\">400</span>, <span class=\"number\">400</span>)</span><br><span class=\"line\">    glutCreateWindow(<span class=\"string\">&quot;Function Plotter&quot;</span>)</span><br><span class=\"line\">    glutDisplayFunc(plotfunc)</span><br><span class=\"line\"></span><br><span class=\"line\">    init()</span><br><span class=\"line\">    glutMainLoop()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">main()</span><br></pre></td></tr></table></figure>\n<h3 id=\"è½¬åŠ¨æ—¶é’Ÿ\">è½¬åŠ¨æ—¶é’Ÿ</h3>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> OpenGL.GL <span class=\"keyword\">import</span> *</span><br><span class=\"line\"><span class=\"keyword\">from</span> OpenGL.GLU <span class=\"keyword\">import</span> *</span><br><span class=\"line\"><span class=\"keyword\">from</span> OpenGL.GLUT <span class=\"keyword\">import</span> *</span><br><span class=\"line\"><span class=\"keyword\">import</span> math</span><br><span class=\"line\"><span class=\"keyword\">import</span> time</span><br><span class=\"line\"></span><br><span class=\"line\">h = <span class=\"number\">0</span></span><br><span class=\"line\">m = <span class=\"number\">0</span></span><br><span class=\"line\">s = <span class=\"number\">0</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">Draw</span>():</span><br><span class=\"line\">    PI = <span class=\"number\">3.1415926</span></span><br><span class=\"line\">    R = <span class=\"number\">0.5</span></span><br><span class=\"line\">    TR = R - <span class=\"number\">0.05</span></span><br><span class=\"line\">    glClear(GL_COLOR_BUFFER_BIT)</span><br><span class=\"line\">    glLineWidth(<span class=\"number\">5</span>)</span><br><span class=\"line\">    glBegin(GL_LINE_LOOP)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"number\">100</span>):</span><br><span class=\"line\">        glVertex2f(R * math.cos(<span class=\"number\">2</span> * PI / <span class=\"number\">100</span> * i),</span><br><span class=\"line\">                   R * math.sin(<span class=\"number\">2</span> * PI / <span class=\"number\">100</span> * i))</span><br><span class=\"line\">    glEnd()</span><br><span class=\"line\">    glLineWidth(<span class=\"number\">2</span>)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"number\">100</span>):</span><br><span class=\"line\">        glBegin(GL_LINES)</span><br><span class=\"line\">        glVertex2f(TR * math.sin(<span class=\"number\">2</span> * PI / <span class=\"number\">12</span> * i),</span><br><span class=\"line\">                   TR * math.cos(<span class=\"number\">2</span> * PI / <span class=\"number\">12</span> * i))</span><br><span class=\"line\">        glVertex2f(R * math.sin(<span class=\"number\">2</span> * PI / <span class=\"number\">12</span> * i),</span><br><span class=\"line\">                   R * math.cos(<span class=\"number\">2</span> * PI / <span class=\"number\">12</span> * i))</span><br><span class=\"line\">        glEnd()</span><br><span class=\"line\">    glLineWidth(<span class=\"number\">1</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    h_Length = <span class=\"number\">0.2</span></span><br><span class=\"line\">    m_Length = <span class=\"number\">0.3</span></span><br><span class=\"line\">    s_Length = <span class=\"number\">0.4</span></span><br><span class=\"line\">    count = <span class=\"number\">60.0</span></span><br><span class=\"line\">    s_Angle = s / count</span><br><span class=\"line\">    count *= <span class=\"number\">60</span></span><br><span class=\"line\">    m_Angle = (m * <span class=\"number\">60</span> + s) / count</span><br><span class=\"line\">    count *= <span class=\"number\">12</span></span><br><span class=\"line\">    h_Angle = (h * <span class=\"number\">60</span> * <span class=\"number\">60</span> + m * <span class=\"number\">60</span> + s) / count</span><br><span class=\"line\">    glLineWidth(<span class=\"number\">1</span>)</span><br><span class=\"line\">    glBegin(GL_LINES)</span><br><span class=\"line\">    glVertex2f(<span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>)</span><br><span class=\"line\">    glVertex2f(s_Length * math.sin(<span class=\"number\">2</span> * PI * s_Angle),</span><br><span class=\"line\">               s_Length * math.cos(<span class=\"number\">2</span> * PI * s_Angle))</span><br><span class=\"line\">    glEnd()</span><br><span class=\"line\">    glLineWidth(<span class=\"number\">5</span>)</span><br><span class=\"line\">    glBegin(GL_LINES)</span><br><span class=\"line\">    glVertex2f(<span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>)</span><br><span class=\"line\">    glVertex2f(h_Length * math.sin(<span class=\"number\">2</span> * PI * h_Angle),</span><br><span class=\"line\">               h_Length * math.cos(<span class=\"number\">2</span> * PI * h_Angle))</span><br><span class=\"line\">    glEnd()</span><br><span class=\"line\">    glLineWidth(<span class=\"number\">3</span>)</span><br><span class=\"line\">    glBegin(GL_LINES)</span><br><span class=\"line\">    glVertex2f(<span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>)</span><br><span class=\"line\">    glVertex2f(m_Length * math.sin(<span class=\"number\">2</span> * PI * m_Angle),</span><br><span class=\"line\">               m_Length * math.cos(<span class=\"number\">2</span> * PI * m_Angle))</span><br><span class=\"line\">    glEnd()</span><br><span class=\"line\">    glLineWidth(<span class=\"number\">1</span>)</span><br><span class=\"line\">    glBegin(GL_POLYGON)</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"number\">100</span>):</span><br><span class=\"line\">        glVertex2f(<span class=\"number\">0.03</span> * math.cos(<span class=\"number\">2</span> * PI / <span class=\"number\">100</span> * i),</span><br><span class=\"line\">                   <span class=\"number\">0.03</span> * math.sin(<span class=\"number\">2</span> * PI / <span class=\"number\">100</span> * i))</span><br><span class=\"line\">    glEnd()</span><br><span class=\"line\">    glFlush()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">Update</span>():</span><br><span class=\"line\">    <span class=\"keyword\">global</span> h, m, s</span><br><span class=\"line\">    t = time.localtime(time.time())</span><br><span class=\"line\">    h = <span class=\"built_in\">int</span>(time.strftime(<span class=\"string\">&#x27;%H&#x27;</span>, t))</span><br><span class=\"line\">    m = <span class=\"built_in\">int</span>(time.strftime(<span class=\"string\">&#x27;%M&#x27;</span>, t))</span><br><span class=\"line\">    s = <span class=\"built_in\">int</span>(time.strftime(<span class=\"string\">&#x27;%S&#x27;</span>, t))</span><br><span class=\"line\">    glutPostRedisplay()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">glutInit()</span><br><span class=\"line\">glutInitDisplayMode(GLUT_SINGLE | GLUT_RGBA)</span><br><span class=\"line\">glutInitWindowSize(<span class=\"number\">400</span>, <span class=\"number\">400</span>)</span><br><span class=\"line\">glutCreateWindow(<span class=\"string\">&quot;My clock&quot;</span>)</span><br><span class=\"line\">glutDisplayFunc(Draw)</span><br><span class=\"line\">glutIdleFunc(Update)</span><br><span class=\"line\">glutMainLoop()</span><br></pre></td></tr></table></figure>\n<h3 id=\"Hello-World-pyglet\">Hello-World-pyglet</h3>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> pyglet</span><br><span class=\"line\"></span><br><span class=\"line\">window = pyglet.window.Window()</span><br><span class=\"line\"></span><br><span class=\"line\">label = pyglet.text.Label(<span class=\"string\">&#x27;Hello, world&#x27;</span>,</span><br><span class=\"line\">                          font_name=<span class=\"string\">&#x27;Times New Roman&#x27;</span>,</span><br><span class=\"line\">                          font_size=<span class=\"number\">36</span>,</span><br><span class=\"line\">                          x=window.width // <span class=\"number\">2</span>,</span><br><span class=\"line\">                          y=window.height // <span class=\"number\">2</span>,</span><br><span class=\"line\">                          anchor_x=<span class=\"string\">&#x27;center&#x27;</span>,</span><br><span class=\"line\">                          anchor_y=<span class=\"string\">&#x27;center&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@window.event</span></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">on_draw</span>():</span><br><span class=\"line\">    window.clear()</span><br><span class=\"line\">    label.draw()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">pyglet.app.run()</span><br></pre></td></tr></table></figure>\n<h3 id=\"èŒ¶å£¶\">èŒ¶å£¶</h3>\n<h4 id=\"åŠ¨æ€\">åŠ¨æ€</h4>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> OpenGL.GL <span class=\"keyword\">import</span> *</span><br><span class=\"line\"><span class=\"keyword\">from</span> OpenGL.GLU <span class=\"keyword\">import</span> *</span><br><span class=\"line\"><span class=\"keyword\">from</span> OpenGL.GLUT <span class=\"keyword\">import</span> *</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">drawFunc</span>():</span><br><span class=\"line\">    <span class=\"comment\">#æ¸…æ¥šä¹‹å‰ç”»é¢</span></span><br><span class=\"line\">    glClear(GL_COLOR_BUFFER_BIT)</span><br><span class=\"line\">    glRotatef(<span class=\"number\">0.1</span>, <span class=\"number\">5</span>, <span class=\"number\">5</span>, <span class=\"number\">0</span>)  <span class=\"comment\">#(è§’åº¦,x,y,z)</span></span><br><span class=\"line\">    glutWireTeapot(<span class=\"number\">0.5</span>)</span><br><span class=\"line\">    <span class=\"comment\">#åˆ·æ–°æ˜¾ç¤º</span></span><br><span class=\"line\">    glFlush()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#ä½¿ç”¨glutåˆå§‹åŒ–OpenGL</span></span><br><span class=\"line\">glutInit()</span><br><span class=\"line\"><span class=\"comment\">#æ˜¾ç¤ºæ¨¡å¼:GLUT_SINGLEæ— ç¼“å†²ç›´æ¥æ˜¾ç¤º|GLUT_RGBAé‡‡ç”¨RGB(Aéalpha)</span></span><br><span class=\"line\">glutInitDisplayMode(GLUT_SINGLE | GLUT_RGBA)</span><br><span class=\"line\"><span class=\"comment\">#çª—å£ä½ç½®åŠå¤§å°-ç”Ÿæˆ</span></span><br><span class=\"line\">glutInitWindowPosition(<span class=\"number\">0</span>, <span class=\"number\">0</span>)</span><br><span class=\"line\">glutInitWindowSize(<span class=\"number\">400</span>, <span class=\"number\">400</span>)</span><br><span class=\"line\">glutCreateWindow(<span class=\"string\">b&quot;first&quot;</span>)</span><br><span class=\"line\"><span class=\"comment\">#è°ƒç”¨å‡½æ•°ç»˜åˆ¶å›¾åƒ</span></span><br><span class=\"line\">glutDisplayFunc(drawFunc)</span><br><span class=\"line\">glutIdleFunc(drawFunc)</span><br><span class=\"line\"><span class=\"comment\">#ä¸»å¾ªç¯</span></span><br><span class=\"line\">glutMainLoop()</span><br></pre></td></tr></table></figure>\n<h4 id=\"é™æ€\">é™æ€</h4>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> OpenGL.GL <span class=\"keyword\">import</span> *</span><br><span class=\"line\"><span class=\"keyword\">from</span> OpenGL.GLU <span class=\"keyword\">import</span> *</span><br><span class=\"line\"><span class=\"keyword\">from</span> OpenGL.GLUT <span class=\"keyword\">import</span> *</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">drawFunc</span>():</span><br><span class=\"line\">    glClear(GL_COLOR_BUFFER_BIT)</span><br><span class=\"line\">    <span class=\"comment\"># è®¾ç½®ä¸ºçº¢è‰²</span></span><br><span class=\"line\">    glColor3f(<span class=\"number\">1.0</span>, <span class=\"number\">0.0</span>, <span class=\"number\">0.0</span>)</span><br><span class=\"line\">    glutWireTeapot(<span class=\"number\">0.5</span>)</span><br><span class=\"line\">    glFlush()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">glutInit()</span><br><span class=\"line\">glutInitDisplayMode(GLUT_SINGLE | GLUT_RGBA)</span><br><span class=\"line\">glutInitWindowSize(<span class=\"number\">400</span>, <span class=\"number\">400</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#å‚æ•°ä¸ºbç±»å‹è€Œä¸æ˜¯string</span></span><br><span class=\"line\">glutCreateWindow(<span class=\"string\">b&quot;Teapot&quot;</span>)</span><br><span class=\"line\">glutDisplayFunc(drawFunc)</span><br><span class=\"line\">glutMainLoop()</span><br></pre></td></tr></table></figure>\n<h2 id=\"æ•°æ®åˆ†æ\">æ•°æ®åˆ†æ</h2>\n<h3 id=\"numpy\">numpy</h3>\n<h4 id=\"newaxis\">newaxis</h4>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> numpy <span class=\"keyword\">as</span> np</span><br><span class=\"line\"></span><br><span class=\"line\">A = np.array([[<span class=\"number\">2</span>, <span class=\"number\">0</span>, <span class=\"number\">2</span>, <span class=\"number\">1</span>], [<span class=\"number\">2</span>, <span class=\"number\">0</span>, <span class=\"number\">2</span>, <span class=\"number\">2</span>]])</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">print</span>(A)</span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&quot;A.shape: &quot;</span>, A.shape)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># new ä¸€ä¸ªä¸€ç»´æ•°ç»„,ç„¶åæŠŠ A æ•´ä¸ªæ€¼è¿›å»</span></span><br><span class=\"line\">B = A[np.newaxis, :]</span><br><span class=\"line\"><span class=\"built_in\">print</span>(B)</span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&quot;B.shape: &quot;</span>, B.shape)</span><br><span class=\"line\"></span><br><span class=\"line\">C = A[:, np.newaxis]</span><br><span class=\"line\"><span class=\"built_in\">print</span>(C)</span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&quot;C.shape: &quot;</span>, C.shape)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># æŠŠæ¯ä¸ªç¬¬äºŒç»´ç¬¬å››ä½çš„å…ƒç´ æ€¼è¿›ä¸€ä¸ªæ–°æ•°ç»„,æŠŠåŸç¬¬äºŒä½æ›¿æ¢ä¸ºæ­¤æ–°æ•°ç»„</span></span><br><span class=\"line\">D = A[:, np.newaxis, <span class=\"number\">3</span>]</span><br><span class=\"line\"><span class=\"built_in\">print</span>(D)</span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&quot;D.shape: &quot;</span>, D.shape)</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<pre><code>[[2 0 2 1]\n [2 0 2 2]]\nA.shape:  (2, 4)\n[[[2 0 2 1]\n  [2 0 2 2]]]\nB.shape:  (1, 2, 4)\n[[[2 0 2 1]]\n\n [[2 0 2 2]]]\nC.shape:  (2, 1, 4)\n[[1]\n [2]]\nD.shape:  (2, 1)\n</code></pre>\n<h3 id=\"Matplotlib\">Matplotlib</h3>\n<h4 id=\"figure\">figure</h4>\n<p>å¯ä»¥ç”¨ figure å¯¹è¾“å‡ºçš„å›¾ç‰‡è¿›è¡Œç¼©æ”¾</p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> matplotlib.pyplot <span class=\"keyword\">as</span> plt</span><br><span class=\"line\"></span><br><span class=\"line\">plt.imshow(plt.imread(<span class=\"string\">&#x27;./_data_set/kitti_000008_pred.png&#x27;</span>))</span><br></pre></td></tr></table></figure>\n<pre><code>&lt;matplotlib.image.AxesImage at 0x22c4640aa90&gt;\n</code></pre>\n<p><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"%E6%9D%82_files/%E6%9D%82_40_1.png\" alt=\"png\"></p>\n<figure class=\"highlight python\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> matplotlib.pyplot <span class=\"keyword\">as</span> plt</span><br><span class=\"line\"></span><br><span class=\"line\">plt.figure(figsize=(<span class=\"number\">25</span>, <span class=\"number\">20</span>))</span><br><span class=\"line\">plt.imshow(plt.imread(<span class=\"string\">&#x27;./_data_set/kitti_000008_pred.png&#x27;</span>))</span><br></pre></td></tr></table></figure>\n<pre><code>&lt;matplotlib.image.AxesImage at 0x22c4651a1c0&gt;\n</code></pre>\n<p><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"%E6%9D%82_files/%E6%9D%82_41_1.png\" alt=\"png\"></p>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"å€Ÿç‰©è¡¨\">å€Ÿç‰©è¡¨</h2>\n<p><a name='cite_note-1' href='#cite_ref-1'>[1]</a>: <a href=\"https://stackoverflow.com/questions/29241056/how-does-numpy-newaxis-work-and-when-to-use-it\">How does numpy.newaxis work and when to use it?</a></p>\n<p><a name='cite_note-2' href='#cite_ref-2'>[2]</a>: <a href=\"https://blog.csdn.net/gzmgzm_ming/article/details/81783450\">Python threadpoolä¸multiprocessing</a></p>\n<p><a name='cite_note-3' href='#cite_ref-3'>[3]</a>: <a href=\"https://www.bilibili.com/video/BV1yp4y1679u\">Pythonå¹¶å‘å®æˆ˜ï¼Œæ€æ ·ä½¿ç”¨å¤šè¿›ç¨‹multiprocessingåŠ é€Ÿç¨‹åºè¿è¡Œ</a></p>\n<p><a name='cite_note-4' href='#cite_ref-4'>[4]</a>: <a href=\"https://www.bilibili.com/video/BV1z94y1U7j9?vd_source=bc13275071d678583f4bfdd8d344efda\">Python ä¸­å„ç§ä¸‹åˆ’çº¿çš„éªšæ“ä½œï¼š_ã€<em>xxã€xx</em>ã€__xxã€<strong>xx</strong>ã€_classname__xx</a></p>\n<script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kity@2.0.4/dist/kity.min.js\"></script><script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js\"></script><script defer=\"true\" type=\"text&#x2F;javascript\" src=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js\"></script><link rel=\"stylesheet\" type=\"text&#x2F;css\" href=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css\">",
            "tags": [
                "å¤šçº¿ç¨‹",
                "äººå·¥æ™ºèƒ½",
                "python",
                "opengl"
            ]
        },
        {
            "id": "https://blog.weidows.tech/post/system/process-thread/",
            "url": "https://blog.weidows.tech/post/system/process-thread/",
            "title": "ğŸ¤·â€â™‚ï¸è¿›ç¨‹çº¿ç¨‹-CPU-å¹¶è¡Œå¹¶å‘å¤§æ‚ç¢!",
            "date_published": "2021-03-05T13:08:33.000Z",
            "content_html": "<h1>è¿›ç¨‹çº¿ç¨‹-CPU-å¹¶è¡Œå¹¶å‘å¤§æ‚ç¢!</h1>\n<!--\n * @?: *********************************************************************\n * @Author: Weidows\n * @LastEditors: Weidows\n * @LastEditTime: 2023-04-20 18:38:02\n * @FilePath: \\Blog-private\\source\\_posts\\system\\process-thread.md\n * @Description:\n * @!: *********************************************************************\n-->\n<blockquote class=\"pullquote mindmap mindmap-md\"><ul>\n<li><a href=\"#%E8%BF%9B%E7%A8%8B%E7%BA%BF%E7%A8%8B-cpu-%E5%B9%B6%E8%A1%8C%E5%B9%B6%E5%8F%91%E5%A4%A7%E6%9D%82%E7%A2%8E\">è¿›ç¨‹çº¿ç¨‹-CPU-å¹¶è¡Œå¹¶å‘å¤§æ‚ç¢!</a>\n<ul>\n<li><a href=\"#%E5%BC%95%E5%AD%90\">å¼•å­</a></li>\n<li><a href=\"#%E8%BF%9B%E7%A8%8B%E4%B8%8E%E7%BA%BF%E7%A8%8B\">è¿›ç¨‹ä¸çº¿ç¨‹</a>\n<ul>\n<li><a href=\"#%E8%BF%9B%E7%A8%8B\">è¿›ç¨‹</a></li>\n<li><a href=\"#%E7%BA%BF%E7%A8%8B\">çº¿ç¨‹</a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%87%A0%E6%A0%B8%E5%87%A0%E7%BA%BF%E7%A8%8B\">å‡ æ ¸å‡ çº¿ç¨‹</a></li>\n<li><a href=\"#%E5%B9%B6%E8%A1%8C%E4%B8%8E%E5%B9%B6%E5%8F%91\">å¹¶è¡Œä¸å¹¶å‘</a></li>\n<li><a href=\"#%E5%80%9F%E7%89%A9%E8%A1%A8\">å€Ÿç‰©è¡¨</a></li>\n</ul>\n</li>\n</ul>\n</blockquote>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"å¼•å­\">å¼•å­</h2>\n<ul>\n<li>è°ˆæ“ä½œç³»ç»Ÿä¼šäº†è§£åˆ°<code>è¿›ç¨‹ä¸çº¿ç¨‹</code></li>\n<li>è°ˆ CPU ä¼šå¬åˆ°<code>å‡ æ ¸å‡ çº¿ç¨‹</code></li>\n<li>è°ˆ CPU è°ƒåº¦ä¼šå­˜ç–‘<code>å¹¶è¡Œä¸å¹¶å‘</code></li>\n</ul>\n<hr>\n<h2 id=\"è¿›ç¨‹ä¸çº¿ç¨‹\">è¿›ç¨‹ä¸çº¿ç¨‹</h2>\n<ul>\n<li>ç®€å•å±‚çº§å…³ç³»: <code>åº”ç”¨ç¨‹åº-&gt;ä¸€è‡³å¤šä¸ªè¿›ç¨‹-&gt;ä¸€è‡³å¤šä¸ªçº¿ç¨‹</code></li>\n</ul>\n<blockquote>\n<p>çº¿ç¨‹æ˜¯è°ƒåº¦çš„åŸºæœ¬å•ä½ï¼Œè€Œè¿›ç¨‹åˆ™æ˜¯èµ„æºæ‹¥æœ‰çš„åŸºæœ¬å•ä½ã€‚</p>\n</blockquote>\n<h3 id=\"è¿›ç¨‹\">è¿›ç¨‹</h3>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GVsaG1.png\" alt=\"20210305222645\" />\n<hr>\n<ul>\n<li>\n<p>åœ¨å‰å°æ˜¾ç¤ºçš„(æœ‰å›¾å½¢çª—å£çš„)ç¨‹åº,å«åš<code>&quot;åº”ç”¨&quot;</code></p>\n<ul>\n<li>æ¯”å¦‚ IDEA,é…·ç‹—,Edge,QQ è¿™äº›éƒ½æ˜¯åº”ç”¨.</li>\n<li>åŒä¸€ä¸ªç¨‹åº,æ‰“å¼€å¤šä¸ªçª—å£,å…¶äº§ç”Ÿçš„è¿›ç¨‹ä¹Ÿä¼šè¢«å½’åˆ°ä¸€ä¸ªåº”ç”¨ä¸‹\n<ul>\n<li>æ¯”å¦‚æ‰“å¼€ä¸¤ä¸ª VScode çª—å£,å…¶äº§ç”Ÿçš„æ–°è¿›ç¨‹ä¹Ÿä¼šåˆ—åœ¨ VScode æ ä¸‹,å¹¶ä¸ä¼šå‡ºç°ä¸¤ä¸ª VScode æ </li>\n<li>å¦å¤–,æ–°å»ºçª—å£ä¸ä¸€å®šä¼šäº§ç”Ÿæ–°è¿›ç¨‹(æ¯”å¦‚æ‰“å¼€ä¸¤ä¸ª IDEA çª—å£,IDEA æ ä¸‹çš„è¿›ç¨‹æ•°æ²¡å˜)</li>\n</ul>\n</li>\n<li>å…³é—­çª—å£å,åº”ç”¨è¦ä¹ˆè¢«å…¨ç„¶å…³é—­,è¦ä¹ˆè½¬å…¥åå°è¿›ç¨‹\n<ul>\n<li>å°±æ¯”å¦‚ QQ å¯ä»¥é€‰æ‹©æ•´ä¸ªå…³æ‰æˆ–è€…åå°æŒ‚ç€,åå°æŒ‚ç€æ—¶ QQ ä¸ä¼šåœ¨<code>&quot;åº”ç”¨&quot;</code>åˆ—è¡¨å‡ºç°,ä¼šè¢«å½’åˆ°åå°è¿›ç¨‹</li>\n</ul>\n</li>\n</ul>\n<hr>\n</li>\n<li>\n<p>æ¯ä¸ªåº”ç”¨ä¼šæœ‰ä¸€ä¸ªè‡³å¤šä¸ªè¿›ç¨‹</p>\n<ul>\n<li>è‡³å°‘æœ‰ä¸€ä¸ª<code>&quot;åº”ç”¨&quot;</code>è¿›ç¨‹å’Œè‹¥å¹²<code>&quot;åå°è¿›ç¨‹&quot;</code>.</li>\n<li>æ¯”å¦‚ IDEA ä¸‹é¢çš„ä¸€æ’,å…­ä¸ªè¿›ç¨‹</li>\n<li>ä¸€ä¸ªè¿›ç¨‹ = <code>.exe</code>ä¹‹ç±»çš„å¯æ‰§è¡Œæ–‡ä»¶ + è¿è¡Œæ—¶æ•°æ®\n<ul>\n<li>ä¹Ÿå°±æ˜¯è¯´åŒä¸€ä¸ªç¨‹åºè¿è¡Œåœ¨ä¸åŒæ•°æ®ç¯å¢ƒä¸‹ä¼šäº§ç”Ÿä¸åŒè¿›ç¨‹(æ¯”å¦‚ IDEA ä¸‹çš„ä¸¤ä¸ª TabNine è¿›ç¨‹)</li>\n</ul>\n</li>\n</ul>\n<hr>\n</li>\n<li>\n<p>ä¸åŒè¿›ç¨‹ä¹‹é—´æ•°æ®éš”ç¦»</p>\n<ul>\n<li>ä¹Ÿå°±æ˜¯è¯´ä¸€ä¸ªè¿›ç¨‹æŒ‚æ‰åªå½±å“è¿™ä¸ªè¿›ç¨‹,å¯¹å…¶ä»–è¿›ç¨‹æ— å½±å“</li>\n<li>æ¯”å¦‚æµè§ˆå™¨,<code>ä¸€ä¸ªé¡µé¢å°±æ˜¯ä¸€ä¸ªè¿›ç¨‹</code>(å¦‚æœä¸¤ä¸ªé¡µé¢ç›¸åŒä¼šå…±äº«åŒä¸€è¿›ç¨‹),è„šæœ¬æ’ä»¶å¦è¡Œè®¡ç®—,ä¸€ä¸ªé¡µé¢å´©æºƒä¸€èˆ¬åªå½±å“è¿™ä¸ªé¡µé¢.</li>\n</ul>\n<hr>\n</li>\n<li>\n<p>åå°è¿›ç¨‹</p>\n<ul>\n<li>ç°åœ¨æˆ‘ä»¬å¯ä»¥ç†è§£æ²¡æœ‰ç•Œé¢çš„ç¨‹åºè¿è¡Œæ—¶è‚¯å®šä¼šè¢«å½’åˆ°<code>åå°è¿›ç¨‹</code>\n<ul>\n<li>æ¯”å¦‚ <code>aria2c.exe</code>,æ²¡æœ‰ç•Œé¢,åªå¯èƒ½å‡ºç°åœ¨åå°è¿›ç¨‹.</li>\n</ul>\n</li>\n<li>ä½†æ˜¯,æœ‰äº›ç¨‹åºä¼š<code>ä¸¤é¢åƒ</code>,æ¯”å¦‚ vscode è¿è¡Œæ—¶,<code>&quot;åº”ç”¨&quot;</code>æ æœ‰å®ƒ,<code>åå°è¿›ç¨‹</code>æ ä¹Ÿæœ‰å®ƒ!\n<ul>\n<li>&quot;åº”ç”¨&quot;æ ä¼šå½’å¹¶å¯¹å½“å‰ç¨‹åºçª—å£æœ‰å½±å“çš„è¿›ç¨‹,æ²¡å½±å“çš„å«åš<code>&quot;å®ˆæŠ¤è¿›ç¨‹&quot;</code></li>\n<li>ä¹Ÿå°±æ˜¯è¯´è¿™äº›åå°è¿›ç¨‹æœ‰ä»–ä»¬çš„ä½œç”¨,ä½†æ˜¯è¿™ä½œç”¨å¹¶ä¸ä¾èµ–äºç¨‹åºè¿è¡Œ(æ¯”å¦‚è¯´å‘å…‰å‘çƒ­,å¯¹ç¨‹åºæ²¡å½±å“,ä½†è¿™ä¸ªè¿›ç¨‹æœ‰å®ƒå­˜åœ¨çš„æ„ä¹‰),å®ƒä»¬å°±è¢«å½’åˆ°<code>åå°è¿›ç¨‹</code>å»äº†.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h3 id=\"çº¿ç¨‹\">çº¿ç¨‹</h3>\n<ul>\n<li>\n<p>è½®åˆ°çº¿ç¨‹äº†:</p>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GVs14K.png\" alt=\"20210305231739\" />\n</li>\n<li>\n<p>è¿™ä¸ªæ¯”è¾ƒç®€å•äº†,çº¿ç¨‹æ˜¯è¿›ç¨‹å†…éƒ¨çš„,å¦‚ä¸Šå›¾ä¸¤ä¸ª aria2c è¿›ç¨‹ä¸­,åˆ†åˆ«æœ‰ä¸€ä¸ªå’Œä¸‰ä¸ªçº¿ç¨‹</p>\n</li>\n<li>\n<p>ä¸€ä¸ªè¿›ç¨‹è‡³å°‘ä¸€ä¸ªçº¿ç¨‹.</p>\n<ul>\n<li>\n<p>ä¸åŒçº¿ç¨‹ä¹‹é—´å…±äº«åŒä¸€ä¸ªè¿›ç¨‹å†…çš„èµ„æº.</p>\n</li>\n<li>\n<p>ä¸€ä¸ªçº¿ç¨‹å´©æºƒä¼šç‰µè¿æ‰€æœ‰,æ•´ä¸ªè¿›ç¨‹ä¼šå´©æºƒ.</p>\n</li>\n</ul>\n<hr>\n</li>\n<li>\n<p>å¤šçº¿ç¨‹ä¸»è¦ä¸ºäº†<code>æå‡æ€§èƒ½</code></p>\n<ul>\n<li>\n<p>æ¯”å¦‚ä¸€ä¸ªè¿›ç¨‹åªæœ‰ä¸€ä¸ªçº¿ç¨‹,é‚£å®ƒåªèƒ½åŒæ—¶é ä¸€ä¸ª CPU é€»è¾‘å¤„ç†å™¨å¤„ç†</p>\n</li>\n<li>\n<p>å¦‚æœæ˜¯å¤šçº¿ç¨‹,æ¯”å¦‚ 9 ä¸ªçº¿ç¨‹,é‚£ä¹ˆåœ¨ 8 ä¸ªé€»è¾‘å¤„ç†å™¨çš„ CPU ä¸Š,è¿™ä¸ªè¿›ç¨‹å¯ä»¥å æœ‰ 8 ä¸ªé€»è¾‘å¤„ç†å™¨çš„ç®—åŠ›,æå‡è¿è¡Œé€Ÿåº¦</p>\n</li>\n</ul>\n</li>\n<li>\n<p>å¦‚æœçº¿ç¨‹æ•°å¤§äº CPU é€»è¾‘å¤„ç†å™¨æ•°,å…¶ä»–çš„çº¿ç¨‹æ’é˜Ÿç­‰å¾….</p>\n</li>\n</ul>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"å‡ æ ¸å‡ çº¿ç¨‹\">å‡ æ ¸å‡ çº¿ç¨‹</h2>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GVsFDT.png\" alt=\"20210305210405\" />\n<ul>\n<li>\n<p>å¦‚ä¸Šå›¾,ä¸€ä¸ªæ’æ§½å¯¹åº”ä¸€å—ç»“ç»“å®å®çš„ CPU</p>\n<ul>\n<li>\n<p>è¿™å— CPU é‡Œé¢è¢«åˆ’åˆ†å‡ºå››ä¸ªéš”ç¦»çš„æ ¸å¿ƒ -&gt; <code>å››æ ¸</code></p>\n</li>\n<li>\n<p>æ¯ä¸ªæ ¸å¿ƒ,åˆå¯ä»¥åˆ†ä¸ºä¸¤ä¸ªé€»è¾‘å¤„ç†å™¨,ä¸€ä¸ªé€»è¾‘å¤„ç†å™¨åªèƒ½åŒæ—¶å¤„ç†ä¸€ä¸ªä»»åŠ¡(çº¿ç¨‹) -&gt; <code>å…«çº¿ç¨‹</code></p>\n</li>\n<li>\n<p>ä¸Šé¢å…«ä¸ªçº¿å½¢å›¾å°±æ˜¯æ¯ä¸ªé€»è¾‘å¤„ç†å™¨çš„ä½¿ç”¨ç‡</p>\n</li>\n</ul>\n<hr>\n</li>\n<li>\n<p>è¿è¡Œé€Ÿåº¦æ ‡çš„æ˜¯æ¯ä¸ªæ ¸å¿ƒ(core)è€Œéé€»è¾‘å¤„ç†å™¨(processor)çš„é€Ÿåº¦</p>\n</li>\n</ul>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"å¹¶è¡Œä¸å¹¶å‘\">å¹¶è¡Œä¸å¹¶å‘</h2>\n<ul>\n<li>\n<p>å®é™…ä¸Š,ç½‘ä¸Šå¯¹è¿™ä¸¤ä¸ªè¯ä¹‰ä¸€å®šç¨‹åº¦ä¸Šåœ¨æ··ç”¨~</p>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GVs30b.png\" alt=\"20210306000528\" />\n</li>\n<li>\n<p>æœ‰ä¸ªè¯å«<code>&quot;å¹¶è¡Œä¸æ‚–&quot;</code>,è®°ä½è¿™ä¸ªå°±ä¸ä¼šå¼„æ··äº†.</p>\n</li>\n<li>\n<p><code>å¤šè¿›ç¨‹å¹¶å‘,å¤šçº¿ç¨‹å¹¶è¡Œ.</code></p>\n</li>\n</ul>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"å€Ÿç‰©è¡¨\">å€Ÿç‰©è¡¨</h2>\n<blockquote>\n<p><a href=\"https://mp.weixin.qq.com/s?__biz=Mzk0NzE4NTk4Ng==&amp;mid=2247486625&amp;idx=1&amp;sn=f35d340727b0e8e23f82ff7c5182c893&amp;chksm=c37bfc8cf40c759a084effb4c5b253ad50ad0be02b8b8dea073fa333ca6adefce6ef8cb6db9f&amp;mpshare=1&amp;scene=23&amp;srcid=0305mrfN5sGJ1jI9aPxUFqjU&amp;sharer_sharetime=1614936389002&amp;sharer_shareid=ff6bb8cfd138294e80df076b8b76232d#rd\">è¿›ç¨‹å’Œçº¿ç¨‹åŸºç¡€çŸ¥è¯†å…¨å®¶æ¡¶ï¼Œ30 å¼ å›¾ä¸€å¥—å¸¦èµ°</a></p>\n</blockquote>\n<blockquote>\n<p><a href=\"https://blog.csdn.net/cherrycheng_/article/details/51384657\">åŸºç¡€çŸ¥è¯†ï¼šçº¿ç¨‹ï¼Œè¿›ç¨‹ã€‚å¤šè¿›ç¨‹ï¼Œå¤šçº¿ç¨‹ã€‚å¹¶å‘ï¼Œå¹¶è¡Œçš„åŒºåˆ«</a></p>\n</blockquote>\n<blockquote>\n<p><a href=\"https://zhuanlan.zhihu.com/p/86855590\">cpu æ ¸å¿ƒæ•°ä¸çº¿ç¨‹æ•°</a></p>\n</blockquote>\n<blockquote>\n<p><a href=\"https://blog.51cto.com/14462329/2427415\">ä¸ºä»€ä¹ˆ Chrome åœ¨ä»»åŠ¡ç®¡ç†å™¨é‡Œæœ‰ 4 ä¸ªè¿›ç¨‹ï¼Ÿ</a></p>\n</blockquote>\n<blockquote>\n<p><a href=\"https://blog.csdn.net/a3192048/article/details/82085422?utm_medium=distribute.pc_relevant.none-task-blog-baidujs_baidulandingword-1&amp;spm=1001.2101.3001.4242\">ç¨‹åºï¼Œè¿›ç¨‹ï¼Œçº¿ç¨‹çš„åŒºåˆ«å’Œè”ç³»</a></p>\n</blockquote>\n<script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kity@2.0.4/dist/kity.min.js\"></script><script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js\"></script><script defer=\"true\" type=\"text&#x2F;javascript\" src=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js\"></script><link rel=\"stylesheet\" type=\"text&#x2F;css\" href=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css\">",
            "tags": [
                "æ“ä½œç³»ç»Ÿ",
                "å¤šçº¿ç¨‹",
                "è¿›ç¨‹",
                "CPU"
            ]
        },
        {
            "id": "https://blog.weidows.tech/post/lang/Java/%E5%A4%9A%E7%BA%BF%E7%A8%8B/2/",
            "url": "https://blog.weidows.tech/post/lang/Java/%E5%A4%9A%E7%BA%BF%E7%A8%8B/2/",
            "title": "ğŸŒ­å›é¡¾ä¸€ä¸‹å¤šçº¿ç¨‹-è´°",
            "date_published": "2021-02-20T17:06:22.000Z",
            "content_html": "<h1>å›é¡¾ä¸€ä¸‹å¤šçº¿ç¨‹-è´°</h1>\n<!--\n * @?: *********************************************************************\n * @Author: Weidows\n * @LastEditors: Weidows\n * @LastEditTime: 2022-04-20 23:41:35\n * @FilePath: \\Blog-private\\source\\_posts\\Java\\å¤šçº¿ç¨‹\\2.md\n * @Description:\n * @!: *********************************************************************\n-->\n<blockquote class=\"pullquote mindmap mindmap-md\"><ul>\n<li><a href=\"#%E5%9B%9E%E9%A1%BE%E4%B8%80%E4%B8%8B%E5%A4%9A%E7%BA%BF%E7%A8%8B-%E8%B4%B0\">å›é¡¾ä¸€ä¸‹å¤šçº¿ç¨‹-è´°</a>\n<ul>\n<li><a href=\"#%E7%BA%BF%E7%A8%8B%E5%90%8C%E6%AD%A5-synchronized\">çº¿ç¨‹åŒæ­¥-synchronized</a>\n<ul>\n<li><a href=\"#%E4%B9%B0%E7%A5%A8\">ä¹°ç¥¨</a></li>\n<li><a href=\"#%E9%93%B6%E8%A1%8C%E5%8F%96%E6%AC%BE\">é“¶è¡Œå–æ¬¾</a></li>\n<li><a href=\"#%E5%85%B3%E4%BA%8E%E8%AF%95%E9%94%99%E6%8A%80%E5%B7%A7\">å…³äºè¯•é”™æŠ€å·§</a></li>\n</ul>\n</li>\n<li><a href=\"#%E9%9B%86%E5%90%88%E4%B8%8E%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8\">é›†åˆä¸çº¿ç¨‹å®‰å…¨</a>\n<ul>\n<li><a href=\"#%E9%9D%9E%E7%BA%BF%E7%A8%8B%E5%90%8C%E6%AD%A5\">éçº¿ç¨‹åŒæ­¥</a></li>\n<li><a href=\"#%E7%BA%BF%E7%A8%8B%E5%90%8C%E6%AD%A5\">çº¿ç¨‹åŒæ­¥</a></li>\n<li><a href=\"#%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8%E9%9B%86%E5%90%88\">çº¿ç¨‹å®‰å…¨é›†åˆ</a></li>\n</ul>\n</li>\n<li><a href=\"#%E6%AD%BB%E9%94%81\">æ­»é”</a>\n<ul>\n<li><a href=\"#%E4%BA%A7%E7%94%9F%E6%9D%A1%E4%BB%B6\">äº§ç”Ÿæ¡ä»¶</a></li>\n<li><a href=\"#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88\">è§£å†³æ–¹æ¡ˆ</a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%8F%AF%E9%87%8D%E5%85%A5%E9%94%81-reentrantlock\">å¯é‡å…¥é”-ReentrantLock</a></li>\n<li><a href=\"#%E5%A4%9A%E7%BA%BF%E7%A8%8B%E4%B8%8E%E5%BE%AA%E7%8E%AF%E6%8E%A7%E5%88%B6\">å¤šçº¿ç¨‹ä¸å¾ªç¯æ§åˆ¶</a></li>\n<li><a href=\"#%E5%BB%B6%E8%BF%9F%E5%AF%B9%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%BD%B1%E5%93%8D\">å»¶è¿Ÿå¯¹å¤šçº¿ç¨‹çš„å½±å“</a>\n<ul>\n<li><a href=\"#%E4%B8%80\">ä¸€</a></li>\n<li><a href=\"#%E4%BA%8C\">äºŒ</a></li>\n<li><a href=\"#%E4%B8%89\">ä¸‰</a></li>\n</ul>\n</li>\n<li><a href=\"#%E7%BA%BF%E7%A8%8B%E9%80%9A%E4%BF%A1-wait-notify\">çº¿ç¨‹é€šä¿¡-wait-notify</a></li>\n<li><a href=\"#%E7%BA%BF%E7%A8%8B%E6%B1%A0\">çº¿ç¨‹æ± </a></li>\n</ul>\n</li>\n</ul>\n</blockquote>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"çº¿ç¨‹åŒæ­¥-synchronized\">çº¿ç¨‹åŒæ­¥-synchronized</h2>\n<ul>\n<li>\n<p>å¤šä¸ªçº¿ç¨‹æ“ä½œåŒä¸€èµ„æºæ—¶ä¼šæœ‰é—®é¢˜å‡ºç°,ç”¨ <code>synchronized</code> åŒæ­¥.</p>\n<p>çº¿ç¨‹åŒæ­¥çš„å½¢æˆæ¡ä»¶: <code>é˜Ÿåˆ—+é”</code></p>\n<p>å®ç°å½¢å¼æœ‰ åŒæ­¥æ–¹æ³• å’Œ åŒæ­¥ä»£ç å—</p>\n<hr>\n</li>\n</ul>\n<ol>\n<li>\n<p>åŒæ­¥æ–¹æ³•, é”çš„æ˜¯æ–¹æ³•æ‰€å±å¯¹è±¡ this</p>\n<p>å¦‚ä¸‹ä¹°ç¥¨ä¾‹å­ä¸­ buy æ–¹æ³•é”çš„æ˜¯ <code>Ticket ticket</code> è¿™ä¸ªå¯¹è±¡</p>\n<figure class=\"highlight arduino\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">synchronized</span> <span class=\"type\">void</span> <span class=\"title\">buy</span><span class=\"params\">()</span> </span>&#123;&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n</li>\n<li>\n<p>åŒæ­¥ä»£ç å—, é” obj</p>\n<figure class=\"highlight wren\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"title function_\">synchronized</span> (<span class=\"variable\">obj</span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// æ“ä½œ</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<hr>\n<h3 id=\"ä¹°ç¥¨\">ä¹°ç¥¨</h3>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Ticket</span> <span class=\"keyword\">implements</span> <span class=\"title class_\">Runnable</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"type\">int</span> <span class=\"variable\">ticketNums</span> <span class=\"operator\">=</span> <span class=\"number\">10</span>; <span class=\"comment\">//ç¥¨æ•°</span></span><br><span class=\"line\">  <span class=\"type\">boolean</span> <span class=\"variable\">flag</span> <span class=\"operator\">=</span> <span class=\"literal\">true</span>; <span class=\"comment\">//å¤–éƒ¨åœæ­¢æ–¹æ³•</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Override</span></span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">run</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (flag) &#123;</span><br><span class=\"line\">      buy();</span><br><span class=\"line\">      <span class=\"comment\">//æ¨¡æ‹Ÿå»¶æ—¶</span></span><br><span class=\"line\">      <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">        Thread.sleep(<span class=\"number\">200</span>);</span><br><span class=\"line\">      &#125; <span class=\"keyword\">catch</span> (InterruptedException e) &#123;</span><br><span class=\"line\">        e.printStackTrace();</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">synchronized</span> <span class=\"keyword\">void</span> <span class=\"title function_\">buy</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">//åˆ¤æ–­æ˜¯å¦æœ‰ç¥¨</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (ticketNums &lt;= <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">      flag = <span class=\"literal\">false</span>;</span><br><span class=\"line\">      <span class=\"keyword\">return</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    System.out.println(Thread.currentThread().getName() + <span class=\"string\">&quot;--&gt;å¾—åˆ°å€’æ•°ç¬¬&quot;</span> + ticketNums-- + <span class=\"string\">&quot;ç¥¨&quot;</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">Ticket</span> <span class=\"variable\">ticket</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Ticket</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">Thread</span>(ticket, <span class=\"string\">&quot;å°æ˜&quot;</span>).start();</span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">Thread</span>(ticket, <span class=\"string\">&quot;è€å¸ˆ&quot;</span>).start();</span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">Thread</span>(ticket, <span class=\"string\">&quot;é»„ç‰›&quot;</span>).start();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>\n<p>ç»“æœ</p>\n<p>ä¸åŠ é”: æœ‰é”™è¯¯</p>\n<figure class=\"highlight ada\"><table><tr><td class=\"code\"><pre><span class=\"line\">å°æ˜<span class=\"comment\">--&gt;å¾—åˆ°å€’æ•°ç¬¬10ç¥¨</span></span><br><span class=\"line\">è€å¸ˆ<span class=\"comment\">--&gt;å¾—åˆ°å€’æ•°ç¬¬9ç¥¨</span></span><br><span class=\"line\">é»„ç‰›<span class=\"comment\">--&gt;å¾—åˆ°å€’æ•°ç¬¬8ç¥¨</span></span><br><span class=\"line\">è€å¸ˆ<span class=\"comment\">--&gt;å¾—åˆ°å€’æ•°ç¬¬7ç¥¨</span></span><br><span class=\"line\">å°æ˜<span class=\"comment\">--&gt;å¾—åˆ°å€’æ•°ç¬¬6ç¥¨</span></span><br><span class=\"line\">é»„ç‰›<span class=\"comment\">--&gt;å¾—åˆ°å€’æ•°ç¬¬5ç¥¨</span></span><br><span class=\"line\">è€å¸ˆ<span class=\"comment\">--&gt;å¾—åˆ°å€’æ•°ç¬¬4ç¥¨</span></span><br><span class=\"line\">å°æ˜<span class=\"comment\">--&gt;å¾—åˆ°å€’æ•°ç¬¬3ç¥¨</span></span><br><span class=\"line\">é»„ç‰›<span class=\"comment\">--&gt;å¾—åˆ°å€’æ•°ç¬¬3ç¥¨</span></span><br><span class=\"line\">è€å¸ˆ<span class=\"comment\">--&gt;å¾—åˆ°å€’æ•°ç¬¬2ç¥¨</span></span><br><span class=\"line\">å°æ˜<span class=\"comment\">--&gt;å¾—åˆ°å€’æ•°ç¬¬1ç¥¨</span></span><br><span class=\"line\">é»„ç‰›<span class=\"comment\">--&gt;å¾—åˆ°å€’æ•°ç¬¬1ç¥¨</span></span><br></pre></td></tr></table></figure>\n<p>åŠ é”: æ— è¯¯</p>\n<figure class=\"highlight ada\"><table><tr><td class=\"code\"><pre><span class=\"line\">å°æ˜<span class=\"comment\">--&gt;å¾—åˆ°å€’æ•°ç¬¬10ç¥¨</span></span><br><span class=\"line\">é»„ç‰›<span class=\"comment\">--&gt;å¾—åˆ°å€’æ•°ç¬¬9ç¥¨</span></span><br><span class=\"line\">è€å¸ˆ<span class=\"comment\">--&gt;å¾—åˆ°å€’æ•°ç¬¬8ç¥¨</span></span><br><span class=\"line\">å°æ˜<span class=\"comment\">--&gt;å¾—åˆ°å€’æ•°ç¬¬7ç¥¨</span></span><br><span class=\"line\">é»„ç‰›<span class=\"comment\">--&gt;å¾—åˆ°å€’æ•°ç¬¬6ç¥¨</span></span><br><span class=\"line\">è€å¸ˆ<span class=\"comment\">--&gt;å¾—åˆ°å€’æ•°ç¬¬5ç¥¨</span></span><br><span class=\"line\">é»„ç‰›<span class=\"comment\">--&gt;å¾—åˆ°å€’æ•°ç¬¬4ç¥¨</span></span><br><span class=\"line\">å°æ˜<span class=\"comment\">--&gt;å¾—åˆ°å€’æ•°ç¬¬3ç¥¨</span></span><br><span class=\"line\">è€å¸ˆ<span class=\"comment\">--&gt;å¾—åˆ°å€’æ•°ç¬¬2ç¥¨</span></span><br><span class=\"line\">é»„ç‰›<span class=\"comment\">--&gt;å¾—åˆ°å€’æ•°ç¬¬1ç¥¨</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h3 id=\"é“¶è¡Œå–æ¬¾\">é“¶è¡Œå–æ¬¾</h3>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.math.BigDecimal;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Bank</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">Account</span> <span class=\"variable\">account</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Account</span>(<span class=\"keyword\">new</span> <span class=\"title class_\">BigDecimal</span>(<span class=\"number\">100</span>), <span class=\"string\">&quot;æˆ‘çš„è´¦æˆ·&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"type\">DrawingChannel</span> <span class=\"variable\">a</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">DrawingChannel</span>(account, <span class=\"keyword\">new</span> <span class=\"title class_\">BigDecimal</span>(<span class=\"number\">50</span>), <span class=\"string\">&quot;A&quot;</span>);</span><br><span class=\"line\">    <span class=\"type\">DrawingChannel</span> <span class=\"variable\">b</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">DrawingChannel</span>(account, <span class=\"keyword\">new</span> <span class=\"title class_\">BigDecimal</span>(<span class=\"number\">100</span>), <span class=\"string\">&quot;B&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    a.start();</span><br><span class=\"line\">    b.start();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//è´¦æˆ·</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Account</span> &#123;</span><br><span class=\"line\">  BigDecimal balance;<span class=\"comment\">//ä½™é¢</span></span><br><span class=\"line\">  <span class=\"keyword\">final</span> String name; <span class=\"comment\">//å¡å</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"title function_\">Account</span><span class=\"params\">(BigDecimal balance, String name)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.balance = balance;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.name = name;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * é“¶è¡Œï¼šæ¨¡æ‹Ÿå–æ¬¾</span></span><br><span class=\"line\"><span class=\"comment\"> * * è¿™é‡Œä¹‹æ‰€ä»¥æ²¡ç”¨å®ç°Runnableæ¥å£çš„æ–¹å¼æ˜¯ä¸ºäº†è°ƒç”¨Threadç±»ä¸­ä¸€äº›æ–¹æ³•</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">DrawingChannel</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">Thread</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">final</span> Account account; <span class=\"comment\">//è´¦æˆ·</span></span><br><span class=\"line\">  BigDecimal drawingMoney; <span class=\"comment\">//å–äº†å¤šå°‘é’±</span></span><br><span class=\"line\">  BigDecimal nowMoney; <span class=\"comment\">//ç°åœ¨æ‰‹é‡Œæœ‰å¤šå°‘é’±</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"title function_\">DrawingChannel</span><span class=\"params\">(Account account, BigDecimal drawingMoney, String name)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">super</span>(name);</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.account = account;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.drawingMoney = drawingMoney;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.nowMoney = <span class=\"keyword\">new</span> <span class=\"title class_\">BigDecimal</span>(<span class=\"number\">0</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Override</span></span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">run</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">synchronized</span> (account) &#123;</span><br><span class=\"line\">      <span class=\"comment\">//åˆ¤æ–­æœ‰æ²¡æœ‰é’±</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (account.balance.compareTo(drawingMoney) &lt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">        System.out.println(account.name + <span class=\"string\">&quot;é’±ä¸å¤Ÿ&quot;</span> + drawingMoney + <span class=\"string\">&quot;,&quot;</span> + <span class=\"built_in\">this</span>.getName() + <span class=\"string\">&quot;æ— æ³•å–èµ°&quot;</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// æ”¾å¤§é”™è¯¯</span></span><br><span class=\"line\">      <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">        sleep(<span class=\"number\">1000</span>);</span><br><span class=\"line\">      &#125; <span class=\"keyword\">catch</span> (InterruptedException e) &#123;</span><br><span class=\"line\">        e.printStackTrace();</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      draw();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title function_\">draw</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">//å¡å†…ä½™é¢ = ä½™é¢ - å–çš„é’±</span></span><br><span class=\"line\">    account.balance = account.balance.subtract(drawingMoney);</span><br><span class=\"line\">    System.out.println(<span class=\"built_in\">this</span>.getName() + <span class=\"string\">&quot;å–èµ°&quot;</span> + drawingMoney);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//æ‰‹é‡Œçš„é’±</span></span><br><span class=\"line\">    nowMoney = nowMoney.add(drawingMoney);</span><br><span class=\"line\"></span><br><span class=\"line\">    System.out.println(account.name + <span class=\"string\">&quot;ä½™é¢ä¸ºï¼š&quot;</span> + account.balance);</span><br><span class=\"line\">    System.out.println(<span class=\"built_in\">this</span>.getName() + <span class=\"string\">&quot;æ‰‹é‡Œçš„é’±ï¼š&quot;</span> + nowMoney);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>\n<p>é¢„æœŸç»“æœ</p>\n<figure class=\"highlight css\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">A</span>å–èµ°<span class=\"number\">50</span></span><br><span class=\"line\">æˆ‘çš„è´¦æˆ·ä½™é¢ä¸ºï¼š<span class=\"number\">50</span></span><br><span class=\"line\"><span class=\"selector-tag\">A</span>æ‰‹é‡Œçš„é’±ï¼š<span class=\"number\">50</span></span><br><span class=\"line\">æˆ‘çš„è´¦æˆ·é’±ä¸å¤Ÿ<span class=\"number\">100</span>,<span class=\"selector-tag\">B</span>æ— æ³•å–èµ°</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<h3 id=\"å…³äºè¯•é”™æŠ€å·§\">å…³äºè¯•é”™æŠ€å·§</h3>\n<ul>\n<li>\n<p>ç†Ÿç»ƒä½¿ç”¨.sleep()è¯•é”™</p>\n<ul>\n<li>\n<p>è¯•é”™å‰</p>\n<figure class=\"highlight css\"><table><tr><td class=\"code\"><pre><span class=\"line\">æˆ‘çš„è´¦æˆ·é’±ä¸å¤Ÿ<span class=\"number\">100</span>,<span class=\"selector-tag\">B</span>æ— æ³•å–èµ°</span><br><span class=\"line\">æˆ‘çš„è´¦æˆ·ä½™é¢ä¸ºï¼š<span class=\"number\">50</span></span><br><span class=\"line\"><span class=\"selector-tag\">A</span>æ‰‹é‡Œçš„é’±ï¼š<span class=\"number\">50</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<ul>\n<li>\n<p>è¯•é”™å</p>\n<figure class=\"highlight css\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">B</span> å–èµ° <span class=\"number\">100</span></span><br><span class=\"line\"><span class=\"selector-tag\">A</span> å–èµ° <span class=\"number\">50</span></span><br><span class=\"line\">æˆ‘çš„è´¦æˆ·ä½™é¢ä¸ºï¼š<span class=\"number\">50</span></span><br><span class=\"line\">æˆ‘çš„è´¦æˆ·ä½™é¢ä¸ºï¼š<span class=\"number\">50</span></span><br><span class=\"line\"><span class=\"selector-tag\">A</span> æ‰‹é‡Œçš„é’±ï¼š<span class=\"number\">50</span></span><br><span class=\"line\"><span class=\"selector-tag\">B</span> æ‰‹é‡Œçš„é’±ï¼š<span class=\"number\">100</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n</ul>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"é›†åˆä¸çº¿ç¨‹å®‰å…¨\">é›†åˆä¸çº¿ç¨‹å®‰å…¨</h2>\n<p>å¤šä¸ªçº¿ç¨‹åŒæ—¶æ“ä½œé›†åˆå¯¹è±¡æ—¶å¯èƒ½ä¼šå­˜åœ¨è¦†å†™(çº¿ç¨‹ä¸å®‰å…¨)</p>\n<h3 id=\"éçº¿ç¨‹åŒæ­¥\">éçº¿ç¨‹åŒæ­¥</h3>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">TestList</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> <span class=\"keyword\">throws</span> InterruptedException &#123;</span><br><span class=\"line\">    List&lt;String&gt; list = <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;String&gt;();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; <span class=\"number\">10000</span>; i++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">new</span> <span class=\"title class_\">Thread</span>(() -&gt; &#123;</span><br><span class=\"line\">        list.add(Thread.currentThread().getName());</span><br><span class=\"line\">      &#125;).start();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    Thread.sleep(<span class=\"number\">3000</span>); <span class=\"comment\">// å»¶æ—¶,ä¸ºäº†ç­‰ä¸Šé¢æ‰§è¡Œå®Œæ¯•</span></span><br><span class=\"line\">    System.out.println(list.size());<span class=\"comment\">//è¾“å‡ºï¼š9992</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"çº¿ç¨‹åŒæ­¥\">çº¿ç¨‹åŒæ­¥</h3>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">TestList</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> <span class=\"keyword\">throws</span> InterruptedException &#123;</span><br><span class=\"line\">    List&lt;String&gt; list = <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;String&gt;();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; <span class=\"number\">10000</span>; i++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">new</span> <span class=\"title class_\">Thread</span>(() -&gt; &#123;</span><br><span class=\"line\">        <span class=\"keyword\">synchronized</span> (list) &#123;</span><br><span class=\"line\">          list.add(Thread.currentThread().getName());</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;).start();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    Thread.sleep(<span class=\"number\">3000</span>); <span class=\"comment\">// å»¶æ—¶,ä¸ºäº†ç­‰ä¸Šé¢æ‰§è¡Œå®Œæ¯•</span></span><br><span class=\"line\">    System.out.println(list.size());<span class=\"comment\">//è¾“å‡ºï¼š10000</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"çº¿ç¨‹å®‰å…¨é›†åˆ\">çº¿ç¨‹å®‰å…¨é›†åˆ</h3>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">JUC</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> <span class=\"keyword\">throws</span> InterruptedException &#123;</span><br><span class=\"line\">    List&lt;String&gt; list = <span class=\"keyword\">new</span> <span class=\"title class_\">CopyOnWriteArrayList</span>&lt;String&gt;();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; <span class=\"number\">10000</span>; i++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">new</span> <span class=\"title class_\">Thread</span>(() -&gt; &#123;</span><br><span class=\"line\">        list.add(Thread.currentThread().getName());</span><br><span class=\"line\">      &#125;).start();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    Thread.sleep(<span class=\"number\">3000</span>);</span><br><span class=\"line\">    System.out.println(list.size());<span class=\"comment\">//è¾“å‡ºï¼š10000</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"æ­»é”\">æ­»é”</h2>\n<p>ä¸¤çº¿ç¨‹åœ¨å„è‡ªæ‹¥æœ‰ä¸€ä¸ªå¯¹è±¡çš„é”æ—¶éƒ½ç­‰å¾…å¯¹æ–¹çº¿ç¨‹é‡Šæ”¾å¯¹è±¡çš„é” ; ä¹Ÿæœ‰å¯èƒ½å¾ˆå¤šçº¿ç¨‹äº§ç”Ÿç¯å½¢/ç½‘çŠ¶æ­»é”.</p>\n<ul>\n<li>\n<p>å¦‚ä¸‹ä¾‹å­å°±ä¼šäº§ç”Ÿæ­»é”</p>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//æ­»é”ï¼šå¤šä¸ªçº¿ç¨‹äº’ç›¸æŠ±ç€å¯¹æ–¹éœ€è¦çš„èµ„æº</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">DeadLock</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">Makeup</span> <span class=\"variable\">m1</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Makeup</span>(<span class=\"number\">0</span>, <span class=\"string\">&quot;å°é»‘&quot;</span>);</span><br><span class=\"line\">    <span class=\"type\">Makeup</span> <span class=\"variable\">m2</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Makeup</span>(<span class=\"number\">1</span>, <span class=\"string\">&quot;å°ç™½&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    m1.start();</span><br><span class=\"line\">    m2.start();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//å£çº¢</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Lipstick</span> &#123;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//é•œå­</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Mirror</span> &#123;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//åŒ–å¦†</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Makeup</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">Thread</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">//éœ€è¦çš„èµ„æºåªæœ‰ä¸€ä»½ï¼Œç”¨staticæ¥ä¿è¯åªæœ‰ä¸€ä»½</span></span><br><span class=\"line\">  <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> <span class=\"type\">Lipstick</span> <span class=\"variable\">lipstick</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Lipstick</span>();</span><br><span class=\"line\">  <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> <span class=\"type\">Mirror</span> <span class=\"variable\">mirror</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Mirror</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"type\">int</span> choice; <span class=\"comment\">//é€‰æ‹©</span></span><br><span class=\"line\">  String name; <span class=\"comment\">//ä½¿ç”¨åŒ–å¦†å“çš„äºº</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"title function_\">Makeup</span><span class=\"params\">(<span class=\"type\">int</span> choice, String name)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.choice = choice;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.name = name;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Override</span></span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">run</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">//åŒ–å¦†</span></span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">      makeup();</span><br><span class=\"line\">    &#125; <span class=\"keyword\">catch</span> (InterruptedException e) &#123;</span><br><span class=\"line\">      e.printStackTrace();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">//åŒ–å¦†ï¼Œäº’ç›¸æŒæœ‰å¯¹æ–¹çš„é”ï¼Œå°±æ˜¯éœ€è¦æ‹¿åˆ°å¯¹æ–¹çš„èµ„æº</span></span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title function_\">makeup</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> InterruptedException &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (choice == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">synchronized</span> (lipstick) &#123; <span class=\"comment\">//è·å¾—å£çº¢çš„é”</span></span><br><span class=\"line\">        System.out.println(<span class=\"built_in\">this</span>.name + <span class=\"string\">&quot;è·å¾—å£çº¢çš„é”&quot;</span>);</span><br><span class=\"line\">        Thread.sleep(<span class=\"number\">1000</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">synchronized</span> (mirror) &#123; <span class=\"comment\">//ä¸€ç§’é’Ÿåæƒ³è·å¾—é•œå­çš„é”</span></span><br><span class=\"line\">          System.out.println(<span class=\"built_in\">this</span>.name + <span class=\"string\">&quot;è·å¾—é•œå­çš„é”&quot;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">synchronized</span> (mirror) &#123; <span class=\"comment\">//è·å¾—é•œå­çš„é”</span></span><br><span class=\"line\">        System.out.println(<span class=\"built_in\">this</span>.name + <span class=\"string\">&quot;è·å¾—é•œå­çš„é”&quot;</span>);</span><br><span class=\"line\">        Thread.sleep(<span class=\"number\">2000</span>);</span><br><span class=\"line\">        <span class=\"keyword\">synchronized</span> (lipstick) &#123; <span class=\"comment\">//ä¸¤ç§’é’Ÿåæƒ³è·å¾—å£çº¢çš„é”</span></span><br><span class=\"line\">          System.out.println(<span class=\"built_in\">this</span>.name + <span class=\"string\">&quot;è·å¾—å£çº¢çš„é”&quot;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<h3 id=\"äº§ç”Ÿæ¡ä»¶\">äº§ç”Ÿæ¡ä»¶</h3>\n<ul>\n<li>\n<p>å››ä¸ªå¿…è¦æ¡ä»¶:</p>\n<ol>\n<li>äº’æ–¥æ¡ä»¶ï¼šä¸€ä¸ªèµ„æºæ¯æ¬¡åªèƒ½è¢«ä¸€ä¸ªè¿›ç¨‹ä½¿ç”¨ã€‚</li>\n<li>è¯·æ±‚ä¸ä¿æŒæ¡ä»¶ï¼šä¸€ä¸ªè¿›ç¨‹å› è¯·æ±‚èµ„æºè€Œé˜»å¡æ—¶ï¼Œå¯¹å·²è·å¾—çš„èµ„æºä¿æŒä¸æ”¾ã€‚</li>\n<li>ä¸å‰¥å¤ºæ¡ä»¶ï¼šè¿›ç¨‹å·²è·å¾—çš„èµ„æºï¼Œåœ¨æœªä½¿ç”¨å®Œä¹‹å‰ä¸èƒ½å¼ºè¡Œå‰¥å¤ºã€‚</li>\n<li>å¾ªç¯ç­‰å¾…æ¡ä»¶ï¼šè‹¥å¹²è¿›ç¨‹ä¹‹é—´å½¢æˆä¸€ç§å¤´å°¾ç›¸æ¥çš„å¾ªç¯ç­‰å¾…èµ„æºå…³ç³»ã€‚</li>\n</ol>\n</li>\n</ul>\n<hr>\n<h3 id=\"è§£å†³æ–¹æ¡ˆ\">è§£å†³æ–¹æ¡ˆ</h3>\n<ul>\n<li>\n<p>ä½¿ç”¨å®ŒåŒæ­¥å¯¹è±¡åç«‹å³é‡Šæ”¾</p>\n<ul>\n<li>æ¯”å¦‚ä¸Šé¢çš„ä¾‹å­ä¸­ä½¿ç”¨å®Œ<code>å£çº¢</code>æˆ–è€…<code>é•œå­</code>åæœªé‡Šæ”¾,å†å»è·å–å¦ä¸€ä¸ªå¯¹è±¡çš„é”,å°±ä¼šäº§ç”Ÿæ­»é”äº†</li>\n<li>ä¿®æ”¹: æŠŠ makeup æ”¹ä¸ºå¦‚ä¸‹</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title function_\">makeup</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> InterruptedException &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (choice == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">synchronized</span> (lipstick) &#123; <span class=\"comment\">// è·å¾—å£çº¢çš„é”</span></span><br><span class=\"line\">      System.out.println(<span class=\"built_in\">this</span>.name + <span class=\"string\">&quot;è·å¾—å£çº¢çš„é”&quot;</span>);</span><br><span class=\"line\">      Thread.sleep(<span class=\"number\">1000</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">synchronized</span> (mirror) &#123; <span class=\"comment\">// ä¸€ç§’é’Ÿåæƒ³è·å¾—é•œå­çš„é”</span></span><br><span class=\"line\">      System.out.println(<span class=\"built_in\">this</span>.name + <span class=\"string\">&quot;è·å¾—é•œå­çš„é”&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">synchronized</span> (mirror) &#123; <span class=\"comment\">// è·å¾—é•œå­çš„é”</span></span><br><span class=\"line\">      System.out.println(<span class=\"built_in\">this</span>.name + <span class=\"string\">&quot;è·å¾—é•œå­çš„é”&quot;</span>);</span><br><span class=\"line\">      Thread.sleep(<span class=\"number\">2000</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">synchronized</span> (lipstick) &#123; <span class=\"comment\">// ä¸¤ç§’é’Ÿåæƒ³è·å¾—å£çº¢çš„é”</span></span><br><span class=\"line\">      System.out.println(<span class=\"built_in\">this</span>.name + <span class=\"string\">&quot;è·å¾—å£çº¢çš„é”&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"å¯é‡å…¥é”-ReentrantLock\">å¯é‡å…¥é”-ReentrantLock</h2>\n<ul>\n<li>\n<p>ReentrantLock (ä¹Ÿå« RT-Lock) ç±»å®ç°äº† java.util.concurrent.locks.Lock æ¥å£</p>\n<p>ä¸ synchronized åŒºåˆ«:</p>\n<ol>\n<li>\n<p>ReentrantLock æ˜¯æ˜¾å¼åŠ è§£é”,å®ƒåªèƒ½é”ä»£ç å—</p>\n</li>\n<li>\n<p>æ€§èƒ½æ¯” synchronized å¥½</p>\n</li>\n</ol>\n</li>\n<li>\n<p>ä½¿ç”¨ä¼˜å…ˆåº¦: ReentrantLock &gt; åŒæ­¥ä»£ç å—(å·²ç»è¿›å…¥äº†æ–¹æ³•ä½“ï¼Œåˆ†é…äº†ç›¸åº”èµ„æº) &gt; åŒæ­¥æ–¹æ³•(åœ¨æ–¹æ³•ä½“ä¹‹å¤–)</p>\n</li>\n<li>\n<p>æ³¨æ„ç‚¹: åŠ è§£é”æœ€å¥½è¦åœ¨ try-finally é‡Œ</p>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">while</span> (<span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">  lock.lock();</span><br><span class=\"line\">  <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> ( ) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// ...</span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"comment\">// ...</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125; <span class=\"keyword\">catch</span> (InterruptedException ignored) &#123;</span><br><span class=\"line\">  &#125; <span class=\"keyword\">finally</span> &#123;</span><br><span class=\"line\">    lock.unlock();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>ä¾‹å­</p>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">TestLock</span> <span class=\"keyword\">implements</span> <span class=\"title class_\">Runnable</span> &#123;</span><br><span class=\"line\">  <span class=\"type\">int</span> <span class=\"variable\">ticketNums</span> <span class=\"operator\">=</span> <span class=\"number\">10</span>;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">final</span> <span class=\"type\">ReentrantLock</span> <span class=\"variable\">lock</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">ReentrantLock</span>(); <span class=\"comment\">// å®šä¹‰Locké”</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Override</span></span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">run</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (<span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">        lock.lock(); <span class=\"comment\">// åŠ é”</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (ticketNums &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">          System.out.println(Thread.currentThread().getName() + <span class=\"string\">&quot;--&gt;æ‹¿åˆ°äº†ç¬¬&quot;</span> + ticketNums-- + <span class=\"string\">&quot;ç¥¨&quot;</span>);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">          <span class=\"keyword\">break</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125; <span class=\"keyword\">finally</span> &#123;</span><br><span class=\"line\">        lock.unlock(); <span class=\"comment\">// è§£é”</span></span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">          Thread.sleep(<span class=\"number\">500</span>);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (InterruptedException e) &#123;</span><br><span class=\"line\">          e.printStackTrace();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">TestLock</span> <span class=\"variable\">testLock</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">TestLock</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">Thread</span>(testLock, <span class=\"string\">&quot;a&quot;</span>).start();</span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">Thread</span>(testLock, <span class=\"string\">&quot;b&quot;</span>).start();</span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">Thread</span>(testLock, <span class=\"string\">&quot;c&quot;</span>).start();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>ç»“æœ</p>\n<figure class=\"highlight xl\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"title\">a</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬<span class=\"number\">10</span>ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬<span class=\"number\">9</span>ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">b</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬<span class=\"number\">8</span>ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">b</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬<span class=\"number\">7</span>ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬<span class=\"number\">6</span>ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">a</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬<span class=\"number\">5</span>ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">b</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬<span class=\"number\">4</span>ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">a</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬<span class=\"number\">3</span>ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬<span class=\"number\">2</span>ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬<span class=\"number\">1</span>ç¥¨</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"å¤šçº¿ç¨‹ä¸å¾ªç¯æ§åˆ¶\">å¤šçº¿ç¨‹ä¸å¾ªç¯æ§åˆ¶</h2>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">TestLock</span> <span class=\"keyword\">implements</span> <span class=\"title class_\">Runnable</span> &#123;</span><br><span class=\"line\">  <span class=\"type\">int</span> <span class=\"variable\">ticketNums</span> <span class=\"operator\">=</span> <span class=\"number\">10</span>;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">final</span> <span class=\"type\">ReentrantLock</span> <span class=\"variable\">lock</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">ReentrantLock</span>(); <span class=\"comment\">// å®šä¹‰Locké”</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Override</span></span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">run</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (ticketNums &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">        lock.lock(); <span class=\"comment\">// åŠ é”</span></span><br><span class=\"line\">        Thread.sleep(<span class=\"number\">500</span>);</span><br><span class=\"line\">        System.out.println(Thread.currentThread().getName() + <span class=\"string\">&quot;--&gt;æ‹¿åˆ°äº†ç¬¬&quot;</span> + ticketNums-- + <span class=\"string\">&quot;ç¥¨&quot;</span>);</span><br><span class=\"line\">      &#125; <span class=\"keyword\">catch</span> (InterruptedException e) &#123;</span><br><span class=\"line\">        e.printStackTrace();</span><br><span class=\"line\">      &#125; <span class=\"keyword\">finally</span> &#123;</span><br><span class=\"line\">        lock.unlock(); <span class=\"comment\">// è§£é”</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">TestLock</span> <span class=\"variable\">testLock</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">TestLock</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">Thread</span>(testLock, <span class=\"string\">&quot;a&quot;</span>).start();</span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">Thread</span>(testLock, <span class=\"string\">&quot;b&quot;</span>).start();</span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">Thread</span>(testLock, <span class=\"string\">&quot;c&quot;</span>).start();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>\n<p>ä¸Šé¢ä»£ç  while å¾ªç¯ä¼šå­˜åœ¨åˆ¤æ–­å¤±è¯¯</p>\n<figure class=\"highlight xl\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬<span class=\"number\">10</span>ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬<span class=\"number\">9</span>ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬<span class=\"number\">8</span>ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬<span class=\"number\">7</span>ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬<span class=\"number\">6</span>ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬<span class=\"number\">5</span>ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬<span class=\"number\">4</span>ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬<span class=\"number\">3</span>ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬<span class=\"number\">2</span>ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬<span class=\"number\">1</span>ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">b</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬<span class=\"number\">0</span>ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">a</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬-<span class=\"number\">1</span>ç¥¨</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>ticketNums åœ¨åˆ¤æ–­ä¹‹åè¢«å¤šæ¬¡ä¿®æ”¹</p>\n<p>ä¸Šé¢ 10~1 æ¬¡éƒ½æ˜¯ c çº¿ç¨‹æ‰§è¡Œçš„,å®ƒæ‰§è¡Œåè½®åˆ° b å’Œ a</p>\n<p>ä½†æ˜¯ b ä¸ a çº¿ç¨‹å®é™…ä¸Šæ˜¯åœ¨<code>ticketNums=10</code>æ—¶è¿›å…¥çš„å¾ªç¯,æ‰€ä»¥ä¼šå¯¼è‡´<code>-1</code>å‡ºç°</p>\n<p>æ‰€ä»¥å»ºè®®é‡åˆ°å¤šçº¿ç¨‹å¾ªç¯æ§åˆ¶æ—¶,ç›´æ¥<code>while(true)</code>,ç„¶ååœ¨å†…éƒ¨ç”¨<code>if</code></p>\n<p>(åè¿‡æ¥æƒ³: æ˜¯å› ä¸º lock ä¸èƒ½åœ¨å¾ªç¯ä¹‹å¤–åŠ )</p>\n</li>\n</ul>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"å»¶è¿Ÿå¯¹å¤šçº¿ç¨‹çš„å½±å“\">å»¶è¿Ÿå¯¹å¤šçº¿ç¨‹çš„å½±å“</h2>\n<blockquote>\n<p>ä¸‹é¢ä¸‰ä¸ªä¾‹å­æ•°æ®éƒ½æ²¡é”™,å…³é”®çœ‹å¹¶å‘æ•°é‡å’Œæ‰§è¡Œæ—¶é—´</p>\n</blockquote>\n<h3 id=\"ä¸€\">ä¸€</h3>\n<ul>\n<li>\n<p>ç¬é—´æ‰§è¡Œå®Œ,èµ„æºè¢«å•ä¸€çº¿ç¨‹å…¨éƒ¨æŠ¢å  (å¹¶éä¸åˆç†,åªä¸è¿‡æ˜¯å¤„ç†å™¨æ²¡åˆ†é…åˆ° B,C)</p>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">TestLock</span> <span class=\"keyword\">implements</span> <span class=\"title class_\">Runnable</span> &#123;</span><br><span class=\"line\">  <span class=\"type\">int</span> <span class=\"variable\">ticketNums</span> <span class=\"operator\">=</span> <span class=\"number\">10</span>;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">final</span> <span class=\"type\">ReentrantLock</span> <span class=\"variable\">lock</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">ReentrantLock</span>(); <span class=\"comment\">// å®šä¹‰Locké”</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Override</span></span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">run</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (<span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">        lock.lock(); <span class=\"comment\">// åŠ é”</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (ticketNums &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">          System.out.println(Thread.currentThread().getName() + <span class=\"string\">&quot;--&gt;æ‹¿åˆ°äº†ç¬¬&quot;</span> + ticketNums-- + <span class=\"string\">&quot;ç¥¨&quot;</span>);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">          <span class=\"keyword\">break</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125; <span class=\"keyword\">finally</span> &#123;</span><br><span class=\"line\">        lock.unlock(); <span class=\"comment\">// è§£é”</span></span><br><span class=\"line\">        <span class=\"comment\">// try &#123;</span></span><br><span class=\"line\">        <span class=\"comment\">//   Thread.sleep(500);</span></span><br><span class=\"line\">        <span class=\"comment\">// &#125; catch (InterruptedException e) &#123;</span></span><br><span class=\"line\">        <span class=\"comment\">//   e.printStackTrace();</span></span><br><span class=\"line\">        <span class=\"comment\">// &#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">TestLock</span> <span class=\"variable\">testLock</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">TestLock</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">Thread</span>(testLock, <span class=\"string\">&quot;a&quot;</span>).start();</span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">Thread</span>(testLock, <span class=\"string\">&quot;b&quot;</span>).start();</span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">Thread</span>(testLock, <span class=\"string\">&quot;c&quot;</span>).start();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight xl\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬<span class=\"number\">9</span>ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬<span class=\"number\">8</span>ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬<span class=\"number\">7</span>ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬<span class=\"number\">6</span>ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬<span class=\"number\">5</span>ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬<span class=\"number\">4</span>ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬<span class=\"number\">3</span>ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬<span class=\"number\">2</span>ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬<span class=\"number\">1</span>ç¥¨</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<h3 id=\"äºŒ\">äºŒ</h3>\n<ul>\n<li>\n<p>ç»™ä»–åŠ ä¸ªå»¶è¿Ÿè¯•è¯•: ä¸‰çº¿ç¨‹å¹¶è¡Œ,èµ„æºåˆ†é…åˆç†</p>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">run</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (<span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">      lock.lock(); <span class=\"comment\">// åŠ é”</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (ticketNums &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">        System.out.println(Thread.currentThread().getName() + <span class=\"string\">&quot;--&gt;æ‹¿åˆ°äº†ç¬¬&quot;</span> + ticketNums-- + <span class=\"string\">&quot;ç¥¨&quot;</span>);</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">break</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">finally</span> &#123;</span><br><span class=\"line\">      lock.unlock(); <span class=\"comment\">// è§£é”</span></span><br><span class=\"line\">      <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">        Thread.sleep(<span class=\"number\">500</span>);</span><br><span class=\"line\">      &#125; <span class=\"keyword\">catch</span> (InterruptedException e) &#123;</span><br><span class=\"line\">        e.printStackTrace();</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight xl\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"title\">b</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬<span class=\"number\">10</span>ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">a</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬<span class=\"number\">9</span>ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬<span class=\"number\">8</span>ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">b</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬<span class=\"number\">7</span>ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">a</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬<span class=\"number\">6</span>ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬<span class=\"number\">5</span>ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬<span class=\"number\">4</span>ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">a</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬<span class=\"number\">3</span>ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">b</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬<span class=\"number\">2</span>ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">b</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬<span class=\"number\">1</span>ç¥¨</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<h3 id=\"ä¸‰\">ä¸‰</h3>\n<ul>\n<li>\n<p>å†è¯•è¯•å»¶è¿Ÿä¹‹åè§£å¼€åŒæ­¥é”: å•çº¿æ‰§è¡Œ,èµ„æºåˆ†é…ä¸å¹³è¡¡</p>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">run</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (<span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">      lock.lock(); <span class=\"comment\">// åŠ é”</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (ticketNums &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">        System.out.println(Thread.currentThread().getName() + <span class=\"string\">&quot;--&gt;æ‹¿åˆ°äº†ç¬¬&quot;</span> + ticketNums-- + <span class=\"string\">&quot;ç¥¨&quot;</span>);</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">break</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">finally</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">        Thread.sleep(<span class=\"number\">500</span>);</span><br><span class=\"line\">      &#125; <span class=\"keyword\">catch</span> (InterruptedException e) &#123;</span><br><span class=\"line\">        e.printStackTrace();</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      lock.unlock(); <span class=\"comment\">// è§£é”</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight xl\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"title\">a</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬<span class=\"number\">10</span>ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">a</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬<span class=\"number\">9</span>ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬<span class=\"number\">8</span>ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬<span class=\"number\">7</span>ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬<span class=\"number\">6</span>ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬<span class=\"number\">5</span>ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬<span class=\"number\">4</span>ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬<span class=\"number\">3</span>ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬<span class=\"number\">2</span>ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">b</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬<span class=\"number\">1</span>ç¥¨</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"çº¿ç¨‹é€šä¿¡-wait-notify\">çº¿ç¨‹é€šä¿¡-wait-notify</h2>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Clerk</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"type\">int</span> productNumber; <span class=\"comment\">// å”®è´§å‘˜æ‰‹ä¸­çš„å•†å“æ•°</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">ProducterAndCustomer</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">Clerk</span> <span class=\"variable\">clerk</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Clerk</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">Thread</span>(() -&gt; &#123;</span><br><span class=\"line\">      <span class=\"keyword\">while</span> (<span class=\"literal\">true</span>) &#123; <span class=\"comment\">//ä¸€ç›´ç”Ÿäº§</span></span><br><span class=\"line\">        <span class=\"keyword\">synchronized</span> (clerk) &#123;</span><br><span class=\"line\">          <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (clerk.productNumber == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">              System.out.println(<span class=\"string\">&quot;äº§å“ä¸º0, å¼€å§‹ç”Ÿäº§&quot;</span>);</span><br><span class=\"line\">              <span class=\"keyword\">while</span> (clerk.productNumber &lt; <span class=\"number\">5</span>) &#123;</span><br><span class=\"line\">                System.out.println(<span class=\"string\">&quot;åº“å­˜: &quot;</span> + clerk.productNumber++);</span><br><span class=\"line\">                Thread.sleep(<span class=\"number\">500</span>);</span><br><span class=\"line\">              &#125;</span><br><span class=\"line\">              clerk.notifyAll();</span><br><span class=\"line\">              <span class=\"comment\">//å•†å“æ•°ä¸ä¸º0æ—¶è®©clerkç­‰å¾…</span></span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">              <span class=\"comment\">// clerk.wait();</span></span><br><span class=\"line\">              clerk.wait();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125; <span class=\"keyword\">catch</span> (InterruptedException e) &#123;</span><br><span class=\"line\">            e.printStackTrace();</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;, <span class=\"string\">&quot;ç”Ÿäº§è€…&quot;</span>).start();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">Thread</span>(() -&gt; &#123;</span><br><span class=\"line\">      <span class=\"keyword\">while</span> (<span class=\"literal\">true</span>) &#123; <span class=\"comment\">//ä¸€ç›´æ¶ˆè´¹</span></span><br><span class=\"line\">        <span class=\"keyword\">synchronized</span> (clerk) &#123;</span><br><span class=\"line\">          <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (clerk.productNumber == <span class=\"number\">5</span>) &#123;</span><br><span class=\"line\">              System.out.println(<span class=\"string\">&quot;äº§å“ä¸º5,å¼€å§‹æ¶ˆè´¹&quot;</span>);</span><br><span class=\"line\">              <span class=\"keyword\">while</span> (clerk.productNumber &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">                System.out.println(<span class=\"string\">&quot;åº“å­˜: &quot;</span> + clerk.productNumber--);</span><br><span class=\"line\">                <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">                  Thread.sleep(<span class=\"number\">500</span>);</span><br><span class=\"line\">                &#125; <span class=\"keyword\">catch</span> (InterruptedException e) &#123;</span><br><span class=\"line\">                  e.printStackTrace();</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">              &#125;</span><br><span class=\"line\">              clerk.notifyAll();</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">              <span class=\"comment\">// clerk.wait();</span></span><br><span class=\"line\">              clerk.wait();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125; <span class=\"keyword\">catch</span> (InterruptedException e) &#123;</span><br><span class=\"line\">            e.printStackTrace();</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;, <span class=\"string\">&quot;æ¶ˆè´¹è€…&quot;</span>).start();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>\n<p>ç»“æœ</p>\n<figure class=\"highlight makefile\"><table><tr><td class=\"code\"><pre><span class=\"line\">äº§å“ä¸º0, å¼€å§‹ç”Ÿäº§</span><br><span class=\"line\"><span class=\"section\">åº“å­˜: 0</span></span><br><span class=\"line\"><span class=\"section\">åº“å­˜: 1</span></span><br><span class=\"line\"><span class=\"section\">åº“å­˜: 2</span></span><br><span class=\"line\"><span class=\"section\">åº“å­˜: 3</span></span><br><span class=\"line\"><span class=\"section\">åº“å­˜: 4</span></span><br><span class=\"line\">äº§å“ä¸º5,å¼€å§‹æ¶ˆè´¹</span><br><span class=\"line\"><span class=\"section\">åº“å­˜: 5</span></span><br><span class=\"line\"><span class=\"section\">åº“å­˜: 4</span></span><br><span class=\"line\"><span class=\"section\">åº“å­˜: 3</span></span><br><span class=\"line\"><span class=\"section\">åº“å­˜: 2</span></span><br><span class=\"line\"><span class=\"section\">åº“å­˜: 1</span></span><br><span class=\"line\">äº§å“ä¸º0, å¼€å§‹ç”Ÿäº§</span><br><span class=\"line\"><span class=\"section\">åº“å­˜: 0</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"çº¿ç¨‹æ± \">çº¿ç¨‹æ± </h2>\n<ul>\n<li>\n<p>çº¿ç¨‹æ± çš„å‡ºç°æ˜¯ä¸ºäº†æ–¹ä¾¿å¤§é‡çš„çº¿ç¨‹åˆ›å»º,å›æ”¶å’Œç®¡ç†</p>\n</li>\n<li>\n<p>éœ€è¦äº†è§£ <code>ExecutorService</code> çº¿ç¨‹æ± æ¥å£;ä»¥åŠ <code>Executors</code> çº¿ç¨‹æ± å·¥å…·ç±».</p>\n<ul>\n<li>\n<p>corePoolSize: æ ¸å¿ƒæ± çš„å¤§å°</p>\n</li>\n<li>\n<p>maximumPoolSize:æœ€å¤§çº¿ç¨‹æ•°</p>\n</li>\n<li>\n<p>keepAliveTime: çº¿ç¨‹æ²¡æœ‰ä»»åŠ¡æ—¶æœ€å¤šä¿æŒå¤šé•¿æ—¶é—´åä¼šç»ˆæ­¢</p>\n</li>\n<li>\n<p>void execute(Runnable command) :æ‰§è¡Œä»»åŠ¡/å‘½ä»¤,æ²¡æœ‰è¿”å›å€¼ï¼Œä¸€èˆ¬ç”¨æ¥æ‰§ Runnable</p>\n</li>\n<li>\n<p><T> Future<T> submit(Callable<T> task) :æ‰§è¡Œä»»åŠ¡,æœ‰è¿”å›å€¼ï¼Œä¸€èˆ¬ç”¨æ¥æ‰§è¡Œ Callable</p>\n</li>\n</ul>\n</li>\n<li>\n<p>ä¾‹å­</p>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">TestThreadPool</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> <span class=\"keyword\">throws</span> ExecutionException, InterruptedException &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 1.åˆ›å»ºæœåŠ¡ï¼Œåˆ›å»ºçº¿ç¨‹æ± </span></span><br><span class=\"line\">    <span class=\"type\">ExecutorService</span> <span class=\"variable\">service</span> <span class=\"operator\">=</span> Executors.newFixedThreadPool(<span class=\"number\">10</span>);</span><br><span class=\"line\">    <span class=\"type\">Runnable</span> <span class=\"variable\">runnable</span> <span class=\"operator\">=</span> () -&gt; &#123;</span><br><span class=\"line\">      System.out.println(Thread.currentThread().getName() + <span class=\"string\">&quot; runnable&quot;</span>);</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    Callable&lt;String&gt; callable = () -&gt; &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> Thread.currentThread().getName() + <span class=\"string\">&quot; callable&quot;</span>;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 2. æ‰§è¡Œ</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; <span class=\"number\">5</span>; i++) &#123;</span><br><span class=\"line\">      service.execute(runnable);</span><br><span class=\"line\">      System.out.println(service.submit(callable).get());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 3.å…³é—­è¿æ¥</span></span><br><span class=\"line\">    service.shutdown();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">  pool-1-thread-1 runnable</span></span><br><span class=\"line\"><span class=\"comment\">  pool-1-thread-2 callable</span></span><br><span class=\"line\"><span class=\"comment\">  pool-1-thread-3 runnable</span></span><br><span class=\"line\"><span class=\"comment\">  pool-1-thread-4 callable</span></span><br><span class=\"line\"><span class=\"comment\">  pool-1-thread-5 runnable</span></span><br><span class=\"line\"><span class=\"comment\">  pool-1-thread-6 callable</span></span><br><span class=\"line\"><span class=\"comment\">  pool-1-thread-7 runnable</span></span><br><span class=\"line\"><span class=\"comment\">  pool-1-thread-8 callable</span></span><br><span class=\"line\"><span class=\"comment\">  pool-1-thread-9 runnable</span></span><br><span class=\"line\"><span class=\"comment\">  pool-1-thread-10 callable</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kity@2.0.4/dist/kity.min.js\"></script><script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js\"></script><script defer=\"true\" type=\"text&#x2F;javascript\" src=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js\"></script><link rel=\"stylesheet\" type=\"text&#x2F;css\" href=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css\">",
            "tags": [
                "ç¬”è®°",
                "Java",
                "å¤šçº¿ç¨‹"
            ]
        },
        {
            "id": "https://blog.weidows.tech/post/lang/Java/%E5%A4%9A%E7%BA%BF%E7%A8%8B/1/",
            "url": "https://blog.weidows.tech/post/lang/Java/%E5%A4%9A%E7%BA%BF%E7%A8%8B/1/",
            "title": "ğŸŒ­å›é¡¾ä¸€ä¸‹å¤šçº¿ç¨‹-å£¹",
            "date_published": "2021-02-08T10:59:13.000Z",
            "content_html": "<h1>å›é¡¾ä¸€ä¸‹å¤šçº¿ç¨‹-å£¹</h1>\n<!--\n * @?: *********************************************************************\n * @Author: Weidows\n * @Date: 2021-02-08 18:59:13\n * @LastEditors: Weidows\n * @LastEditTime: 2023-04-20 18:14:39\n * @FilePath: \\Blog-private\\source\\_posts\\Java\\å¤šçº¿ç¨‹\\1.md\n * @Description:\n * @!: *********************************************************************\n-->\n<blockquote class=\"pullquote mindmap mindmap-md\"><ul>\n<li><a href=\"#%E5%9B%9E%E9%A1%BE%E4%B8%80%E4%B8%8B%E5%A4%9A%E7%BA%BF%E7%A8%8B-%E5%A3%B9\">å›é¡¾ä¸€ä¸‹å¤šçº¿ç¨‹-å£¹</a>\n<ul>\n<li><a href=\"#maven-%E8%87%AA%E5%8A%A8%E5%AF%BC%E5%85%A5-jar-%E5%8C%85\">Maven è‡ªåŠ¨å¯¼å…¥ jar åŒ…</a></li>\n<li><a href=\"#%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%AE%9E%E7%8E%B0-%E5%B9%B6%E8%A1%8C%E4%B8%8B%E8%BD%BD\">å¤šçº¿ç¨‹å®ç°-å¹¶è¡Œä¸‹è½½</a>\n<ul>\n<li><a href=\"#extends-thread\">extends-Thread</a></li>\n<li><a href=\"#implements-runnable-%E6%9C%80%E5%B8%B8%E7%94%A8\">implements-Runnable-æœ€å¸¸ç”¨</a></li>\n<li><a href=\"#implements-callable\">implements-Callable</a></li>\n</ul>\n</li>\n<li><a href=\"#%E9%9D%99%E6%80%81%E4%BB%A3%E7%90%86\">é™æ€ä»£ç†</a></li>\n<li><a href=\"#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F-%E7%BA%BF%E7%A8%8B%E7%8A%B6%E6%80%81\">ç”Ÿå‘½å‘¨æœŸ-çº¿ç¨‹çŠ¶æ€</a></li>\n<li><a href=\"#thread-%E6%93%8D%E4%BD%9C\">Thread-æ“ä½œ</a>\n<ul>\n<li><a href=\"#%E5%A6%82%E4%BD%95%E5%81%9C%E6%AD%A2%E7%BA%BF%E7%A8%8B\">å¦‚ä½•åœæ­¢çº¿ç¨‹</a></li>\n<li><a href=\"#%E7%BA%BF%E7%A8%8B%E4%BC%91%E7%9C%A0-sleep\">çº¿ç¨‹ä¼‘çœ -sleep</a></li>\n<li><a href=\"#%E7%BA%BF%E7%A8%8B%E8%AE%A9%E6%AD%A5-yield\">çº¿ç¨‹è®©æ­¥-yield</a></li>\n<li><a href=\"#%E7%BA%BF%E7%A8%8B%E6%8F%92%E9%98%9F-join\">çº¿ç¨‹æ’é˜Ÿ-Join</a></li>\n<li><a href=\"#%E7%BA%BF%E7%A8%8B%E4%BC%98%E5%85%88%E7%BA%A7-priority\">çº¿ç¨‹ä¼˜å…ˆçº§-Priority</a></li>\n<li><a href=\"#%E5%AE%88%E6%8A%A4%E7%BA%BF%E7%A8%8B-daemon\">å®ˆæŠ¤çº¿ç¨‹-daemon</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</blockquote>\n<ul>\n<li>\n<p>main()ä¸ºä¸»çº¿ç¨‹ï¼Œç³»ç»Ÿçš„å…¥å£</p>\n</li>\n<li>\n<p>ä¸€ä¸ªè¿›ç¨‹ä¸­ï¼Œå¦‚æœå¼€è¾Ÿäº†å¤šä¸ªçº¿ç¨‹ï¼Œçº¿ç¨‹çš„è¿è¡Œç”±è°ƒåº¦å™¨å®‰æ’ï¼Œè°ƒåº¦å™¨æ˜¯ä¸æ“ä½œç³»ç»Ÿç´§å¯†ç›¸å…³çš„ï¼Œå…ˆåé¡ºåºæ˜¯ä¸èƒ½è®¤ä¸ºå¹²é¢„çš„(æ— æ³•é¢„æµ‹çº¿ç¨‹è¿è¡Œé¡ºåº)</p>\n</li>\n<li>\n<p>ç¨‹åºè¿è¡Œæ—¶,é»˜è®¤ä¼šæœ‰å¤šä¸ªçº¿ç¨‹,æ¯”å¦‚ main å’Œ gc(åƒåœ¾å›æ”¶å™¨) ç­‰ç­‰</p>\n</li>\n</ul>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"Maven-è‡ªåŠ¨å¯¼å…¥-jar-åŒ…\">Maven è‡ªåŠ¨å¯¼å…¥ jar åŒ…</h2>\n<ul>\n<li>\n<p>æ¯”å¦‚æˆ‘ä»¬è¦ç”¨ Maven å¯¼å…¥ <a href=\"https://mvnrepository.com/artifact/commons-io/commons-io\">Apache çš„ commons-io</a></p>\n<p>ç„¶åé€‰æ‹©ä¸€ä¸ªç‰ˆæœ¬ç‚¹è¿›å»</p>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GVP0Qc.png\" alt=\"20210211010341\" />\n<p>å¤åˆ¶æ¡†é‡Œçš„å†…å®¹,æ‰¾åˆ° Java é¡¹ç›®<code>pom.xml</code>æ–‡ä»¶,ç²˜è´´åˆ°å¦‚ä¸‹åœ°æ–¹</p>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GV4ttE.png\" alt=\"20210211010614\" />\n<p>ç„¶åå³é”®<code>pom.xml</code>-&gt;Maven-&gt;é‡æ–°åŠ è½½é¡¹ç›®.</p>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GVSRz6.png\" alt=\"20210211010920\" />\n<p>åœ¨ VScode å†…çš„è¯ä¹Ÿæœ‰è¿™ç§æ“ä½œ:</p>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GVS7C6.png\" alt=\"20210211011109\" />\n<p>å½“ç„¶å…³é—­ç„¶åé‡æ–°æ‰“å¼€ IDE ä¹Ÿæ˜¯å¯ä»¥çš„,Maven ä¼šè‡ªåŠ¨æ›´æ–°,æ›´æ–°åå¦‚ä¸‹,åŒ…å°±å¯¼è¿›æ¥äº†:</p>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GVAD6P.png\" alt=\"20210211011240\" />\n</li>\n</ul>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"å¤šçº¿ç¨‹å®ç°-å¹¶è¡Œä¸‹è½½\">å¤šçº¿ç¨‹å®ç°-å¹¶è¡Œä¸‹è½½</h2>\n<h3 id=\"extends-Thread\">extends-Thread</h3>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Downloader1</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">Thread</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> String url;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> String fileName;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"title function_\">Downloader1</span><span class=\"params\">(String url, String fileName)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.url = url;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.fileName = fileName;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Override</span></span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">run</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">      FileUtils.copyURLToFile(<span class=\"keyword\">new</span> <span class=\"title class_\">URL</span>(url), <span class=\"keyword\">new</span> <span class=\"title class_\">File</span>(fileName));</span><br><span class=\"line\">      System.out.println(<span class=\"string\">&quot;Downloader1 is running&quot;</span>);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">catch</span> (IOException e) &#123;</span><br><span class=\"line\">      e.printStackTrace();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">Downloader1</span>(<span class=\"string\">&quot;https://pan.weidows.tech/d/local/img/divider.png&quot;</span>, <span class=\"string\">&quot;divider.png&quot;</span>).start();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"implements-Runnable-æœ€å¸¸ç”¨\">implements-Runnable-æœ€å¸¸ç”¨</h3>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> twenty.november.thread.downloader;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.File;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.IOException;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.net.MalformedURLException;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.net.URL;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.commons.io.FileUtils;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Downloader</span> <span class=\"keyword\">implements</span> <span class=\"title class_\">Runnable</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> String url;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> String fileName;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"title function_\">Downloader</span><span class=\"params\">(String url, String fileName)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.url = url;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.fileName = fileName;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Override</span></span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">run</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">      FileUtils.copyURLToFile(<span class=\"keyword\">new</span> <span class=\"title class_\">URL</span>(url), <span class=\"keyword\">new</span> <span class=\"title class_\">File</span>(fileName));</span><br><span class=\"line\">      System.out.println(<span class=\"string\">&quot;Download finished.&quot;</span>);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">catch</span> (MalformedURLException e) &#123;</span><br><span class=\"line\">      e.printStackTrace();</span><br><span class=\"line\">    &#125; <span class=\"keyword\">catch</span> (IOException e) &#123;</span><br><span class=\"line\">      e.printStackTrace();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">Thread</span>(<span class=\"keyword\">new</span> <span class=\"title class_\">Downloader</span>(<span class=\"string\">&quot;https://pan.weidows.tech/d/local/img/divider.png&quot;</span>,</span><br><span class=\"line\">        <span class=\"string\">&quot;./1.png&quot;</span>)).start();</span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">Thread</span>(<span class=\"keyword\">new</span> <span class=\"title class_\">Downloader</span>(<span class=\"string\">&quot;https://pan.weidows.tech/d/local/img/divider.png&quot;</span>,</span><br><span class=\"line\">        <span class=\"string\">&quot;./2.png&quot;</span>)).start();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"implements-Callable\">implements-Callable</h3>\n<p>Callable ä¸ Runnable åŒºåˆ«ä¸ºå®ƒå¯ä»¥å¸¦æœ‰è¿”å›å€¼ç±»å‹,å¯ä»¥æŠ›å‡ºå¼‚å¸¸</p>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> twenty.november.thread.downloader;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.File;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.IOException;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.net.MalformedURLException;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.net.URL;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.concurrent.Callable;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.concurrent.ExecutionException;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.concurrent.ExecutorService;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.concurrent.Executors;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.concurrent.Future;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.commons.io.FileUtils;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Downloader2</span> <span class=\"keyword\">implements</span> <span class=\"title class_\">Callable</span>&lt;Object&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> String url;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> String fileName;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Override</span></span><br><span class=\"line\">  <span class=\"keyword\">public</span> Object <span class=\"title function_\">call</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> MalformedURLException, IOException &#123;</span><br><span class=\"line\">    FileUtils.copyURLToFile(<span class=\"keyword\">new</span> <span class=\"title class_\">URL</span>(url), <span class=\"keyword\">new</span> <span class=\"title class_\">File</span>(fileName));</span><br><span class=\"line\">    System.out.println(fileName + <span class=\"string\">&quot;ä¸‹è½½å®Œæˆ&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"title function_\">Downloader2</span><span class=\"params\">(String url, String fileName)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.url = url;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.fileName = fileName;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// åˆ›å»ºçº¿ç¨‹æ± </span></span><br><span class=\"line\">    <span class=\"type\">ExecutorService</span> <span class=\"variable\">ser</span> <span class=\"operator\">=</span> Executors.newFixedThreadPool(<span class=\"number\">2</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// æäº¤æ‰§è¡Œ</span></span><br><span class=\"line\">    Future&lt;Object&gt; submit1 = ser</span><br><span class=\"line\">        .submit(<span class=\"keyword\">new</span> <span class=\"title class_\">Downloader2</span>(<span class=\"string\">&quot;https://pan.weidows.tech/d/local/img/divider.png&quot;</span>,</span><br><span class=\"line\">            <span class=\"string\">&quot;./1.png&quot;</span>));</span><br><span class=\"line\">    Future&lt;Object&gt; submit2 = ser</span><br><span class=\"line\">        .submit(<span class=\"keyword\">new</span> <span class=\"title class_\">Downloader2</span>(<span class=\"string\">&quot;https://pan.weidows.tech/d/local/img/divider.png&quot;</span>,</span><br><span class=\"line\">            <span class=\"string\">&quot;./2.png&quot;</span>));</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// è·å–ç»“æœ</span></span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">      <span class=\"type\">Object</span> <span class=\"variable\">result1</span> <span class=\"operator\">=</span> submit1.get();</span><br><span class=\"line\">      <span class=\"type\">Object</span> <span class=\"variable\">result2</span> <span class=\"operator\">=</span> submit2.get();</span><br><span class=\"line\">    &#125; <span class=\"keyword\">catch</span> (InterruptedException | ExecutionException e) &#123;</span><br><span class=\"line\">      e.printStackTrace();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// å…³é—­æœåŠ¡</span></span><br><span class=\"line\">    ser.shutdown();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"é™æ€ä»£ç†\">é™æ€ä»£ç†</h2>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> twenty.november.proxy.static_proxy;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">StaticProxy</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">MarryProxy</span> <span class=\"variable\">proxy</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">MarryProxy</span>(<span class=\"keyword\">new</span> <span class=\"title class_\">Me</span>(<span class=\"string\">&quot;Weidows&quot;</span>));</span><br><span class=\"line\">    proxy.Marry();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * ! ä»£ç†å’Œè¢«ä»£ç†ç±»éƒ½å®ç°Marryæ¥å£</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">interface</span> <span class=\"title class_\">Marry</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">void</span> <span class=\"title function_\">Marry</span><span class=\"params\">()</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * ! è¢«ä»£ç†è€…</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Me</span> <span class=\"keyword\">implements</span> <span class=\"title class_\">Marry</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">public</span> String name;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Override</span></span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">Marry</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">    System.out.println(name + <span class=\"string\">&quot;ç»“å©šäº†&quot;</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"title function_\">Me</span><span class=\"params\">(String name)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.name = name;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * ! ä»£ç†</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">MarryProxy</span> <span class=\"keyword\">implements</span> <span class=\"title class_\">Marry</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> Me target;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Override</span></span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">Marry</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">    before();</span><br><span class=\"line\">    target.Marry();</span><br><span class=\"line\">    after();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title function_\">after</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">    System.out.println(target.name + <span class=\"string\">&quot;ç»“å©šå&quot;</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title function_\">before</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">    System.out.println(target.name + <span class=\"string\">&quot;ç»“å©šå‰&quot;</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"title function_\">MarryProxy</span><span class=\"params\">(Me target)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.target = target;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"ç”Ÿå‘½å‘¨æœŸ-çº¿ç¨‹çŠ¶æ€\">ç”Ÿå‘½å‘¨æœŸ-çº¿ç¨‹çŠ¶æ€</h2>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GVmsBA.png\" alt=\"20210219173514\" />\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GVmJzz.png\" alt=\"20210221232406\" />\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">TestState</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> <span class=\"keyword\">throws</span> InterruptedException &#123;</span><br><span class=\"line\">    <span class=\"type\">Thread</span> <span class=\"variable\">thread</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Thread</span>(() -&gt; &#123;</span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; <span class=\"number\">5</span>; i++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">          Thread.sleep(<span class=\"number\">1000</span>);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (InterruptedException e) &#123;</span><br><span class=\"line\">          e.printStackTrace();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      System.out.println(<span class=\"string\">&quot;///&quot;</span>);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//è§‚å¯ŸçŠ¶æ€</span></span><br><span class=\"line\">    Thread.<span class=\"type\">State</span> <span class=\"variable\">state</span> <span class=\"operator\">=</span> thread.getState();</span><br><span class=\"line\">    System.out.println(state); <span class=\"comment\">//NEW</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//è§‚å¯Ÿåå¯åŠ¨</span></span><br><span class=\"line\">    thread.start(); <span class=\"comment\">//å¯åŠ¨çº¿ç¨‹</span></span><br><span class=\"line\">    state = thread.getState();</span><br><span class=\"line\">    System.out.println(); <span class=\"comment\">//Run</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">while</span> (state != Thread.State.TERMINATED) &#123; <span class=\"comment\">//åªè¦çº¿ç¨‹ä¸åœæ­¢ï¼Œå°±ä¸€ç›´è¾“å‡ºçŠ¶æ€</span></span><br><span class=\"line\">      Thread.sleep(<span class=\"number\">100</span>);</span><br><span class=\"line\">      state = thread.getState(); <span class=\"comment\">//æ›´æ–°çº¿ç¨‹çŠ¶æ€</span></span><br><span class=\"line\">      System.out.println(state); <span class=\"comment\">//è¾“å‡ºçŠ¶æ€</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">//thread.start();   æŠ¥é”™ï¼Œå› ä¸ºå·²ç»æ­»äº¡çš„çº¿ç¨‹ä¸èƒ½å†å¯åŠ¨</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"Thread-æ“ä½œ\">Thread-æ“ä½œ</h2>\n<h3 id=\"å¦‚ä½•åœæ­¢çº¿ç¨‹\">å¦‚ä½•åœæ­¢çº¿ç¨‹</h3>\n<ol>\n<li>åˆ©ç”¨å¾ªç¯è®¡æ•°ï¼Œä¸å»ºè®®æ­»å¾ªç¯</li>\n<li>ä½¿ç”¨æ ‡å¿—ä½â€”â€”&gt;è®¾ç½®ä¸€ä¸ªæ ‡å¿—ä½</li>\n<li><code>ä¸è¦ç”¨</code> stop æˆ–è€… destroy ç­‰ JDK-deprecated çš„æ–¹æ³•</li>\n</ol>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">TestStop</span> <span class=\"keyword\">implements</span> <span class=\"title class_\">Runnable</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">//1.è®¾ç½®ä¸€ä¸ªæ ‡å¿—ä½</span></span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"type\">boolean</span> <span class=\"variable\">flag</span> <span class=\"operator\">=</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Override</span></span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">run</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; <span class=\"comment\">// è¿è¡Œæ¬¡æ•°</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> (flag) &#123;</span><br><span class=\"line\">      System.out.println(<span class=\"string\">&quot;Thread.run()è¿è¡Œæ¬¡æ•°: &quot;</span> + i++);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">//2.è®¾ç½®ä¸€ä¸ªå…¬å¼€çš„æ–¹æ³•åœæ­¢çº¿ç¨‹ï¼Œè½¬æ¢æ ‡å¿—ä½</span></span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">stop</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.flag = <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">TestStop</span> <span class=\"variable\">testStop</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">TestStop</span>();</span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">Thread</span>(testStop).start();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; <span class=\"number\">100</span>; i++) &#123;</span><br><span class=\"line\">      System.out.println(<span class=\"string\">&quot;main: &quot;</span> + i);</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (i == <span class=\"number\">90</span>) &#123;</span><br><span class=\"line\">        testStop.stop();</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;testStopçº¿ç¨‹åœæ­¢äº†,mainçº¿ç¨‹è¿˜åœ¨è¿è¡Œ&quot;</span>);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h3 id=\"çº¿ç¨‹ä¼‘çœ -sleep\">çº¿ç¨‹ä¼‘çœ -sleep</h3>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">TestSleep</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">      <span class=\"comment\">// åç§’å€’è®¡æ—¶</span></span><br><span class=\"line\">      tenSecondsDown();</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// æ¯ç§’è¾“å‡ºç³»ç»Ÿå½“å‰æ—¶é—´</span></span><br><span class=\"line\">      countTime();</span><br><span class=\"line\">    &#125; <span class=\"keyword\">catch</span> (InterruptedException e) &#123;</span><br><span class=\"line\">      e.printStackTrace();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">tenSecondsDown</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> InterruptedException &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">num</span> <span class=\"operator\">=</span> <span class=\"number\">10</span>;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (<span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">      Thread.sleep(<span class=\"number\">1000</span>);</span><br><span class=\"line\">      System.out.println(num--);</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (num == <span class=\"number\">0</span>)</span><br><span class=\"line\">        <span class=\"keyword\">break</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">countTime</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">Date</span> <span class=\"variable\">startTime</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>(System.currentTimeMillis()); <span class=\"comment\">//è·å–ç³»ç»Ÿå½“å‰æ—¶é—´</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> (<span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">        System.out.println(<span class=\"keyword\">new</span> <span class=\"title class_\">SimpleDateFormat</span>(<span class=\"string\">&quot;HH:mm:ss&quot;</span>).format(startTime));</span><br><span class=\"line\">        startTime = <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>(System.currentTimeMillis()); <span class=\"comment\">//æ›´æ–°å½“å‰æ—¶é—´</span></span><br><span class=\"line\">        Thread.sleep(<span class=\"number\">1000</span>);</span><br><span class=\"line\">      &#125; <span class=\"keyword\">catch</span> (InterruptedException e) &#123;</span><br><span class=\"line\">        e.printStackTrace();</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>æµ‹è¯•æ•°æ®æ—¶å¯ä»¥é€šè¿‡å»¶æ—¶æ¥æ”¾å¤§çº¿ç¨‹é—®é¢˜çš„å‘ç”Ÿæ€§.</li>\n</ul>\n<hr>\n<h3 id=\"çº¿ç¨‹è®©æ­¥-yield\">çº¿ç¨‹è®©æ­¥-yield</h3>\n<ul>\n<li>ä»¤å½“å‰çº¿ç¨‹<code>æš‚åœä½†å¹¶ä¸é˜»å¡</code>,æœ‰å¯èƒ½è®©æ­¥å¹¶ä¸æˆåŠŸ.</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">TestYield</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// MyYield myYield = new MyYield();</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// * åŒ¿åå†…éƒ¨ç±»çš„æ–¹å¼</span></span><br><span class=\"line\">    <span class=\"comment\">// Runnable myYield = new Runnable() &#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//   @Override</span></span><br><span class=\"line\">    <span class=\"comment\">//   public void run() &#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//     System.out.println(Thread.currentThread().getName() + &quot;çº¿ç¨‹å¼€å§‹æ‰§è¡Œ&quot;);</span></span><br><span class=\"line\">    <span class=\"comment\">//     Thread.yield(); //ç¤¼è®©</span></span><br><span class=\"line\">    <span class=\"comment\">//     System.out.println(Thread.currentThread().getName() + &quot;çº¿ç¨‹åœæ­¢æ‰§è¡Œ&quot;);</span></span><br><span class=\"line\">    <span class=\"comment\">//   &#125;</span></span><br><span class=\"line\">    <span class=\"comment\">// &#125;;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// * Lambdaè¡¨è¾¾å¼æ–¹å¼</span></span><br><span class=\"line\">    <span class=\"type\">Runnable</span> <span class=\"variable\">myYield</span> <span class=\"operator\">=</span> () -&gt; &#123;</span><br><span class=\"line\">      System.out.println(Thread.currentThread().getName() + <span class=\"string\">&quot;çº¿ç¨‹å¼€å§‹æ‰§è¡Œ&quot;</span>);</span><br><span class=\"line\">      Thread.<span class=\"keyword\">yield</span>(); <span class=\"comment\">//ç¤¼è®©</span></span><br><span class=\"line\">      System.out.println(Thread.currentThread().getName() + <span class=\"string\">&quot;çº¿ç¨‹åœæ­¢æ‰§è¡Œ&quot;</span>);</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">Thread</span>(myYield, <span class=\"string\">&quot;a&quot;</span>).start();</span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">Thread</span>(myYield, <span class=\"string\">&quot;b&quot;</span>).start();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// * æ–°å»ºç±»çš„æ–¹å¼å®ç°æ¥å£</span></span><br><span class=\"line\"><span class=\"comment\">// class MyYield implements Runnable &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//   @Override</span></span><br><span class=\"line\"><span class=\"comment\">//   public void run() &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//     System.out.println(Thread.currentThread().getName() + &quot;çº¿ç¨‹å¼€å§‹æ‰§è¡Œ&quot;);</span></span><br><span class=\"line\"><span class=\"comment\">//     Thread.yield(); //ç¤¼è®©</span></span><br><span class=\"line\"><span class=\"comment\">//     System.out.println(Thread.currentThread().getName() + &quot;çº¿ç¨‹åœæ­¢æ‰§è¡Œ&quot;);</span></span><br><span class=\"line\"><span class=\"comment\">//   &#125;</span></span><br><span class=\"line\"><span class=\"comment\">// &#125;</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li>\n<p>ç»“æœ</p>\n<ul>\n<li>é¢„æœŸç»“æœ,è®©æ­¥æˆåŠŸ</li>\n</ul>\n<figure class=\"highlight css\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">a</span>çº¿ç¨‹å¼€å§‹æ‰§è¡Œ</span><br><span class=\"line\"><span class=\"selector-tag\">b</span>çº¿ç¨‹å¼€å§‹æ‰§è¡Œ</span><br><span class=\"line\"><span class=\"selector-tag\">a</span>çº¿ç¨‹åœæ­¢æ‰§è¡Œ</span><br><span class=\"line\"><span class=\"selector-tag\">b</span>çº¿ç¨‹åœæ­¢æ‰§è¡Œ</span><br></pre></td></tr></table></figure>\n<ul>\n<li>è®©æ­¥æœªæˆåŠŸ(ä½†ä¹Ÿå¹¶ä¸èƒ½è®¤ä¸ºæ˜¯å¤±è´¥,ç¡®ç¡®å®å®è®©äº†ä¸€ä¸‹)</li>\n</ul>\n<figure class=\"highlight css\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">a</span>çº¿ç¨‹å¼€å§‹æ‰§è¡Œ</span><br><span class=\"line\"><span class=\"selector-tag\">a</span>çº¿ç¨‹åœæ­¢æ‰§è¡Œ</span><br><span class=\"line\"><span class=\"selector-tag\">b</span>çº¿ç¨‹å¼€å§‹æ‰§è¡Œ</span><br><span class=\"line\"><span class=\"selector-tag\">b</span>çº¿ç¨‹åœæ­¢æ‰§è¡Œ</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h3 id=\"çº¿ç¨‹æ’é˜Ÿ-Join\">çº¿ç¨‹æ’é˜Ÿ-Join</h3>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">TestJoin</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> <span class=\"keyword\">throws</span> InterruptedException &#123;</span><br><span class=\"line\">    <span class=\"type\">Runnable</span> <span class=\"variable\">testJoin</span> <span class=\"operator\">=</span> () -&gt; &#123;</span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; <span class=\"number\">100</span>; i++) &#123;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;vipThread&quot;</span> + i);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    <span class=\"type\">Thread</span> <span class=\"variable\">vipThread</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Thread</span>(testJoin);</span><br><span class=\"line\">    vipThread.start();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//ä¸»çº¿ç¨‹</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; <span class=\"number\">100</span>; i++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (i == <span class=\"number\">50</span>) &#123;</span><br><span class=\"line\">        vipThread.join(); <span class=\"comment\">//æ’é˜Ÿ</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      System.out.println(<span class=\"string\">&quot;main&quot;</span> + i);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>ç»“æœ<figure class=\"highlight nginx\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">main0</span></span><br><span class=\"line\">vipThread0</span><br><span class=\"line\">main1</span><br><span class=\"line\">vipThread1</span><br><span class=\"line\">vipThread2</span><br><span class=\"line\">main2</span><br><span class=\"line\">main3</span><br><span class=\"line\">vipThread3</span><br><span class=\"line\">main4</span><br><span class=\"line\">vipThread4</span><br><span class=\"line\">main5</span><br><span class=\"line\">vipThread5</span><br><span class=\"line\">main6</span><br><span class=\"line\">vipThread6</span><br><span class=\"line\">main7</span><br><span class=\"line\">vipThread7</span><br><span class=\"line\">main8</span><br><span class=\"line\">vipThread8</span><br><span class=\"line\">main9</span><br><span class=\"line\">vipThread9</span><br><span class=\"line\">main10</span><br><span class=\"line\">vipThread10</span><br><span class=\"line\">main11</span><br><span class=\"line\">vipThread11</span><br><span class=\"line\">main12</span><br><span class=\"line\">vipThread12</span><br><span class=\"line\">main13</span><br><span class=\"line\">vipThread13</span><br><span class=\"line\">main14</span><br><span class=\"line\">vipThread14</span><br><span class=\"line\">main15</span><br><span class=\"line\">vipThread15</span><br><span class=\"line\">main16</span><br><span class=\"line\">vipThread16</span><br><span class=\"line\">main17</span><br><span class=\"line\">vipThread17</span><br><span class=\"line\">main18</span><br><span class=\"line\">vipThread18</span><br><span class=\"line\">main19</span><br><span class=\"line\">main20</span><br><span class=\"line\">vipThread19</span><br><span class=\"line\">main21</span><br><span class=\"line\">vipThread20</span><br><span class=\"line\">vipThread21</span><br><span class=\"line\">main22</span><br><span class=\"line\">vipThread22</span><br><span class=\"line\">main23</span><br><span class=\"line\">vipThread23</span><br><span class=\"line\">main24</span><br><span class=\"line\">main25</span><br><span class=\"line\">vipThread24</span><br><span class=\"line\">main26</span><br><span class=\"line\">main27</span><br><span class=\"line\">vipThread25</span><br><span class=\"line\">vipThread26</span><br><span class=\"line\">main28</span><br><span class=\"line\">main29</span><br><span class=\"line\">vipThread27</span><br><span class=\"line\">main30</span><br><span class=\"line\">vipThread28</span><br><span class=\"line\">main31</span><br><span class=\"line\">main32</span><br><span class=\"line\">vipThread29</span><br><span class=\"line\">vipThread30</span><br><span class=\"line\">main33</span><br><span class=\"line\">vipThread31</span><br><span class=\"line\">vipThread32</span><br><span class=\"line\">vipThread33</span><br><span class=\"line\">main34</span><br><span class=\"line\">vipThread34</span><br><span class=\"line\">main35</span><br><span class=\"line\">main36</span><br><span class=\"line\">vipThread35</span><br><span class=\"line\">vipThread36</span><br><span class=\"line\">main37</span><br><span class=\"line\">vipThread37</span><br><span class=\"line\">main38</span><br><span class=\"line\">vipThread38</span><br><span class=\"line\">main39</span><br><span class=\"line\">vipThread39</span><br><span class=\"line\">vipThread40</span><br><span class=\"line\">main40</span><br><span class=\"line\">vipThread41</span><br><span class=\"line\">main41</span><br><span class=\"line\">vipThread42</span><br><span class=\"line\">main42</span><br><span class=\"line\">vipThread43</span><br><span class=\"line\">main43</span><br><span class=\"line\">vipThread44</span><br><span class=\"line\">main44</span><br><span class=\"line\">vipThread45</span><br><span class=\"line\">main45</span><br><span class=\"line\">vipThread46</span><br><span class=\"line\">main46</span><br><span class=\"line\">vipThread47</span><br><span class=\"line\">main47</span><br><span class=\"line\">vipThread48</span><br><span class=\"line\">main48</span><br><span class=\"line\">vipThread49</span><br><span class=\"line\">main49</span><br><span class=\"line\">vipThread50</span><br><span class=\"line\">vipThread51</span><br><span class=\"line\">vipThread52</span><br><span class=\"line\">vipThread53</span><br><span class=\"line\">vipThread54</span><br><span class=\"line\">vipThread55</span><br><span class=\"line\">vipThread56</span><br><span class=\"line\">vipThread57</span><br><span class=\"line\">vipThread58</span><br><span class=\"line\">vipThread59</span><br><span class=\"line\">vipThread60</span><br><span class=\"line\">vipThread61</span><br><span class=\"line\">vipThread62</span><br><span class=\"line\">vipThread63</span><br><span class=\"line\">vipThread64</span><br><span class=\"line\">vipThread65</span><br><span class=\"line\">vipThread66</span><br><span class=\"line\">vipThread67</span><br><span class=\"line\">vipThread68</span><br><span class=\"line\">vipThread69</span><br><span class=\"line\">vipThread70</span><br><span class=\"line\">vipThread71</span><br><span class=\"line\">vipThread72</span><br><span class=\"line\">vipThread73</span><br><span class=\"line\">vipThread74</span><br><span class=\"line\">vipThread75</span><br><span class=\"line\">vipThread76</span><br><span class=\"line\">vipThread77</span><br><span class=\"line\">vipThread78</span><br><span class=\"line\">vipThread79</span><br><span class=\"line\">vipThread80</span><br><span class=\"line\">vipThread81</span><br><span class=\"line\">vipThread82</span><br><span class=\"line\">vipThread83</span><br><span class=\"line\">vipThread84</span><br><span class=\"line\">vipThread85</span><br><span class=\"line\">vipThread86</span><br><span class=\"line\">vipThread87</span><br><span class=\"line\">vipThread88</span><br><span class=\"line\">vipThread89</span><br><span class=\"line\">vipThread90</span><br><span class=\"line\">vipThread91</span><br><span class=\"line\">vipThread92</span><br><span class=\"line\">vipThread93</span><br><span class=\"line\">vipThread94</span><br><span class=\"line\">vipThread95</span><br><span class=\"line\">vipThread96</span><br><span class=\"line\">vipThread97</span><br><span class=\"line\">vipThread98</span><br><span class=\"line\">vipThread99</span><br><span class=\"line\">main50</span><br><span class=\"line\">main51</span><br><span class=\"line\">main52</span><br><span class=\"line\">main53</span><br><span class=\"line\">main54</span><br><span class=\"line\">main55</span><br><span class=\"line\">main56</span><br><span class=\"line\">main57</span><br><span class=\"line\">main58</span><br><span class=\"line\">main59</span><br><span class=\"line\">main60</span><br><span class=\"line\">main61</span><br><span class=\"line\">main62</span><br><span class=\"line\">main63</span><br><span class=\"line\">main64</span><br><span class=\"line\">main65</span><br><span class=\"line\">main66</span><br><span class=\"line\">main67</span><br><span class=\"line\">main68</span><br><span class=\"line\">main69</span><br><span class=\"line\">main70</span><br><span class=\"line\">main71</span><br><span class=\"line\">main72</span><br><span class=\"line\">main73</span><br><span class=\"line\">main74</span><br><span class=\"line\">main75</span><br><span class=\"line\">main76</span><br><span class=\"line\">main77</span><br><span class=\"line\">main78</span><br><span class=\"line\">main79</span><br><span class=\"line\">main80</span><br><span class=\"line\">main81</span><br><span class=\"line\">main82</span><br><span class=\"line\">main83</span><br><span class=\"line\">main84</span><br><span class=\"line\">main85</span><br><span class=\"line\">main86</span><br><span class=\"line\">main87</span><br><span class=\"line\">main88</span><br><span class=\"line\">main89</span><br><span class=\"line\">main90</span><br><span class=\"line\">main91</span><br><span class=\"line\">main92</span><br><span class=\"line\">main93</span><br><span class=\"line\">main94</span><br><span class=\"line\">main95</span><br><span class=\"line\">main96</span><br><span class=\"line\">main97</span><br><span class=\"line\">main98</span><br><span class=\"line\">main99</span><br></pre></td></tr></table></figure>\n</li>\n<li>å¯ä»¥è§åˆ° main å’Œ vipThread ä¸¤ä¸ªçº¿ç¨‹å‡ ä¹åŒæ­¥æ‰§è¡Œ,åˆ°äº† main49 æ—¶,vipThread ä¼šä¸»åŠ¨æ’é˜Ÿ,è¿™æ—¶ vipThread ä¹‹å¤–çš„çº¿ç¨‹é˜»å¡.</li>\n</ul>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h3 id=\"çº¿ç¨‹ä¼˜å…ˆçº§-Priority\">çº¿ç¨‹ä¼˜å…ˆçº§-Priority</h3>\n<ul>\n<li>\n<p>çº¿ç¨‹çš„ä¼˜å…ˆçº§ç”¨æ•°å­—è¡¨ç¤ºï¼ŒèŒƒå›´ä» 1~10.</p>\n<ul>\n<li>Thread.MIN_PRIORITY = 1;</li>\n<li>Thread.MAX_PRIORITY = 10;</li>\n<li>Thread.NORM_PRIORITY = 5;</li>\n</ul>\n</li>\n<li>\n<p>ä½¿ç”¨ä¸€ä¸‹æ–¹æ³•æ”¹å˜æˆ–è·å–ä¼˜å…ˆçº§</p>\n<ul>\n<li>â€‹.getPriority()</li>\n<li>.setPriority(int xxx)</li>\n</ul>\n<p>ä¸åšä¸¾ä¾‹äº†.</p>\n</li>\n</ul>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h3 id=\"å®ˆæŠ¤çº¿ç¨‹-daemon\">å®ˆæŠ¤çº¿ç¨‹-daemon</h3>\n<ul>\n<li>\n<p>çº¿ç¨‹åˆ†ä¸º<code>ç”¨æˆ·çº¿ç¨‹</code>å’Œ<code>å®ˆæŠ¤çº¿ç¨‹</code>,ç”¨æˆ·çº¿ç¨‹å¿…é¡»æ‰§è¡Œå®Œæ¯•ç¨‹åºæ‰ç»ˆæ­¢,è€Œå®ˆæŠ¤çº¿ç¨‹ä¸åšè¦æ±‚.</p>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">TestDaemon</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// ! ä¸Šå¸</span></span><br><span class=\"line\">    <span class=\"type\">Thread</span> <span class=\"variable\">godThread</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Thread</span>(() -&gt; &#123;</span><br><span class=\"line\">      <span class=\"keyword\">while</span> (<span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;ä¸Šå¸ä¿ä½‘ä½ &quot;</span>);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    <span class=\"comment\">//é»˜è®¤falseè¡¨ç¤ºæ˜¯ç”¨æˆ·çº¿ç¨‹ï¼Œæ­£å¸¸çš„çº¿ç¨‹éƒ½æ˜¯ç”¨æˆ·çº¿ç¨‹</span></span><br><span class=\"line\">    godThread.setDaemon(<span class=\"literal\">true</span>);</span><br><span class=\"line\">    godThread.start();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// ! ä½ </span></span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">Thread</span>(() -&gt; &#123;</span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>; i &lt; <span class=\"number\">100</span>; i++) &#123;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;ä½ ä¸€ç”Ÿéƒ½å¼€å¿ƒçš„æ´»ç€&quot;</span>);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      System.out.println(<span class=\"string\">&quot;GoodBye World&quot;</span>);</span><br><span class=\"line\">    &#125;).start();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>ç»“æœ: &quot;you&quot;çº¿ç¨‹ç»ˆæ­¢å daemon çº¿ç¨‹ä»æ‰§è¡Œäº†ä¸€æ®µæ—¶é—´</p>\n<figure class=\"highlight node-repl\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">...</span></span><br><span class=\"line\">ä¸Šå¸ä¿ä½‘ä½ </span><br><span class=\"line\">ä¸Šå¸ä¿ä½‘ä½ </span><br><span class=\"line\">ä½ ä¸€ç”Ÿéƒ½å¼€å¿ƒçš„æ´»ç€</span><br><span class=\"line\">ä½ ä¸€ç”Ÿéƒ½å¼€å¿ƒçš„æ´»ç€</span><br><span class=\"line\">ä½ ä¸€ç”Ÿéƒ½å¼€å¿ƒçš„æ´»ç€</span><br><span class=\"line\">ä½ ä¸€ç”Ÿéƒ½å¼€å¿ƒçš„æ´»ç€</span><br><span class=\"line\">ä¸Šå¸ä¿ä½‘ä½ </span><br><span class=\"line\">ä¸Šå¸ä¿ä½‘ä½ </span><br><span class=\"line\">ä¸Šå¸ä¿ä½‘ä½ </span><br><span class=\"line\">ä¸Šå¸ä¿ä½‘ä½ </span><br><span class=\"line\">ä¸Šå¸ä¿ä½‘ä½ </span><br><span class=\"line\">ä¸Šå¸ä¿ä½‘ä½ </span><br><span class=\"line\">ä¸Šå¸ä¿ä½‘ä½ </span><br><span class=\"line\">ä¸Šå¸ä¿ä½‘ä½ </span><br><span class=\"line\">ä¸Šå¸ä¿ä½‘ä½ </span><br><span class=\"line\">ä¸Šå¸ä¿ä½‘ä½ </span><br><span class=\"line\">ä¸Šå¸ä¿ä½‘ä½ </span><br><span class=\"line\">ä¸Šå¸ä¿ä½‘ä½ </span><br><span class=\"line\">GoodBye World</span><br><span class=\"line\">ä¸Šå¸ä¿ä½‘ä½ </span><br><span class=\"line\">ä¸Šå¸ä¿ä½‘ä½ </span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kity@2.0.4/dist/kity.min.js\"></script><script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js\"></script><script defer=\"true\" type=\"text&#x2F;javascript\" src=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js\"></script><link rel=\"stylesheet\" type=\"text&#x2F;css\" href=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css\">",
            "tags": [
                "ç¬”è®°",
                "Java",
                "å¤šçº¿ç¨‹"
            ]
        }
    ]
}