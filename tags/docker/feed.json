{
    "version": "https://jsonfeed.org/version/1",
    "title": "â­ï¸é½ä¸‹æ— è´°â­ï¸ â€¢ All posts by \"docker\" tag",
    "description": "May all the beauty be bless.âœ¨",
    "home_page_url": "https://blog.weidows.tech",
    "items": [
        {
            "id": "https://blog.weidows.tech/post/experience/dev/problem/",
            "url": "https://blog.weidows.tech/post/experience/dev/problem/",
            "title": "ğŸššå¼€å‘ä¹‹æ—…~",
            "date_published": "2021-08-17T09:29:17.000Z",
            "content_html": "<h1>å¼€å‘ä¹‹æ—…~</h1>\n<!--\n * @?: *********************************************************************\n * @Author: Weidows\n * @LastEditors: Weidows\n * @LastEditTime: 2023-04-20 18:25:24\n * @FilePath: \\Blog-private\\source\\_posts\\experience\\dev\\problem.md\n * @Description:\n * @!: *********************************************************************\n-->\n<blockquote class=\"pullquote mindmap mindmap-md\"><ul>\n<li><a href=\"#%E5%BC%80%E5%8F%91%E4%B9%8B%E6%97%85\">å¼€å‘ä¹‹æ—…~</a>\n<ul>\n<li><a href=\"#%E7%AE%80%E4%BB%8B\">ç®€ä»‹</a></li>\n<li><a href=\"#%E6%95%B0%E6%8D%AE%E5%BA%93\">æ•°æ®åº“</a>\n<ul>\n<li><a href=\"#%E6%A8%A1%E7%B3%8A%E6%9F%A5%E8%AF%A2\">æ¨¡ç³ŠæŸ¥è¯¢</a></li>\n<li><a href=\"#where\">where</a></li>\n<li><a href=\"#%E5%A4%9A%E7%B4%A2%E5%BC%95%E6%8E%92%E5%BA%8F\">å¤šç´¢å¼•æ’åº</a></li>\n<li><a href=\"#mariadb-%E6%97%A0%E6%B3%95%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5\">Mariadb-æ— æ³•è¿œç¨‹è¿æ¥</a></li>\n<li><a href=\"#%E6%95%B0%E6%8D%AE%E6%BA%90%E8%BF%9E%E6%8E%A5%E4%B8%8D%E4%B8%8A\">æ•°æ®æºè¿æ¥ä¸ä¸Š</a></li>\n<li><a href=\"#%E5%A4%96%E9%94%AE-%E6%95%B0%E6%8D%AE-%E5%AF%BC%E5%87%BA%E5%85%A5\">å¤–é”®-æ•°æ®-å¯¼å‡ºå…¥</a></li>\n<li><a href=\"#mongodb\">mongodb</a></li>\n</ul>\n</li>\n<li><a href=\"#%E6%8E%A5%E5%8F%A3%E9%97%AE%E9%A2%98\">æ¥å£é—®é¢˜</a>\n<ul>\n<li><a href=\"#%E6%8E%A5%E5%8F%A3%E6%95%B0%E6%8D%AE%E9%80%9F%E8%A7%88\">æ¥å£æ•°æ®é€Ÿè§ˆ</a></li>\n<li><a href=\"#api-request-body\">API-request-body</a></li>\n<li><a href=\"#%E6%9C%AC%E5%9C%B0%E6%9C%8D%E5%8A%A1%E8%B0%83%E4%B8%8D%E9%80%9A\">æœ¬åœ°æœåŠ¡è°ƒä¸é€š</a></li>\n<li><a href=\"#%E6%95%B0%E6%8D%AE%E8%8E%B7%E5%8F%96-%E6%96%B9%E6%B3%95%E5%90%8D%E8%AE%BE%E8%AE%A1\">æ•°æ®è·å–-æ–¹æ³•åè®¾è®¡</a></li>\n<li><a href=\"#%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93\">æ–‡ä»¶ä¼ è¾“</a></li>\n<li><a href=\"#json-2-struct\">JSON-2-struct</a></li>\n</ul>\n</li>\n<li><a href=\"#%E7%A8%8B%E5%BA%8F%E5%86%99%E6%B3%95%E9%97%AE%E9%A2%98\">ç¨‹åºå†™æ³•é—®é¢˜</a>\n<ul>\n<li><a href=\"#map-and-filter\">map-and-filter</a></li>\n<li><a href=\"#%E6%95%B4%E6%95%B0%E8%AE%A1%E7%AE%97%E9%A1%BA%E5%BA%8F\">æ•´æ•°è®¡ç®—é¡ºåº</a></li>\n</ul>\n</li>\n<li><a href=\"#devops\">Devops</a>\n<ul>\n<li><a href=\"#ali-k8s-%E6%9C%8D%E5%8A%A1%E8%B0%83%E7%94%A8\">ali-k8s-æœåŠ¡è°ƒç”¨</a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%80%9F%E7%89%A9%E8%A1%A8\">å€Ÿç‰©è¡¨</a></li>\n</ul>\n</li>\n</ul>\n</blockquote>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"ç®€ä»‹\">ç®€ä»‹</h2>\n<p>ä¸€é¡¿è¯¾ç¨‹ä¸‹æ¥,SQL è¯­æ³•æ˜¯ç†Ÿæ‚‰äº†,ä½†æ˜¯åšåˆ°ä¸šåŠ¡å±‚é¢,ä¸åœ†æ»‘ä¹‹å¤„æš´éœ²å‡ºæ¥æƒ¹.</p>\n<p>ä¸åªæ˜¯ SQL,åŒ…æ‹¬å·¥ä½œä¸­å¸¸ç”¨çš„æŠ€å·§.</p>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"æ•°æ®åº“\">æ•°æ®åº“</h2>\n<h3 id=\"æ¨¡ç³ŠæŸ¥è¯¢\">æ¨¡ç³ŠæŸ¥è¯¢</h3>\n<ul>\n<li>\n<p>åŒ…æ‹¬æ¨¡ç³ŠæŸ¥è¯¢ä¸­æ–‡ <sup id='cite_ref-1'><a href=\"#cite_note-1\">[1]</a></sup> <sup id='cite_ref-2'><a href=\"#cite_note-2\">[2]</a></sup></p>\n<p>ä¸­/è‹±éƒ½å¯ä»¥æ­£å¸¸æŸ¥è¯¢:</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">select</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;selectByBean&quot;</span> <span class=\"attr\">resultMap</span>=<span class=\"string\">&quot;BaseResultMap&quot;</span>&gt;</span></span><br><span class=\"line\">  select</span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">include</span> <span class=\"attr\">refid</span>=<span class=\"string\">&quot;Base_Column_List&quot;</span>/&gt;</span></span><br><span class=\"line\">  from test</span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">where</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">if</span> <span class=\"attr\">test</span>=<span class=\"string\">&quot;name != null and name != &#x27;&#x27;&quot;</span>&gt;</span></span><br><span class=\"line\">      and name like concat(&#x27;%&#x27;,#&#123;name&#125;,&#x27;%&#x27;)</span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">if</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">if</span> <span class=\"attr\">test</span>=<span class=\"string\">&quot;url != null and url != &#x27;&#x27;&quot;</span>&gt;</span></span><br><span class=\"line\">      and cut_url like concat(&#x27;%&#x27;,#&#123;url&#125;,&#x27;%&#x27;)</span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">if</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">where</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">select</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<h3 id=\"where\">where</h3>\n<ul>\n<li>\n<p>å¼€å‘ä¸­å¯èƒ½ç»å¸¸è§åˆ°: <code>where 1 = 1</code> ,è¿™æ˜¯å¹²ä»€ä¹ˆç”¨çš„?</p>\n</li>\n<li>\n<p>æ‹¿ä¸Šé¢çš„ä¸¾ä¾‹å­,æŠŠå®ƒå˜æˆä¸‹é¢è¿™æ ·å­:</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">select</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;selectByBean&quot;</span> <span class=\"attr\">resultMap</span>=<span class=\"string\">&quot;BaseResultMap&quot;</span>&gt;</span></span><br><span class=\"line\">  select</span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">include</span> <span class=\"attr\">refid</span>=<span class=\"string\">&quot;Base_Column_List&quot;</span>/&gt;</span></span><br><span class=\"line\">  from test</span><br><span class=\"line\">  where</span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">if</span> <span class=\"attr\">test</span>=<span class=\"string\">&quot;name != null and name != &#x27;&#x27;&quot;</span>&gt;</span></span><br><span class=\"line\">    name like concat(&#x27;%&#x27;,#&#123;name&#125;,&#x27;%&#x27;)</span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">if</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">if</span> <span class=\"attr\">test</span>=<span class=\"string\">&quot;url != null and url != &#x27;&#x27;&quot;</span>&gt;</span></span><br><span class=\"line\">    and cut_url like concat(&#x27;%&#x27;,#&#123;url&#125;,&#x27;%&#x27;)</span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">if</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">select</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>å¦‚æœ name == null,é‚£ä¹ˆ SQL ä¼šæ˜¯è¿™æ ·:</p>\n<p>where and cut_url like concat(â€˜%â€™,#{url},â€˜%â€™)</p>\n<p>è‚¯å®šä¼šæŠ¥é”™</p>\n</li>\n<li>\n<p>æ”¹æˆè¿™æ ·å­å°±æ²¡é—®é¢˜äº†:</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">select</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;selectByBean&quot;</span> <span class=\"attr\">resultMap</span>=<span class=\"string\">&quot;BaseResultMap&quot;</span>&gt;</span></span><br><span class=\"line\">  select</span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">include</span> <span class=\"attr\">refid</span>=<span class=\"string\">&quot;Base_Column_List&quot;</span>/&gt;</span></span><br><span class=\"line\">  from test</span><br><span class=\"line\">  where 1 = 1</span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">if</span> <span class=\"attr\">test</span>=<span class=\"string\">&quot;name != null and name != &#x27;&#x27;&quot;</span>&gt;</span></span><br><span class=\"line\">    name like concat(&#x27;%&#x27;,#&#123;name&#125;,&#x27;%&#x27;)</span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">if</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">if</span> <span class=\"attr\">test</span>=<span class=\"string\">&quot;url != null and url != &#x27;&#x27;&quot;</span>&gt;</span></span><br><span class=\"line\">    and cut_url like concat(&#x27;%&#x27;,#&#123;url&#125;,&#x27;%&#x27;)</span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">if</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">select</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>åœ¨ SQL æ”¯æŒçš„æƒ…å†µä¸‹,è¿˜æ˜¯å¥—<code>&lt;where&gt;</code>æ ‡ç­¾æ›´å¥½,å®ƒèƒ½å¤„ç† <code>where and</code> è¿™ç§æƒ…å†µ.</p>\n</li>\n</ul>\n<hr>\n<h3 id=\"å¤šç´¢å¼•æ’åº\">å¤šç´¢å¼•æ’åº</h3>\n<ul>\n<li>\n<p>æœ‰æ—¶ä¸€ä¸ªè¡¨ä¸­å¤šä¸ªå­—æ®µéœ€è¦åŠ ç´¢å¼•</p>\n<p>ä½†æ˜¯è¿™æ ·å¯¼è‡´æ¯æ¬¡æ·»åŠ /æ›´æ–°æ•°æ®æ—¶æ’åºéƒ½ä¼šå˜åŒ–</p>\n<p>å‰ç«¯æ¥åˆ°çš„æ•°æ®å¯ä»¥è®¤ä¸ºæ˜¯æ— åºåŒ–çš„,å¦‚ä½•è§£å†³å‘¢?</p>\n</li>\n<li>\n<p>æŒºç®€å•çš„ <code>order by id</code></p>\n</li>\n</ul>\n<hr>\n<h3 id=\"Mariadb-æ— æ³•è¿œç¨‹è¿æ¥\">Mariadb-æ— æ³•è¿œç¨‹è¿æ¥</h3>\n<ul>\n<li>\n<p>åœ¨ manjaro è™šæ‹Ÿæœºè£…äº†ä¸ª mariadb</p>\n<p>ä¸»æœºä¸è™šæ‹Ÿæœºå·²ç»è¿é€š,ä½†æ˜¯ mariadb æ— æ³•è¿æ¥ä¸Š (æˆæƒå¤±è´¥)</p>\n<blockquote>\n<p>Host â€˜192.168.114.1â€™ is not allowed to connect to this MariaDB server</p>\n</blockquote>\n<p>å› ä¸º mariadb é»˜è®¤åªå…è®¸ localhost è¿æ¥</p>\n<hr>\n</li>\n<li>\n<p>ç½‘ä¸Šæ‰¾äº†ä¸€å †æ–‡ç« ,å¤§å¤šæ˜¯ <code>grant æˆæƒ</code> , <code>æ”¹é…ç½®æ–‡ä»¶</code> ä¹‹ç±»çš„</p>\n<p>è¯•äº†ä¸‹,å„ç§ç¢°å£ , è¿™é‡Œç»™ä¸ªç®€å•æ–¹æ³•</p>\n<hr>\n</li>\n<li>\n<p>ç›´æ¥ <code>æ–°å»ºä¸€ä¸ªç”¨æˆ·</code></p>\n<p>ç”¨æˆ·åéšæ„ , host å¡« <code>%</code> (ä¹Ÿå°±æ˜¯å…è®¸æ‰€æœ‰)</p>\n<p>è¿œç¨‹è¿æ¥æ—¶è¿è¿™ä¸ªç”¨æˆ·å°±è¡Œäº†.</p>\n</li>\n</ul>\n<hr>\n<h3 id=\"æ•°æ®æºè¿æ¥ä¸ä¸Š\">æ•°æ®æºè¿æ¥ä¸ä¸Š</h3>\n<blockquote>\n<p>Failed to bind properties under â€˜â€™ to com.zaxxer.hikari.HikariDataSource</p>\n</blockquote>\n<ul>\n<li>\n<p>è¿™ä¸ªæƒ…å†µå¤§å¤šæ˜¯é…ç½®å±æ€§æ²¡å†™å¯¹,é‡ç‚¹çœ‹ä¸€ä¸‹æ ‡è®°çš„åœ°æ–¹</p>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GVAKQR.png\" alt=\"20210925193945\" />\n</li>\n</ul>\n<hr>\n<h3 id=\"å¤–é”®-æ•°æ®-å¯¼å‡ºå…¥\">å¤–é”®-æ•°æ®-å¯¼å‡ºå…¥</h3>\n<ul>\n<li>\n<p>ç»“ç»„åšæ•°æ®åº“è¯¾è®¾æ—¶å‘ç°,å«æœ‰å¤–é”®çš„è¡¨,create table æ—¶ä¼šæŠ¥é”™.</p>\n<p>è§£å†³åŠæ³•å‘¢,æ¯”å¦‚ä¸‹é¢çš„ä¸‰ä¸ªè¡¨</p>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GVA0EY.png\" alt=\"20211204085119\" />\n<p>å…ˆæŠŠ player å’Œ technology ä¸¤ä¸ªè¡¨åˆ›å»ºå¥½,å†åˆ›å»º good_at å°±ä¸ä¼šæŠ¥é”™äº†</p>\n<p>(<code>ä¹Ÿå°±æ˜¯éœ€è¦å…ˆåˆ›å»ºå¤–é”®æŒ‡å‘çš„è¡¨,å†åˆ›å»ºå«æœ‰å¤–é”®çš„è¡¨</code>)</p>\n<hr>\n</li>\n<li>\n<p>insert æ—¶è¿˜æ˜¯ä¼šé‡åˆ°é—®é¢˜,è·Ÿä¸Šé¢ç±»ä¼¼</p>\n<blockquote>\n<p>Error: SQLSTATE[23000]: Integrity constraint violation: 1452 Cannot add or update a child row: a foreign key constraint fails (<code>test</code>.<code>test_user</code>, CONSTRAINT <code>fk_test_user_test_user_id</code> FOREIGN KEY (<code>test_user_id</code>) REFERENCES <code>test_user</code> (<code>id</code>))</p>\n</blockquote>\n<p>å…ˆæ’å…¥ player / technology è¡¨,å†æ’å…¥ good_at è¡¨</p>\n<hr>\n<p>å®åˆ™è¿˜æœ‰ç§å˜ç›¸è§£å†³æ–¹æ³•æ˜¯åœ¨æ’å…¥å‰ foreign_key_checks,æ’å…¥åå†æ‰“å¼€:</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">set</span></span><br><span class=\"line\">  FOREIGN_KEY_CHECKS <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">INSERT</span> <span class=\"keyword\">INTO</span> game(id,name,score,player) <span class=\"keyword\">VALUES</span>(<span class=\"number\">1</span>,<span class=\"string\">&#x27;aggdm&#x27;</span>,<span class=\"number\">0</span>,<span class=\"number\">2</span>),(<span class=\"number\">2</span>,<span class=\"string\">&#x27;cmera&#x27;</span>,<span class=\"number\">10</span>,<span class=\"number\">10</span>),(<span class=\"number\">3</span>,<span class=\"string\">&#x27;hzxgy&#x27;</span>,<span class=\"number\">10</span>,<span class=\"number\">14</span>),(<span class=\"number\">4</span>,<span class=\"string\">&#x27;ihqti&#x27;</span>,<span class=\"number\">5</span>,<span class=\"number\">12</span>),(<span class=\"number\">5</span>,<span class=\"string\">&#x27;hozmy&#x27;</span>,<span class=\"number\">5</span>,<span class=\"number\">6</span>),(<span class=\"number\">6</span>,<span class=\"string\">&#x27;wrcux&#x27;</span>,<span class=\"number\">1</span>,<span class=\"number\">12</span>),(<span class=\"number\">7</span>,<span class=\"string\">&#x27;mlijv&#x27;</span>,<span class=\"number\">1</span>,<span class=\"number\">9</span>),(<span class=\"number\">8</span>,<span class=\"string\">&#x27;qmnij&#x27;</span>,<span class=\"number\">10</span>,<span class=\"number\">11</span>),(<span class=\"number\">9</span>,<span class=\"string\">&#x27;vswdc&#x27;</span>,<span class=\"number\">7</span>,<span class=\"number\">14</span>),(<span class=\"number\">10</span>,<span class=\"string\">&#x27;gebit&#x27;</span>,<span class=\"number\">6</span>,<span class=\"number\">11</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">set</span></span><br><span class=\"line\">  FOREIGN_KEY_CHECKS <span class=\"operator\">=</span> <span class=\"number\">1</span>;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<h3 id=\"mongodb\">mongodb</h3>\n<ul>\n<li>\n<p>mongo find array size&gt;1 çš„è®°å½•</p>\n<blockquote>\n<p><code>db.image.find(&#123; images : &#123; $size: &#123; $gt : 1 &#125; &#125;&#125;)</code> è¿™æ ·æ˜¯ä¸è¡Œçš„, Query failed with error code 2 with name â€˜BadValueâ€™ and error message â€˜$size needs a numberâ€™ on server <sup id='cite_ref-6'><a href=\"#cite_note-6\">[6]</a></sup></p>\n</blockquote>\n<figure class=\"highlight sql\"><table><tr><td class=\"code\"><pre><span class=\"line\">db.prompt_krea.find(&#123;&quot;$expr&quot;:&#123;$gt :[&#123;$size: &quot;$images&quot;&#125;,<span class=\"number\">1</span>]&#125;&#125;)</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>mongodb update array <sup id='cite_ref-5'><a href=\"#cite_note-5\">[5]</a></sup></p>\n<figure class=\"highlight sql\"><table><tr><td class=\"code\"><pre><span class=\"line\">db.image.update(&#123; nums : &#123; $addToSet: <span class=\"number\">123</span> &#125; &#125;)</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"æ¥å£é—®é¢˜\">æ¥å£é—®é¢˜</h2>\n<h3 id=\"æ¥å£æ•°æ®é€Ÿè§ˆ\">æ¥å£æ•°æ®é€Ÿè§ˆ</h3>\n<ul>\n<li>\n<p>å‰ç«¯æ¥åˆ° JSON æ•°æ®æ€»æ˜¯éœ€è¦çœ‹ä¸€ä¸‹,é€šè¿‡ postman é‚£ç§ä¸æ˜¯å¾ˆä¾¿æ·</p>\n<p>äºæ˜¯ä¹‹å‰æˆ‘ä¸€ç›´æ˜¯æ‰¾åˆ°å“åº”-&gt;å¤åˆ¶-&gt;ç²˜è´´åˆ° vscode æ ¼å¼åŒ–</p>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GVAj6c.png\" alt=\"20211015130205\" />\n</li>\n<li>\n<p>å¶ç„¶å‘ç°æœ‰ä¸ªæ›´æ–¹ä¾¿çš„æ‰‹æ®µ: æµè§ˆå™¨<code>å‰ç«¯åŠ©æ‰‹æ’ä»¶</code></p>\n<p>å®‰è£…åç›´æ¥åŒå‡»è¯·æ±‚,è·³å‡ºçš„æ–°é¡µé¢å°±æ˜¯å·²ç»æ ¼å¼åŒ–å¥½çš„</p>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GVtIXg.png\" alt=\"20211015130109\" />\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GVS6hz.png\" alt=\"20211015130815\" />\n</li>\n</ul>\n<hr>\n<h3 id=\"API-request-body\">API-request-body</h3>\n<p>åœ¨è°ƒç”¨ <code>https://securetoken.googleapis.com/v1/token</code> æ—¶, å‘ç°æŠ¥é”™:</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;error&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;code&quot;</span><span class=\"punctuation\">:</span> <span class=\"number\">400</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;message&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;MISSING_GRANT_TYPE&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;status&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;INVALID_ARGUMENT&quot;</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n<p>æ‰¾äº†åŠå¤©åŸå› , ä»¥ä¸ºæ˜¯å‚æ•°/header ä¸å¯¹, æœ€åå‘ç°æ˜¯ä¼ å…¥æ ¼å¼ä¸å¯¹ (ç”¨çš„ form-data è¯·æ±‚çš„)</p>\n<p><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/ZpFGfM.png\" alt=\"\"></p>\n<p>è¯·æ±‚çš„å‚æ•°ä¸€èˆ¬æ˜¯ç”¨ <code>Body -&gt; JSON</code> æ ¼å¼, é™¤éç‰¹æ®Šæ ‡æ³¨ç”¨åˆ«çš„æ ¼å¼</p>\n<p><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/Z7DeQY.png\" alt=\"\"></p>\n<hr>\n<h3 id=\"æœ¬åœ°æœåŠ¡è°ƒä¸é€š\">æœ¬åœ°æœåŠ¡è°ƒä¸é€š</h3>\n<p>æ˜æ˜è·‘èµ·æ¥äº†æœåŠ¡, ä½†æ˜¯æ¥å£æµ‹è¯•è¯·æ±‚å°±åƒçŸ³æ²‰å¤§æµ·, å‘è¿‡å»æ²¡å“åº”</p>\n<p>é‚£æœ‰å¯èƒ½æ˜¯ç«¯å£å…±ç”¨äº†<sup id='cite_ref-4'><a href=\"#cite_note-4\">[4]</a></sup>â€¦å¦‚ä¸‹:</p>\n<p><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/ZDfGKY.png\" alt=\"\"></p>\n<figure class=\"highlight 1c\"><table><tr><td class=\"code\"><pre><span class=\"line\">netstat <span class=\"punctuation\">-</span>ano <span class=\"string\">| findstr &quot;</span><span class=\"number\">8000</span><span class=\"string\">&quot;</span></span><br><span class=\"line\"><span class=\"meta\"># æˆ–è€…</span></span><br><span class=\"line\">netstat <span class=\"punctuation\">-</span>ano <span class=\"string\">| grep 8000</span></span><br><span class=\"line\"></span><br><span class=\"line\">ps <span class=\"string\">| grep 17348</span></span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"æ•°æ®è·å–-æ–¹æ³•åè®¾è®¡\">æ•°æ®è·å–-æ–¹æ³•åè®¾è®¡</h3>\n<p>æœ€å¸¸è§çš„ä»¥ä¸‹å‡ ç§:</p>\n<p>get([1]) 1|n</p>\n<p>fetch([1]) n</p>\n<p>query(1) 1</p>\n<p>find(1) 1</p>\n<p>search(1) 1|n</p>\n<hr>\n<h3 id=\"æ–‡ä»¶ä¼ è¾“\">æ–‡ä»¶ä¼ è¾“</h3>\n<p><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/ZkZKsq.png\" alt=\"\"></p>\n<p>ä¸€èˆ¬æ˜¯ä½¿ç”¨ form-data -&gt; file ç±»å‹</p>\n<hr>\n<h3 id=\"JSON-2-struct\">JSON-2-struct</h3>\n<p><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/ZkocHo.png\" alt=\"\"></p>\n<p>æ¥å£å¯èƒ½ä¼ è¿‡æ¥å¾ˆå¤šå­—æ®µ, ä¸€ä¸ªä¸ªå¯¹åº”è¾“å…¥å¾ˆéº»çƒ¦, apifox å¯ä»¥ç›´æ¥ç”Ÿæˆå¯¹åº” struct, æˆ–è€…å¤åˆ¶ JSON ç›´æ¥ç²˜è´´è¿› goland ä¹Ÿä¼šç”Ÿæˆ, ä¹‹åå†å¯¹ç…§ä¸‹æ•°æ®ç±»å‹å°±è¡Œ.</p>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"ç¨‹åºå†™æ³•é—®é¢˜\">ç¨‹åºå†™æ³•é—®é¢˜</h2>\n<h3 id=\"map-and-filter\">map-and-filter</h3>\n<ul>\n<li>\n<p>å¼€å‘æ—¶é‡åˆ°æ­¤é—®é¢˜:</p>\n<blockquote>\n<p>Required request body is missing:è¯·æ±‚ä½“ä¸ºç©º</p>\n</blockquote>\n<p>çº³é—·,æŠŠå‰ç«¯æ•°æ®æ­£å¸¸ä¼ ç»™åç«¯äº†,ä¸ºä»€ä¹ˆè§¦å‘æ­¤é”™è¯¯?</p>\n<p>åæ¥å‘ç°æ˜¯ .map() çš„å‘,è¢«è¿™ä¸ªé—®ç­”ç³Šè„¸äº†:<br>\n<sup id='cite_ref-3'><a href=\"#cite_note-3\">[3]</a></sup></p>\n<hr>\n</li>\n<li>\n<p>map æ˜¯æ˜ å°„,å¿…ç„¶ä¼š return ä¸€ä¸ªå€¼ (æ²¡ return çš„è¯å°±æ˜¯ undefined)</p>\n<p>filter æ˜¯è¿‡æ»¤,å¯ä»¥è¿‡æ»¤æ‰æŸäº›ç»“æœä¸ return</p>\n<p>è™½ç„¶è¿™ä¸¤ä¸ªéƒ½æœ‰ transform èƒ½åŠ›ä½†æ˜¯åœ¨è¿”å›å€¼ä¸Šä¸åŒ<div class=\"mermaid-wrap\"><pre class=\"mermaid-src\" hidden>\n  graph LR\n    subgraph filter\n      A2(A) --filter--&gt; A3(A&#39;)\n      B2(B) --filter--&gt; B3(B)\n      C2(C) --filter--&gt; C3(æ— )\n    end\n\n    subgraph map\n      A --map--&gt; A&#39;\n      B --map--&gt; B4(B)\n      C --map--&gt; undefined\n    end\n  </pre></div></p>\n</li>\n</ul>\n<hr>\n<h3 id=\"æ•´æ•°è®¡ç®—é¡ºåº\">æ•´æ•°è®¡ç®—é¡ºåº</h3>\n<p>å¼€å‘æ—¶ç¢°åˆ°ä¸€ä¸ªç»Ÿè®¡è¿›åº¦çš„é—®é¢˜ (l: 1-20)</p>\n<p>ä¹Ÿå°±æ˜¯è¯´è¿›åº¦ <code>process = l/20 * 100</code></p>\n<p>ä½†æ˜¯å†™å‡ºæ¥çš„ç¨‹åºè¦æ³¨æ„: <code>process = int(l*100/20)</code></p>\n<p>å¦‚æœå…ˆç®— <code>l/20</code>, å› ä¸ºåŒ–æ•´ä¼šå¯¼è‡´ process ä¸€ç›´ä¸º 0</p>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"Devops\">Devops</h2>\n<h3 id=\"ali-k8s-æœåŠ¡è°ƒç”¨\">ali-k8s-æœåŠ¡è°ƒç”¨</h3>\n<p>é˜¿é‡Œäº‘ k8s å®¹å™¨ç®¡ç†, ä¸åŒé›†ç¾¤ IP çš„å®¹å™¨/æœåŠ¡é—´ä¹Ÿå¯ä»¥ä¸èµ°åŸŸåç›´æ¥å†…éƒ¨è°ƒç”¨</p>\n<p>éœ€è¦æ³¨æ„å†…ç½‘ https è°ƒç”¨æœåŠ¡ä¼šæŠ¥é”™, åªèƒ½ http, ä¾‹å¦‚ <code>http://xxx-svc:8000</code></p>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"å€Ÿç‰©è¡¨\">å€Ÿç‰©è¡¨</h2>\n<p><a name='cite_note-1' href='#cite_ref-1'>[1]</a>: <a href=\"https://www.cnblogs.com/-lin-x-c-/p/10375412.html\">mysql ä¸­æ¨¡ç³ŠæŸ¥è¯¢çš„å››ç§ç”¨æ³•ï¼š</a></p>\n<p><a name='cite_note-2' href='#cite_ref-2'>[2]</a>: <a href=\"https://www.oschina.net/question/160183_36995\">mybatis æ¨¡ç³ŠæŸ¥è¯¢ ä¸­æ–‡é—®é¢˜</a></p>\n<p><a name='cite_note-3' href='#cite_ref-3'>[3]</a>: <a href=\"https://www.dovov.com/javascript-mapundefined.html\">ä¸ºä»€ä¹ˆ javascript map å‡½æ•°è¿”å› undefinedï¼Ÿ(Why does javascript map function return undefined?)</a></p>\n<p><a name='cite_note-4' href='#cite_ref-4'>[4]</a>: <a href=\"https://www.cnblogs.com/luckyplj/p/11843688.html\">05 Windows ä¸‹æŸ¥çœ‹ IPã€ç«¯å£ã€ç½‘ç»œæ˜¯å¦é€šç•…ã€è®¿é—®å±€åŸŸç½‘å†…å¦ä¸€å°ç”µè„‘</a></p>\n<p><a name='cite_note-5' href='#cite_ref-5'>[5]</a>: <a href=\"https://blog.csdn.net/dazuiba008/article/details/8861893\">mongodb update array_é­‚é†‰çš„åšå®¢-CSDN åšå®¢</a></p>\n<p><a name='cite_note-6' href='#cite_ref-6'>[6]</a>: <a href=\"https://www.mongodb.com/community/forums/t/is-there-a-way-to-query-array-fields-with-size-greater-than-some-specified-value/54597\">Is there a way to query array fields with size greater than some specified value?</a></p>\n<script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kity@2.0.4/dist/kity.min.js\"></script><script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js\"></script><script defer=\"true\" type=\"text&#x2F;javascript\" src=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js\"></script><link rel=\"stylesheet\" type=\"text&#x2F;css\" href=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css\">",
            "tags": [
                "API",
                "Docker",
                "SQL",
                "å‰ç«¯",
                "JSON",
                "Mariadb",
                "åç«¯",
                "k8s"
            ]
        },
        {
            "id": "https://blog.weidows.tech/post/system/docker/",
            "url": "https://blog.weidows.tech/post/system/docker/",
            "title": "ğŸŒˆåˆæ¢Docker",
            "date_published": "2021-01-30T16:08:20.000Z",
            "content_html": "<h1>åˆæ¢ Docker.</h1>\n<!--\n * @?: *********************************************************************\n * @Author: Weidows\n * @Date: 2021-01-31 00:08:20\n * @LastEditors: Weidows\n * @LastEditTime: 2024-08-07 13:29:21\n * @FilePath: \\Blog-private\\source\\_posts\\system\\docker.md\n * @Description:\n * @!: *********************************************************************\n-->\n<blockquote class=\"pullquote mindmap mindmap-md\"><ul>\n<li><a href=\"#%E5%88%9D%E6%8E%A2-docker\">åˆæ¢ Docker.</a>\n<ul>\n<li><a href=\"#%E5%90%8D%E8%AF%8D%E5%BC%95%E5%85%A5\">åè¯å¼•å…¥</a>\n<ul>\n<li><a href=\"#docker-dockerfile\">docker-Dockerfile</a></li>\n<li><a href=\"#docker-compose\">docker-compose</a></li>\n<li><a href=\"#docker-machine\">docker-machine</a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%AE%89%E8%A3%85%E5%90%AF%E5%8A%A8\">å®‰è£…å¯åŠ¨</a>\n<ul>\n<li><a href=\"#manjaro\">Manjaro</a></li>\n<li><a href=\"#windows\">Windows</a></li>\n<li><a href=\"#ubuntu-server\">Ubuntu-Server</a></li>\n<li><a href=\"#%E8%A7%A3%E5%86%B3%E6%9D%83%E9%99%90%E9%97%AE%E9%A2%98\">è§£å†³æƒé™é—®é¢˜</a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%8A%A0%E9%80%9F\">åŠ é€Ÿ</a>\n<ul>\n<li><a href=\"#%E9%95%9C%E5%83%8F%E5%8A%A0%E9%80%9F\">é•œåƒåŠ é€Ÿ</a>\n<ul>\n<li><a href=\"#windows-1\">Windows</a></li>\n<li><a href=\"#manjaro-1\">Manjaro</a></li>\n</ul>\n</li>\n<li><a href=\"#%E8%AE%BE%E7%BD%AE%E4%BB%A3%E7%90%86\">è®¾ç½®ä»£ç†</a>\n<ul>\n<li><a href=\"#docker-%E6%9C%AC%E8%BA%AB%E4%BB%A3%E7%90%86\">docker-æœ¬èº«ä»£ç†</a></li>\n<li><a href=\"#docker-%E5%AE%B9%E5%99%A8%E4%BD%BF%E7%94%A8%E5%AE%BF%E4%B8%BB%E6%9C%BA%E4%BB%A3%E7%90%86\">docker-å®¹å™¨ä½¿ç”¨å®¿ä¸»æœºä»£ç†</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"#docker-%E7%AE%A1%E7%90%86\">docker ç®¡ç†</a>\n<ul>\n<li><a href=\"#vscode-docker\">VScode-docker</a></li>\n<li><a href=\"#portainer\">Portainer</a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4\">å¸¸ç”¨å‘½ä»¤</a>\n<ul>\n<li><a href=\"#%E5%91%BD%E4%BB%A4%E8%A1%8C%E6%89%A7%E8%A1%8C\">å‘½ä»¤è¡Œæ‰§è¡Œ</a></li>\n<li><a href=\"#docker-%E8%87%AA%E5%90%AF\">docker è‡ªå¯</a></li>\n<li><a href=\"#%E5%AE%B9%E5%99%A8%E8%87%AA%E5%90%AF\">å®¹å™¨è‡ªå¯</a></li>\n</ul>\n</li>\n<li><a href=\"#%E4%BD%BF%E7%94%A8%E6%A1%88%E4%BE%8B\">ä½¿ç”¨æ¡ˆä¾‹</a>\n<ul>\n<li><a href=\"#%E5%A4%9A%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AE%A1%E7%90%86\">å¤šæ•°æ®åº“ç®¡ç†</a></li>\n<li><a href=\"#docker-osx\">docker-osx</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</blockquote>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"åè¯å¼•å…¥\">åè¯å¼•å…¥</h2>\n<ul>\n<li>\n<p>é¦–å…ˆ<code>Docker</code>æ˜¯å•¥å°±ä¸è§£é‡Šäº†.</p>\n</li>\n<li>\n<p>åˆæ¢å°è¯•å®‰è£…æ—¶å‡ºç°ä¸‹é¢å¥½å‡ ä¸ªé€‰æ‹©,äºæ˜¯æœäº†æœ~</p>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GVA30z.png\" alt=\"20210131002505\" />\n</li>\n<li>\n<p>æ‰¾åˆ° docker å®¶æ—æœ‰å‡ ä¸ªç‰¹æ®Šçš„å·¥å…·<code>docker-Dockerfile</code>, <code>docker-compose</code>, <code>docker-machine</code></p>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GVSvW9.png\" alt=\"20210131004332\" />\n</li>\n</ul>\n<hr>\n<h3 id=\"docker-Dockerfile\">docker-Dockerfile</h3>\n<blockquote>\n<p><a href=\"https://www.runoob.com/docker/docker-dockerfile.html\">Docker Dockerfile</a> <br>\nDockerfile æ˜¯ä¸€ä¸ªç”¨æ¥æ„å»ºé•œåƒçš„æ–‡æœ¬æ–‡ä»¶ï¼Œæ–‡æœ¬å†…å®¹åŒ…å«äº†ä¸€æ¡æ¡æ„å»ºé•œåƒæ‰€éœ€çš„æŒ‡ä»¤å’Œè¯´æ˜ã€‚</p>\n</blockquote>\n<hr>\n<h3 id=\"docker-compose\">docker-compose</h3>\n<blockquote>\n<p><a href=\"https://blog.csdn.net/weixin_43165750/article/details/106108234\">docker ä¸ docker-compose åŒºåˆ«</a> <br>\ndocker æ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œä½ å¦‚æœè¦æ˜¯å®‰è£…æœåŠ¡ä¹Ÿæ˜¯è¦å•ç‹¬ä¸€ä¸ªä¸€ä¸ªçš„å®‰è£…ï¼Œå¦‚æœä½ ä½¿ç”¨äº† docker-compose çš„è¯ å°±å¯ä»¥ä½¿ç”¨ä¸€ä¸ª docker-compose.yml è„šæœ¬ä¸€é”®å®‰è£…<br>\nè¯´æ¥å…¶æ˜¯ç®¡ç†åŒä¸€ä¸ª docker ä¸‹å¤šä¸ªæœåŠ¡çš„.</p>\n</blockquote>\n<hr>\n<h3 id=\"docker-machine\">docker-machine</h3>\n<blockquote>\n<p><a href=\"https://zhuanlan.zhihu.com/p/93459073\">Docker ä¸‰å‰‘å®¢ä¹‹ docker-machine</a> <br>\nè¿™ä¸ªæ˜¯ç”¨æ¥ç®¡ç†å¤šä¸ª docker çš„.</p>\n</blockquote>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"å®‰è£…å¯åŠ¨\">å®‰è£…å¯åŠ¨</h2>\n<h3 id=\"Manjaro\">Manjaro</h3>\n<ul>\n<li>\n<p>manjaro é‡Œæœ <code>docker</code> å’Œ <code>docker-compose</code> å®‰è£…,ç„¶åé…ç½®ä¸‹é¢çš„ <a href=\"#manjaro\">é•œåƒåŠ é€Ÿ</a> å’Œ <a href=\"#docker-%E8%87%AA%E5%90%AF\">docker è‡ªå¯</a></p>\n</li>\n<li>\n<p>ok, Manjaro æ²¡æœ‰å…¶ä»–ä»»ä½•å‘!</p>\n</li>\n</ul>\n<hr>\n<h3 id=\"Windows\">Windows</h3>\n<ul>\n<li>\n<p>åœ¨ <code>Windows</code> ä¸Šå®‰è£…å°±æ¯”è¾ƒå¤æ‚äº†,ç‰µæ‰¯åˆ°å¾ˆå¤šä¸œè¥¿.</p>\n</li>\n<li>\n<p>Docker åŸºäº Linux ç³»ç»Ÿå®ç°,æ‰€ä»¥æ— æ³•ç›´æ¥å®‰è£…åœ¨ Windows ä¸Š,éœ€è¦è™šæ‹ŸåŒ–æ”¯æŒ.</p>\n<ul>\n<li>è¿™å°±éœ€è¦å€ŸåŠ©<code>wsl</code>æˆ–è€…<code>Virtual box</code>æˆ–è€…<code>hyper-v</code>äº†(å»ºè®®ç”¨ wsl)</li>\n</ul>\n<blockquote>\n<p>è¯¦è§ <a href=\"../wsl2#%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A\">ğŸ‡ å°è¯•è½¬æŠ• wsl ç”Ÿæ€.#åè¯è§£é‡Š</a></p>\n</blockquote>\n<ul>\n<li>è¿™é‡Œæä¸€ä¸‹,å¦‚æœæƒ³ç”¨ hyper-v å¼•æ“,åªéœ€è¦å‹¾é€‰<code>hyper-v</code>åŠŸèƒ½å°±è¡Œ,wsl çš„é‚£ä¸¤ä¸ªä¸ç”¨å¼€(å½“ç„¶å¼€äº†å¯¹ docker ä¹Ÿæ²¡å½±å“)</li>\n</ul>\n</li>\n</ul>\n<hr>\n<ul>\n<li>\n<p>å®‰è£… docker å‰,éœ€è¦è£…å¥½ wsl,ä¸‹é¢æ–‡ç« åˆ°<code>æœ€å</code>å®‰è£…ç³»ç»Ÿä¹‹å‰,éƒ½éœ€è¦è¿‡ä¸€éæ‰èƒ½è£…å¥½ wsl2</p>\n<blockquote>\n<p><a href=\"../wsl2#%E9%85%8D%E7%BD%AE\">ğŸ‡ å°è¯•è½¬æŠ• wsl ç”Ÿæ€.#é…ç½®</a></p>\n</blockquote>\n</li>\n<li>\n<p>è£…å¥½ wsl åå» docker å®˜ç½‘ä¸‹è½½ <code>Docker desktop for window</code>,å®‰è£….</p>\n</li>\n<li>\n<p>è£…å¥½ docker ä¹‹å <code>é‡å¯</code> æ‰èƒ½æ­£å¸¸ä½¿ç”¨!</p>\n</li>\n</ul>\n<hr>\n<h3 id=\"Ubuntu-Server\">Ubuntu-Server</h3>\n<ul>\n<li>\n<p><code>Ubuntu-Server</code>è£…ç³»ç»Ÿæ—¶å°±å¸¦æœ‰<code>Docker</code>å®‰è£…é€‰é¡¹,ç›´æ¥å®‰è£…å³å¯,ä½†æ˜¯ä¼šé‡åˆ°ä¸‹é¢<a href=\"#%E8%A7%A3%E5%86%B3%E6%9D%83%E9%99%90%E9%97%AE%E9%A2%98\">æƒé™é—®é¢˜åŠè§£å†³åŠæ³•</a></p>\n</li>\n<li>\n<details>\n  <summary>å®‰è£…åå¼€æœºæ£€æµ‹</summary>\n<figure class=\"highlight stata\"><table><tr><td class=\"code\"><pre><span class=\"line\">weidows@ubuntu-server:~$ docker</span><br><span class=\"line\"></span><br><span class=\"line\">Usage: docker [OPTIONS] COMMAND</span><br><span class=\"line\"></span><br><span class=\"line\">A self-sufficient runtime <span class=\"keyword\">for</span> containers</span><br><span class=\"line\"></span><br><span class=\"line\">Options:</span><br><span class=\"line\">--config string Location of client config files (default <span class=\"string\">&quot;/home/weidows/snap/docker/471/.docker&quot;</span>)</span><br><span class=\"line\">-c, --context string Name of the context to <span class=\"keyword\">use</span> to connect to the daemon (overrides DOCKER_HOST env <span class=\"keyword\">var</span> and default context <span class=\"keyword\">set</span> with <span class=\"string\">&quot;docker context use&quot;</span>)</span><br><span class=\"line\">-<span class=\"keyword\">D</span>, --debug Enable debug mode</span><br><span class=\"line\">-<span class=\"keyword\">H</span>, --host <span class=\"keyword\">list</span> Daemon socket(s) to connect to</span><br><span class=\"line\">-<span class=\"keyword\">l</span>, --<span class=\"keyword\">log</span>-level string <span class=\"keyword\">Set</span> the logging level (<span class=\"string\">&quot;debug&quot;</span>|<span class=\"string\">&quot;info&quot;</span>|<span class=\"string\">&quot;warn&quot;</span>|<span class=\"string\">&quot;error&quot;</span>|<span class=\"string\">&quot;fatal&quot;</span>) (default <span class=\"string\">&quot;info&quot;</span>)</span><br><span class=\"line\">--tls <span class=\"keyword\">Use</span> TLS; implied <span class=\"keyword\">by</span> --tlsverify</span><br><span class=\"line\">--tlscacert string Trust certs signed only <span class=\"keyword\">by</span> this <span class=\"keyword\">CA</span> (default <span class=\"string\">&quot;/home/weidows/snap/docker/471/.docker/ca.pem&quot;</span>)</span><br><span class=\"line\">--tlscert string Path to TLS certificate <span class=\"keyword\">file</span> (default <span class=\"string\">&quot;/home/weidows/snap/docker/471/.docker/cert.pem&quot;</span>)</span><br><span class=\"line\">--tlskey string Path to TLS key <span class=\"keyword\">file</span> (default <span class=\"string\">&quot;/home/weidows/snap/docker/471/.docker/key.pem&quot;</span>)</span><br><span class=\"line\">--tlsverify <span class=\"keyword\">Use</span> TLS and verify the remote</span><br><span class=\"line\">-v, --<span class=\"keyword\">version</span> <span class=\"keyword\">Print</span> <span class=\"keyword\">version</span> information and quit</span><br><span class=\"line\"></span><br><span class=\"line\">Management Commands:</span><br><span class=\"line\">builder Manage builds</span><br><span class=\"line\">config Manage Docker configs</span><br><span class=\"line\">container Manage containers</span><br><span class=\"line\">context Manage contexts</span><br><span class=\"line\">engine Manage the docker engine</span><br><span class=\"line\">image Manage images</span><br><span class=\"line\">network Manage networks</span><br><span class=\"line\">node Manage Swarm nodes</span><br><span class=\"line\"><span class=\"keyword\">plugin</span> Manage plugins</span><br><span class=\"line\">secret Manage Docker secrets</span><br><span class=\"line\">service Manage services</span><br><span class=\"line\"><span class=\"keyword\">stack</span> Manage Docker stacks</span><br><span class=\"line\">swarm Manage Swarm</span><br><span class=\"line\">system Manage Docker</span><br><span class=\"line\">trust Manage trust <span class=\"keyword\">on</span> Docker images</span><br><span class=\"line\">volume Manage volumes</span><br><span class=\"line\"></span><br><span class=\"line\">Commands:</span><br><span class=\"line\">attach Attach <span class=\"keyword\">local</span> standard <span class=\"keyword\">input</span>, output, and <span class=\"keyword\">error</span> streams to a running container</span><br><span class=\"line\">build Build <span class=\"keyword\">an</span> image from a Dockerfile</span><br><span class=\"line\">commit Create a new image from a container&#x27;s changes</span><br><span class=\"line\">cp <span class=\"keyword\">Copy</span> files/folders between a container and the <span class=\"keyword\">local</span> filesystem</span><br><span class=\"line\">create Create a new container</span><br><span class=\"line\">deploy Deploy a new <span class=\"keyword\">stack</span> or <span class=\"keyword\">update</span> <span class=\"keyword\">an</span> existing <span class=\"keyword\">stack</span></span><br><span class=\"line\">diff <span class=\"keyword\">Inspect</span> changes to files or directories <span class=\"keyword\">on</span> a container&#x27;s filesystem</span><br><span class=\"line\">events Get real time events from the server</span><br><span class=\"line\">exec <span class=\"keyword\">Run</span> a command <span class=\"keyword\">in</span> a running container</span><br><span class=\"line\">export Export a container&#x27;s filesystem <span class=\"keyword\">as</span> a tar archive</span><br><span class=\"line\">history Show the history of <span class=\"keyword\">an</span> image</span><br><span class=\"line\">images <span class=\"keyword\">List</span> images</span><br><span class=\"line\">import Import the contents from a tarball to create a filesystem image</span><br><span class=\"line\">info <span class=\"keyword\">Display</span> system-wide information</span><br><span class=\"line\"><span class=\"keyword\">inspect</span> <span class=\"keyword\">Return</span> low-level information <span class=\"keyword\">on</span> Docker objects</span><br><span class=\"line\">kill Kill <span class=\"keyword\">one</span> or <span class=\"keyword\">more</span> running containers</span><br><span class=\"line\">load Load <span class=\"keyword\">an</span> image from a tar archive or STDIN</span><br><span class=\"line\">login <span class=\"keyword\">Log</span> <span class=\"keyword\">in</span> to a Docker registry</span><br><span class=\"line\">logout <span class=\"keyword\">Log</span> <span class=\"keyword\">out</span> from a Docker registry</span><br><span class=\"line\">logs Fetch the logs of a container</span><br><span class=\"line\"><span class=\"keyword\">pause</span> <span class=\"keyword\">Pause</span> all processes within <span class=\"keyword\">one</span> or <span class=\"keyword\">more</span> containers</span><br><span class=\"line\">port <span class=\"keyword\">List</span> port mappings or a specific mapping <span class=\"keyword\">for</span> the container</span><br><span class=\"line\">ps <span class=\"keyword\">List</span> containers</span><br><span class=\"line\">pull Pull <span class=\"keyword\">an</span> image or a repository from a registry</span><br><span class=\"line\">push Push <span class=\"keyword\">an</span> image or a repository to a registry</span><br><span class=\"line\"><span class=\"keyword\">rename</span> <span class=\"keyword\">Rename</span> a container</span><br><span class=\"line\">restart Restart <span class=\"keyword\">one</span> or <span class=\"keyword\">more</span> containers</span><br><span class=\"line\"><span class=\"keyword\">rm</span> Remove <span class=\"keyword\">one</span> or <span class=\"keyword\">more</span> containers</span><br><span class=\"line\">rmi Remove <span class=\"keyword\">one</span> or <span class=\"keyword\">more</span> images</span><br><span class=\"line\"><span class=\"keyword\">run</span> <span class=\"keyword\">Run</span> a command <span class=\"keyword\">in</span> a new container</span><br><span class=\"line\"><span class=\"keyword\">save</span> <span class=\"keyword\">Save</span> <span class=\"keyword\">one</span> or <span class=\"keyword\">more</span> images to a tar archive (streamed to STDOUT <span class=\"keyword\">by</span> default)</span><br><span class=\"line\"><span class=\"keyword\">search</span> <span class=\"keyword\">Search</span> the Docker Hub <span class=\"keyword\">for</span> images</span><br><span class=\"line\">start Start <span class=\"keyword\">one</span> or <span class=\"keyword\">more</span> stopped containers</span><br><span class=\"line\">stats <span class=\"keyword\">Display</span> a live stream of container(s) resource usage statistics</span><br><span class=\"line\">stop Stop <span class=\"keyword\">one</span> or <span class=\"keyword\">more</span> running containers</span><br><span class=\"line\">tag Create a tag TARGET_IMAGE that refers to SOURCE_IMAGE</span><br><span class=\"line\">top <span class=\"keyword\">Display</span> the running processes of a container</span><br><span class=\"line\">unpause Unpause all processes within <span class=\"keyword\">one</span> or <span class=\"keyword\">more</span> containers</span><br><span class=\"line\"><span class=\"keyword\">update</span> <span class=\"keyword\">Update</span> configuration of <span class=\"keyword\">one</span> or <span class=\"keyword\">more</span> containers</span><br><span class=\"line\"><span class=\"keyword\">version</span> Show the Docker <span class=\"keyword\">version</span> information</span><br><span class=\"line\">wait Block until <span class=\"keyword\">one</span> or <span class=\"keyword\">more</span> containers stop, then <span class=\"keyword\">print</span> their <span class=\"keyword\">exit</span> codes</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">Run</span> &#x27;docker COMMAND --<span class=\"keyword\">help</span>&#x27; <span class=\"keyword\">for</span> <span class=\"keyword\">more</span> information <span class=\"keyword\">on</span> a command.</span><br><span class=\"line\">weidows@ubuntu-server:~$</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n</details>\n</li>\n</ul>\n<hr>\n<h3 id=\"è§£å†³æƒé™é—®é¢˜\">è§£å†³æƒé™é—®é¢˜</h3>\n<blockquote>\n<p><a href=\"https://blog.csdn.net/liangllhahaha/article/details/92077065\">è§£å†³ Ubuntu18.04 å¯åŠ¨ Dockerâ€œGot permission denied while trying to connect to the Docker daemon socketâ€œé—®é¢˜</a></p>\n</blockquote>\n<ul>\n<li>\n<p>æˆ‘å®‰è£…çš„<code>Ubuntu-Server</code>æ²¡æœ‰<code>root</code>ç”¨æˆ·,ä¼šå¯¼è‡´ docker å¯åŠ¨å¼‚å¸¸.</p>\n</li>\n<li>\n<p>ç”¨<code>docker version</code>æ£€æŸ¥</p>\n<ul>\n<li>æœ€åä¸€è¡Œä¼šæŠ¥é”™è¿™æ ·</li>\n</ul>\n<figure class=\"highlight perl\"><table><tr><td class=\"code\"><pre><span class=\"line\">Got permission denied <span class=\"keyword\">while</span> trying to <span class=\"keyword\">connect</span> to the Docker daemon <span class=\"keyword\">socket</span> at unix:<span class=\"regexp\">//</span><span class=\"regexp\">/var/run</span><span class=\"regexp\">/docker.sock: Get http:/</span><span class=\"regexp\">/%2Fvar%2Frun%2Fdocker.sock/</span><span class=\"number\">v1.26</span>/images/json: dial unix /var/run/docker.sock: <span class=\"keyword\">connect</span>: permission denied</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<ul>\n<li>\n<p>è§£å†³æ–¹æ¡ˆ</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> groupadd docker          <span class=\"comment\">#æ·»åŠ dockerç”¨æˆ·ç»„</span></span><br><span class=\"line\"><span class=\"built_in\">sudo</span> gpasswd -a <span class=\"variable\">$USER</span> docker  <span class=\"comment\">#å°†å½“å‰ç”¨æˆ·æ·»åŠ è‡³dockerç”¨æˆ·ç»„</span></span><br><span class=\"line\">newgrp docker                 <span class=\"comment\">#æ›´æ–°dockerç”¨æˆ·ç»„</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"åŠ é€Ÿ\">åŠ é€Ÿ</h2>\n<h3 id=\"é•œåƒåŠ é€Ÿ\">é•œåƒåŠ é€Ÿ</h3>\n<p>é˜¿é‡Œçš„é•œåƒæœåŠ¡è™½ç„¶æ˜¯èƒ½è®¿é—®, ä½†æ˜¯å·²ç»åœæ­¢æ›´æ–°äº†â€¦</p>\n<ul>\n<li>\n<p>ç™»å½•é˜¿é‡Œäº‘å¹¶æ‰¾åˆ°<a href=\"https://cr.console.aliyun.com/cn-hangzhou/instances/mirrors\"><code>å®¹å™¨é•œåƒæœåŠ¡</code></a></p>\n</li>\n<li>\n<p>é˜¿é‡Œä¼šç»™ä¸€ä¸ªåŠ é€Ÿåœ°å€,æŠŠåœ°å€å¤åˆ¶åˆ° Docker è®¾ç½®é‡Œå°±å¯.</p>\n</li>\n</ul>\n<h4 id=\"Windows-2\">Windows</h4>\n  <img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GVS4w1.png\" alt=\"20210205010825\" />\n<hr>\n<h4 id=\"Manjaro-2\">Manjaro</h4>\n<ul>\n<li>\n<p>æ–°å»ºæˆ–è€…ä¿®æ”¹<code>/etc/docker/daemon.json</code></p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;registry-mirrors&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">[</span><span class=\"string\">&quot;https://docker.hub.weidows.tech&quot;</span><span class=\"punctuation\">]</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>ç„¶åé‡å¯ docker æœåŠ¡</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">sudo systemctl daemon-reload</span><br><span class=\"line\">sudo systemctl restart docker</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<h3 id=\"è®¾ç½®ä»£ç†\">è®¾ç½®ä»£ç†</h3>\n<h4 id=\"docker-æœ¬èº«ä»£ç†\">docker-æœ¬èº«ä»£ç†</h4>\n<p>å›½å†…ç½‘ç»œç¯å¢ƒæ‹‰å–é•œåƒéå¸¸æ…¢,æŒ‚ä»£ç†å¯ä»¥å¿«å¾ˆå¤š. (ä¸è¿‡ä¸€èˆ¬é…ç½®äº†ä¸Šé¢çš„é•œåƒåŠ é€Ÿå°±ç”¨ä¸ç€é…ç½®ä»£ç†äº†)</p>\n<p>docker desktop è®¾ç½®é‡Œæ“ä½œ, localhost:7890</p>\n<h4 id=\"docker-å®¹å™¨ä½¿ç”¨å®¿ä¸»æœºä»£ç†\">docker-å®¹å™¨ä½¿ç”¨å®¿ä¸»æœºä»£ç†</h4>\n<p>æ¯”å¦‚åœ¨ docker é‡Œè·‘äº†è™šæ‹Ÿæœº (docker-osx, é»˜è®¤æ˜¯æ¡¥æ¥ç½‘ç»œå®é™…ç”¨èµ·æ¥æ˜¯æ²¡æœ‰ç§‘å­¦çš„</p>\n<p>å¯ä»¥é€‰æ‹©åœ¨åˆ›å»ºå®¹å™¨æ—¶ <code>--net=host</code> ä½¿ç”¨ä¸»æœºç½‘ç»œ, ä½†ä¸å¦‚:</p>\n<p><code>host.docker.internal</code> æŒ‡å‘å®¿ä¸»æœºå†…ç½‘ IP, proxy å¯ä»¥ç›´æ¥å†™ä¸º host.docker.internal:7890</p>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"docker-ç®¡ç†\">docker ç®¡ç†</h2>\n<h3 id=\"VScode-docker\">VScode-docker</h3>\n<ul>\n<li>\n<p>åœ¨ Manjaro è™šæ‹Ÿæœºä¸­å¯åŠ¨ docker æœåŠ¡,ç„¶åç”¨ vscode-ssh è¿æ¥ manjaro</p>\n</li>\n<li>\n<p>å®‰è£… docker æ’ä»¶,å°±å¯ä»¥äº«å—æ¯”è¾ƒæ–¹ä¾¿çš„å¯è§†åŒ–äº†(ä¸ªäººéå¸¸å–œæ¬¢è¿™ç§æ–¹å¼)</p>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GVt7YX.png\" alt=\"20210206153528\" />\n</li>\n<li>\n<p>å¦å¤–å†å®‰è£…<code>Resource Monitor</code>è¿™ä¸ªæ’ä»¶å¯ä»¥ç›‘æ§è¿œç¨‹æœºèµ„æºæ¶ˆè€—(å¦‚ä¸Šå›¾æœ€ä¸‹æ–¹)</p>\n</li>\n</ul>\n<hr>\n<h3 id=\"Portainer\">Portainer</h3>\n<blockquote>\n<p><a href=\"https://blog.csdn.net/tian330726/article/details/102987572\">Docker å®‰è£…ç®¡ç†é¢æ¿â€“Portainer</a></p>\n</blockquote>\n<ul>\n<li>\n<p>docker çš„å¯è§†åŒ–å·¥å…·,å¯è¿æ¥æœ¬åœ°å’Œè¿œç¨‹,æ”¯æŒé›†ç¾¤,æœ‰å¾ˆå¤šéƒ¨ç½²æ–¹å¼,è¿™é‡Œé€‰æ‹©ç›´æ¥åœ¨ docker éƒ¨ç½².</p>\n</li>\n<li>\n<p>é¦–å…ˆå®ƒéœ€è¦ä¸€ä¸ª<code>volume(æ•°æ®å·)</code>,æ–°å»º</p>\n<figure class=\"highlight gauss\"><table><tr><td class=\"code\"><pre><span class=\"line\">docker <span class=\"built_in\">volume</span> <span class=\"keyword\">create</span> portainer_data</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>ç„¶åæ‹‰å–å¹¶è¿è¡Œ</p>\n<ul>\n<li>éœ€è¦ä¿è¯ 9000 ç«¯å£æ²¡è¢«å ç”¨,ä¸ç„¶æ— æ³•è¿è¡Œ</li>\n</ul>\n<figure class=\"highlight dockerfile\"><table><tr><td class=\"code\"><pre><span class=\"line\">docker <span class=\"keyword\">run</span><span class=\"language-bash\"> -d --name portainer --restart always -p 9000:9000 -v /var/run/docker.sock:/var/run/docker.sock -v portainer_data:/data portainer/portainer</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>æµè§ˆå™¨æ‰“å¼€ <code>localhost:9000</code></p>\n</li>\n<li>\n<p>å®˜ç½‘ä¸Šçš„ç‰ˆæœ¬è¦æ¯” github çš„ tag æ…¢ä¸€äº›,å·¦ä¸‹è§’æç¤ºæ›´æ–°å¯ä»¥æ— è§†~</p>\n</li>\n</ul>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"å¸¸ç”¨å‘½ä»¤\">å¸¸ç”¨å‘½ä»¤</h2>\n<h3 id=\"å‘½ä»¤è¡Œæ‰§è¡Œ\">å‘½ä»¤è¡Œæ‰§è¡Œ</h3>\n<p>æœ‰äº›æ–‡æ¡£çš„å‘½ä»¤æ˜¯è¿™æ ·, è¡Œæœ«çš„ '' æ˜¯ shell çš„æ¢è¡Œç¬¦, windows ä¸æ”¯æŒ, åˆ æ‰å°±å¥½</p>\n<pre><code>docker run -d \\\n  -p 8088:8088 \\\n  --name next-terminal \\\n  --restart always ghcr.io/dushixiang/next-terminal:latest\n\ndocker run -d -p 8088:8088 --name next-terminal --restart always ghcr.io/dushixiang/next-terminal:latest\n</code></pre>\n<hr>\n<blockquote>\n<p><a href=\"../../lang/shell/shell#docker\">ğŸ’§ ä¸€äº›å¸¸ç”¨ç»ˆç«¯å‘½ä»¤.#docker</a></p>\n</blockquote>\n<h3 id=\"docker-è‡ªå¯\">docker è‡ªå¯</h3>\n<ul>\n<li>\n<p>å¯åŠ¨æœåŠ¡</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> systemctl start docker.service</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>å¼€æœºè‡ªåŠ¨å¯åŠ¨ docker æœåŠ¡</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> systemctl <span class=\"built_in\">enable</span> docker.service</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>é‡æ–°è½½å…¥é…ç½®</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> systemctl daemon-reload</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>é‡å¯ docker</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> systemctl restart docker</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<h3 id=\"å®¹å™¨è‡ªå¯\">å®¹å™¨è‡ªå¯</h3>\n<figure class=\"highlight routeros\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># å¼€å¯</span></span><br><span class=\"line\">docker update <span class=\"attribute\">--restart</span>=always &lt;CONTAINER ID&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># å…³é—­</span></span><br><span class=\"line\">docker update <span class=\"attribute\">--restart</span>=<span class=\"literal\">no</span> &lt;CONTAINER ID&gt;</span><br></pre></td></tr></table></figure>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"ä½¿ç”¨æ¡ˆä¾‹\">ä½¿ç”¨æ¡ˆä¾‹</h2>\n<h3 id=\"å¤šæ•°æ®åº“ç®¡ç†\">å¤šæ•°æ®åº“ç®¡ç†</h3>\n<ul>\n<li>\n<p>å¼€å‘æ—¶éœ€è¦å¥½å‡ ä¸ªä¸åŒçš„æ•°æ®åº“</p>\n<ol>\n<li>\n<p>åœ¨ win ä¸»æœºä¸Šå®‰è£…é…ç½®çš„è¯,å¿…ç„¶å„ç§ bug,å¤§éƒ¨åˆ†æ—¶é—´è¿˜ç©ºæµªè´¹æ€§èƒ½</p>\n</li>\n<li>\n<p>äºæ˜¯è€ƒè™‘åœ¨è™šæ‹Ÿæœºä¸Šè£…,ä½†æ˜¯é‰´äºå„ç§ç³»ç»Ÿç¯å¢ƒè¿˜ä¸ä¸€æ ·,æ¯ä¸ªæ•°æ®åº“æŒ¨ä¸ªé…ç½®å’Œè§£å†³ bug éƒ½åºŸæ‰‹</p>\n</li>\n<li>\n<p>äºæ˜¯è®©æ•°æ®åº“è¿›å…¥ docker</p>\n</li>\n</ol>\n</li>\n<li>\n<p>é€šè¿‡ <code>docker-compose.yml</code> ä¸€æ¡é¾™ç®¡ç† (å…å»äº†æ¯ä¸ªæ•°æ®åº“å®‰è£…,å¼€é€šè¿œç¨‹è¿æ¥,é…ç½®è´¦æˆ·è¿™äº›éº»çƒ¦)</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">version:</span> <span class=\"string\">&quot;3.1&quot;</span></span><br><span class=\"line\"><span class=\"attr\">services:</span></span><br><span class=\"line\">  <span class=\"comment\"># redis æ— å¯†ç </span></span><br><span class=\"line\">  <span class=\"attr\">redis:</span></span><br><span class=\"line\">    <span class=\"attr\">image:</span> <span class=\"string\">redis:latest</span></span><br><span class=\"line\">    <span class=\"attr\">restart:</span> <span class=\"string\">always</span></span><br><span class=\"line\">    <span class=\"attr\">container_name:</span> <span class=\"string\">&quot;redis-app&quot;</span></span><br><span class=\"line\">    <span class=\"attr\">command:</span> <span class=\"string\">redis-server</span> <span class=\"string\">/usr/local/etc/redis/redis.conf</span></span><br><span class=\"line\">    <span class=\"attr\">ports:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"number\">6379</span><span class=\"string\">:6379</span></span><br><span class=\"line\">    <span class=\"attr\">volumes:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">./redis.conf:/usr/local/etc/redis/redis.conf</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">/data/redis:/data</span></span><br><span class=\"line\">  <span class=\"comment\"># mongo root-2333</span></span><br><span class=\"line\">  <span class=\"attr\">mongo:</span></span><br><span class=\"line\">    <span class=\"attr\">image:</span> <span class=\"string\">mongo:latest</span></span><br><span class=\"line\">    <span class=\"attr\">restart:</span> <span class=\"string\">always</span></span><br><span class=\"line\">    <span class=\"attr\">container_name:</span> <span class=\"string\">&quot;mongo-app&quot;</span></span><br><span class=\"line\">    <span class=\"attr\">environment:</span></span><br><span class=\"line\">      <span class=\"attr\">MONGO_INITDB_ROOT_USERNAME:</span> <span class=\"string\">root</span></span><br><span class=\"line\">      <span class=\"attr\">MONGO_INITDB_ROOT_PASSWORD:</span> <span class=\"number\">2333</span></span><br><span class=\"line\">    <span class=\"attr\">ports:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"number\">27017</span><span class=\"string\">:27017</span></span><br><span class=\"line\">    <span class=\"attr\">volumes:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">/data/mongo:/etc/mongo</span></span><br><span class=\"line\">  <span class=\"comment\"># mariadb root-2333</span></span><br><span class=\"line\">  <span class=\"attr\">mariadb:</span></span><br><span class=\"line\">    <span class=\"attr\">image:</span> <span class=\"string\">mariadb:latest</span></span><br><span class=\"line\">    <span class=\"attr\">restart:</span> <span class=\"string\">always</span></span><br><span class=\"line\">    <span class=\"attr\">container_name:</span> <span class=\"string\">&quot;mariadb-app&quot;</span></span><br><span class=\"line\">    <span class=\"attr\">ports:</span></span><br><span class=\"line\">      <span class=\"comment\"># ç«¯å£æ˜ å°„</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"number\">3306</span><span class=\"string\">:3306</span></span><br><span class=\"line\">    <span class=\"attr\">volumes:</span></span><br><span class=\"line\">      <span class=\"comment\"># å®¹å™¨ä¸å®¿ä¸»æœºæ—¶é—´åŒæ­¥</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">/etc/localtime:/etc/localtime</span></span><br><span class=\"line\">      <span class=\"comment\"># æ•°æ®åº“ç›®å½•æ˜ å°„</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">./config/mariadb:/var/lib/mysql</span></span><br><span class=\"line\">      <span class=\"comment\"># ï¼ˆæ¨èï¼‰å¦‚æœè¦ä½¿ç”¨è‡ªå®šä¹‰çš„MySQLé…ç½®ï¼Œåˆ™å¯ä»¥åœ¨ä¸»æœºä¸Šçš„ç›®å½•ä¸­åˆ›å»ºå¤‡ç”¨é…ç½®æ–‡ä»¶ï¼Œç„¶åå°†è¯¥ç›®å½•ä½ç½®/etc/mysql/conf.då®‰è£…åœ¨mariadbå®¹å™¨å†…ã€‚è‡ªå·±æ‰€éœ€çš„é…ç½®æ–‡ä»¶å¯ä»¥æ”¾åœ¨è‡ªå·±æœåŠ¡å™¨./config/data/mariadb-configé‡Œé¢</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">./config/mariadb-config:/etc/mysql/conf.d</span></span><br><span class=\"line\">    <span class=\"attr\">environment:</span></span><br><span class=\"line\">      <span class=\"attr\">TIME_ZONE:</span> <span class=\"string\">Asia/Shanghai</span></span><br><span class=\"line\">      <span class=\"attr\">MYSQL_ROOT_PASSWORD:</span> <span class=\"number\">2333</span></span><br></pre></td></tr></table></figure>\n<p>è¿›æ­¤é…ç½®ç›®å½•æ‰§è¡Œ <code>docker-compose up</code>, <a href=\"https://github.com/Weidows-projects/Keeper/blob/main/scripts/docker/docker-compose.yml\">-&gt;æœ€æ–°æ–‡ä»¶åœ°å€&lt;-</a></p>\n</li>\n</ul>\n<hr>\n<h3 id=\"docker-osx\">docker-osx</h3>\n<p>è®°ä¸€ä¸‹æˆ‘åšçš„é…ç½®æ›´æ”¹, å¤‡å¿˜</p>\n<ol>\n<li>è®¾ç½®-ç½‘ç»œ-ä»£ç†\n<ol>\n<li>host.docker.internal:7890</li>\n</ol>\n</li>\n<li>ä¿®æ”¹ /etc/hosts\n<ol>\n<li>github520</li>\n</ol>\n</li>\n<li>å®‰è£… homebrew</li>\n</ol>\n<script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kity@2.0.4/dist/kity.min.js\"></script><script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js\"></script><script defer=\"true\" type=\"text&#x2F;javascript\" src=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js\"></script><link rel=\"stylesheet\" type=\"text&#x2F;css\" href=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css\">",
            "tags": [
                "Docker"
            ]
        }
    ]
}