<?xml version="1.0"?>
<rss version="2.0">
    <channel>
        <title>⭐️齐下无贰⭐️ • Posts by &#34;docker&#34; tag</title>
        <link>https://weidows.github.io</link>
        <description>May all the beauty be bless.✨</description>
        <language>zh-CN</language>
        <pubDate>Tue, 17 Aug 2021 09:29:17 +0000</pubDate>
        <lastBuildDate>Tue, 17 Aug 2021 09:29:17 +0000</lastBuildDate>
        <category>java</category>
        <category>javadoc</category>
        <category>编码</category>
        <category>vscode</category>
        <category>maven</category>
        <category>对象</category>
        <category>设计模式</category>
        <category>jvm</category>
        <category>lambda</category>
        <category>备忘录</category>
        <category>api</category>
        <category>推荐</category>
        <category>浏览器</category>
        <category>扩展</category>
        <category>ffmpeg</category>
        <category>算法</category>
        <category>hexdump</category>
        <category>hls</category>
        <category>openssl</category>
        <category>shell</category>
        <category>密码学</category>
        <category>ps</category>
        <category>设计</category>
        <category>摄影</category>
        <category>latex</category>
        <category>php</category>
        <category>website</category>
        <category>ssh</category>
        <category>linux</category>
        <category>regex</category>
        <category>yaml</category>
        <category>音乐</category>
        <category>哲学</category>
        <category>生活</category>
        <category>健身</category>
        <category>面试</category>
        <category>笔记</category>
        <category>english</category>
        <category>idea</category>
        <category>html</category>
        <category>css</category>
        <category>javascript</category>
        <category>成长路线</category>
        <category>deprecated</category>
        <category>font</category>
        <category>vr</category>
        <category>网课</category>
        <category>manjaro</category>
        <category>计算机系统</category>
        <category>服务器</category>
        <category>虚拟机</category>
        <category>树莓派</category>
        <category>windows</category>
        <category>docker</category>
        <category>多线程</category>
        <category>进程</category>
        <category>cpu</category>
        <category>scoop</category>
        <category>git</category>
        <category>python</category>
        <category>node</category>
        <category>ubuntu</category>
        <category>wsl2</category>
        <category>环境变量</category>
        <category>aria2</category>
        <category>工具</category>
        <category>pycharm</category>
        <category>goland</category>
        <category>图床</category>
        <category>爬虫</category>
        <category>sm.ms</category>
        <category>package</category>
        <category>tomcat</category>
        <category>mybatis</category>
        <category>map</category>
        <category>crud</category>
        <category>日志</category>
        <category>分页</category>
        <category>数据库</category>
        <category>注解</category>
        <category>mysql</category>
        <category>jdbc</category>
        <category>sql</category>
        <category>前端</category>
        <category>json</category>
        <category>javaweb</category>
        <category>servlet</category>
        <category>cookie</category>
        <category>session</category>
        <category>jsp</category>
        <category>filter</category>
        <category>架构</category>
        <category>反射</category>
        <category>cors</category>
        <category>大前端</category>
        <category>jquery</category>
        <category>npm</category>
        <category>yarn</category>
        <category>vue</category>
        <category>opengl</category>
        <category>c</category>
        <category>conan</category>
        <category>理论知识</category>
        <category>通信</category>
        <category>音频</category>
        <category>傅里叶变换</category>
        <category>极化码</category>
        <category>信息论</category>
        <category>powershell</category>
        <category>宝塔面板</category>
        <category>搞笑</category>
        <category>高能</category>
        <category>快捷键</category>
        <category>cmake</category>
        <category>区块链</category>
        <category>golang</category>
        <category>markdown</category>
        <category>processing</category>
        <category>anaconda</category>
        <category>hexo</category>
        <category>github</category>
        <category>gitee</category>
        <category>action</category>
        <category>branch</category>
        <category>release</category>
        <category>pages</category>
        <category>copilot</category>
        <category>插件</category>
        <category>emmet</category>
        <category>美化</category>
        <category>snippet</category>
        <category>seo</category>
        <category>node.js</category>
        <category>butterfly</category>
        <category>pug</category>
        <category>styl</category>
        <category>pjax</category>
        <category>优化</category>
        <category>魔改</category>
        <item>
            <guid isPermalink="true">https://weidows.github.io/post/Java/SQL/sql-problem/</guid>
            <title>🚚开发之旅~</title>
            <link>https://weidows.github.io/post/Java/SQL/sql-problem/</link>
            <category>docker</category>
            <category>sql</category>
            <category>前端</category>
            <category>json</category>
            <pubDate>Tue, 17 Aug 2021 09:29:17 +0000</pubDate>
            <description><![CDATA[ &lt;!--
 * @?: *********************************************************************
 * @Author: Weidows
 * @LastEditors: Weidows
 * @LastEditTime: 2021-12-04 08:59:48
 * @FilePath: \Blog-private\source\_posts\Java\SQL\sql-problem.md
 * @Description:
 * @!: *********************************************************************
--&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%AE%80%E4%BB%8B&#34;&gt;简介&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%A8%A1%E7%B3%8A%E6%9F%A5%E8%AF%A2&#34;&gt;模糊查询&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#where&#34;&gt;where&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%A4%9A%E7%B4%A2%E5%BC%95%E6%8E%92%E5%BA%8F&#34;&gt;多索引排序&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#mariadb-%E6%97%A0%E6%B3%95%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5&#34;&gt;Mariadb- 无法远程连接&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%95%B0%E6%8D%AE%E6%BA%90%E8%BF%9E%E6%8E%A5%E4%B8%8D%E4%B8%8A&#34;&gt;数据源连接不上&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#docker-databases&#34;&gt;docker-databases&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%8E%A5%E5%8F%A3%E6%95%B0%E6%8D%AE%E9%80%9F%E8%A7%88&#34;&gt;接口数据速览&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%A4%96%E9%94%AE-%E6%95%B0%E6%8D%AE-%E5%AF%BC%E5%87%BA%E5%85%A5&#34;&gt;外键 - 数据 - 导出入&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png&#34; alt=&#34;分割线&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;简介 -8&#34;&gt;简介&lt;/h2&gt;
&lt;p&gt;一顿课程下来,SQL 语法是熟悉了, 但是做到业务层面, 不圆滑之处暴露出来惹.&lt;/p&gt;
&lt;p&gt;不只是 SQL, 包括工作中常用的技巧.&lt;/p&gt;
&lt;p&gt;&lt;a&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png&#34; alt=&#34;分割线&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;模糊查询 -2&#34;&gt;模糊查询&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;包括模糊查询中文&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;网上文章:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&#34;https://www.cnblogs.com/-lin-x-c-/p/10375412.html&#34;&gt;mysql 中模糊查询的四种用法：&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&#34;https://www.oschina.net/question/160183_36995&#34;&gt;mybatis 模糊查询 中文问题&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;中 / 英都可以正常查询:&lt;/p&gt;
&lt;figure class=&#34;highlight xml&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;tag&#34;&gt;&amp;lt;&lt;span class=&#34;name&#34;&gt;select&lt;/span&gt; &lt;span class=&#34;attr&#34;&gt;id&lt;/span&gt;=&lt;span class=&#34;string&#34;&gt;&amp;quot;selectByBean&amp;quot;&lt;/span&gt; &lt;span class=&#34;attr&#34;&gt;resultMap&lt;/span&gt;=&lt;span class=&#34;string&#34;&gt;&amp;quot;BaseResultMap&amp;quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  select&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;tag&#34;&gt;&amp;lt;&lt;span class=&#34;name&#34;&gt;include&lt;/span&gt; &lt;span class=&#34;attr&#34;&gt;refid&lt;/span&gt;=&lt;span class=&#34;string&#34;&gt;&amp;quot;Base_Column_List&amp;quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  from test&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;tag&#34;&gt;&amp;lt;&lt;span class=&#34;name&#34;&gt;where&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;tag&#34;&gt;&amp;lt;&lt;span class=&#34;name&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;attr&#34;&gt;test&lt;/span&gt;=&lt;span class=&#34;string&#34;&gt;&amp;quot;name != null and name != &amp;#x27;&amp;#x27;&amp;quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      and name like concat(&amp;#x27;%&amp;#x27;,#&amp;#123;name&amp;#125;,&amp;#x27;%&amp;#x27;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;tag&#34;&gt;&amp;lt;/&lt;span class=&#34;name&#34;&gt;if&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;tag&#34;&gt;&amp;lt;&lt;span class=&#34;name&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;attr&#34;&gt;test&lt;/span&gt;=&lt;span class=&#34;string&#34;&gt;&amp;quot;url != null and url != &amp;#x27;&amp;#x27;&amp;quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      and cut_url like concat(&amp;#x27;%&amp;#x27;,#&amp;#123;url&amp;#125;,&amp;#x27;%&amp;#x27;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;tag&#34;&gt;&amp;lt;/&lt;span class=&#34;name&#34;&gt;if&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;tag&#34;&gt;&amp;lt;/&lt;span class=&#34;name&#34;&gt;where&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;tag&#34;&gt;&amp;lt;/&lt;span class=&#34;name&#34;&gt;select&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png&#34; alt=&#34;分割线&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;where-2&#34;&gt;where&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;开发中可能经常见到: &lt;code&gt;where 1 = 1&lt;/code&gt; , 这是干什么用的?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;拿上面的举例子, 把它变成下面这样子:&lt;/p&gt;
&lt;figure class=&#34;highlight xml&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;tag&#34;&gt;&amp;lt;&lt;span class=&#34;name&#34;&gt;select&lt;/span&gt; &lt;span class=&#34;attr&#34;&gt;id&lt;/span&gt;=&lt;span class=&#34;string&#34;&gt;&amp;quot;selectByBean&amp;quot;&lt;/span&gt; &lt;span class=&#34;attr&#34;&gt;resultMap&lt;/span&gt;=&lt;span class=&#34;string&#34;&gt;&amp;quot;BaseResultMap&amp;quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  select&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;tag&#34;&gt;&amp;lt;&lt;span class=&#34;name&#34;&gt;include&lt;/span&gt; &lt;span class=&#34;attr&#34;&gt;refid&lt;/span&gt;=&lt;span class=&#34;string&#34;&gt;&amp;quot;Base_Column_List&amp;quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  from test&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  where&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;tag&#34;&gt;&amp;lt;&lt;span class=&#34;name&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;attr&#34;&gt;test&lt;/span&gt;=&lt;span class=&#34;string&#34;&gt;&amp;quot;name != null and name != &amp;#x27;&amp;#x27;&amp;quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    name like concat(&amp;#x27;%&amp;#x27;,#&amp;#123;name&amp;#125;,&amp;#x27;%&amp;#x27;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;tag&#34;&gt;&amp;lt;/&lt;span class=&#34;name&#34;&gt;if&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;tag&#34;&gt;&amp;lt;&lt;span class=&#34;name&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;attr&#34;&gt;test&lt;/span&gt;=&lt;span class=&#34;string&#34;&gt;&amp;quot;url != null and url != &amp;#x27;&amp;#x27;&amp;quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    and cut_url like concat(&amp;#x27;%&amp;#x27;,#&amp;#123;url&amp;#125;,&amp;#x27;%&amp;#x27;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;tag&#34;&gt;&amp;lt;/&lt;span class=&#34;name&#34;&gt;if&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;tag&#34;&gt;&amp;lt;/&lt;span class=&#34;name&#34;&gt;select&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;如果 name == null, 那么 SQL 会是这样:&lt;/p&gt;
&lt;p&gt;where and cut_url like concat(‘%’,#{url},‘%’)&lt;/p&gt;
&lt;p&gt;肯定会报错&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;改成这样子就没问题了:&lt;/p&gt;
&lt;figure class=&#34;highlight xml&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;tag&#34;&gt;&amp;lt;&lt;span class=&#34;name&#34;&gt;select&lt;/span&gt; &lt;span class=&#34;attr&#34;&gt;id&lt;/span&gt;=&lt;span class=&#34;string&#34;&gt;&amp;quot;selectByBean&amp;quot;&lt;/span&gt; &lt;span class=&#34;attr&#34;&gt;resultMap&lt;/span&gt;=&lt;span class=&#34;string&#34;&gt;&amp;quot;BaseResultMap&amp;quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  select&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;tag&#34;&gt;&amp;lt;&lt;span class=&#34;name&#34;&gt;include&lt;/span&gt; &lt;span class=&#34;attr&#34;&gt;refid&lt;/span&gt;=&lt;span class=&#34;string&#34;&gt;&amp;quot;Base_Column_List&amp;quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  from test&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  where 1 = 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;tag&#34;&gt;&amp;lt;&lt;span class=&#34;name&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;attr&#34;&gt;test&lt;/span&gt;=&lt;span class=&#34;string&#34;&gt;&amp;quot;name != null and name != &amp;#x27;&amp;#x27;&amp;quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    name like concat(&amp;#x27;%&amp;#x27;,#&amp;#123;name&amp;#125;,&amp;#x27;%&amp;#x27;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;tag&#34;&gt;&amp;lt;/&lt;span class=&#34;name&#34;&gt;if&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;tag&#34;&gt;&amp;lt;&lt;span class=&#34;name&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;attr&#34;&gt;test&lt;/span&gt;=&lt;span class=&#34;string&#34;&gt;&amp;quot;url != null and url != &amp;#x27;&amp;#x27;&amp;quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    and cut_url like concat(&amp;#x27;%&amp;#x27;,#&amp;#123;url&amp;#125;,&amp;#x27;%&amp;#x27;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;tag&#34;&gt;&amp;lt;/&lt;span class=&#34;name&#34;&gt;if&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;tag&#34;&gt;&amp;lt;/&lt;span class=&#34;name&#34;&gt;select&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;在 SQL 支持的情况下, 还是套 &lt;code&gt;&amp;lt;where&amp;gt;&lt;/code&gt; 标签更好, 它能处理 &lt;code&gt;where and&lt;/code&gt; 这种情况.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png&#34; alt=&#34;分割线&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;多索引排序&#34;&gt;多索引排序&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;有时一个表中多个字段需要加索引&lt;/p&gt;
&lt;p&gt;但是这样导致每次添加 / 更新数据时排序都会变化&lt;/p&gt;
&lt;p&gt;前端接到的数据可以认为是无序化的, 如何解决呢?&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;挺简单的 &lt;code&gt;order by id&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png&#34; alt=&#34;分割线&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;Mariadb- 无法远程连接&#34;&gt;Mariadb- 无法远程连接&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;在 manjaro 虚拟机装了个 mariadb&lt;/p&gt;
&lt;p&gt;主机与虚拟机已经连通, 但是 mariadb 无法连接上 (授权失败)&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Host ‘192.168.114.1’ is not allowed to connect to this MariaDB server&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;因为 mariadb 默认只允许 localhost 连接&lt;/p&gt;
&lt;hr&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;网上找了一堆文章, 大多是 &lt;code&gt;grant 授权 &lt;/code&gt; , &lt;code&gt; 改配置文件&lt;/code&gt; 之类的&lt;/p&gt;
&lt;p&gt;试了下, 各种碰壁 , 这里给个简单方法&lt;/p&gt;
&lt;hr&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;直接 &lt;code&gt;新建一个用户&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;用户名随意 , host 填 &lt;code&gt;%&lt;/code&gt; (也就是允许所有)&lt;/p&gt;
&lt;p&gt;远程连接时连这个用户就行了.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png&#34; alt=&#34;分割线&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;数据源连接不上&#34;&gt;数据源连接不上&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;Failed to bind properties under ‘’ to com.zaxxer.hikari.HikariDataSource&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;这个情况大多是配置属性没写对, 重点看一下标记的地方&lt;/p&gt;
&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Weidows/Images/post/MJChF9w2mufaBtj.png&#34; alt=&#34;20210925193945&#34; /&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png&#34; alt=&#34;分割线&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;docker-databases&#34;&gt;docker-databases&lt;/h2&gt;
&lt;p&gt;用 docker 跑数据库真的是太 Jier 好使了!&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;在另一篇文章: &lt;a href=&#34;../../system/../docker#%E5%A4%9A%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AE%A1%E7%90%86&#34;&gt;🌈 初探 Docker.&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;a&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png&#34; alt=&#34;分割线&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;接口数据速览&#34;&gt;接口数据速览&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;前端接到 JSON 数据总是需要看一下, 通过 postman 那种不是很便捷&lt;/p&gt;
&lt;p&gt;于是之前我一直是找到响应 -&amp;gt; 复制 -&amp;gt; 粘贴到 vscode 格式化&lt;/p&gt;
&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Weidows/Images/post/n8bTu926i3eXmfh.png&#34; alt=&#34;20211015130205&#34; /&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;偶然发现有个更方便的手段: 浏览器 &lt;code&gt; 前端助手插件&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;安装后直接双击请求, 跳出的新页面就是已经格式化好的&lt;/p&gt;
&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Weidows/Images/post/axDBtA1YhiFylob.png&#34; alt=&#34;20211015130109&#34; /&gt;
&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Weidows/Images/post/Zb92EoeCIJ37zLg.png&#34; alt=&#34;20211015130815&#34; /&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;外键 - 数据 - 导出入&#34;&gt;外键 - 数据 - 导出入&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;结组做数据库课设时发现, 含有外键的表,create table 时会报错.&lt;/p&gt;
&lt;p&gt;解决办法呢, 比如下面的三个表&lt;/p&gt;
&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Weidows/Images/post/lOuosRBpgCkGJWV.png&#34; alt=&#34;20211204085119&#34; /&gt;
&lt;p&gt;先把 player 和 technology 两个表创建好, 再创建 good_at 就不会报错了&lt;/p&gt;
&lt;p&gt;(&lt;code&gt;也就是需要先创建外键指向的表, 再创建含有外键的表&lt;/code&gt;)&lt;/p&gt;
&lt;hr&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;insert 时还是会遇到问题, 跟上面类似&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Error: SQLSTATE[23000]: Integrity constraint violation: 1452 Cannot add or update a child row: a foreign key constraint fails (&lt;code&gt;test&lt;/code&gt;.&lt;code&gt;test_user&lt;/code&gt;, CONSTRAINT &lt;code&gt;fk_test_user_test_user_id&lt;/code&gt; FOREIGN KEY (&lt;code&gt;test_user_id&lt;/code&gt;) REFERENCES &lt;code&gt;test_user&lt;/code&gt; (&lt;code&gt;id&lt;/code&gt;))&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;先插入 player / technology 表, 再插入 good_at 表&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;实则还有种变相解决方法是在插入前 foreign_key_checks, 插入后再打开:&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;set&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  FOREIGN_KEY_CHECKS &lt;span class=&#34;operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;INSERT&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;INTO&lt;/span&gt; game(id,name,score,player) &lt;span class=&#34;keyword&#34;&gt;VALUES&lt;/span&gt;(&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;,&lt;span class=&#34;string&#34;&gt;&amp;#x27;aggdm&amp;#x27;&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;2&lt;/span&gt;),(&lt;span class=&#34;number&#34;&gt;2&lt;/span&gt;,&lt;span class=&#34;string&#34;&gt;&amp;#x27;cmera&amp;#x27;&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;10&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;10&lt;/span&gt;),(&lt;span class=&#34;number&#34;&gt;3&lt;/span&gt;,&lt;span class=&#34;string&#34;&gt;&amp;#x27;hzxgy&amp;#x27;&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;10&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;14&lt;/span&gt;),(&lt;span class=&#34;number&#34;&gt;4&lt;/span&gt;,&lt;span class=&#34;string&#34;&gt;&amp;#x27;ihqti&amp;#x27;&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;5&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;12&lt;/span&gt;),(&lt;span class=&#34;number&#34;&gt;5&lt;/span&gt;,&lt;span class=&#34;string&#34;&gt;&amp;#x27;hozmy&amp;#x27;&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;5&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;6&lt;/span&gt;),(&lt;span class=&#34;number&#34;&gt;6&lt;/span&gt;,&lt;span class=&#34;string&#34;&gt;&amp;#x27;wrcux&amp;#x27;&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;12&lt;/span&gt;),(&lt;span class=&#34;number&#34;&gt;7&lt;/span&gt;,&lt;span class=&#34;string&#34;&gt;&amp;#x27;mlijv&amp;#x27;&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;9&lt;/span&gt;),(&lt;span class=&#34;number&#34;&gt;8&lt;/span&gt;,&lt;span class=&#34;string&#34;&gt;&amp;#x27;qmnij&amp;#x27;&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;10&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;11&lt;/span&gt;),(&lt;span class=&#34;number&#34;&gt;9&lt;/span&gt;,&lt;span class=&#34;string&#34;&gt;&amp;#x27;vswdc&amp;#x27;&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;7&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;14&lt;/span&gt;),(&lt;span class=&#34;number&#34;&gt;10&lt;/span&gt;,&lt;span class=&#34;string&#34;&gt;&amp;#x27;gebit&amp;#x27;&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;6&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;11&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;set&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  FOREIGN_KEY_CHECKS &lt;span class=&#34;operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;script type=&#34;text&amp;#x2F;javascript&#34; src=&#34;https://unpkg.com/kity@2.0.4/dist/kity.min.js&#34;&gt;&lt;/script&gt;&lt;script type=&#34;text&amp;#x2F;javascript&#34; src=&#34;https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js&#34;&gt;&lt;/script&gt;&lt;script defer=&#34;true&#34; type=&#34;text&amp;#x2F;javascript&#34; src=&#34;https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js&#34;&gt;&lt;/script&gt;&lt;link rel=&#34;stylesheet&#34; type=&#34;text&amp;#x2F;css&#34; href=&#34;https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css&#34;&gt; ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://weidows.github.io/post/system/docker/</guid>
            <title>🌈初探 Docker.</title>
            <link>https://weidows.github.io/post/system/docker/</link>
            <category>docker</category>
            <pubDate>Sat, 30 Jan 2021 16:08:20 +0000</pubDate>
            <description><![CDATA[ &lt;!--
 * @?: *********************************************************************
 * @Author: Weidows
 * @Date: 2021-01-31 00:08:20
 * @LastEditors: Weidows
 * @LastEditTime: 2021-10-12 15:47:09
 * @FilePath: \Blog-private\source\_posts\system\docker.md
 * @Description:
 * @!: *********************************************************************
--&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%90%8D%E8%AF%8D%E5%BC%95%E5%85%A5&#34;&gt;名词引入&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#docker-dockerfile&#34;&gt;docker-Dockerfile&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#docker-compose&#34;&gt;docker-compose&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#docker-machine&#34;&gt;docker-machine&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%89%E8%A3%85%E5%90%AF%E5%8A%A8&#34;&gt;安装启动&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#the-best-manjaro&#34;&gt;the-best-Manjaro&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#windows&#34;&gt;Windows&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ubuntu-server&#34;&gt;Ubuntu-Server&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%A7%A3%E5%86%B3%E6%9D%83%E9%99%90%E9%97%AE%E9%A2%98&#34;&gt;解决权限问题&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%8A%A0%E9%80%9F&#34;&gt;加速&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E9%95%9C%E5%83%8F%E5%8A%A0%E9%80%9F&#34;&gt;镜像加速&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#windows-1&#34;&gt;Windows&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#manjaro&#34;&gt;Manjaro&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%AE%BE%E7%BD%AE%E4%BB%A3%E7%90%86&#34;&gt;设置代理&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#docker-%E7%AE%A1%E7%90%86&#34;&gt;docker 管理&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#vscode-docker&#34;&gt;VScode-docker&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#portainer&#34;&gt;Portainer&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4&#34;&gt;常用命令&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#docker-%E8%87%AA%E5%90%AF&#34;&gt;docker 自启&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%B9%E5%99%A8%E8%87%AA%E5%90%AF&#34;&gt;容器自启&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%91%BD%E4%BB%A4%E8%A1%8C%E6%89%A7%E8%A1%8C&#34;&gt;命令行执行&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%A4%9A%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AE%A1%E7%90%86&#34;&gt;多数据库管理&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png&#34; alt=&#34;分割线&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;名词引入&#34;&gt;名词引入&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;首先 &lt;code&gt;Docker&lt;/code&gt; 是啥就不解释了.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;初探尝试安装时出现下面好几个选择, 于是搜了搜~&lt;/p&gt;
&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Weidows/Images/post/jhuS34tCPsd8qzO.png&#34; alt=&#34;20210131002505&#34; /&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;找到 docker 家族有几个特殊的工具&lt;code&gt;docker-Dockerfile&lt;/code&gt;, &lt;code&gt;docker-compose&lt;/code&gt;, &lt;code&gt;docker-machine&lt;/code&gt;&lt;/p&gt;
&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Weidows/Images/post/ylYzZV2vthOpcsW.png&#34; alt=&#34;20210131004332&#34; /&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;docker-Dockerfile&#34;&gt;docker-Dockerfile&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&#34;https://www.runoob.com/docker/docker-dockerfile.html&#34;&gt;Docker Dockerfile&lt;/a&gt; &lt;br&gt;
Dockerfile 是一个用来构建镜像的文本文件，文本内容包含了一条条构建镜像所需的指令和说明。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h3 id=&#34;docker-compose&#34;&gt;docker-compose&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.csdn.net/weixin_43165750/article/details/106108234&#34;&gt;docker 与 docker-compose 区别&lt;/a&gt; &lt;br&gt;
docker 是一个容器，你如果要是安装服务也是要单独一个一个的安装，如果你使用了 docker-compose 的话 就可以使用一个 docker-compose.yml 脚本一键安装&lt;br&gt;
说来其是管理同一个 docker 下多个服务的.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h3 id=&#34;docker-machine&#34;&gt;docker-machine&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&#34;https://zhuanlan.zhihu.com/p/93459073&#34;&gt;Docker 三剑客之 docker-machine&lt;/a&gt; &lt;br&gt;
这个是用来管理多个 docker 的.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;a&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png&#34; alt=&#34;分割线&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;安装启动&#34;&gt;安装启动&lt;/h2&gt;
&lt;h3 id=&#34;the-best-Manjaro&#34;&gt;the-best-Manjaro&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;manjaro 里搜 &lt;code&gt;docker&lt;/code&gt; 和 &lt;code&gt;docker-compose&lt;/code&gt; 安装, 然后配置下面的 &lt;a href=&#34;#manjaro&#34;&gt;镜像加速&lt;/a&gt; 和 &lt;a href=&#34;#docker-%E8%87%AA%E5%90%AF&#34;&gt;docker 自启&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ok, Manjaro 没有其他任何坑!&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;Windows&#34;&gt;Windows&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;在 &lt;code&gt;Windows&lt;/code&gt; 上安装就比较复杂了, 牵扯到很多东西.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Docker 基于 Linux 系统实现, 所以无法直接安装在 Windows 上, 需要虚拟化支持.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;这就需要借助 &lt;code&gt;wsl&lt;/code&gt; 或者 &lt;code&gt;Virtual box&lt;/code&gt; 或者 &lt;code&gt;hyper-v&lt;/code&gt; 了(建议用 wsl)&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;详见 &lt;a href=&#34;../wsl2#%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A&#34;&gt;🎇 尝试转投 wsl 生态.# 名词解释&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;这里提一下, 如果想用 hyper-v 引擎, 只需要勾选 &lt;code&gt;hyper-v&lt;/code&gt; 功能就行,wsl 的那两个不用开(当然开了对 docker 也没影响)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;安装 docker 前, 需要装好 wsl, 下面文章到 &lt;code&gt; 最后 &lt;/code&gt; 安装系统之前, 都需要过一遍才能装好 wsl2&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&#34;../wsl2#%E9%85%8D%E7%BD%AE&#34;&gt;🎇 尝试转投 wsl 生态.# 配置&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;装好 wsl 后去 docker 官网下载 &lt;code&gt;Docker desktop for window&lt;/code&gt;, 安装.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;装好 docker 之后 &lt;code&gt;重启&lt;/code&gt; 才能正常使用!&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;Ubuntu-Server&#34;&gt;Ubuntu-Server&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;Ubuntu-Server&lt;/code&gt;装系统时就带有 &lt;code&gt;Docker&lt;/code&gt; 安装选项, 直接安装即可, 但是会遇到下面 &lt;a href=&#34;#%E8%A7%A3%E5%86%B3%E6%9D%83%E9%99%90%E9%97%AE%E9%A2%98&#34;&gt; 权限问题及解决办法&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;details&gt;
  &lt;summary&gt;安装后开机检测&lt;/summary&gt;
&lt;figure class=&#34;highlight stata&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;73&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;74&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;75&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;76&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;77&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;78&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;79&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;80&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;81&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;82&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;83&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;weidows@ubuntu-server:~$ docker&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Usage: docker [OPTIONS] COMMAND&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;A self-sufficient runtime &lt;span class=&#34;keyword&#34;&gt;for&lt;/span&gt; containers&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Options:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;--config string Location of client config files (default &lt;span class=&#34;string&#34;&gt;&amp;quot;/home/weidows/snap/docker/471/.docker&amp;quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;-c, --context string Name of the context to &lt;span class=&#34;keyword&#34;&gt;use&lt;/span&gt; to connect to the daemon (overrides DOCKER_HOST env &lt;span class=&#34;keyword&#34;&gt;var&lt;/span&gt; and default context &lt;span class=&#34;keyword&#34;&gt;set&lt;/span&gt; with &lt;span class=&#34;string&#34;&gt;&amp;quot;docker context use&amp;quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;-&lt;span class=&#34;keyword&#34;&gt;D&lt;/span&gt;, --debug Enable debug mode&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;-&lt;span class=&#34;keyword&#34;&gt;H&lt;/span&gt;, --host &lt;span class=&#34;keyword&#34;&gt;list&lt;/span&gt; Daemon socket(s) to connect to&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;-&lt;span class=&#34;keyword&#34;&gt;l&lt;/span&gt;, --&lt;span class=&#34;keyword&#34;&gt;log&lt;/span&gt;-level string &lt;span class=&#34;keyword&#34;&gt;Set&lt;/span&gt; the logging level (&lt;span class=&#34;string&#34;&gt;&amp;quot;debug&amp;quot;&lt;/span&gt;|&lt;span class=&#34;string&#34;&gt;&amp;quot;info&amp;quot;&lt;/span&gt;|&lt;span class=&#34;string&#34;&gt;&amp;quot;warn&amp;quot;&lt;/span&gt;|&lt;span class=&#34;string&#34;&gt;&amp;quot;error&amp;quot;&lt;/span&gt;|&lt;span class=&#34;string&#34;&gt;&amp;quot;fatal&amp;quot;&lt;/span&gt;) (default &lt;span class=&#34;string&#34;&gt;&amp;quot;info&amp;quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;--tls &lt;span class=&#34;keyword&#34;&gt;Use&lt;/span&gt; TLS; implied &lt;span class=&#34;keyword&#34;&gt;by&lt;/span&gt; --tlsverify&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;--tlscacert string Trust certs signed only &lt;span class=&#34;keyword&#34;&gt;by&lt;/span&gt; this &lt;span class=&#34;keyword&#34;&gt;CA&lt;/span&gt; (default &lt;span class=&#34;string&#34;&gt;&amp;quot;/home/weidows/snap/docker/471/.docker/ca.pem&amp;quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;--tlscert string Path to TLS certificate &lt;span class=&#34;keyword&#34;&gt;file&lt;/span&gt; (default &lt;span class=&#34;string&#34;&gt;&amp;quot;/home/weidows/snap/docker/471/.docker/cert.pem&amp;quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;--tlskey string Path to TLS key &lt;span class=&#34;keyword&#34;&gt;file&lt;/span&gt; (default &lt;span class=&#34;string&#34;&gt;&amp;quot;/home/weidows/snap/docker/471/.docker/key.pem&amp;quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;--tlsverify &lt;span class=&#34;keyword&#34;&gt;Use&lt;/span&gt; TLS and verify the remote&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;-v, --&lt;span class=&#34;keyword&#34;&gt;version&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;Print&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;version&lt;/span&gt; information and quit&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Management Commands:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;builder Manage builds&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;config Manage Docker configs&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;container Manage containers&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;context Manage contexts&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;engine Manage the docker engine&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;image Manage images&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;network Manage networks&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;node Manage Swarm nodes&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;plugin&lt;/span&gt; Manage plugins&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;secret Manage Docker secrets&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;service Manage services&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;stack&lt;/span&gt; Manage Docker stacks&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;swarm Manage Swarm&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;system Manage Docker&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;trust Manage trust &lt;span class=&#34;keyword&#34;&gt;on&lt;/span&gt; Docker images&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;volume Manage volumes&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Commands:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;attach Attach &lt;span class=&#34;keyword&#34;&gt;local&lt;/span&gt; standard &lt;span class=&#34;keyword&#34;&gt;input&lt;/span&gt;, output, and &lt;span class=&#34;keyword&#34;&gt;error&lt;/span&gt; streams to a running container&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;build Build &lt;span class=&#34;keyword&#34;&gt;an&lt;/span&gt; image from a Dockerfile&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;commit Create a new image from a container&amp;#x27;s changes&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;cp &lt;span class=&#34;keyword&#34;&gt;Copy&lt;/span&gt; files/folders between a container and the &lt;span class=&#34;keyword&#34;&gt;local&lt;/span&gt; filesystem&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;create Create a new container&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;deploy Deploy a new &lt;span class=&#34;keyword&#34;&gt;stack&lt;/span&gt; or &lt;span class=&#34;keyword&#34;&gt;update&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;an&lt;/span&gt; existing &lt;span class=&#34;keyword&#34;&gt;stack&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;diff &lt;span class=&#34;keyword&#34;&gt;Inspect&lt;/span&gt; changes to files or directories &lt;span class=&#34;keyword&#34;&gt;on&lt;/span&gt; a container&amp;#x27;s filesystem&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;events Get real time events from the server&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;exec &lt;span class=&#34;keyword&#34;&gt;Run&lt;/span&gt; a command &lt;span class=&#34;keyword&#34;&gt;in&lt;/span&gt; a running container&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;export Export a container&amp;#x27;s filesystem &lt;span class=&#34;keyword&#34;&gt;as&lt;/span&gt; a tar archive&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;history Show the history of &lt;span class=&#34;keyword&#34;&gt;an&lt;/span&gt; image&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;images &lt;span class=&#34;keyword&#34;&gt;List&lt;/span&gt; images&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;import Import the contents from a tarball to create a filesystem image&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;info &lt;span class=&#34;keyword&#34;&gt;Display&lt;/span&gt; system-wide information&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;inspect&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;Return&lt;/span&gt; low-level information &lt;span class=&#34;keyword&#34;&gt;on&lt;/span&gt; Docker objects&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;kill Kill &lt;span class=&#34;keyword&#34;&gt;one&lt;/span&gt; or &lt;span class=&#34;keyword&#34;&gt;more&lt;/span&gt; running containers&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;load Load &lt;span class=&#34;keyword&#34;&gt;an&lt;/span&gt; image from a tar archive or STDIN&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;login &lt;span class=&#34;keyword&#34;&gt;Log&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;in&lt;/span&gt; to a Docker registry&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;logout &lt;span class=&#34;keyword&#34;&gt;Log&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;out&lt;/span&gt; from a Docker registry&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;logs Fetch the logs of a container&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;pause&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;Pause&lt;/span&gt; all processes within &lt;span class=&#34;keyword&#34;&gt;one&lt;/span&gt; or &lt;span class=&#34;keyword&#34;&gt;more&lt;/span&gt; containers&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;port &lt;span class=&#34;keyword&#34;&gt;List&lt;/span&gt; port mappings or a specific mapping &lt;span class=&#34;keyword&#34;&gt;for&lt;/span&gt; the container&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;ps &lt;span class=&#34;keyword&#34;&gt;List&lt;/span&gt; containers&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;pull Pull &lt;span class=&#34;keyword&#34;&gt;an&lt;/span&gt; image or a repository from a registry&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;push Push &lt;span class=&#34;keyword&#34;&gt;an&lt;/span&gt; image or a repository to a registry&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;rename&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;Rename&lt;/span&gt; a container&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;restart Restart &lt;span class=&#34;keyword&#34;&gt;one&lt;/span&gt; or &lt;span class=&#34;keyword&#34;&gt;more&lt;/span&gt; containers&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;rm&lt;/span&gt; Remove &lt;span class=&#34;keyword&#34;&gt;one&lt;/span&gt; or &lt;span class=&#34;keyword&#34;&gt;more&lt;/span&gt; containers&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;rmi Remove &lt;span class=&#34;keyword&#34;&gt;one&lt;/span&gt; or &lt;span class=&#34;keyword&#34;&gt;more&lt;/span&gt; images&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;run&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;Run&lt;/span&gt; a command &lt;span class=&#34;keyword&#34;&gt;in&lt;/span&gt; a new container&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;save&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;Save&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;one&lt;/span&gt; or &lt;span class=&#34;keyword&#34;&gt;more&lt;/span&gt; images to a tar archive (streamed to STDOUT &lt;span class=&#34;keyword&#34;&gt;by&lt;/span&gt; default)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;search&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;Search&lt;/span&gt; the Docker Hub &lt;span class=&#34;keyword&#34;&gt;for&lt;/span&gt; images&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;start Start &lt;span class=&#34;keyword&#34;&gt;one&lt;/span&gt; or &lt;span class=&#34;keyword&#34;&gt;more&lt;/span&gt; stopped containers&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;stats &lt;span class=&#34;keyword&#34;&gt;Display&lt;/span&gt; a live stream of container(s) resource usage statistics&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;stop Stop &lt;span class=&#34;keyword&#34;&gt;one&lt;/span&gt; or &lt;span class=&#34;keyword&#34;&gt;more&lt;/span&gt; running containers&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;tag Create a tag TARGET_IMAGE that refers to SOURCE_IMAGE&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;top &lt;span class=&#34;keyword&#34;&gt;Display&lt;/span&gt; the running processes of a container&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;unpause Unpause all processes within &lt;span class=&#34;keyword&#34;&gt;one&lt;/span&gt; or &lt;span class=&#34;keyword&#34;&gt;more&lt;/span&gt; containers&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;update&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;Update&lt;/span&gt; configuration of &lt;span class=&#34;keyword&#34;&gt;one&lt;/span&gt; or &lt;span class=&#34;keyword&#34;&gt;more&lt;/span&gt; containers&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;version&lt;/span&gt; Show the Docker &lt;span class=&#34;keyword&#34;&gt;version&lt;/span&gt; information&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;wait Block until &lt;span class=&#34;keyword&#34;&gt;one&lt;/span&gt; or &lt;span class=&#34;keyword&#34;&gt;more&lt;/span&gt; containers stop, then &lt;span class=&#34;keyword&#34;&gt;print&lt;/span&gt; their &lt;span class=&#34;keyword&#34;&gt;exit&lt;/span&gt; codes&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;Run&lt;/span&gt; &amp;#x27;docker COMMAND --&lt;span class=&#34;keyword&#34;&gt;help&lt;/span&gt;&amp;#x27; &lt;span class=&#34;keyword&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;more&lt;/span&gt; information &lt;span class=&#34;keyword&#34;&gt;on&lt;/span&gt; a command.&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;weidows@ubuntu-server:~$&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/details&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;解决权限问题&#34;&gt;解决权限问题&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.csdn.net/liangllhahaha/article/details/92077065&#34;&gt;解决 Ubuntu18.04 启动 Docker“Got permission denied while trying to connect to the Docker daemon socket“问题&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;我安装的 &lt;code&gt;Ubuntu-Server&lt;/code&gt; 没有 &lt;code&gt;root&lt;/code&gt; 用户, 会导致 docker 启动异常.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;用 &lt;code&gt;docker version&lt;/code&gt; 检查&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;最后一行会报错这样&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight awk&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;Got permission denied &lt;span class=&#34;keyword&#34;&gt;while&lt;/span&gt; trying to connect to the Docker daemon socket at unix:&lt;span class=&#34;regexp&#34;&gt;//&lt;/span&gt;&lt;span class=&#34;regexp&#34;&gt;/var/&lt;/span&gt;run&lt;span class=&#34;regexp&#34;&gt;/docker.sock: Get http:/&lt;/span&gt;&lt;span class=&#34;regexp&#34;&gt;/%2Fvar%2Frun%2Fdocker.sock/&lt;/span&gt;v1.&lt;span class=&#34;number&#34;&gt;26&lt;/span&gt;&lt;span class=&#34;regexp&#34;&gt;/images/&lt;/span&gt;json: dial unix &lt;span class=&#34;regexp&#34;&gt;/var/&lt;/span&gt;run/docker.sock: connect: permission denied&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;解决方案&lt;/p&gt;
&lt;figure class=&#34;highlight crmsh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;sudo groupadd docker          &lt;span class=&#34;comment&#34;&gt;# 添加 docker 用户组&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;sudo gpasswd -a $&lt;span class=&#34;keyword&#34;&gt;USER&lt;/span&gt; &lt;span class=&#34;title&#34;&gt;docker&lt;/span&gt;  &lt;span class=&#34;comment&#34;&gt;# 将当前用户添加至 docker 用户组&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;newgrp docker                 &lt;span class=&#34;comment&#34;&gt;# 更新 docker 用户组&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png&#34; alt=&#34;分割线&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;加速&#34;&gt;加速&lt;/h2&gt;
&lt;h3 id=&#34;镜像加速&#34;&gt;镜像加速&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;登录阿里云并找到 &lt;a href=&#34;https://cr.console.aliyun.com/cn-hangzhou/instances/mirrors&#34;&gt;&lt;code&gt; 容器镜像服务&lt;/code&gt;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;阿里会给一个加速地址, 把地址复制到 Docker 设置里就可.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;Windows-2&#34;&gt;Windows&lt;/h4&gt;
  &lt;img src=&#34;https://cdn.jsdelivr.net/gh/Weidows/Images/post/wG1JgIPTof5yN6b.png&#34; alt=&#34;20210205010825&#34; /&gt;
&lt;hr&gt;
&lt;h4 id=&#34;Manjaro&#34;&gt;Manjaro&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;新建或者修改&lt;code&gt;/etc/docker/daemon.json&lt;/code&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight json&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;attr&#34;&gt;&amp;quot;registry-mirrors&amp;quot;&lt;/span&gt;: [&lt;span class=&#34;string&#34;&gt;&amp;quot;https://docker.mirrors.ustc.edu.cn&amp;quot;&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;然后重启 docker 服务&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;sudo systemctl daemon-reload&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;sudo systemctl restart docker&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;设置代理&#34;&gt;设置代理&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;参考: &lt;a href=&#34;https://docs.docker.com/config/daemon/systemd/&#34;&gt;docker docs&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;国内网络环境拉取镜像非常慢, 挂代理可以快很多. (不过一般配置了上面的镜像加速就用不着配置代理了)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;1. 新建文件夹&lt;/p&gt;
&lt;figure class=&#34;highlight awk&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;sudo mkdir -p &lt;span class=&#34;regexp&#34;&gt;/etc/&lt;/span&gt;systemd&lt;span class=&#34;regexp&#34;&gt;/system/&lt;/span&gt;docker.service.d&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;2. 新建文件 &lt;code&gt;/etc/systemd/system/docker.service.d/http-proxy.conf&lt;/code&gt;, 添加内容:&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;[Service]&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Environment=&amp;quot;HTTP_PROXY=http://192.168.2.109:7890&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;3. 如果需要其他协议的代理, 可以再添加, 如下:&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;[Service]&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Environment=&amp;quot;HTTP_PROXY=http://192.168.2.109:7890&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Environment=&amp;quot;HTTPS_PROXY=https://192.168.2.109:7890&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;&lt;a href=&#34;#docker-%E8%87%AA%E5%90%AF&#34;&gt;重新载入配置 &amp;amp; 重启 docker&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png&#34; alt=&#34;分割线&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;docker- 管理&#34;&gt;docker 管理&lt;/h2&gt;
&lt;h3 id=&#34;VScode-docker&#34;&gt;VScode-docker&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;在 Manjaro 虚拟机中启动 docker 服务, 然后用 vscode-ssh 连接 manjaro&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;安装 docker 插件, 就可以享受比较方便的可视化了(个人非常喜欢这种方式)&lt;/p&gt;
&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Weidows/Images/post/AF6QcV3elqXPR2t.png&#34; alt=&#34;20210206153528&#34; /&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;另外再安装 &lt;code&gt;Resource Monitor&lt;/code&gt; 这个插件可以监控远程机资源消耗(如上图最下方)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;Portainer&#34;&gt;Portainer&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.csdn.net/tian330726/article/details/102987572&#34;&gt;Docker 安装管理面板–Portainer&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;docker 的可视化工具, 可连接本地和远程, 支持集群, 有很多部署方式, 这里选择直接在 docker 部署.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;首先它需要一个&lt;code&gt;volume(数据卷)&lt;/code&gt;, 新建&lt;/p&gt;
&lt;figure class=&#34;highlight gauss&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;docker &lt;span class=&#34;built_in&#34;&gt;volume&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;create&lt;/span&gt; portainer_data&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;然后拉取并运行&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;需要保证 9000 端口没被占用, 不然无法运行&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight awk&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;docker run -d --name portainer --restart always -p &lt;span class=&#34;number&#34;&gt;9000&lt;/span&gt;:&lt;span class=&#34;number&#34;&gt;9000&lt;/span&gt; -v &lt;span class=&#34;regexp&#34;&gt;/var/&lt;/span&gt;run&lt;span class=&#34;regexp&#34;&gt;/docker.sock:/&lt;/span&gt;var&lt;span class=&#34;regexp&#34;&gt;/run/&lt;/span&gt;docker.sock -v portainer_data:&lt;span class=&#34;regexp&#34;&gt;/data portainer/&lt;/span&gt;portainer&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;浏览器打开 &lt;code&gt;localhost:9000&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;官网上的版本要比 github 的 tag 慢一些, 左下角提示更新可以无视~&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png&#34; alt=&#34;分割线&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;常用命令&#34;&gt;常用命令&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&#34;../../experience/shell/shell#docker&#34;&gt;💧 一些常用终端命令.#docker&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;docker- 自启&#34;&gt;docker 自启&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;启动服务&lt;/p&gt;
&lt;figure class=&#34;highlight crmsh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;sudo systemctl &lt;span class=&#34;literal&#34;&gt;start&lt;/span&gt; docker.service&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;开机自动启动 docker 服务&lt;/p&gt;
&lt;figure class=&#34;highlight routeros&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;sudo systemctl &lt;span class=&#34;builtin-name&#34;&gt;enable&lt;/span&gt; docker.service&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;重新载入配置&lt;/p&gt;
&lt;figure class=&#34;highlight ebnf&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;attribute&#34;&gt;sudo systemctl daemon-reload&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;重启 docker&lt;/p&gt;
&lt;figure class=&#34;highlight ebnf&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;attribute&#34;&gt;sudo systemctl restart docker&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;容器自启&#34;&gt;容器自启&lt;/h3&gt;
&lt;figure class=&#34;highlight routeros&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 开启&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;docker update &lt;span class=&#34;attribute&#34;&gt;--restart&lt;/span&gt;=always &amp;lt;CONTAINER ID&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 关闭&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;docker update &lt;span class=&#34;attribute&#34;&gt;--restart&lt;/span&gt;=&lt;span class=&#34;literal&#34;&gt;no&lt;/span&gt; &amp;lt;CONTAINER ID&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;hr&gt;
&lt;h2 id=&#34;命令行执行&#34;&gt;命令行执行&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;有些文档为了观看性写成如下格式, 有的终端无法直接执行, 需要弄成一行.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;前&lt;/p&gt;
&lt;figure class=&#34;highlight haml&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;docker run -d \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  -&lt;span class=&#34;ruby&#34;&gt;p &lt;span class=&#34;number&#34;&gt;8088&lt;/span&gt;&lt;span class=&#34;symbol&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;8088&lt;/span&gt; \&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ruby&#34;&gt;&lt;/span&gt;  -&lt;span class=&#34;ruby&#34;&gt;-name &lt;span class=&#34;keyword&#34;&gt;next&lt;/span&gt;-terminal \&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;ruby&#34;&gt;&lt;/span&gt;  -&lt;span class=&#34;ruby&#34;&gt;-restart always ghcr.io/dushixiang/&lt;span class=&#34;keyword&#34;&gt;next&lt;/span&gt;-&lt;span class=&#34;symbol&#34;&gt;terminal:&lt;/span&gt;latest&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;后&lt;/p&gt;
&lt;figure class=&#34;highlight awk&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;docker run -d -p &lt;span class=&#34;number&#34;&gt;8088&lt;/span&gt;:&lt;span class=&#34;number&#34;&gt;8088&lt;/span&gt; --name &lt;span class=&#34;keyword&#34;&gt;next&lt;/span&gt;-terminal --restart always ghcr.io&lt;span class=&#34;regexp&#34;&gt;/dushixiang/&lt;/span&gt;&lt;span class=&#34;keyword&#34;&gt;next&lt;/span&gt;-terminal:latest&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png&#34; alt=&#34;分割线&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;多数据库管理&#34;&gt;多数据库管理&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;开发时需要好几个不同的数据库&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;在 win 主机上安装配置的话, 必然各种 bug, 大部分时间还空浪费性能&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;于是考虑在虚拟机上装, 但是鉴于各种系统环境还不一样, 每个数据库挨个配置和解决 bug 都废手&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;于是让数据库进入 docker&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;通过 &lt;code&gt;docker-compose.yml&lt;/code&gt; 一条龙管理 (免去了每个数据库安装, 开通远程连接, 配置账户这些麻烦)&lt;/p&gt;
&lt;figure class=&#34;highlight yml&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;43&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;attr&#34;&gt;version:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;3.1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;attr&#34;&gt;services:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;comment&#34;&gt;# redis 无密码&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;attr&#34;&gt;redis:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;image:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;redis:latest&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;restart:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;always&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;container_name:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;redis-app&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;command:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;redis-server&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;/usr/local/etc/redis/redis.conf&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;ports:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&lt;span class=&#34;string&#34;&gt;:6379&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;volumes:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;./redis.conf:/usr/local/etc/redis/redis.conf&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;/data/redis:/data&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;comment&#34;&gt;# mongo root-2333&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;attr&#34;&gt;mongo:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;image:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;mongo:latest&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;restart:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;always&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;container_name:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;mongo-app&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;environment:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;attr&#34;&gt;MONGO_INITDB_ROOT_USERNAME:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;root&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;attr&#34;&gt;MONGO_INITDB_ROOT_PASSWORD:&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;2333&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;ports:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;27017&lt;/span&gt;&lt;span class=&#34;string&#34;&gt;:27017&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;volumes:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;/data/mongo:/etc/mongo&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;comment&#34;&gt;# mariadb root-2333&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;attr&#34;&gt;mariadb:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;image:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;mariadb:latest&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;restart:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;always&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;container_name:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;mariadb-app&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;ports:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;comment&#34;&gt;# 端口映射&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;3306&lt;/span&gt;&lt;span class=&#34;string&#34;&gt;:3306&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;volumes:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;comment&#34;&gt;# 容器与宿主机时间同步&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;/etc/localtime:/etc/localtime&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;comment&#34;&gt;# 数据库目录映射&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;./config/mariadb:/var/lib/mysql&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;comment&#34;&gt;# （推荐）如果要使用自定义的 MySQL 配置，则可以在主机上的目录中创建备用配置文件，然后将该目录位置 /etc/mysql/conf.d 安装在 mariadb 容器内。自己所需的配置文件可以放在自己服务器./config/data/mariadb-config 里面&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;./config/mariadb-config:/etc/mysql/conf.d&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;environment:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;attr&#34;&gt;TIME_ZONE:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;Asia/Shanghai&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;attr&#34;&gt;MYSQL_ROOT_PASSWORD:&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;2333&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;进此配置目录执行 &lt;code&gt;docker-compose up&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;script type=&#34;text&amp;#x2F;javascript&#34; src=&#34;https://unpkg.com/kity@2.0.4/dist/kity.min.js&#34;&gt;&lt;/script&gt;&lt;script type=&#34;text&amp;#x2F;javascript&#34; src=&#34;https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js&#34;&gt;&lt;/script&gt;&lt;script defer=&#34;true&#34; type=&#34;text&amp;#x2F;javascript&#34; src=&#34;https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js&#34;&gt;&lt;/script&gt;&lt;link rel=&#34;stylesheet&#34; type=&#34;text&amp;#x2F;css&#34; href=&#34;https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css&#34;&gt; ]]></description>
        </item>
    </channel>
</rss>
