{
    "version": "https://jsonfeed.org/version/1",
    "title": "⭐️齐下无贰⭐️ • All posts by \"live2d\" tag",
    "description": "May all the beauty be bless.✨",
    "home_page_url": "https://weidows.github.io",
    "items": [
        {
            "id": "https://weidows.github.io/post/Web/JavaScript/live2d-moc3/README/",
            "url": "https://weidows.github.io/post/Web/JavaScript/live2d-moc3/README/",
            "title": "👉live2d-moc3-web-集成渲染库",
            "date_published": "2022-03-26T04:46:57.000Z",
            "content_html": "<h2>\n<ul>\n<li>\n<h1>👉Live2d-moc3👈</h1>\n</li>\n</ul>\n</h2>\n<p><a href=\"https://weidows.github.io/post/Web/JavaScript/live2d-moc3/README\">⏩ 文章地址/示例博客</a> | <a href=\"https://github.com/Weidows-projects/live2d-moc3\">✔️ 仓库地址</a> | <a href=\"https://weidows-projects.github.io/live2d-moc3/\">👀 示例页面</a> 欢迎提交 pr !</p>\n<!--\n * @?: live2d************************************************\n * @Author: JavaScripteidows\n * @Date: 2022-03-20 22:26:55\n * @LastEditors: Weidows\n * @LastEditTime: 2022-05-23 00:47:01\n * @FilePath: \\Blog-private\\source\\_posts\\Web\\JavaScript\\live2d-moc3\\README.md\n * @Description:\n * @!: *********************************************************************\n-->\n<ul>\n<li>[x] 支持 live2d-moc3 版本的 web 渲染库</li>\n<li>[x] 支持鼠标点击互动 | 不提供拖动功能</li>\n<li>[x] 新增支持 [多模型] 异步加载 + 每日恒定随机模型 (每天更换自定义列表内随机模型,当日不再随刷新而替换)\n<ul>\n<li>[x] 已支持模型号越界判定,自动缩小到给定范围</li>\n</ul>\n</li>\n</ul>\n<p><a><img src=\"https://fastly.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"如何添加\">如何添加</h2>\n<ul>\n<li>\n<p>三个必要的头: <sup id='cite_ref-1'><a href=\"#cite_note-1\">[1]</a></sup> <sup id='cite_ref-2'><a href=\"#cite_note-2\">[2]</a></sup></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- Live2DCubismCore --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;https://fastly.jsdelivr.net/gh/Weidows-projects/live2d-moc3/dist/live2dcubismcore.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- Include Pixi. --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;https://fastly.jsdelivr.net/gh/Weidows-projects/live2d-moc3/dist/pixi.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;https://fastly.jsdelivr.net/gh/Weidows-projects/live2d-moc3/dist/live2d.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>以及自定义的 js, 单个/多个模型都可以, 但只显示一个, 想要多个可以多 new 几个</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title function_\">addEventListener</span>(<span class=\"string\">&quot;DOMContentLoaded&quot;</span>, <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> models = [</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"attr\">width</span>: <span class=\"number\">800</span>,</span><br><span class=\"line\">      <span class=\"attr\">height</span>: <span class=\"number\">600</span>,</span><br><span class=\"line\">      <span class=\"attr\">left</span>: <span class=\"string\">&quot;0px&quot;</span>,</span><br><span class=\"line\">      <span class=\"attr\">bottom</span>: <span class=\"string\">&quot;0px&quot;</span>,</span><br><span class=\"line\">      <span class=\"attr\">basePath</span>:</span><br><span class=\"line\">        <span class=\"string\">&quot;https://fastly.jsdelivr.net/gh/alg-wiki/AzurLaneL2DViewer@gh-pages/assets&quot;</span>,</span><br><span class=\"line\">      <span class=\"attr\">role</span>: <span class=\"string\">&quot;bisimai_2&quot;</span>,</span><br><span class=\"line\">      <span class=\"attr\">background</span>: <span class=\"string\">&quot;&quot;</span>,</span><br><span class=\"line\">      <span class=\"attr\">opacity</span>: <span class=\"number\">1</span>,</span><br><span class=\"line\">      <span class=\"attr\">mobile</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"attr\">width</span>: <span class=\"number\">800</span>,</span><br><span class=\"line\">      <span class=\"attr\">height</span>: <span class=\"number\">600</span>,</span><br><span class=\"line\">      <span class=\"attr\">right</span>: <span class=\"string\">&quot;0px&quot;</span>,</span><br><span class=\"line\">      <span class=\"attr\">bottom</span>: <span class=\"string\">&quot;0px&quot;</span>,</span><br><span class=\"line\">      <span class=\"attr\">basePath</span>:</span><br><span class=\"line\">        <span class=\"string\">&quot;https://fastly.jsdelivr.net/gh/alg-wiki/AzurLaneL2DViewer@gh-pages/assets&quot;</span>,</span><br><span class=\"line\">      <span class=\"attr\">role</span>: <span class=\"string\">&quot;bisimai_2&quot;</span>,</span><br><span class=\"line\">      <span class=\"attr\">background</span>: <span class=\"string\">&quot;&quot;</span>,</span><br><span class=\"line\">      <span class=\"attr\">opacity</span>: <span class=\"number\">1</span>,</span><br><span class=\"line\">      <span class=\"attr\">mobile</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  ];</span><br><span class=\"line\">  <span class=\"keyword\">new</span> <span class=\"title class_\">Live2</span>dLoader(models);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p><a><img src=\"https://fastly.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"比如-Hexo\">比如 Hexo</h2>\n<p>添加到主题的 _config.yml</p>\n<p>js 代码可以写完参数后 <a href=\"https://c.runoob.com/front-end/51/\">压缩为一行</a>,一起添加到下面;</p>\n<p>当然也可以魔改框架源码,此处不再赘述.</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">inject:</span></span><br><span class=\"line\">  <span class=\"attr\">head:</span></span><br><span class=\"line\">    <span class=\"comment\"># - &lt;link rel=&quot;stylesheet&quot; href=&quot;/xxx.css&quot;&gt;</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">&lt;script</span> <span class=\"string\">src=&quot;https://fastly.jsdelivr.net/gh/Weidows-projects/live2d-moc3/dist/live2dcubismcore.min.js&quot;&gt;&lt;/script&gt;</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">&lt;script</span> <span class=\"string\">src=&quot;https://fastly.jsdelivr.net/gh/Weidows-projects/live2d-moc3/dist/pixi.min.js&quot;&gt;&lt;/script&gt;</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">&lt;script</span> <span class=\"string\">src=&quot;https://fastly.jsdelivr.net/gh/Weidows-projects/live2d-moc3/dist/live2d.min.js&quot;&gt;&lt;/script&gt;</span></span><br><span class=\"line\">  <span class=\"attr\">bottom:</span></span><br><span class=\"line\">    <span class=\"comment\"># - &lt;script src=&quot;xxxx&quot;&gt;&lt;/script&gt;</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">&lt;script&gt;addEventListener(&quot;DOMContentLoaded&quot;,function()&#123;let</span> <span class=\"string\">models=[&#123;left:&quot;0px&quot;,bottom:&quot;0px&quot;,basePath:&quot;https://fastly.jsdelivr.net/gh/alg-wiki/AzurLaneL2DViewer@gh-pages/assets&quot;,role:&quot;bisimai_2&quot;,background:&quot;&quot;,opacity:1,mobile:false,&#125;,&#123;right:&quot;0px&quot;,bottom:&quot;0px&quot;,basePath:&quot;https://fastly.jsdelivr.net/gh/alg-wiki/AzurLaneL2DViewer@gh-pages/assets&quot;,role:&quot;bisimai_2&quot;,background:&quot;&quot;,opacity:1,mobile:false,&#125;,];new</span> <span class=\"string\">Live2dLoader(models)&#125;);&lt;/script&gt;</span></span><br></pre></td></tr></table></figure>\n<p><a><img src=\"https://fastly.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"可选参数\">可选参数</h2>\n<table>\n<thead>\n<tr>\n<th>参数</th>\n<th>Type</th>\n<th>Default</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>width</td>\n<td>可选[Number]</td>\n<td>800</td>\n<td>宽度，单位为 px</td>\n</tr>\n<tr>\n<td>height</td>\n<td>可选[Number]</td>\n<td>600</td>\n<td>长度，单位为 px</td>\n</tr>\n<tr>\n<td>top,right,bottom,left</td>\n<td>可选[String]</td>\n<td>“”</td>\n<td>模型到浏览器各边框的距离。选择两个即可定位，如定位在左下角：left: ‘0px’ , bottom: ‘0px’</td>\n</tr>\n<tr>\n<td>basePath</td>\n<td>必须[String]</td>\n<td>“”</td>\n<td>live2d 模型资源库的路径,推荐下面仓库,模型非常好看 </br> <a href=\"https://github.com/alg-wiki/AzurLaneL2DViewer\">alg-wiki/AzurLaneL2DViewer</a> </br> <a href=\"https://github.com/imuncle/live2d\">imuncle/live2d</a></td>\n</tr>\n<tr>\n<td>role</td>\n<td>必须[String]</td>\n<td>“”</td>\n<td>角色模型对应的文件夹（即 basePath 下的文件夹</td>\n</tr>\n<tr>\n<td>background</td>\n<td>可选[String]</td>\n<td>“”</td>\n<td>背景图片，可填入图片外链</td>\n</tr>\n<tr>\n<td>opacity</td>\n<td>可选[Number]</td>\n<td>1</td>\n<td>模型透明度，(0,1] 取值</td>\n</tr>\n<tr>\n<td>mobile</td>\n<td>可选[boolean]</td>\n<td>true</td>\n<td>移动端(手机)是否显示</td>\n</tr>\n</tbody>\n</table>\n<p><a><img src=\"https://fastly.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"Q-A\">Q-A</h2>\n<h3 id=\"模型问题报错\">模型问题报错</h3>\n<ul>\n<li>\n<p>关于报错含有 <code>reading ‘_ptr’</code> 的, 是模型不适配问题 (#2)</p>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">live2dcubismcore</span>.min.js:<span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"attribute\">Uncaught</span> TypeError: Cannot read properties of null (reading ‘_ptr’)</span><br><span class=\"line\"><span class=\"attribute\">at</span> new Model (live2dcubismcore.min.js:<span class=\"number\">1</span>:<span class=\"number\">138485</span>)</span><br><span class=\"line\"><span class=\"attribute\">at</span> Function.Model.fromMoc (live2dcubismcore.min.js:<span class=\"number\">1</span>:<span class=\"number\">138707</span>)</span><br><span class=\"line\"><span class=\"attribute\">at</span> l2d.js💯<span class=\"number\">60</span></span><br><span class=\"line\"><span class=\"attribute\">at</span> t.value (mini-signals.js:<span class=\"number\">93</span>:<span class=\"number\">1</span>)</span><br><span class=\"line\"><span class=\"attribute\">at</span> e.t._onComplete (Loader.js:<span class=\"number\">568</span>:<span class=\"number\">1</span>)</span><br><span class=\"line\"><span class=\"attribute\">at</span> Loader.js:<span class=\"number\">608</span>:<span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"attribute\">at</span> s (async.js:<span class=\"number\">27</span>:<span class=\"number\">1</span>)</span><br><span class=\"line\"><span class=\"attribute\">at</span> e. (interactiveTarget.js:<span class=\"number\">82</span>:<span class=\"number\">5</span>)</span><br><span class=\"line\"><span class=\"attribute\">at</span> Loader.js:<span class=\"number\">590</span>:<span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"attribute\">at</span> async.js:<span class=\"number\">35</span>:<span class=\"number\">1</span></span><br></pre></td></tr></table></figure>\n<p>检验过并不是配置文件哪里有问题, 单纯是二进制模型 .png/.moc3 问题, 想修复的话要修复模型</p>\n</li>\n</ul>\n<hr>\n<h3 id=\"怎么刷新\">怎么刷新</h3>\n<p><img src=\"https://www.helloimg.com/images/2022/05/23/ZRyZgz.png\" alt=\"\"></p>\n<p><a><img src=\"https://fastly.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"借物表-39\">借物表</h2>\n<blockquote>\n<p>项目基于<a href=\"https://github.com/alg-wiki/AzurLaneL2DViewer\">AzurLaneL2DViewer</a>修改</p>\n</blockquote>\n<p><a name='cite_note-1' href='#cite_ref-1'>[1]</a>: <a href=\"https://fastly.jsdelivr.net/gh/litstronger/live2d-moc3@master/js/frame/live2dcubismcore.min.js\">https://fastly.jsdelivr.net/gh/litstronger/live2d-moc3@master/js/frame/live2dcubismcore.min.js</a></p>\n<p><a name='cite_note-2' href='#cite_ref-2'>[2]</a>: <a href=\"https://cdnjs.cloudflare.com/ajax/libs/pixi.js/4.6.1/pixi.min.js\">https://cdnjs.cloudflare.com/ajax/libs/pixi.js/4.6.1/pixi.min.js</a></p>\n<script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kity@2.0.4/dist/kity.min.js\"></script><script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js\"></script><script defer=\"true\" type=\"text&#x2F;javascript\" src=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js\"></script><link rel=\"stylesheet\" type=\"text&#x2F;css\" href=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css\">",
            "tags": [
                "javascript",
                "live2d"
            ]
        }
    ]
}