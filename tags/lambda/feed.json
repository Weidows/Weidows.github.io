{
    "version": "https://jsonfeed.org/version/1",
    "title": "⭐️齐下无贰⭐️ • All posts by \"lambda\" tag",
    "description": "May all the beauty be bless.✨",
    "home_page_url": "https://weidows.github.io",
    "items": [
        {
            "id": "https://weidows.github.io/post/lang/Java/lambda/",
            "url": "https://weidows.github.io/post/lang/Java/lambda/",
            "title": "🍔Lambda表达式",
            "date_published": "2021-02-18T10:16:55.000Z",
            "content_html": "<!--\n * @?: *********************************************************************\n * @Author: Weidows\n * @LastEditors: Weidows\n * @LastEditTime: 2024-08-07 12:49:03\n * @FilePath: \\Blog-private\\source\\_posts\\Java\\lambda.md\n * @Description:\n * @!: *********************************************************************\n-->\n<ul>\n<li><a href=\"#%E7%AE%80%E5%8D%95%E8%AE%B2%E8%A7%A3\">简单讲解</a></li>\n<li><a href=\"#%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B\">快速上手</a></li>\n<li><a href=\"#%E8%BF%9B%E4%B8%80%E6%AD%A5\">进一步</a></li>\n<li><a href=\"#%E4%BD%9C%E7%94%A8%E5%9F%9F\">作用域</a></li>\n<li><a href=\"#foreach\">forEach</a></li>\n<li><a href=\"#%E5%A4%9A%E7%BA%BF%E7%A8%8B\">多线程</a>\n<ul>\n<li><a href=\"#%E5%88%9B%E5%BB%BA%E6%96%B0%E7%B1%BB\">创建新类</a></li>\n<li><a href=\"#%E5%8C%BF%E5%90%8D%E5%86%85%E9%83%A8%E7%B1%BB\">匿名内部类</a></li>\n<li><a href=\"#lambda\">Lambda</a></li>\n</ul>\n</li>\n</ul>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"简单讲解\">简单讲解</h2>\n<ul>\n<li>\n<p>Lambda 是函数话编程,Java8 引入的特性,有广泛使用.</p>\n</li>\n<li>\n<p>主要是用作解决匿名内部类 <code>overwrite</code> 的问题,替代可函数化的 <code>interface</code> 作为参数进行传递</p>\n</li>\n</ul>\n<hr>\n<h2 id=\"快速上手\">快速上手</h2>\n<ul>\n<li>\n<p>比如这里有如下代码,写线程时很常见,Runnable 是一个函数化的接口,可以用 Lambda 简化</p>\n<ul>\n<li><code>函数化接口,就是内部只有一个抽象方法的接口.</code></li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">new</span> <span class=\"title class_\">Thread</span>(<span class=\"keyword\">new</span> <span class=\"title class_\">Runnable</span>() &#123; <span class=\"comment\">// 接口名</span></span><br><span class=\"line\">  <span class=\"meta\">@Override</span></span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">run</span><span class=\"params\">()</span> &#123; <span class=\"comment\">// 方法名</span></span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;Thread run()&quot;</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;).start();</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>如下</p>\n<ul>\n<li>省略接口名和方法名</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">new</span> <span class=\"title class_\">Thread</span>(() -&gt; System.out.println(<span class=\"string\">&quot;新的线程&quot;</span>)).start();</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<h2 id=\"进一步\">进一步</h2>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Lambda</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">Lambda</span> <span class=\"variable\">tester</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Lambda</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 类型声明</span></span><br><span class=\"line\">    <span class=\"type\">MathOperation</span> <span class=\"variable\">addition</span> <span class=\"operator\">=</span> (<span class=\"type\">int</span> a, <span class=\"type\">int</span> b) -&gt; a + b;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 不用类型声明</span></span><br><span class=\"line\">    <span class=\"type\">MathOperation</span> <span class=\"variable\">subtraction</span> <span class=\"operator\">=</span> (a, b) -&gt; a - b;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 大括号中的返回语句</span></span><br><span class=\"line\">    <span class=\"type\">MathOperation</span> <span class=\"variable\">multiplication</span> <span class=\"operator\">=</span> (<span class=\"type\">int</span> a, <span class=\"type\">int</span> b) -&gt; &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> a * b;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 没有大括号及返回语句</span></span><br><span class=\"line\">    <span class=\"type\">MathOperation</span> <span class=\"variable\">division</span> <span class=\"operator\">=</span> (<span class=\"type\">int</span> a, <span class=\"type\">int</span> b) -&gt; a / b;</span><br><span class=\"line\"></span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;10 + 5 = &quot;</span> + tester.operate(<span class=\"number\">10</span>, <span class=\"number\">5</span>, addition));</span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;10 - 5 = &quot;</span> + tester.operate(<span class=\"number\">10</span>, <span class=\"number\">5</span>, subtraction));</span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;10 x 5 = &quot;</span> + tester.operate(<span class=\"number\">10</span>, <span class=\"number\">5</span>, multiplication));</span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;10 / 5 = &quot;</span> + tester.operate(<span class=\"number\">10</span>, <span class=\"number\">5</span>, division));</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 不用括号</span></span><br><span class=\"line\">    <span class=\"type\">GreetingService</span> <span class=\"variable\">greetService1</span> <span class=\"operator\">=</span> message -&gt; System.out.println(<span class=\"string\">&quot;Hello &quot;</span> + message);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 用括号</span></span><br><span class=\"line\">    <span class=\"type\">GreetingService</span> <span class=\"variable\">greetService2</span> <span class=\"operator\">=</span> (message) -&gt; System.out.println(<span class=\"string\">&quot;Hello &quot;</span> + message);</span><br><span class=\"line\"></span><br><span class=\"line\">    greetService1.sayMessage(<span class=\"string\">&quot;Runoob&quot;</span>);</span><br><span class=\"line\">    greetService2.sayMessage(<span class=\"string\">&quot;Google&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"type\">int</span> <span class=\"title function_\">operate</span><span class=\"params\">(<span class=\"type\">int</span> a, <span class=\"type\">int</span> b, MathOperation mathOperation)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> mathOperation.operation(a, b);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">    10 + 5 = 15</span></span><br><span class=\"line\"><span class=\"comment\">    10 - 5 = 5</span></span><br><span class=\"line\"><span class=\"comment\">    10 x 5 = 50</span></span><br><span class=\"line\"><span class=\"comment\">    10 / 5 = 2</span></span><br><span class=\"line\"><span class=\"comment\">    Hello Runoob</span></span><br><span class=\"line\"><span class=\"comment\">    Hello Google</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">interface</span> <span class=\"title class_\">MathOperation</span> &#123;</span><br><span class=\"line\">  <span class=\"type\">int</span> <span class=\"title function_\">operation</span><span class=\"params\">(<span class=\"type\">int</span> a, <span class=\"type\">int</span> b)</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">interface</span> <span class=\"title class_\">GreetingService</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">void</span> <span class=\"title function_\">sayMessage</span><span class=\"params\">(String message)</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// void sayMessage1(String message, String message1); // 比如这里出现第二个抽象方法,这个接口就不是函数化接口了.无法使用lambda表达式</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"作用域\">作用域</h2>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Lambda2</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String args[])</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 这里的局部变量就算不声明final也可以被Lambda表达式引用</span></span><br><span class=\"line\"><span class=\"comment\">     * 但是无论声不声明,被引用后后续都不可修改,会报错</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">final</span> <span class=\"type\">int</span> <span class=\"variable\">num</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    Converter&lt;Integer, String&gt; s = (param) -&gt; System.out.println(String.valueOf(param + num));</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Lambda表达式参数不能与外部变量同名,编译报错</span></span><br><span class=\"line\">    <span class=\"comment\">// Converter&lt;Integer, String&gt; s1 = (num) -&gt; System.out.println(num);</span></span><br><span class=\"line\"></span><br><span class=\"line\">    s.convert(<span class=\"number\">2</span>); <span class=\"comment\">// 输出结果为 3</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title class_\">Converter</span>&lt;T1, T2&gt; &#123;</span><br><span class=\"line\">    <span class=\"keyword\">void</span> <span class=\"title function_\">convert</span><span class=\"params\">(<span class=\"type\">int</span> i)</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"forEach\">forEach</h2>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">ForEach</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">    List&lt;String&gt; list = <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;(Arrays.asList(<span class=\"string\">&quot;I&quot;</span>, <span class=\"string\">&quot;love&quot;</span>, <span class=\"string\">&quot;you&quot;</span>, <span class=\"string\">&quot;too&quot;</span>));</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 使用增强for循环迭代</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (String str : list) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (str.length() &gt; <span class=\"number\">3</span>)</span><br><span class=\"line\">        System.out.println(str);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// implement Consumer interface</span></span><br><span class=\"line\">    list.forEach(<span class=\"keyword\">new</span> <span class=\"title class_\">Consumer</span>&lt;String&gt;() &#123;</span><br><span class=\"line\">      <span class=\"meta\">@Override</span></span><br><span class=\"line\">      <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">accept</span><span class=\"params\">(String t)</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (t.length() &gt; <span class=\"number\">3</span>)</span><br><span class=\"line\">          System.out.println(t);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Lambda implement Consumer</span></span><br><span class=\"line\">    list.forEach(s -&gt; &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (s.length() &gt; <span class=\"number\">3</span>)</span><br><span class=\"line\">        System.out.println(s);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"多线程\">多线程</h2>\n<ul>\n<li>\n<p>例如我们需要一个实现 Runnable 接口的名为 <code>myYield</code>的对象</p>\n</li>\n<li>\n<p>下面是三种方法:</p>\n</li>\n</ul>\n<hr>\n<h3 id=\"创建新类\">创建新类</h3>\n<ul>\n<li>复杂,对于像是 Runnable 这种函数化接口,这样实现起来麻烦</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">TestYield</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">MyYield</span> <span class=\"variable\">myYield</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">MyYield</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">Thread</span>(myYield, <span class=\"string\">&quot;a&quot;</span>).start();</span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">Thread</span>(myYield, <span class=\"string\">&quot;b&quot;</span>).start();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">MyYield</span> <span class=\"keyword\">implements</span> <span class=\"title class_\">Runnable</span> &#123;</span><br><span class=\"line\">  <span class=\"meta\">@Override</span></span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">run</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">    System.out.println(Thread.currentThread().getName() + <span class=\"string\">&quot;线程开始执行&quot;</span>);</span><br><span class=\"line\">    Thread.<span class=\"keyword\">yield</span>(); <span class=\"comment\">//礼让</span></span><br><span class=\"line\">    System.out.println(Thread.currentThread().getName() + <span class=\"string\">&quot;线程停止执行&quot;</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"匿名内部类\">匿名内部类</h3>\n<ul>\n<li>比上面的简单些,但还可以用 Lambda 更简化</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">TestYield</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">Runnable</span> <span class=\"variable\">myYield</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Runnable</span>() &#123;</span><br><span class=\"line\">      <span class=\"meta\">@Override</span></span><br><span class=\"line\">      <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">run</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        System.out.println(Thread.currentThread().getName() + <span class=\"string\">&quot;线程开始执行&quot;</span>);</span><br><span class=\"line\">        Thread.<span class=\"keyword\">yield</span>(); <span class=\"comment\">//礼让</span></span><br><span class=\"line\">        System.out.println(Thread.currentThread().getName() + <span class=\"string\">&quot;线程停止执行&quot;</span>);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">Thread</span>(myYield, <span class=\"string\">&quot;a&quot;</span>).start();</span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">Thread</span>(myYield, <span class=\"string\">&quot;b&quot;</span>).start();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"Lambda\">Lambda</h3>\n<ul>\n<li>在会用 Lambda 情况下,代码可读性和简洁度大于匿名内部类</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">TestYield</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">Runnable</span> <span class=\"variable\">myYield</span> <span class=\"operator\">=</span> () -&gt; &#123;</span><br><span class=\"line\">      System.out.println(Thread.currentThread().getName() + <span class=\"string\">&quot;线程开始执行&quot;</span>);</span><br><span class=\"line\">      Thread.<span class=\"keyword\">yield</span>(); <span class=\"comment\">//礼让</span></span><br><span class=\"line\">      System.out.println(Thread.currentThread().getName() + <span class=\"string\">&quot;线程停止执行&quot;</span>);</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">Thread</span>(myYield, <span class=\"string\">&quot;a&quot;</span>).start();</span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">Thread</span>(myYield, <span class=\"string\">&quot;b&quot;</span>).start();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kity@2.0.4/dist/kity.min.js\"></script><script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js\"></script><script defer=\"true\" type=\"text&#x2F;javascript\" src=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js\"></script><link rel=\"stylesheet\" type=\"text&#x2F;css\" href=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css\">",
            "tags": [
                "Java",
                "Lambda"
            ]
        }
    ]
}