{
    "version": "https://jsonfeed.org/version/1",
    "title": "⭐️齐下无贰⭐️ • All posts by \"website\" tag",
    "description": "May all the beauty be bless.✨",
    "home_page_url": "https://weidows.github.io",
    "items": [
        {
            "id": "https://weidows.github.io/post/tools/Tomcat/",
            "url": "https://weidows.github.io/post/tools/Tomcat/",
            "title": "🐱‍🏍Maven+Tomcat开发webapp.",
            "date_published": "2021-03-25T02:39:26.000Z",
            "content_html": "<!--\n * @?: *********************************************************************\n * @Author: Weidows\n * @LastEditors: Weidows\n * @LastEditTime: 2021-03-30 12:50:22\n * @FilePath: \\Weidowsd:\\Game\\Github\\Blog-private\\source\\_posts\\tools\\Tomcat.md\n * @Description:\n * @!: *********************************************************************\n-->\n<ul>\n<li><a href=\"#%E9%85%8D%E7%BD%AE\">配置</a></li>\n<li><a href=\"#vscode\">VScode</a></li>\n<li><a href=\"#%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE\">创建项目</a></li>\n<li><a href=\"#idea\">IDEA</a></li>\n<li><a href=\"#%E8%99%9A%E6%8B%9F%E4%B8%BB%E6%9C%BA%E4%BB%A3%E7%90%86\">虚拟主机/代理</a></li>\n<li><a href=\"#%E4%B9%B1%E7%A0%81%E9%97%AE%E9%A2%98\">乱码问题</a>\n<ul>\n<li><a href=\"#%E7%BB%88%E7%AB%AF%E4%B9%B1%E7%A0%81\">终端乱码</a></li>\n<li><a href=\"#%E7%BD%91%E9%A1%B5%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81\">网页中文乱码</a></li>\n</ul>\n</li>\n</ul>\n<p><a><img src=\"https://fastly.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"配置-3\">配置</h2>\n<blockquote>\n<p><a href=\"../../system/system_variable#maven\">💥 系统开发环境配置</a></p>\n</blockquote>\n<blockquote>\n<p>Maven 的核心思想：约定大于配置</p>\n</blockquote>\n<p><a><img src=\"https://fastly.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"VScode-2\">VScode</h2>\n<ul>\n<li>\n<p>安装 <code>Tomcat for Java</code> 插件,配置好 Tomcat 本体路径和 <code>data</code> 路径</p>\n</li>\n<li>\n<p>在侧边栏右键,常用命令都有</p>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVsEkC.png\" alt=\"20210309155951\" />\n</li>\n<li>\n<p>测试</p>\n<ul>\n<li>新建 <code>index.html</code> 文件,放到 <code>tomcat/webapps/ROOT/</code>目录下</li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">&quot;X-UA-Compatible&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;IE=edge&quot;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;viewport&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Document<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">    测试</span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li>打开对应页面会有如下显示</li>\n</ul>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVssbt.png\" alt=\"20210309160418\" />\n</li>\n<li>\n<p><code>ROOT/</code>里面放的文件与浏览器 URL 相对应</p>\n<ul>\n<li>\n<p>比如 <code>ROOT/000/2333.html</code> 浏览器就需要访问 <code>localhost:8080/000/2333.html</code></p>\n</li>\n<li>\n<p>后缀名是<code>.html</code>的话 URL 后缀可以不写,比如上面写成 <code>localhost:8080/000/2333</code> 也可以.</p>\n</li>\n</ul>\n</li>\n</ul>\n<p><a><img src=\"https://fastly.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"创建项目\">创建项目</h2>\n<blockquote>\n<p>解释一下为什么要用 Maven,还需要创建项目: <code>Tomcat 只能运行 Maven 创建的类型为 webapp 的这种项目</code>,</p>\n</blockquote>\n<ul>\n<li>\n<p>推荐直接用 IDEA 创建 web 项目 (不用再导入 Servlet 包)</p>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVskJo.png\" alt=\"20210323233425\" />\n</li>\n<li>\n<p>然后创建 <code>webapp</code> 子模块,在<code>source/main/</code>下再新建两个目录(java 和 resources),结构如下</p>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVsf3C.png\" alt=\"20210323112637\" />\n</li>\n<li>\n<p><code>JavaWeb\\src\\main\\webapp\\WEB-INF\\web.xml</code> 是 web 项目核心应用</p>\n</li>\n</ul>\n<blockquote>\n<p><a href=\"https://github.com/Weidows/Java/tree/master/JavaWeb/demo-0\">点这里参考项目结构</a></p>\n</blockquote>\n<p><a><img src=\"https://fastly.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"IDEA-2\">IDEA</h2>\n<ul>\n<li>\n<p>IDEA 配置连接 Tomcat 需要在创建完 webapp 项目之后,否则连不上</p>\n<ul>\n<li>点’+'找到 Tomcat Server 并配置,如图</li>\n</ul>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVt5Lv.png\" alt=\"20210325110519\" />\n</li>\n<li>\n<p>现在 IDEA 已经认识 Tomcat 了,但还需要配置部署,否则 Tomcat 不知道运行哪里</p>\n<ul>\n<li>这些工件就是这个项目用 Maven 构建之后产生的</li>\n</ul>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVsyRu.png\" alt=\"20210325110722\" />\n</li>\n<li>\n<p>现在配置好了之后,IDEA 会自动完成项目<code>构建-&gt;部署-&gt;打开网页</code> (VScode 的话也可以手动做到)</p>\n</li>\n</ul>\n<p><a><img src=\"https://fastly.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"虚拟主机-代理\">虚拟主机/代理</h2>\n<ul>\n<li>\n<p>通过修改 <code>Tomcat/conf/server.xml</code>和 hosts 文件实现虚拟主机.</p>\n</li>\n<li>\n<p>修改 <code>name=&quot;localhost&quot;</code> 为目标主机名,比如改为<code>name=&quot;weidows.com&quot;</code>,下面注释处给标出了修改位置</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?xml version=<span class=\"string\">&quot;1.0&quot;</span> encoding=<span class=\"string\">&quot;UTF-8&quot;</span> standalone=<span class=\"string\">&quot;yes&quot;</span>?&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">Server</span> <span class=\"attr\">port</span>=<span class=\"string\">&quot;8005&quot;</span> <span class=\"attr\">shutdown</span>=<span class=\"string\">&quot;SHUTDOWN&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">Listener</span> <span class=\"attr\">className</span>=<span class=\"string\">&quot;org.apache.catalina.startup.VersionLoggerListener&quot;</span>/&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">Listener</span> <span class=\"attr\">className</span>=<span class=\"string\">&quot;org.apache.catalina.core.AprLifecycleListener&quot;</span> <span class=\"attr\">SSLEngine</span>=<span class=\"string\">&quot;on&quot;</span>/&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">Listener</span> <span class=\"attr\">className</span>=<span class=\"string\">&quot;org.apache.catalina.core.JreMemoryLeakPreventionListener&quot;</span>/&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">Listener</span> <span class=\"attr\">className</span>=<span class=\"string\">&quot;org.apache.catalina.mbeans.GlobalResourcesLifecycleListener&quot;</span>/&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">Listener</span> <span class=\"attr\">className</span>=<span class=\"string\">&quot;org.apache.catalina.core.ThreadLocalLeakPreventionListener&quot;</span>/&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">GlobalNamingResources</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">Resource</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;UserDatabase&quot;</span> <span class=\"attr\">auth</span>=<span class=\"string\">&quot;Container&quot;</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;org.apache.catalina.UserDatabase&quot;</span> <span class=\"attr\">description</span>=<span class=\"string\">&quot;User database that can be updated and saved&quot;</span> <span class=\"attr\">factory</span>=<span class=\"string\">&quot;org.apache.catalina.users.MemoryUserDatabaseFactory&quot;</span> <span class=\"attr\">pathname</span>=<span class=\"string\">&quot;conf/tomcat-users.xml&quot;</span>/&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">GlobalNamingResources</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">Service</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;Catalina&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">Connector</span> <span class=\"attr\">port</span>=<span class=\"string\">&quot;8080&quot;</span> <span class=\"attr\">protocol</span>=<span class=\"string\">&quot;HTTP/1.1&quot;</span> <span class=\"attr\">connectionTimeout</span>=<span class=\"string\">&quot;20000&quot;</span> <span class=\"attr\">redirectPort</span>=<span class=\"string\">&quot;8443&quot;</span>/&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">Engine</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;Catalina&quot;</span> <span class=\"attr\">defaultHost</span>=<span class=\"string\">&quot;localhost&quot;</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">Realm</span> <span class=\"attr\">className</span>=<span class=\"string\">&quot;org.apache.catalina.realm.LockOutRealm&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">Realm</span> <span class=\"attr\">className</span>=<span class=\"string\">&quot;org.apache.catalina.realm.UserDatabaseRealm&quot;</span> <span class=\"attr\">resourceName</span>=<span class=\"string\">&quot;UserDatabase&quot;</span>/&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">Realm</span>&gt;</span></span><br><span class=\"line\">      <span class=\"comment\">&lt;!-- 修改这下面一行 --&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">Host</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;localhost&quot;</span> <span class=\"attr\">appBase</span>=<span class=\"string\">&quot;webapps&quot;</span> <span class=\"attr\">unpackWARs</span>=<span class=\"string\">&quot;true&quot;</span> <span class=\"attr\">autoDeploy</span>=<span class=\"string\">&quot;true&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">Valve</span> <span class=\"attr\">className</span>=<span class=\"string\">&quot;org.apache.catalina.valves.AccessLogValve&quot;</span> <span class=\"attr\">directory</span>=<span class=\"string\">&quot;logs&quot;</span> <span class=\"attr\">prefix</span>=<span class=\"string\">&quot;localhost_access_log&quot;</span> <span class=\"attr\">suffix</span>=<span class=\"string\">&quot;.txt&quot;</span> <span class=\"attr\">pattern</span>=<span class=\"string\">&quot;%h %l %u %t <span class=\"symbol\">&amp;quot;</span>%r<span class=\"symbol\">&amp;quot;</span> %s %b&quot;</span>/&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">Host</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">Engine</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">Service</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">Server</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<ul>\n<li>\n<p>然后修改 host,实现代理,如下图第二行即为需要添加的</p>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVsLAE.png\" alt=\"20210309161039\" />\n<ul>\n<li>\n<p>含义就是: <code>在访问右边的主机时,将它指向左边的地址</code></p>\n</li>\n<li>\n<p>比如浏览器访问 <code>localhost:8080</code> 时,实际上是访问的 <code>127.0.0.1:8080</code>,也就是本机地址</p>\n</li>\n</ul>\n</li>\n</ul>\n<hr>\n<ul>\n<li>\n<p>现在,打开 Tomcat 服务,他就会在本机 8080 端口监听,当在浏览器输入<code>weidows.com:8080</code>时,会被 host 指向到<code>127.0.0.1:8080</code>,Tomcat 服务器收到请求并回应</p>\n<ul>\n<li>结构如下图</li>\n</ul>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVsAGv.png\" alt=\"20210309163300\" />\n</li>\n</ul>\n<hr>\n<ul>\n<li>\n<p>可能会存在的疑问: 同样是指向到 <code>127.0.0.1</code>,为什么 localhost:8080 或者直接 127.0.0.1:8080 无法访问到 <a href=\"http://weidows.com:8080\">weidows.com:8080</a> 页面?</p>\n<ul>\n<li>这就像递归式问路,首先问 host 知不知道 <a href=\"http://weidows.com\">weidows.com</a>,host 不直接知道,它让我们问 Tomcat,于是我们去 127.0.0.1:8080 问 Tomcat 知不知道 <a href=\"http://weidows.com\">weidows.com</a>;</li>\n<li>诶,Tomcat 它可以直接知道 <a href=\"http://weidows.com\">weidows.com</a> 在哪里,于是浏览器就这么找到 <a href=\"http://weidows.com\">weidows.com</a> 页面了!</li>\n<li>页面在 <a href=\"http://weidows.com\">weidows.com</a> 手里,你要是去找 localhost:8080 或者 127.0.0.1 的话,就是问错人了,肯定是 404</li>\n</ul>\n</li>\n<li>\n<p>最后附一张图,根据序号来看,条理比较清晰.</p>\n<blockquote>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVs8L1.png\" alt=\"20210322100531\" />\n</blockquote>\n</li>\n</ul>\n<p><a><img src=\"https://fastly.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"乱码问题\">乱码问题</h2>\n<h3 id=\"终端乱码\">终端乱码</h3>\n<ul>\n<li>\n<p>在启动 Tomcat 时,终端内中文乱码:</p>\n<ul>\n<li>\n<p>虽然这个对程序运行没有影响,但是有些影响观瞻,一般只会在 Window 遇到,修改如下:</p>\n</li>\n<li>\n<p>找到 <code>Tomcat/conf/logging.properties</code> 里面的-&gt; <code>java.util.logging.ConsoleHandler.encoding</code>这一行 ,把 <code>UTF-8</code>换为<code>GBK</code></p>\n</li>\n</ul>\n</li>\n<li>\n<p>另一种方法: 把终端显示设置为 UTF-8</p>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVteSR.png\" alt=\"20210330125008\" />\n</li>\n</ul>\n<hr>\n<h3 id=\"网页中文乱码\">网页中文乱码</h3>\n<ul>\n<li>\n<p>我们开发的页面,无论是动/静态,只要不指定编码格式,中文肯定乱码</p>\n</li>\n<li>\n<p>需要做的就是在开发网页时,指定 <code>CharacterEncoding = UTF-8</code></p>\n</li>\n</ul>\n<script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kity@2.0.4/dist/kity.min.js\"></script><script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js\"></script><script defer=\"true\" type=\"text&#x2F;javascript\" src=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js\"></script><link rel=\"stylesheet\" type=\"text&#x2F;css\" href=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css\">",
            "tags": [
                "java",
                "vscode",
                "website",
                "笔记",
                "idea",
                "服务器",
                "maven",
                "tomcat"
            ]
        },
        {
            "id": "https://weidows.github.io/post/Web/Node/Hexo/optimize/",
            "url": "https://weidows.github.io/post/Web/Node/Hexo/optimize/",
            "title": "🚀网站优化记录.",
            "date_published": "2021-02-06T17:11:24.000Z",
            "content_html": "<!--\n * @?: *********************************************************************\n * @Author: Weidows\n * @Date: 2021-02-07 01:11:24\n * @LastEditors: Weidows\n * @LastEditTime: 2021-08-29 15:15:38\n * @FilePath: \\Blog-private\\source\\_posts\\Web\\Node\\Hexo\\optimize.md\n * @Description:\n * @!: *********************************************************************\n-->\n<ul>\n<li><a href=\"#why\">Why?</a>\n<ul>\n<li><a href=\"#why-do-this\"><code>Why do this?</code></a></li>\n</ul>\n</li>\n<li><a href=\"#%E6%A6%82%E8%A7%88\">概览</a></li>\n<li><a href=\"#%E5%A5%91%E5%90%88\">契合</a></li>\n<li><a href=\"#%E4%BC%98%E5%8C%96-css\">优化 css</a></li>\n<li><a href=\"#%E4%BC%98%E5%8C%96-js\">优化 js</a>\n<ul>\n<li><a href=\"#%E5%86%8D%E6%AC%A1%E9%AD%94%E6%94%B9\">再次魔改</a></li>\n</ul>\n</li>\n</ul>\n<p><a><img src=\"https://fastly.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"Why\">Why?</h2>\n<h3 id=\"Why-do-this\"><code>Why do this?</code></h3>\n<ul>\n<li>\n<p>这网站有太多需要简化的东西了,很多样式是<code>直接引入的css和js</code></p>\n</li>\n<li>\n<p>巨耗费渲染性能和时间(可以感觉出来加载这网站挺费劲的)</p>\n</li>\n</ul>\n<p><a><img src=\"https://fastly.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"概览\">概览</h2>\n<ul>\n<li>\n<p>对于 css 的所有修改,全部整合进<code>mine.styl</code></p>\n<ul>\n<li>\n<p>编译时就已经做好美化,额外资源负载几乎降为 0</p>\n</li>\n<li>\n<p>注入到<code>index.styl</code>末尾.</p>\n</li>\n</ul>\n<hr>\n</li>\n<li>\n<p>js 的美化,全部整合到 <code>utils.js</code></p>\n<ul>\n<li>\n<p>请求数加 0,加载策略优化,时间降低; Weidows对象直接全局加载生效且不被GC.</p>\n</li>\n<li>\n<p>把 js 代码全堆在最后,暴露 <code>Weidows.re()</code> 供 pjax 调用.</p>\n</li>\n</ul>\n<hr>\n</li>\n<li>\n<p>pug 的修改降低为 3 处,方便升级换代,都在此目录下: <code>themes\\butterfly\\layout\\includes\\</code></p>\n<ul>\n<li>\n<p><code>additional-js.pug</code> - 末尾追加樱花特效</p>\n</li>\n<li>\n<p><code>footer.pug</code>- 页脚标签+改注脚样式</p>\n</li>\n<li>\n<p><code>third-party\\pjax.pug</code> - 调用 <a href=\"http://Weidows.re\">Weidows.re</a>(),适配 pjax 刷新</p>\n</li>\n</ul>\n</li>\n</ul>\n<p><a><img src=\"https://fastly.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"契合\">契合</h2>\n<blockquote>\n<p>结合 <a href=\"./butterfly_modify\">butterfly 内部魔改记录</a></p>\n</blockquote>\n<p><a><img src=\"https://fastly.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"优化-css\">优化 css</h2>\n<ul>\n<li>\n<p>以往的 css 是直接引入的文件,在客户端加载时还是会耗费一些不菲时间加载+渲染出来</p>\n</li>\n<li>\n<p>优化思路就是把 css 变成<code>styl</code>,使之在编译生成 HTML 文件时就把样式改了,节省客户端耗费.</p>\n</li>\n</ul>\n<hr>\n<ul>\n<li>\n<p>如下:</p>\n<ul>\n<li>\n<p>新建一个名为 <code>mine.styl</code> 的文件.</p>\n</li>\n<li>\n<p>原 css 文件就是<code>mine.css</code>,用<a href=\"https://html5beta.com/tools/css2stylus.html\"><code>css2styl</code></a>转换为 styl 格式,粘贴到 <code>mine.styl</code></p>\n</li>\n<li>\n<p>注意这个网站转换成的 styl 有很多 bug(包括缩进和括号,需要人工检验)</p>\n</li>\n</ul>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVFlgb.png\" alt=\"20210207134449\" />\n</li>\n<li>\n<p>包括原先<code>source/css/_global/function.styl</code>之类的内添加或修改的样式,也可以转入 mine.styl.</p>\n</li>\n<li>\n<p>然后在<code>index.styl</code>中引入:</p>\n<ul>\n<li>在末尾加上</li>\n</ul>\n<figure class=\"highlight styl\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//mine</span></span><br><span class=\"line\"><span class=\"keyword\">@import</span> <span class=\"string\">&#x27;_mine/mine.styl&#x27;</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<ul>\n<li>\n<p>用 <code>hexo server</code> 测试一下,应该没问题~</p>\n</li>\n<li>\n<p>这样 css 优化就完成了</p>\n</li>\n</ul>\n<p><a><img src=\"https://fastly.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"优化-js\">优化 js</h2>\n<ul>\n<li>\n<p>跟 css 一样,我原先也是直接一个<code>mine.js</code>引入的</p>\n</li>\n<li>\n<p>虽然没啥问题,但是会导致页面第二次加载渲染,而且多了一个请求数</p>\n</li>\n<li>\n<p>于是,我想直接把它淦进<code>main.js</code>中!</p>\n<ul>\n<li>操作不复杂,直接复制<code>mine.js</code>内容,粘贴进<code>main.js</code>最后</li>\n<li>注意不是最末尾</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">  <span class=\"comment\">// 粘贴到这里</span></span><br><span class=\"line\">  <span class=\"title function_\">refreshFn</span>();</span><br><span class=\"line\">  <span class=\"title function_\">unRefreshFn</span>();</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h3 id=\"再次魔改\">再次魔改</h3>\n<ul>\n<li>\n<p>因为某些美化函数会被 pjax 功能搞失效,直接把函数放进 main.js 的话,pjax 无法再次使用</p>\n</li>\n<li>\n<p>所以我把美化 js 打包并弄进 <code>butterfly/layout/head.pug</code> 中,在页面编译时就会被添加到 <code>&lt;head&gt;</code> 内,加载时间和请求数不增加!</p>\n<p>现在,加载逻辑是: js 美化代码在 HTML 文件的 head 中,然后在 main.js 最后写一句调用命令; 在页面用了 pjax 加载时,pjax.pug 中的重渲染函数会被调用.</p>\n</li>\n</ul>\n<script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kity@2.0.4/dist/kity.min.js\"></script><script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js\"></script><script defer=\"true\" type=\"text&#x2F;javascript\" src=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js\"></script><link rel=\"stylesheet\" type=\"text&#x2F;css\" href=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css\">",
            "tags": [
                "website",
                "hexo",
                "优化",
                "魔改"
            ]
        },
        {
            "id": "https://weidows.github.io/post/Web/Node/Hexo/Hexo-SEO/",
            "url": "https://weidows.github.io/post/Web/Node/Hexo/Hexo-SEO/",
            "title": "👌Hexo-SEO 搜索引擎优化",
            "date_published": "2020-12-18T08:39:24.000Z",
            "content_html": "<!--\n * @?: *********************************************************************\n * @Author: Weidows\n * @Date: 2020-12-18 16:39:24\n * @LastEditors: Weidows\n * @LastEditTime: 2021-09-10 15:04:46\n * @FilePath: \\Blog-private\\source\\_posts\\Web\\Node\\Hexo\\Hexo-SEO.md\n * @Description:\n * @!: *********************************************************************\n-->\n<ul>\n<li><a href=\"#%E5%AE%89%E8%A3%85%E6%8F%92%E4%BB%B6\">安装插件</a></li>\n<li><a href=\"#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6\">配置文件</a></li>\n<li><a href=\"#%E7%AB%99%E9%95%BF%E6%B7%BB%E5%8A%A0%E7%BD%91%E7%AB%99\">站长添加网站</a>\n<ul>\n<li><a href=\"#%E6%B3%A8%E6%84%8F\">注意</a></li>\n<li><a href=\"#hexo-%E6%A0%87%E7%AD%BE%E9%AA%8C%E8%AF%81%E7%BD%91%E7%AB%99\">Hexo 标签验证网站</a></li>\n</ul>\n</li>\n<li><a href=\"#%E6%B7%BB%E5%8A%A0%E7%AB%99%E7%82%B9%E5%9C%B0%E5%9B%BE\">添加站点地图</a></li>\n<li><a href=\"#%E6%B3%A8%E6%84%8F%E7%82%B9\">注意点</a></li>\n</ul>\n<h2 id=\"安装插件-2\">安装插件</h2>\n<ul>\n<li>\n<p>分别是生成百度和谷歌站点地图的插件.</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install hexo-generator-baidu-sitemap --save</span><br><span class=\"line\">npm install hexo-generator-sitemap --save</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p><a><img src=\"https://fastly.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"配置文件-2\">配置文件</h2>\n<ul>\n<li>\n<p>根目录的<code>_config.yml</code>中添加以下:</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">sitemap:</span></span><br><span class=\"line\">  <span class=\"attr\">path:</span> <span class=\"string\">sitemap.xml</span></span><br><span class=\"line\"><span class=\"attr\">baidusitemap:</span></span><br><span class=\"line\">  <span class=\"attr\">path:</span> <span class=\"string\">baidusitemap.xml</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>xml 文件存放路径看着来,一般放在网站根目录.</p>\n</li>\n<li>\n<p>现在<code>hexo generate</code>就会出现<code>public/sitemap.xml 和 baidusitemap.xml</code></p>\n<ul>\n<li>sitemap.xml 样式如下:</li>\n</ul>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?xml version=<span class=\"string\">&quot;1.0&quot;</span> encoding=<span class=\"string\">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">urlset</span> <span class=\"attr\">xmlns</span>=<span class=\"string\">&quot;http://www.sitemaps.org/schemas/sitemap/0.9&quot;</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">url</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">loc</span>&gt;</span>https://weidows.github.io/post/Hexo/butterfly_modify/<span class=\"tag\">&lt;/<span class=\"name\">loc</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">lastmod</span>&gt;</span>2020-12-18<span class=\"tag\">&lt;/<span class=\"name\">lastmod</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">url</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">url</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">loc</span>&gt;</span>https://weidows.github.io/post/experience/markdown/<span class=\"tag\">&lt;/<span class=\"name\">loc</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">lastmod</span>&gt;</span>2020-12-14<span class=\"tag\">&lt;/<span class=\"name\">lastmod</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">url</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">url</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">loc</span>&gt;</span>https://weidows.github.io/post/backup/%E5%BF%AB%E6%8D%B7%E9%94%AE/<span class=\"tag\">&lt;/<span class=\"name\">loc</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">lastmod</span>&gt;</span>2020-12-12<span class=\"tag\">&lt;/<span class=\"name\">lastmod</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">url</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p><a><img src=\"https://fastly.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"站长添加网站\">站长添加网站</h2>\n<h3 id=\"注意\">注意</h3>\n<ul>\n<li>因为 <code>Hexo</code> 会对 HTML 文件进行修改,所以<code>无法通过文件验证添加网站</code>\n<ul>\n<li>可以通过 HTML 标签方式,比较方便.</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"Hexo-标签验证网站\">Hexo 标签验证网站</h3>\n<ul>\n<li>\n<p>我使用的是 Butterfly 主题,主体间会有所不同,定位如下文件:</p>\n<ul>\n<li>themes/butterfly/layout/includes/layout.pug</li>\n</ul>\n</li>\n<li>\n<p>在<code>body</code>行上方添加验证标签(注意需要转换成 pug 格式)</p>\n<ul>\n<li><a href=\"https://html2pug.com/\">HTML=&gt;pug 格式转换</a></li>\n</ul>\n</li>\n<li>\n<p>添加之后如下:</p>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GV4iTg.png\" alt=\"20201218170353\" />\n</li>\n<li>\n<p>最后</p>\n<ul>\n<li>hexo generate</li>\n<li>hexo deploy</li>\n<li>page 部署才能验证</li>\n</ul>\n</li>\n</ul>\n<p><a><img src=\"https://fastly.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"添加站点地图\">添加站点地图</h2>\n<ul>\n<li>\n<p>百度</p>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVAsbc.png\" alt=\"20201218173033\" />\n</li>\n<li>\n<p>谷歌简单,略.</p>\n</li>\n<li>\n<p>另外</p>\n<ul>\n<li>百度添加 sitemap 后一直处于等待状态是正常的,别在意…</li>\n<li>谷歌添加 sitemap 一般第一次会失败,删掉重新添加就好了(立即生效)</li>\n</ul>\n</li>\n</ul>\n<p><a><img src=\"https://fastly.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"注意点-2\">注意点</h2>\n<ul>\n<li>\n<p>不推荐文章目录使用: <code>&lt;h1&gt;</code> 标签也就是 <code>#</code></p>\n<ul>\n<li>\n<p>多个一级标题对 SEO 不友好</p>\n</li>\n<li>\n<p>建议使用 <code>&lt;h1&gt;</code> 也就是 <code>##</code></p>\n</li>\n</ul>\n</li>\n</ul>\n<script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kity@2.0.4/dist/kity.min.js\"></script><script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js\"></script><script defer=\"true\" type=\"text&#x2F;javascript\" src=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js\"></script><link rel=\"stylesheet\" type=\"text&#x2F;css\" href=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css\">",
            "tags": [
                "website",
                "hexo",
                "seo"
            ]
        },
        {
            "id": "https://weidows.github.io/post/Web/Node/Hexo/inject_method/",
            "url": "https://weidows.github.io/post/Web/Node/Hexo/inject_method/",
            "title": "两种inject自定义Js/CSS文件方法 && Pjax冲突解决方案",
            "date_published": "2020-08-30T17:35:01.000Z",
            "content_html": "<!--\n * @Author: Weidows\n * @Date: 2020-08-31 01:35:01\n * @LastEditors: Weidows\n * @LastEditTime: 2021-03-21 17:05:45\n * @FilePath: \\Weidowsd:\\Game\\Github\\Blog-private\\source\\_posts\\Web\\Node\\Hexo\\inject_method.md\n-->\n<ul>\n<li><a href=\"#hexo-%E6%B8%B2%E6%9F%93\">hexo 渲染</a></li>\n<li><a href=\"#%E9%80%9A%E8%BF%87%E4%B8%BB%E9%A2%98%E6%96%87%E4%BB%B6%E6%B3%A8%E5%85%A5\">通过主题文件注入</a></li>\n<li><a href=\"#%E9%80%9A%E8%BF%87%E4%BF%AE%E6%94%B9%E5%86%85%E9%83%A8%E6%96%87%E4%BB%B6%E6%B3%A8%E5%85%A5\">通过修改内部文件注入</a></li>\n<li><a href=\"#pjax-%E4%BD%BF-js-%E6%B8%B2%E6%9F%93%E5%A4%B1%E6%95%88%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88\">Pjax 使 JS 渲染失效解决方案</a>\n<ul>\n<li><a href=\"#%E6%96%87%E4%BB%B6%E5%AE%9A%E4%BD%8D\">文件定位:</a></li>\n</ul>\n</li>\n</ul>\n<h2 id=\"hexo-渲染\">hexo 渲染</h2>\n<ul>\n<li>不知道为啥,hexo 只渲染 source 下面*.html 文件,而不会渲染*.HTML 文件.</li>\n</ul>\n<hr>\n<h2 id=\"通过主题文件注入\">通过主题文件注入</h2>\n<ul>\n<li>一般是写在<code>theme/xxx/source/</code>里的<code>js</code>和<code>css</code>里面</li>\n<li>随便起个名字,比如我的叫 mine.js 和 mine.css,里面写上需要的内容</li>\n<li>在主题配置文件<code>_config.yml</code>里找到<code>inject:</code>字段,一般 css 在 head,js 在 bottom 里,如下:</li>\n</ul>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">inject:</span><br><span class=\"line\">  head:</span><br><span class=\"line\">    - &lt;link <span class=\"attribute\">rel</span>=<span class=\"string\">&quot;stylesheet&quot;</span> <span class=\"attribute\">href</span>=<span class=\"string\">&quot;./css/mine.css&quot;</span>&gt;</span><br><span class=\"line\">  bottom:</span><br><span class=\"line\">    - &lt;script <span class=\"attribute\">src</span>=<span class=\"string\">&quot;./js/mine.js&quot;</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>但是务必注意这样引入只对<code>某一层</code>目录生效,比如上面只对 public/第一层目录生效,其中子目录无效,如果想使其生效:</li>\n</ul>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">inject:</span><br><span class=\"line\">  head:</span><br><span class=\"line\">    - &lt;link <span class=\"attribute\">rel</span>=<span class=\"string\">&quot;stylesheet&quot;</span> <span class=\"attribute\">href</span>=<span class=\"string\">&quot;./css/mine.css&quot;</span>&gt;</span><br><span class=\"line\">    - &lt;link <span class=\"attribute\">rel</span>=<span class=\"string\">&quot;stylesheet&quot;</span> <span class=\"attribute\">href</span>=<span class=\"string\">&quot;../css/mine.css&quot;</span>&gt;</span><br><span class=\"line\">    - &lt;link <span class=\"attribute\">rel</span>=<span class=\"string\">&quot;stylesheet&quot;</span> <span class=\"attribute\">href</span>=<span class=\"string\">&quot;../../css/mine.css&quot;</span>&gt;</span><br><span class=\"line\">  bottom:</span><br><span class=\"line\">    - &lt;script <span class=\"attribute\">src</span>=<span class=\"string\">&quot;./js/mine.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class=\"line\">    - &lt;script <span class=\"attribute\">src</span>=<span class=\"string\">&quot;../js/mine.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class=\"line\">    - &lt;script <span class=\"attribute\">src</span>=<span class=\"string\">&quot;../../js/mine.js&quot;</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>喏,这样是让第一二三层生效了,以此类推.</li>\n</ul>\n<hr>\n<h2 id=\"通过修改内部文件注入\">通过修改内部文件注入</h2>\n<ul>\n<li>首先操作如上面一样新建文件并写好 js 和 css 文件,只是注入方式不同</li>\n<li>找到<code>theme/xxx/layout/include/layout.pug</code>,在内部添加如下:</li>\n</ul>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">script(<span class=\"attribute\">src</span>=<span class=\"string\">&#x27;js/mine.js&#x27;</span>)</span><br><span class=\"line\">link(<span class=\"attribute\">rel</span>=<span class=\"string\">&#x27;stylesheet&#x27;</span>, <span class=\"attribute\">href</span>=<span class=\"string\">&#x27;css/mine.css&#x27;</span>)</span><br></pre></td></tr></table></figure>\n<ul>\n<li>这两个分别是引入 js 和 css,可以分别在 body 和 head 里加入,注意缩进格式!</li>\n<li>解释:\n<ul>\n<li>在 Hexo generate 时会把<code>theme/xxx/source/</code>里你写的文件复制到<code>public/</code>对应目录里</li>\n<li>一般 Hexo 在引用时根目录是<code>public/</code>,所以上面找的是<code>public/js/mine.js</code>和<code>public/css/mine.css</code></li>\n<li>这样注入可能因为渲染位置和时机不对而未生效,需要酌情使用</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h2 id=\"Pjax-使-JS-渲染失效解决方案\">Pjax 使 JS 渲染失效解决方案</h2>\n<ul>\n<li>用过的都知道 Pjax 可以让网页在非跳转的情况下局部刷新来使网页加载速度提升</li>\n<li>但是会带来非常多的 Bug,比如某些依赖 JS 渲染和加载的插件无效化,或者监听和交互不奏效</li>\n<li>网上搜的有些是让各种插件本身屈服 Pjax 各种修改渲染策略</li>\n<li>这里提出一个虽然不是新方法但是也是个不错的解决方案:</li>\n</ul>\n<hr>\n<h3 id=\"文件定位\">文件定位:</h3>\n<ul>\n<li>这里修改的是 Butterfly 自带的 Pjax 第三方 pug,如有不同需要自行查找</li>\n<li>找到<code>themes/butterfly/layout/includes/third-party/pjax.pug</code>,打开开始修改</li>\n<li>定位 <code>document.addEventListener('pjax:complete', function ()</code>这一行,这是监听 Pjax 跳转页面是否完成的函数,并执行跳转完成后的指令</li>\n<li>原理就是让 Pjax 加载完成页面后再让 JS 渲染一遍(但是可能有些局部渲染还是无法生效)</li>\n<li>复制需要重载的 JS,粘贴到这个函数括号内部,并 Hexo Server 测试一下,如不生效也没法治了…</li>\n</ul>\n<script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kity@2.0.4/dist/kity.min.js\"></script><script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js\"></script><script defer=\"true\" type=\"text&#x2F;javascript\" src=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js\"></script><link rel=\"stylesheet\" type=\"text&#x2F;css\" href=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css\">",
            "tags": [
                "备忘录",
                "website",
                "html",
                "css",
                "hexo",
                "pjax"
            ]
        },
        {
            "id": "https://weidows.github.io/post/Web/Node/Hexo/Hexo-fansy.mmd/",
            "url": "https://weidows.github.io/post/Web/Node/Hexo/Hexo-fansy.mmd/",
            "title": "😵‍💫Hexo-里一些奇奇怪怪的写法",
            "date_published": "2020-08-26T17:13:03.000Z",
            "content_html": "<h1>Hexo-里一些奇奇怪怪的写法</h1>\n<!--\n * @Author: Weidows\n * @Date: 2020-08-27 01:13:03\n * @LastEditors: Weidows\n * @LastEditTime: 2022-04-23 15:36:37\n * @FilePath: \\Blog-private\\source\\_posts\\Web\\Node\\Hexo\\Hexo-fansy.mmd.md\n-->\n<blockquote class=\"pullquote mindmap mindmap-md\"><ul>\n<li><a href=\"#hexo-%E9%87%8C%E4%B8%80%E4%BA%9B%E5%A5%87%E5%A5%87%E6%80%AA%E6%80%AA%E7%9A%84%E5%86%99%E6%B3%95\">Hexo-里一些奇奇怪怪的写法</a>\n<ul>\n<li><a href=\"#%E6%96%87%E7%AB%A0%E6%A0%87%E9%A2%98-%E6%A0%BC%E5%BC%8F\">文章标题-格式</a>\n<ul>\n<li><a href=\"#%E8%82%AF%E5%AE%9A%E8%A6%81%E8%83%8C%E8%BF%87%E7%9A%84\">肯定要背过的</a></li>\n<li><a href=\"#%E4%BB%A5%E4%B8%8B%E6%98%AF%E6%B2%A1%E7%94%A8%E8%BF%87%E6%88%96%E6%97%A0%E6%95%88%E7%9A%84\">以下是没用过或无效的</a></li>\n</ul>\n</li>\n<li><a href=\"#%E6%A0%87%E7%AD%BE%E5%A4%96%E6%8C%82\">标签外挂</a></li>\n<li><a href=\"#gallery-%E7%9B%B8%E5%86%8C%E5%9B%BE%E5%BA%93\">Gallery 相册图库</a>\n<ul>\n<li><a href=\"#div-%E5%BC%8F%E5%86%99%E6%B3%95\">div 式写法</a></li>\n<li><a href=\"#%E6%95%88%E6%9E%9C\">效果:</a></li>\n<li><a href=\"#%E5%8F%A6%E4%B8%80%E7%A7%8D%E7%9B%B8%E5%86%8C%E5%BD%A2%E5%BC%8F%E8%87%AA%E5%8A%A8%E6%8E%92%E5%88%97\">另一种相册形式(自动排列)</a></li>\n</ul>\n</li>\n<li><a href=\"#tag-hide\">tag-hide</a>\n<ul>\n<li><a href=\"#inline%E4%B8%80%E8%A1%8C%E5%86%85\">inline(一行内)</a></li>\n<li><a href=\"#block%E5%9D%97\">Block(块)</a></li>\n<li><a href=\"#toggle%E6%94%B6%E7%BC%A9%E6%A1%86\">toggle(收缩框)</a></li>\n</ul>\n</li>\n<li><a href=\"#mermaid\">mermaid</a></li>\n<li><a href=\"#tabs%E6%A0%87%E7%AD%BE%E5%9D%97\">tabs(标签块)</a></li>\n<li><a href=\"#button\">Button</a>\n<ul>\n<li><a href=\"#%E5%86%99%E6%B3%95\">写法:</a></li>\n<li><a href=\"#%E5%A5%BD%E5%BA%B7%E7%9A%84-demo\">好康的-demo</a></li>\n</ul>\n</li>\n<li><a href=\"#_configyml\">_config.yml</a></li>\n<li><a href=\"#%E5%9B%BE%E7%89%87%E5%BC%95%E5%85%A5\">图片引入</a></li>\n<li><a href=\"#%E8%B5%84%E6%BA%90%E6%8E%92%E9%99%A4\">资源排除</a></li>\n</ul>\n</li>\n</ul>\n</blockquote>\n<h2 id=\"文章标题-格式\">文章标题-格式</h2>\n<p>在 markdown 文章里面最开头(如果不是开头的话报错),弄上如下框框</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"string\">下面的格式标签写在这里</span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"肯定要背过的\">肯定要背过的</h3>\n<figure class=\"highlight avrasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"symbol\">title:</span> <span class=\"meta\"># 网站标题</span></span><br><span class=\"line\"><span class=\"symbol\">categories:</span> <span class=\"meta\"># 分类(只能单线)</span></span><br><span class=\"line\">  - category_1</span><br><span class=\"line\">  - category_1_1</span><br><span class=\"line\">  - category_1_1_1</span><br><span class=\"line\"><span class=\"symbol\">password:</span> <span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\"><span class=\"symbol\">tags:</span>  <span class=\"meta\"># 标签(可以多标)</span></span><br><span class=\"line\">  - tag_1</span><br><span class=\"line\">  - tag_2</span><br><span class=\"line\"><span class=\"symbol\">type:</span> <span class=\"string\">&quot;&quot;</span> <span class=\"meta\"># 指定这个页面的类型(比如categories/tags)</span></span><br><span class=\"line\"><span class=\"symbol\">cover:</span> <span class=\"meta\"># 封面图片,注意不能用../命令,双引号有无均可</span></span><br><span class=\"line\"><span class=\"symbol\">comments:</span> <span class=\"meta\"># 评论开关 true/false</span></span><br><span class=\"line\"><span class=\"symbol\">date:</span> <span class=\"meta\"># 创建时间</span></span><br><span class=\"line\"><span class=\"symbol\">updated:</span>  <span class=\"meta\"># 更新时间</span></span><br><span class=\"line\"><span class=\"symbol\">description:</span> <span class=\"meta\"># 网站描述</span></span><br><span class=\"line\"><span class=\"symbol\">aside:</span> <span class=\"meta\"># 侧边栏开关</span></span><br><span class=\"line\"><span class=\"symbol\">top_img:</span> <span class=\"meta\"># 文章banner图,如果有cover的话默认用的是cover(这个可以给_post之外的用),其隐藏前缀目录为Website/public/注意格式应为:images/xxx,但是这样会使_posts里文章的相关文章封面失效,需要用URL</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"以下是没用过或无效的\">以下是没用过或无效的</h3>\n<figure class=\"highlight avrasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"symbol\">keywords:</span> <span class=\"meta\"># 网站关键词</span></span><br><span class=\"line\"><span class=\"symbol\">author:</span> <span class=\"meta\"># 网站作者</span></span><br><span class=\"line\"><span class=\"symbol\">language:</span> <span class=\"meta\"># 语言, 一般填 &#x27;zh-CN&#x27;</span></span><br><span class=\"line\"><span class=\"symbol\">timezone:</span> <span class=\"meta\"># 时区, 可以不填</span></span><br></pre></td></tr></table></figure>\n<p><a><img src=\"https://fastly.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"标签外挂\">标签外挂</h2>\n<ul>\n<li>\n<p>写法:</p>\n<figure class=\"highlight django\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"template-tag\">&#123;% <span class=\"name\">note</span> default %&#125;</span><span class=\"language-xml\"></span></span><br><span class=\"line\"><span class=\"language-xml\">default 提示块标籤</span></span><br><span class=\"line\"><span class=\"language-xml\"></span><span class=\"template-tag\">&#123;% <span class=\"name\">endnote</span> %&#125;</span><span class=\"language-xml\"></span></span><br><span class=\"line\"><span class=\"language-xml\"></span></span><br><span class=\"line\"><span class=\"language-xml\"></span><span class=\"template-tag\">&#123;% <span class=\"name\">note</span> primary no-icon %&#125;</span><span class=\"language-xml\"></span></span><br><span class=\"line\"><span class=\"language-xml\">primary 提示块标籤</span></span><br><span class=\"line\"><span class=\"language-xml\"></span><span class=\"template-tag\">&#123;% <span class=\"name\">endnote</span> %&#125;</span><span class=\"language-xml\"></span></span><br><span class=\"line\"><span class=\"language-xml\"></span></span><br><span class=\"line\"><span class=\"language-xml\"></span><span class=\"template-tag\">&#123;% <span class=\"name\">note</span> success %&#125;</span><span class=\"language-xml\"></span></span><br><span class=\"line\"><span class=\"language-xml\">success 提示块标籤</span></span><br><span class=\"line\"><span class=\"language-xml\"></span><span class=\"template-tag\">&#123;% <span class=\"name\">endnote</span> %&#125;</span><span class=\"language-xml\"></span></span><br><span class=\"line\"><span class=\"language-xml\"></span></span><br><span class=\"line\"><span class=\"language-xml\"></span><span class=\"template-tag\">&#123;% <span class=\"name\">note</span> info %&#125;</span><span class=\"language-xml\"></span></span><br><span class=\"line\"><span class=\"language-xml\">info 提示块标籤</span></span><br><span class=\"line\"><span class=\"language-xml\"></span><span class=\"template-tag\">&#123;% <span class=\"name\">endnote</span> %&#125;</span><span class=\"language-xml\"></span></span><br><span class=\"line\"><span class=\"language-xml\"></span></span><br><span class=\"line\"><span class=\"language-xml\"></span><span class=\"template-tag\">&#123;% <span class=\"name\">note</span> warning %&#125;</span><span class=\"language-xml\"></span></span><br><span class=\"line\"><span class=\"language-xml\">warning 提示块标籤</span></span><br><span class=\"line\"><span class=\"language-xml\"></span><span class=\"template-tag\">&#123;% <span class=\"name\">endnote</span> %&#125;</span><span class=\"language-xml\"></span></span><br><span class=\"line\"><span class=\"language-xml\"></span></span><br><span class=\"line\"><span class=\"language-xml\"></span><span class=\"template-tag\">&#123;% <span class=\"name\">note</span> danger %&#125;</span><span class=\"language-xml\"></span></span><br><span class=\"line\"><span class=\"language-xml\">danger 提示块标籤</span></span><br><span class=\"line\"><span class=\"language-xml\"></span><span class=\"template-tag\">&#123;% <span class=\"name\">endnote</span> %&#125;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>显示效果:</p>\n<div class=\"note default flat\"><p>default 提示块标籤</p>\n</div>\n<div class=\"note primary no-icon flat\"><p>primary 提示块标籤</p>\n</div>\n<div class=\"note success flat\"><p>success 提示块标籤</p>\n</div>\n<div class=\"note info flat\"><p>info 提示块标籤</p>\n</div>\n<div class=\"note warning flat\"><p>warning 提示块标籤</p>\n</div>\n<div class=\"note danger flat\"><p>danger 提示块标籤</p>\n</div>\n</li>\n</ul>\n<hr>\n<h2 id=\"Gallery-相册图库\">Gallery 相册图库</h2>\n<h3 id=\"div-式写法\">div 式写法</h3>\n<figure class=\"highlight gradle\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;<span class=\"keyword\">div</span> <span class=\"keyword\">class</span>=<span class=\"string\">&quot;gallery-group-main&quot;</span>&gt;</span><br><span class=\"line\">&#123;% galleryGroup name <span class=\"keyword\">description</span> link img-url %&#125;</span><br><span class=\"line\">&#123;% galleryGroup name <span class=\"keyword\">description</span> link img-url %&#125;</span><br><span class=\"line\">&lt;/<span class=\"keyword\">div</span>&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">name：图库名字</span><br><span class=\"line\"><span class=\"keyword\">description</span>：图库描述</span><br><span class=\"line\">link：连接到对应相册的地址</span><br><span class=\"line\">img-url：图库封面的地址</span><br><span class=\"line\"></span><br><span class=\"line\">例如:</span><br><span class=\"line\">&lt;<span class=\"keyword\">div</span> <span class=\"keyword\">class</span>=<span class=\"string\">&quot;gallery-group-main&quot;</span>&gt;</span><br><span class=\"line\">&#123;% galleryGroup <span class=\"number\">1</span> <span class=\"number\">1</span> tags<span class=\"regexp\">/gallery/</span>PrettyGreen https:<span class=\"comment\">//www.helloimg.com/images/2022/02/27/GVSsBr.png %&#125;</span></span><br><span class=\"line\">&lt;/<span class=\"keyword\">div</span>&gt;</span><br></pre></td></tr></table></figure>\n<h3 id=\"效果\">效果:</h3>\n  <div class=\"gallery-group-main\">\n  \n  <figure class=\"gallery-group\">\n  <img class=\"gallery-group-img no-lightbox\" src='https://www.helloimg.com/images/2022/02/27/GVSsBr.png' alt=\"Group Image Gallery\">\n  <figcaption>\n  <div class=\"gallery-group-name\">1</div>\n  <p>1</p>\n  <a href='/Gallery/wallpaper'></a>\n  </figcaption>\n  </figure>\n  \n  \n  <figure class=\"gallery-group\">\n  <img class=\"gallery-group-img no-lightbox\" src='https://www.helloimg.com/images/2022/02/27/GVSJ7q.png' alt=\"Group Image Gallery\">\n  <figcaption>\n  <div class=\"gallery-group-name\">2</div>\n  <p>2</p>\n  <a href='/Gallery/marvel'></a>\n  </figcaption>\n  </figure>\n  \n  \n  <figure class=\"gallery-group\">\n  <img class=\"gallery-group-img no-lightbox\" src='https://www.helloimg.com/images/2022/02/27/GVLioP.png' alt=\"Group Image Gallery\">\n  <figcaption>\n  <div class=\"gallery-group-name\">3</div>\n  <p>3</p>\n  <a href='/Gallery/ohmygirl'></a>\n  </figcaption>\n  </figure>\n  \n  </div>\n<h3 id=\"另一种相册形式-自动排列\">另一种相册形式(自动排列)</h3>\n<figure class=\"highlight scss\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% gallery %&#125;</span><br><span class=\"line\">!<span class=\"selector-attr\">[图片描述]</span>(图片地址)</span><br><span class=\"line\">!<span class=\"selector-attr\">[图片描述]</span>(图片地址)</span><br><span class=\"line\">!<span class=\"selector-attr\">[图片描述]</span>(图片地址)</span><br><span class=\"line\">&#123;% endgallery %&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"tag-hide\">tag-hide</h2>\n<h3 id=\"inline-一行内\">inline(一行内)</h3>\n<figure class=\"highlight maxima\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;<span class=\"symbol\">%</span> hideInline <span class=\"built_in\">content</span>,<span class=\"built_in\">display</span>,bg,<span class=\"built_in\">color</span> <span class=\"symbol\">%</span>&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"built_in\">content</span>: 文本内容</span><br><span class=\"line\">  <span class=\"built_in\">display</span>: 按钮显示的文字 (可选)</span><br><span class=\"line\">  bg: 按钮的背景颜色 (可选)</span><br><span class=\"line\">  <span class=\"built_in\">color</span>: 按钮文字的颜色 (可选)</span><br></pre></td></tr></table></figure>\n<ul>\n<li>\n<p>例如 1:</p>\n<p><code>我是谁:&#123;% hideInline Weidows,查看答案,#FF7242,#fff %&#125;</code></p>\n<p>我是谁:<span class=\"hide-inline\"><button type=\"button\" class=\"hide-button\" style=\"background-color: #FF7242;color: #fff\">查看答案\n  </button><span class=\"hide-content\">Weidows</span></span></p>\n</li>\n</ul>\n<h3 id=\"Block-块\">Block(块)</h3>\n<figure class=\"highlight django\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"template-tag\">&#123;% <span class=\"name\">hideBlock</span> display,bg,color %&#125;</span><span class=\"language-xml\"></span></span><br><span class=\"line\"><span class=\"language-xml\">content</span></span><br><span class=\"line\"><span class=\"language-xml\"></span><span class=\"template-tag\">&#123;% <span class=\"name\">endhideBlock</span> %&#125;</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li>\n<p>例如 2:</p>\n<figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% hideBlock 我是谁 %&#125;</span><br><span class=\"line\">爷是:</span><br><span class=\"line\">Weidows</span><br><span class=\"line\">&#123;% endhideBlock %&#125;</span><br></pre></td></tr></table></figure>\n<div class=\"hide-block\"><button type=\"button\" class=\"hide-button\" style=\"\">我是谁\n    </button><div class=\"hide-content\"><p>爷是:<br>\nWeidows</p>\n</div></div>\n</li>\n</ul>\n<h3 id=\"toggle-收缩框\">toggle(收缩框)</h3>\n<figure class=\"highlight django\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"template-tag\">&#123;% <span class=\"name\">hideToggle</span> display,bg,color %&#125;</span><span class=\"language-xml\"></span></span><br><span class=\"line\"><span class=\"language-xml\">content</span></span><br><span class=\"line\"><span class=\"language-xml\"></span><span class=\"template-tag\">&#123;% <span class=\"name\">endhideToggle</span> %&#125;</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li>\n<p>例如 3:</p>\n<figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% hideToggle 我是谁 %&#125;</span><br><span class=\"line\">爷是:</span><br><span class=\"line\">Weidows</span><br><span class=\"line\">&#123;% endhideToggle %&#125;</span><br></pre></td></tr></table></figure>\n<details class=\"toggle\" ><summary class=\"toggle-button\" style=\"\">我是谁</summary><div class=\"toggle-content\"><p>爷是:<br>\nWeidows</p>\n</div></details>\n</li>\n<li>\n<p>tag-hide 内的标签外挂 content 内都不建议有 h1 - h6 等标题。因为 Toc 会把隐藏内容标题也显示出来，而且当滚动屏幕时，如果隐藏内容没有显示出来，会导致 Toc 的滚动出现异常。</p>\n</li>\n</ul>\n<hr>\n<h2 id=\"mermaid\">mermaid</h2>\n<ul>\n<li>\n<p>写法:</p>\n<figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% mermaid %&#125;</span><br><span class=\"line\">内容</span><br><span class=\"line\">&#123;% endmermaid %&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>例如:<div class=\"mermaid-wrap\"><pre class=\"mermaid-src\" hidden>\n  &lt;div class&#x3D;&quot;mermaid-wrap&quot;&gt;&lt;pre class&#x3D;&quot;mermaid-src&quot; hidden&gt;\n  pie\n  title Key elements in Product X\n  &quot;Calcium&quot; : 42.96\n  &quot;Potassium&quot; : 50.05\n  &quot;Magnesium&quot; : 10.01\n  &quot;Iron&quot; : 5\n  &lt;&#x2F;pre&gt;&lt;&#x2F;div&gt;&lt;&#x2F;p&gt;\n&lt;&#x2F;li&gt;\n&lt;&#x2F;ul&gt;\n  </pre></div>\n<ul>\n<li>\n<p>显示:</p>\n<div class=\"mermaid-wrap\"><pre class=\"mermaid-src\" hidden>\n  pie\ntitle Key elements in Product X\n&quot;Calcium&quot; : 42.96\n&quot;Potassium&quot; : 50.05\n&quot;Magnesium&quot; : 10.01\n&quot;Iron&quot; : 5\n  </pre></div>\n</li>\n<li>\n<p>官方原文:</p>\n<blockquote>\n<ul>\n<li>mermaid 标籤不允许嵌套于一些隐藏属性的标籤外挂，例如: tag-hide 内的标籤外挂和 tabs 标籤外挂，这会导致 mermaid 图示无法正常显示，使用时请留意。</li>\n<li>请不要压缩 html 代码，不然会导致 mermaid 显示异常</li>\n</ul>\n</blockquote>\n</li>\n<li>\n<p>压缩 HTML 很有必要,如何排除这种添加了 mermaid 的 HTML 文件呢?</p>\n<blockquote>\n<p>我用的如下方式: 把添加了 mermaid 的 markdown 文件命名为 <code>xxx.mmd.md</code>,这样 neat 时就会被排除了.</p>\n</blockquote>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">neat_html:</span></span><br><span class=\"line\">  <span class=\"attr\">enable:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"attr\">exclude:</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">&quot;**/*.mmd/*&quot;</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<h2 id=\"tabs-标签块\">tabs(标签块)</h2>\n<ul>\n<li>\n<p>写法:</p>\n<figure class=\"highlight pgsql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% tabs <span class=\"keyword\">Unique</span> <span class=\"type\">name</span>, [<span class=\"keyword\">index</span>] %&#125;</span><br><span class=\"line\">&lt;!<span class=\"comment\">-- tab [Tab caption] [@icon] --&gt;</span></span><br><span class=\"line\">markdown内容(<span class=\"keyword\">inline</span>)</span><br><span class=\"line\">&lt;!<span class=\"comment\">-- endtab --&gt;</span></span><br><span class=\"line\">&#123;% endtabs %&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">Unique</span> <span class=\"type\">name</span>   : <span class=\"keyword\">Unique</span> <span class=\"type\">name</span> <span class=\"keyword\">of</span> tabs block tag <span class=\"keyword\">without</span> comma.</span><br><span class=\"line\">                Will be used <span class=\"keyword\">in</span> #id<span class=\"string\">&#x27;s as prefix for each tab with their index numbers.</span></span><br><span class=\"line\"><span class=\"string\">                If there are whitespaces in name, for generate #id all whitespaces will replaced by dashes.</span></span><br><span class=\"line\"><span class=\"string\">                Only for current url of post/page must be unique!</span></span><br><span class=\"line\"><span class=\"string\">[index]       : Index number of active tab.</span></span><br><span class=\"line\"><span class=\"string\">                If not specified, first tab (1) will be selected.</span></span><br><span class=\"line\"><span class=\"string\">                If index is -1, no tab will be selected. It&#x27;</span>s will be something <span class=\"keyword\">like</span> spoiler.</span><br><span class=\"line\">                Optional parameter.</span><br><span class=\"line\">[Tab caption] : Caption <span class=\"keyword\">of</span> <span class=\"keyword\">current</span> tab.</span><br><span class=\"line\">                <span class=\"keyword\">If</span> <span class=\"keyword\">not</span> caption specified, <span class=\"keyword\">unique</span> <span class=\"type\">name</span> <span class=\"keyword\">with</span> tab <span class=\"keyword\">index</span> suffix will be used <span class=\"keyword\">as</span> caption <span class=\"keyword\">of</span> tab.</span><br><span class=\"line\">                <span class=\"keyword\">If</span> <span class=\"keyword\">not</span> caption specified, but specified icon, caption will empty.</span><br><span class=\"line\">                Optional parameter.</span><br><span class=\"line\">[@icon]       : FontAwesome icon <span class=\"type\">name</span> (<span class=\"keyword\">full</span>-<span class=\"type\">name</span>, look <span class=\"keyword\">like</span> <span class=\"string\">&#x27;fas fa-font&#x27;</span>)</span><br><span class=\"line\">                Can be specified <span class=\"keyword\">with</span> <span class=\"keyword\">or</span> <span class=\"keyword\">without</span> space; e.g. <span class=\"string\">&#x27;Tab caption @icon&#x27;</span> <span class=\"keyword\">similar</span> <span class=\"keyword\">to</span> <span class=\"string\">&#x27;Tab caption@icon&#x27;</span>.</span><br><span class=\"line\">                Optional parameter.</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>例如: (test2 标签为预选状态,找不到的话就是第一个)</p>\n<figure class=\"highlight django\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"template-tag\">&#123;% <span class=\"name\">tabs</span> test2 %&#125;</span><span class=\"language-xml\"></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"comment\">&lt;!-- tab 第一个Tab --&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">**tab名字为第一个Tab**</span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"comment\">&lt;!-- endtab --&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"comment\">&lt;!-- tab @fab fa-apple-pay --&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">**只有图标 没有Tab名字**</span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"comment\">&lt;!-- endtab --&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"comment\">&lt;!-- tab 炸弹@fas fa-bomb --&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">**名字+icon**</span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"comment\">&lt;!-- endtab --&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"></span><span class=\"template-tag\">&#123;% <span class=\"name\">endtabs</span> %&#125;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>显示:</p>\n<div class=\"tabs\" id=\"test2\"><ul class=\"nav-tabs\"><li class=\"tab active\"><button type=\"button\" data-href=\"#test2-1\">第一个Tab</button></li><li class=\"tab\"><button type=\"button\" data-href=\"#test2-2\"><i class=\"fab fa-apple-pay\" style=\"text-align: center;\"></i></button></li><li class=\"tab\"><button type=\"button\" data-href=\"#test2-3\"><i class=\"fas fa-bomb\"></i>炸弹</button></li></ul><div class=\"tab-contents\"><div class=\"tab-item-content active\" id=\"test2-1\"><p><strong>tab 名字为第一个 Tab</strong></p><button type=\"button\" class=\"tab-to-top\" aria-label=\"scroll to top\"><i class=\"fas fa-arrow-up\"></i></button></div><div class=\"tab-item-content\" id=\"test2-2\"><p><strong>只有图标 没有 Tab 名字</strong></p><button type=\"button\" class=\"tab-to-top\" aria-label=\"scroll to top\"><i class=\"fas fa-arrow-up\"></i></button></div><div class=\"tab-item-content\" id=\"test2-3\"><p><strong>名字+icon</strong></p><button type=\"button\" class=\"tab-to-top\" aria-label=\"scroll to top\"><i class=\"fas fa-arrow-up\"></i></button></div></div></div>\n</li>\n</ul>\n<hr>\n<h2 id=\"Button\">Button</h2>\n<h3 id=\"写法\">写法:</h3>\n<figure class=\"highlight inform7\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% btn <span class=\"comment\">[url]</span>,<span class=\"comment\">[text]</span>,<span class=\"comment\">[icon]</span>,<span class=\"comment\">[color]</span> <span class=\"comment\">[style]</span> <span class=\"comment\">[layout]</span> <span class=\"comment\">[position]</span> <span class=\"comment\">[size]</span> %&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">[url]</span>         : 链接</span><br><span class=\"line\">  <span class=\"comment\">[text]</span>        : 按钮文字</span><br><span class=\"line\">  <span class=\"comment\">[icon]</span>        : <span class=\"comment\">[可选]</span> 图标</span><br><span class=\"line\">  <span class=\"comment\">[color]</span>       : <span class=\"comment\">[可选]</span> 按钮背景顔色(默认style时）</span><br><span class=\"line\">                        按钮字体和边框顔色(outline时)</span><br><span class=\"line\">                        default/blue/pink/red/purple/orange/green</span><br><span class=\"line\">  <span class=\"comment\">[style]</span>       : <span class=\"comment\">[可选]</span> 按钮样式 默认实心</span><br><span class=\"line\">                        outline/留空</span><br><span class=\"line\">  <span class=\"comment\">[layout]</span>      : <span class=\"comment\">[可选]</span> 按钮佈局 默认为line</span><br><span class=\"line\">                        block/留空</span><br><span class=\"line\">  <span class=\"comment\">[position]</span>    : <span class=\"comment\">[可选]</span> 按钮位置 前提是设置了layout为block 默认为左边</span><br><span class=\"line\">                        center/right/留空</span><br><span class=\"line\">  <span class=\"comment\">[size]</span>        : <span class=\"comment\">[可选]</span> 按钮大小</span><br><span class=\"line\">                        larger/留空</span><br></pre></td></tr></table></figure>\n<h3 id=\"好康的-demo\">好康的-demo</h3>\n<figure class=\"highlight processing\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% btn <span class=\"string\">&#x27;http://www.jerryc.me&#x27;</span>,JerryC,far fa-hand-<span class=\"built_in\">point</span>-right,outline <span class=\"built_in\">blue</span> larger %&#125;</span><br><span class=\"line\">&#123;% btn <span class=\"string\">&#x27;http://www.jerryc.me&#x27;</span>,JerryC,far fa-hand-<span class=\"built_in\">point</span>-right,outline pink larger %&#125;</span><br><span class=\"line\">&#123;% btn <span class=\"string\">&#x27;http://www.jerryc.me&#x27;</span>,JerryC,far fa-hand-<span class=\"built_in\">point</span>-right,outline <span class=\"built_in\">red</span> larger %&#125;</span><br><span class=\"line\">&#123;% btn <span class=\"string\">&#x27;http://www.jerryc.me&#x27;</span>,JerryC,far fa-hand-<span class=\"built_in\">point</span>-right,outline purple larger %&#125;</span><br><span class=\"line\">&#123;% btn <span class=\"string\">&#x27;http://www.jerryc.me&#x27;</span>,JerryC,far fa-hand-<span class=\"built_in\">point</span>-right,outline orange larger %&#125;</span><br><span class=\"line\">&#123;% btn <span class=\"string\">&#x27;http://www.jerryc.me&#x27;</span>,JerryC,far fa-hand-<span class=\"built_in\">point</span>-right,outline <span class=\"built_in\">green</span> larger %&#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>演示:<a class=\"btn-beautify outline blue larger\" href=\"http://www.jerryc.me\" \n  title=\"JerryC\"><i class=\"far fa-hand-point-right\"></i><span>JerryC</span></a>\n<a class=\"btn-beautify outline pink larger\" href=\"http://www.jerryc.me\" \n  title=\"JerryC\"><i class=\"far fa-hand-point-right\"></i><span>JerryC</span></a>\n<a class=\"btn-beautify outline red larger\" href=\"http://www.jerryc.me\" \n  title=\"JerryC\"><i class=\"far fa-hand-point-right\"></i><span>JerryC</span></a>\n<a class=\"btn-beautify outline purple larger\" href=\"http://www.jerryc.me\" \n  title=\"JerryC\"><i class=\"far fa-hand-point-right\"></i><span>JerryC</span></a>\n<a class=\"btn-beautify outline orange larger\" href=\"http://www.jerryc.me\" \n  title=\"JerryC\"><i class=\"far fa-hand-point-right\"></i><span>JerryC</span></a>\n<a class=\"btn-beautify outline green larger\" href=\"http://www.jerryc.me\" \n  title=\"JerryC\"><i class=\"far fa-hand-point-right\"></i><span>JerryC</span></a>\n</li>\n</ul>\n<hr>\n<h2 id=\"config-yml\">_config.yml</h2>\n<ul>\n<li>合并:把 themes/xxx/_config.yml 移动到 source/_data/里,并改名为 xxx.yml</li>\n<li>我所遇到的各种问题\n<ul>\n<li>这里面 inject js/css 功能只能插入本地的,而且必须是./形式</li>\n<li>css 的 inject 在 head,js 的 inject 在 body,不能改变位置(失效)</li>\n<li>valine 设置处的 placeholder 不能写带单引号的内容,会导致整个 valine 评论崩溃不显示</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h2 id=\"图片引入\">图片引入</h2>\n<ul>\n<li>引入图片,在 source 里面当路径正确出现图片时,还需要再加一层</li>\n<li>因为在 Hexo generate 时会多出现一层路径,需要在 source 里多一个…/</li>\n</ul>\n<p><a><img src=\"https://fastly.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"资源排除\">资源排除</h2>\n<p>就是把 source 里面的某些目录/文件排除 (不做渲染也不被包含进 public)</p>\n<ul>\n<li>\n<p>找了半天文档, 它写在注释里…</p>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Do not use this to exclude posts in the &#x27;source/_posts/&#x27;.</span></span><br><span class=\"line\"><span class=\"comment\"># Use skip_render for that. Or prepend an underscore to the filename.</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p>也就是说在文件[夹]名字前加个下划线就行</p>\n<script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kity@2.0.4/dist/kity.min.js\"></script><script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js\"></script><script defer=\"true\" type=\"text&#x2F;javascript\" src=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js\"></script><link rel=\"stylesheet\" type=\"text&#x2F;css\" href=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css\">",
            "tags": [
                "备忘录",
                "website",
                "html",
                "markdown",
                "hexo"
            ]
        },
        {
            "id": "https://weidows.github.io/post/experience/PHP_interface/",
            "url": "https://weidows.github.io/post/experience/PHP_interface/",
            "title": "关于在不会PHP的情况下调用PHP API",
            "date_published": "2020-08-25T01:50:37.000Z",
            "content_html": "<!--\n * @Author: Weidows\n * @Date: 2020-08-25 09:50:37\n * @LastEditors: Weidows\n * @LastEditTime: 2021-02-13 17:01:12\n * @FilePath: \\Weidowsd:\\Game\\Github\\Blog-private\\source\\_posts\\experience\\PHP_interface.md\n-->\n<ul>\n<li><a href=\"#%E7%AE%80%E5%8D%95%E8%B0%83%E7%94%A8\">简单调用</a></li>\n<li><a href=\"#get-%E6%96%B9%E5%BC%8F%E7%9A%84%E7%9B%B4%E6%8E%A5%E4%BD%BF%E7%94%A8\">GET 方式的直接使用</a></li>\n</ul>\n<h2 id=\"简单调用\">简单调用</h2>\n<ul>\n<li>他会提供相应接口给你的，具体调用方法就相当于讲求某个链接,如：<br>\n<code>http://localhost/operate.php?act=get_user_list&amp;type=json</code></li>\n<li>在这里 operate.php 相当于一个接口，其中 get_user_list 是一个 API（获取用户列表），讲求返回的数据类型为 JSON 格式。</li>\n<li>你只需要在你 PHP 代码中执行这条链接他就会返回。</li>\n</ul>\n<h2 id=\"GET-方式的直接使用\">GET 方式的直接使用</h2>\n<p>$file_contents = file_get_content(‘<a href=\"http://localhost/operate.php?act=get_user_list&amp;type=json\">http://localhost/operate.php?act=get_user_list&amp;type=json</a>’)</p>\n<p>POST 方式得用下面的(需要开启 PHP curl 支持)。</p>\n<figure class=\"highlight awk\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable\">$url</span> = <span class=\"string\">&#x27;http://localhost/operate.php?act=get_user_list&amp;type=json&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable\">$ch</span> = curl_init ();</span><br><span class=\"line\"></span><br><span class=\"line\">curl_setopt ( <span class=\"variable\">$ch</span>, CURLOPT_URL, <span class=\"variable\">$url</span> );</span><br><span class=\"line\"></span><br><span class=\"line\">curl_setopt ( <span class=\"variable\">$ch</span>, CURLOPT_RETURNTRANSFER, <span class=\"number\">1</span> );</span><br><span class=\"line\"></span><br><span class=\"line\">curl_setopt ( <span class=\"variable\">$ch</span>, CURLOPT_CONNECTTIMEOUT, <span class=\"number\">10</span> );</span><br><span class=\"line\"></span><br><span class=\"line\">curl_setopt ( <span class=\"variable\">$ch</span>, CURLOPT_POST, <span class=\"number\">1</span> ); <span class=\"regexp\">//</span>启用POST提交</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable\">$file_contents</span> = curl_exec ( <span class=\"variable\">$ch</span> );</span><br><span class=\"line\"></span><br><span class=\"line\">curl_close ( <span class=\"variable\">$ch</span> );</span><br></pre></td></tr></table></figure>\n<script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kity@2.0.4/dist/kity.min.js\"></script><script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js\"></script><script defer=\"true\" type=\"text&#x2F;javascript\" src=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js\"></script><link rel=\"stylesheet\" type=\"text&#x2F;css\" href=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css\">",
            "tags": [
                "备忘录",
                "php",
                "website"
            ]
        },
        {
            "id": "https://weidows.github.io/post/Web/Node/Hexo/Hexo-plugin/",
            "url": "https://weidows.github.io/post/Web/Node/Hexo/Hexo-plugin/",
            "title": "淦翻Hexo各种插件安装+调试",
            "date_published": "2020-08-24T16:05:52.000Z",
            "content_html": "<!--\n * @Author: Weidows\n * @Date: 2020-08-25 00:05:52\n * @LastEditors: Weidows\n * @LastEditTime: 2022-05-22 11:22:18\n * @FilePath: \\Blog-private\\source\\_posts\\Web\\Node\\Hexo\\Hexo-plugin.md\n-->\n<h2 id=\"常用的-Hexo-自身命令\">常用的 Hexo 自身命令</h2>\n<ul>\n<li>\n<p>安装 Hexo-cli(命令行支持插件,它自动包含 hexo 本身)</p>\n<figure class=\"highlight avrasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g hexo-<span class=\"keyword\">cli</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>查看版本</p>\n<figure class=\"highlight applescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo <span class=\"built_in\">version</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>升级</p>\n<figure class=\"highlight coffeescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">npm</span> update hexo</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>初始化博客</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo <span class=\"keyword\">init</span> 博客名</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>删除插件</p>\n<figure class=\"highlight coffeescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">npm</span> uninstall hexo-xxx</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>新建页面</p>\n<figure class=\"highlight haxe\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Hexo <span class=\"keyword\">new</span> <span class=\"type\">page</span> page 名</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>安装过的插件会在 root/package.json 里显示</p>\n</li>\n</ul>\n<hr>\n<h2 id=\"安装渲染器\">安装渲染器</h2>\n<ul>\n<li>\n<p>pug 和 stylus 渲染器</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install hexo-renderer-pug hexo-renderer-stylus</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<h2 id=\"添加-tags-categories-link-页面\">添加 tags/categories/link 页面</h2>\n<ul>\n<li>可以通过修改 markdown 来更换标题和 top_img</li>\n</ul>\n<h3 id=\"tags\">tags</h3>\n<figure class=\"highlight haxe\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo <span class=\"keyword\">new</span> <span class=\"type\">page</span> tags</span><br></pre></td></tr></table></figure>\n<h3 id=\"categories\">categories</h3>\n<figure class=\"highlight haxe\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo <span class=\"keyword\">new</span> <span class=\"type\">page</span> categories</span><br></pre></td></tr></table></figure>\n<h3 id=\"link\">link</h3>\n<figure class=\"highlight haxe\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo <span class=\"keyword\">new</span> <span class=\"type\">page</span> link</span><br></pre></td></tr></table></figure>\n<ul>\n<li>\n<p>另外还需要在 <code>source/_data/link.yml</code> 里添加数据,如:</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"attr\">class_name:</span> <span class=\"string\">友情鏈接</span></span><br><span class=\"line\">  <span class=\"attr\">class_desc:</span> <span class=\"string\">那些人，那些事</span></span><br><span class=\"line\">  <span class=\"attr\">link_list:</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">JerryC</span></span><br><span class=\"line\">      <span class=\"attr\">link:</span> <span class=\"string\">https://jerryc.me/</span></span><br><span class=\"line\">      <span class=\"attr\">avatar:</span> <span class=\"string\">https://jerryc.me/image/avatar.png</span></span><br><span class=\"line\">      <span class=\"attr\">descr:</span> <span class=\"string\">今日事,今日畢</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">Hexo</span></span><br><span class=\"line\">      <span class=\"attr\">link:</span> <span class=\"string\">https://hexo.io/zh-tw/</span></span><br><span class=\"line\">      <span class=\"attr\">avatar:</span> <span class=\"string\">https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg</span></span><br><span class=\"line\">      <span class=\"attr\">descr:</span> <span class=\"string\">快速、簡單且強大的網誌框架</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"attr\">class_name:</span> <span class=\"string\">網站</span></span><br><span class=\"line\">  <span class=\"attr\">class_desc:</span> <span class=\"string\">值得推薦的網站</span></span><br><span class=\"line\">  <span class=\"attr\">link_list:</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">Youtube</span></span><br><span class=\"line\">      <span class=\"attr\">link:</span> <span class=\"string\">https://www.youtube.com/</span></span><br><span class=\"line\">      <span class=\"attr\">avatar:</span> <span class=\"string\">https://fastly.jsdelivr.net/gh/Weidows/Images/post/9ZkGg8v3azHJfM1.png</span></span><br><span class=\"line\">      <span class=\"attr\">descr:</span> <span class=\"string\">視頻網站</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">Weibo</span></span><br><span class=\"line\">      <span class=\"attr\">link:</span> <span class=\"string\">https://www.weibo.com/</span></span><br><span class=\"line\">      <span class=\"attr\">avatar:</span> <span class=\"string\">https://fastly.jsdelivr.net/gh/Weidows/Images/post/TLJBum386vcnI1P.png</span></span><br><span class=\"line\">      <span class=\"attr\">descr:</span> <span class=\"string\">中國最大社交分享平台</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">Twitter</span></span><br><span class=\"line\">      <span class=\"attr\">link:</span> <span class=\"string\">https://twitter.com/</span></span><br><span class=\"line\">      <span class=\"attr\">avatar:</span> <span class=\"string\">https://fastly.jsdelivr.net/gh/Weidows/Images/post/5VyHPQqR6LWF39a.png</span></span><br><span class=\"line\">      <span class=\"attr\">descr:</span> <span class=\"string\">社交分享平台</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>最后,还可以在 <a href=\"http://link.md\">link.md</a> 中自定义样式(写的内容显示在友链下方)</p>\n</li>\n</ul>\n<hr>\n<h2 id=\"安装-deployer\">安装 deployer</h2>\n<ul>\n<li>\n<p>(这个不能用阿里源) &amp;&amp; 编译部署三部曲(GitHub 需要,Gitee 不用)</p>\n</li>\n<li>\n<p>安装:</p>\n<figure class=\"highlight ada\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install hexo-deployer-git <span class=\"comment\">--save</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p><a href=\"https://github.com/hexojs/hexo-deployer-git\">官方配置文档(必要)</a></p>\n<ul>\n<li>个人配置</li>\n</ul>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">deploy:</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"attr\">type:</span> <span class=\"string\">git</span></span><br><span class=\"line\">    <span class=\"attr\">repo:</span> <span class=\"string\">https://gitee.com/Weidows/Weidows.git</span></span><br><span class=\"line\">    <span class=\"attr\">branch:</span> <span class=\"string\">main</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"attr\">type:</span> <span class=\"string\">git</span></span><br><span class=\"line\">    <span class=\"attr\">repo:</span> <span class=\"string\">https://github.com/Weidows/Weidows.github.io.git</span></span><br><span class=\"line\">    <span class=\"attr\">branch:</span> <span class=\"string\">main</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>使用:在博客根目录使用命令<code>hexo deploy</code></p>\n<ul>\n<li>也可以参照下面一条龙服务自行添加快捷方式.</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h2 id=\"一条龙服务\">一条龙服务</h2>\n<ul>\n<li>\n<p>正常的测试流程为</p>\n<ul>\n<li>hexo clean</li>\n<li>hexo generate</li>\n<li>hexo server</li>\n</ul>\n</li>\n<li>\n<p>每次生成需要等一段时间,怎么把它们合成为一条指令呢?参下:</p>\n</li>\n<li>\n<p>定位博客根目录下的<code>package.json</code></p>\n<ul>\n<li>修改<code>&quot;scripts&quot;</code>,如下<code>&quot;all&quot;</code>就是新添加的:</li>\n</ul>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">&quot;scripts&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;build&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;hexo generate&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;clean&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;hexo clean&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;deploy&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;hexo deploy&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;server&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;hexo server&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;all&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;hexo clean &amp;&amp; hexo generate &amp;&amp; hexo server&quot;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>然后就可以一键使用了.</p>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVty2h.png\" alt=\"20201205150401\" />\n</li>\n</ul>\n<hr>\n<h2 id=\"安装-Live2D\">安装 Live2D</h2>\n<ul>\n<li>安装:(不能用 npm 这俩二选一)\n<ul>\n<li><code>npm install --save hexo-helper-live2d</code></li>\n</ul>\n</li>\n<li>导入模型:\n<ul>\n<li>白猫:npm install live2d-widget-model-tororo</li>\n<li>黑猫:npm install live2d-widget-model-hijiki</li>\n</ul>\n</li>\n<li>启用模型:<br>\n在<code>/_config.yml</code> 里找到 model.use 改成想用的模型文件夹名</li>\n</ul>\n<hr>\n<h2 id=\"comment-search-字数统计\">comment &amp; search &amp; 字数统计</h2>\n<ul>\n<li>依次都装上:\n<ul>\n<li><code>npm install hexo-generator-search --save</code></li>\n<li><code>npm install hexo-wordcount --save</code></li>\n</ul>\n</li>\n<li>然后把主题里的_config.yml 改改</li>\n<li>需要注意 comment 插件有些主题自带,不需要安装(butterfly)</li>\n<li>在 source/data/里新建 valine.json,里面可以添加表情包了,格式如下:</li>\n</ul>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;表情1&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;URL&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;表情2&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;URL&quot;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"添加-bilibili-番剧\">添加 bilibili 番剧</h2>\n<ul>\n<li>\n<p>安装 <code>npm install hexo-bilibili-bangumi --save</code></p>\n</li>\n<li>\n<p>配置: 写入<code>_config.yml</code> 里(root/里的)</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">bangumi:</span></span><br><span class=\"line\">  <span class=\"attr\">enable:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"attr\">path:</span> <span class=\"comment\">#页面路径</span></span><br><span class=\"line\">  <span class=\"attr\">vmid:</span> <span class=\"comment\">## 哔哩哔哩番剧页面的 vmid(uid)</span></span><br><span class=\"line\">  <span class=\"attr\">title:</span> <span class=\"string\">&quot;追番列表&quot;</span> <span class=\"comment\">## 页面的标题</span></span><br><span class=\"line\">  <span class=\"attr\">quote:</span> <span class=\"string\">&quot;生命不息，追番不止！&quot;</span> <span class=\"comment\">## 写在页面开头的一段话，支持 html 语法</span></span><br><span class=\"line\">  <span class=\"attr\">show:</span> <span class=\"number\">1</span> <span class=\"comment\">## 初始显示页面：0: 想看 , 1: 在看 , 2: 看过，默认为 1</span></span><br><span class=\"line\">  <span class=\"attr\">loading:</span> <span class=\"comment\">## 图片加载完成前的 loading 图片</span></span><br><span class=\"line\">  <span class=\"attr\">metaColor:</span> <span class=\"comment\">##  meta 部分(简介上方)字体颜色</span></span><br><span class=\"line\">  <span class=\"attr\">color:</span> <span class=\"comment\">## 简介字体颜色</span></span><br><span class=\"line\">  <span class=\"attr\">webp:</span></span><br><span class=\"line\">  <span class=\"attr\">progress:</span> <span class=\"comment\">## 获取番剧数据时是否显示进度条，默认true</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>创建页面,进入 root/命令行,执行: <code>hexo new page bangumis</code> ;当然也可以直接在 source/直接新建一个 markdown,然后把文件头 type 写为这样:<code>type: &quot;bangumis&quot;</code> ,<a href=\"http://xn--ihq9o3el2reyle01bcxsnesz9h.md\">亲自尝试过可以不用.md</a>,在_data 里只放上数据文件 bangumis.json 就可以在指定路径生成了</p>\n</li>\n<li>\n<p>另外,Hexo g 之前最好更新下数据,防止请求过多: <code>hexo bangumi -u</code> 再者删除数据: <code>hexo bangumi -d</code></p>\n</li>\n</ul>\n<hr>\n<h2 id=\"添加站点地图-2\">添加站点地图</h2>\n<ul>\n<li>\n<p>百度专用</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install hexo-generator-baidu-sitemap --save</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>通用的</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install hexo-generator-sitemap --save</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h3 id=\"配置文件-3\">配置文件</h3>\n<blockquote>\n<p><code>root/_config.yml</code></p>\n</blockquote>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">baidusitemap:</span></span><br><span class=\"line\">  <span class=\"attr\">path:</span> <span class=\"string\">sitemap/baidusitemap.xml</span></span><br><span class=\"line\"><span class=\"attr\">sitemap:</span></span><br><span class=\"line\">  <span class=\"attr\">path:</span> <span class=\"string\">sitemap/sitemap.xml</span></span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><a href=\"../Hexo-SEO\">参考文章:👌Hexo-SEO 搜索引擎优化</a></p>\n</blockquote>\n<hr>\n<h2 id=\"Steam-游戏页面\">Steam 游戏页面</h2>\n<h3 id=\"安装-4\">安装</h3>\n<figure class=\"highlight ada\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install hexo-steam-games <span class=\"comment\">--save</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"配置-6\">配置</h3>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">steam:</span></span><br><span class=\"line\">  <span class=\"attr\">enable:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"attr\">steamId:</span> <span class=\"string\">&quot;xxx&quot;</span> <span class=\"comment\"># steam64位Id(需要放在引号里),将steam库设置为公开</span></span><br><span class=\"line\">  <span class=\"attr\">path:</span> <span class=\"string\">tags/games.html</span> <span class=\"comment\"># 页面路径，默认steamgames/index.html</span></span><br><span class=\"line\">  <span class=\"attr\">title:</span> <span class=\"string\">⭐️养鸡场⭐️</span></span><br><span class=\"line\">  <span class=\"attr\">quote:</span> <span class=\"string\">&quot;Steam给爷爬!别让我家EPIC误会&quot;</span> <span class=\"comment\"># 写在页面开头的一段话,支持html语法</span></span><br><span class=\"line\">  <span class=\"attr\">tab:</span> <span class=\"string\">all</span> <span class=\"comment\"># all或recent, all: 所有游戏, recent: 最近游玩的游戏</span></span><br><span class=\"line\">  <span class=\"attr\">length:</span> <span class=\"number\">1000</span></span><br><span class=\"line\">  <span class=\"attr\">imgUrl:</span> <span class=\"string\">&quot;https://fastly.jsdelivr.net/gh/Weidows/Images/img/Avatar/avatar.png&quot;</span> <span class=\"comment\"># 图片链接，在quote下面放一张图片，图片链接到Steam个人资料，可留空</span></span><br><span class=\"line\">  <span class=\"attr\">proxy:</span> <span class=\"comment\"># 如果无法访问steam社区的话请使用代理</span></span><br><span class=\"line\">    <span class=\"attr\">host:</span> <span class=\"comment\"># 代理ip或域名</span></span><br><span class=\"line\">    <span class=\"attr\">port:</span> <span class=\"comment\"># 代理端口</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"使用-3\">使用</h3>\n<ul>\n<li>\n<p><code>Hexo g</code> 之前 <code>hexo steam -u</code> (如果失败需要手动)</p>\n</li>\n<li>\n<p>浏览器打开<code>https://steamcommunity.com/profiles/76561198321099712/games/?tab=all</code> {steamId}和{tab}分别替换为上面配置中提到的 steamId 和 tab</p>\n</li>\n<li>\n<p>F12 控制台 console 输入下面内容执行:</p>\n<figure class=\"highlight perl\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">let script = jQuery(<span class=\"string\">&#x27;script[language=&quot;javascript&quot;]&#x27;</span>);</span><br><span class=\"line\">var games = [];</span><br><span class=\"line\"><span class=\"keyword\">for</span> (let i = <span class=\"number\">0</span>; i &lt; script.length; i++) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (script.e<span class=\"string\">q(i)</span>.html().includes(<span class=\"string\">&quot;rgGames&quot;</span>)) &#123;</span><br><span class=\"line\">    let rgGames = script.e<span class=\"string\">q(i)</span>.html().match(<span class=\"regexp\">/var.*?rgGames.*?=.*?(\\[[\\w\\W]*?\\&#125;\\&#125;\\]);/</span>);</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (rgGames) &#123;</span><br><span class=\"line\">      games = JSON.parse(rgGames[<span class=\"number\">1</span>]);</span><br><span class=\"line\">      <span class=\"keyword\">break</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">document.write(JSON.stringify(games))</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>生成的内容复制到<code>root/node_modules/hexo-steam-games/data/games.json</code></p>\n</li>\n<li>\n<p>这个不用 new 页面(但是数据文件路径无法改)</p>\n</li>\n</ul>\n<hr>\n<h2 id=\"音乐-aplayer-已弃用\">音乐 aplayer(已弃用)</h2>\n<h3 id=\"安装-5\">安装</h3>\n<figure class=\"highlight ada\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install <span class=\"comment\">--save hexo-tag-aplayer</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"使用-4\">使用</h3>\n<ul>\n<li>如果 per_page 关了的话在需要开启的页面 Front-matter 添加<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">aplayer:</span> <span class=\"literal\">true</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h3 id=\"Meting\">Meting</h3>\n<blockquote>\n<p>吸底 mini 播放器</p>\n</blockquote>\n<ul>\n<li>\n<p>需要导入 js 并通过导入 css 修改 Aplayer 缩进样式</p>\n</li>\n<li>\n<p>在_config.yml 里修改有一定限制,inject 只能搞腚 source 中文章的其中某一层目录,多层需要不同层级目录各引用一次,如下:</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">inject:</span></span><br><span class=\"line\">  <span class=\"attr\">head:</span></span><br><span class=\"line\">    <span class=\"comment\">## - &lt;link rel=&quot;stylesheet&quot; href=&quot;./css/mine.css&quot;&gt;</span></span><br><span class=\"line\">  <span class=\"attr\">bottom:</span></span><br><span class=\"line\">    <span class=\"comment\">## - &lt;script src=&quot;./js/mine.js&quot;&gt;&lt;/script&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">## - &lt;script src=&quot;../js/mine.js&quot;&gt;&lt;/script&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">## - &lt;script src=&quot;../../js/mine.js&quot;&gt;&lt;/script&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">## - &lt;script src=&quot;../../../js/mine_post.js&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>这里介绍另一种全局 inject 的方法:</p>\n<ul>\n<li>找到 theme/xxx/layout/includes/layout.pug</li>\n<li>在最后添加如下字段:</li>\n</ul>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">script(<span class=\"attribute\">src</span>=<span class=\"string\">&#x27;js/mine.js&#x27;</span>)</span><br><span class=\"line\">link(<span class=\"attribute\">rel</span>=<span class=\"string\">&#x27;stylesheet&#x27;</span>, <span class=\"attribute\">href</span>=<span class=\"string\">&#x27;css/mine.css&#x27;</span>)</span><br></pre></td></tr></table></figure>\n<ul>\n<li>按照上面可以自行修改 JS/CSS 的引入,全局生效(注意有可能 PJAX 会使这种引入的 Js 无效化)</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h2 id=\"安装豆瓣-已停用\">安装豆瓣(已停用)</h2>\n<h3 id=\"安装-6\">安装</h3>\n<figure class=\"highlight ada\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install hexo-douban <span class=\"comment\">--save</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"使用-5\">使用</h3>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">douban:</span></span><br><span class=\"line\">  <span class=\"attr\">user:</span> <span class=\"string\">userID</span></span><br><span class=\"line\">  <span class=\"attr\">builtin:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"attr\">timeout:</span> <span class=\"number\">10000</span></span><br><span class=\"line\">  <span class=\"attr\">book:</span></span><br><span class=\"line\">    <span class=\"attr\">title:</span> <span class=\"string\">&quot;My book title&quot;</span></span><br><span class=\"line\">    <span class=\"attr\">quote:</span> <span class=\"string\">&quot;My book quote&quot;</span></span><br><span class=\"line\">  <span class=\"attr\">movie:</span></span><br><span class=\"line\">    <span class=\"attr\">title:</span> <span class=\"string\">&quot;My movie title&quot;</span></span><br><span class=\"line\">    <span class=\"attr\">quote:</span> <span class=\"string\">&quot;My movie quote&quot;</span></span><br><span class=\"line\">  <span class=\"attr\">game:</span></span><br><span class=\"line\">    <span class=\"attr\">title:</span> <span class=\"string\">&quot;My game title&quot;</span></span><br><span class=\"line\">    <span class=\"attr\">quote:</span> <span class=\"string\">&quot;My game quote&quot;</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li>user: 你的豆瓣 ID.打开豆瓣，登入账户，然后在右上角点击 “个人主页” ，这时候地址栏的 URL 大概是这样：“<a href=\"https://www.douban.com/people/xxxxxx/\">https://www.douban.com/people/xxxxxx/</a>” ，其中的&quot;xxxxxx&quot;就是你的个人 ID 了。</li>\n<li>builtin: 是否将生成页面的功能嵌入 hexo s 和 hexo g 中，默认是 false,另一可选项为 true(1.x.x 版本新增配置项)。</li>\n<li>title: 该页面的标题.</li>\n<li>quote: 写在页面开头的一段话,支持 html 语法.</li>\n<li>timeout: 爬取数据的超时时间，默认是 10000ms ,如果在使用时发现报了超时的错(ETIMEOUT)可以把这个数据设置的大一点。</li>\n<li>如果只想显示某一个页面(比如 movie)，那就把其他的配置项注释掉即可。</li>\n</ul>\n<hr>\n<h2 id=\"Gulp\">Gulp</h2>\n<ul>\n<li>\n<p>Cli 和模块</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install gulp -g</span><br><span class=\"line\">npm install gulp-htmlclean gulp-htmlmin gulp-imagemin gulp-minify-css gulp-uglify --save</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>在博客根目录新建<code>gulpfile.js</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> gulp = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;gulp&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> minifycss = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;gulp-minify-css&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> uglify = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;gulp-uglify&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> htmlmin = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;gulp-htmlmin&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> htmlclean = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;gulp-htmlclean&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> imagemin = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;gulp-imagemin&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 压缩html</span></span><br><span class=\"line\">gulp.<span class=\"title function_\">task</span>(<span class=\"string\">&quot;minify-html&quot;</span>, <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> gulp</span><br><span class=\"line\">    .<span class=\"title function_\">src</span>(<span class=\"string\">&quot;./public/**/*.html&quot;</span>)</span><br><span class=\"line\">    .<span class=\"title function_\">pipe</span>(<span class=\"title function_\">htmlclean</span>())</span><br><span class=\"line\">    .<span class=\"title function_\">pipe</span>(</span><br><span class=\"line\">      <span class=\"title function_\">htmlmin</span>(&#123;</span><br><span class=\"line\">        <span class=\"attr\">removeComments</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">minifyJS</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">minifyCSS</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        <span class=\"attr\">minifyURLs</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    )</span><br><span class=\"line\">    .<span class=\"title function_\">pipe</span>(gulp.<span class=\"title function_\">dest</span>(<span class=\"string\">&quot;./public&quot;</span>));</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 压缩css</span></span><br><span class=\"line\">gulp.<span class=\"title function_\">task</span>(<span class=\"string\">&quot;minify-css&quot;</span>, <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> gulp</span><br><span class=\"line\">    .<span class=\"title function_\">src</span>(<span class=\"string\">&quot;./public/**/*.css&quot;</span>)</span><br><span class=\"line\">    .<span class=\"title function_\">pipe</span>(</span><br><span class=\"line\">      <span class=\"title function_\">minifycss</span>(&#123;</span><br><span class=\"line\">        <span class=\"attr\">compatibility</span>: <span class=\"string\">&quot;ie8&quot;</span>,</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    )</span><br><span class=\"line\">    .<span class=\"title function_\">pipe</span>(gulp.<span class=\"title function_\">dest</span>(<span class=\"string\">&quot;./public&quot;</span>));</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 压缩js</span></span><br><span class=\"line\">gulp.<span class=\"title function_\">task</span>(<span class=\"string\">&quot;minify-js&quot;</span>, <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> gulp</span><br><span class=\"line\">    .<span class=\"title function_\">src</span>(<span class=\"string\">&quot;./public/js/**/*.js&quot;</span>)</span><br><span class=\"line\">    .<span class=\"title function_\">pipe</span>(<span class=\"title function_\">uglify</span>())</span><br><span class=\"line\">    .<span class=\"title function_\">pipe</span>(gulp.<span class=\"title function_\">dest</span>(<span class=\"string\">&quot;./public&quot;</span>));</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 压缩图片</span></span><br><span class=\"line\">gulp.<span class=\"title function_\">task</span>(<span class=\"string\">&quot;minify-images&quot;</span>, <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> gulp</span><br><span class=\"line\">    .<span class=\"title function_\">src</span>(<span class=\"string\">&quot;./public/images/**/*.*&quot;</span>)</span><br><span class=\"line\">    .<span class=\"title function_\">pipe</span>(</span><br><span class=\"line\">      <span class=\"title function_\">imagemin</span>(</span><br><span class=\"line\">        [</span><br><span class=\"line\">          imagemin.<span class=\"title function_\">gifsicle</span>(&#123; <span class=\"attr\">optimizationLevel</span>: <span class=\"number\">3</span> &#125;),</span><br><span class=\"line\">          imagemin.<span class=\"title function_\">jpegtran</span>(&#123; <span class=\"attr\">progressive</span>: <span class=\"literal\">true</span> &#125;),</span><br><span class=\"line\">          imagemin.<span class=\"title function_\">optipng</span>(&#123; <span class=\"attr\">optimizationLevel</span>: <span class=\"number\">7</span> &#125;),</span><br><span class=\"line\">          imagemin.<span class=\"title function_\">svgo</span>(),</span><br><span class=\"line\">        ],</span><br><span class=\"line\">        &#123; <span class=\"attr\">verbose</span>: <span class=\"literal\">true</span> &#125;</span><br><span class=\"line\">      )</span><br><span class=\"line\">    )</span><br><span class=\"line\">    .<span class=\"title function_\">pipe</span>(gulp.<span class=\"title function_\">dest</span>(<span class=\"string\">&quot;./public/images&quot;</span>));</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 默认任务</span></span><br><span class=\"line\">gulp.<span class=\"title function_\">task</span>(<span class=\"string\">&quot;default&quot;</span>, [</span><br><span class=\"line\">  <span class=\"string\">&quot;minify-html&quot;</span>,</span><br><span class=\"line\">  <span class=\"string\">&quot;minify-css&quot;</span>,</span><br><span class=\"line\">  <span class=\"string\">&quot;minify-js&quot;</span>,</span><br><span class=\"line\">  <span class=\"string\">&quot;minify-images&quot;</span>,</span><br><span class=\"line\">]);</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>然后<code>gulp</code>就可以压缩了.</p>\n</li>\n</ul>\n<blockquote>\n<p>参考文章 <a href=\"https://blog.csdn.net/fengdi_yuxi/article/details/94402350\">Hexo 博客之速度优化</a></p>\n</blockquote>\n<hr>\n<h2 id=\"Random-页面\">Random 页面</h2>\n<ul>\n<li>安装依赖和插件<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install <span class=\"selector-tag\">object</span>-assign <span class=\"attr\">--save</span></span><br><span class=\"line\">npm install hexo-generator-random <span class=\"attr\">--save</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>应用<br>\n插件会在根目录生成 <code>random.html</code>.</li>\n</ul>\n<hr>\n<h2 id=\"hexo-neat-压缩\">hexo-neat(压缩)</h2>\n<h3 id=\"安装-7\">安装</h3>\n<figure class=\"highlight ada\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install hexo-neat <span class=\"comment\">--save</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"配置-7\">配置</h3>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 博文压缩</span></span><br><span class=\"line\"><span class=\"attr\">neat_enable:</span> <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"attr\">neat_html:</span></span><br><span class=\"line\">  <span class=\"attr\">enable:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"attr\">exclude:</span></span><br><span class=\"line\"><span class=\"attr\">neat_css:</span></span><br><span class=\"line\">  <span class=\"attr\">enable:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"attr\">exclude:</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">&quot;**/*.min.css&quot;</span></span><br><span class=\"line\"><span class=\"attr\">neat_js:</span></span><br><span class=\"line\">  <span class=\"attr\">enable:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"attr\">mangle:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"attr\">output:</span></span><br><span class=\"line\">  <span class=\"attr\">compress:</span></span><br><span class=\"line\">  <span class=\"attr\">exclude:</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">&quot;**/*.min.js&quot;</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">&quot;**/jquery.fancybox.pack.js&quot;</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">&quot;**/index.js&quot;</span></span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"注意事项-常见问题\">注意事项 &amp; 常见问题</h2>\n<ul>\n<li>\n<p>注意如果 repo <a href=\"http://xn--yfrz6aujn01d4th.github.io\">命名时没加.github.io</a> 的后缀,那么只能 deploy 到 gh-pages 分支(否则出错)</p>\n</li>\n<li>\n<p>workflow 作用只是把 public/ deploy 到 gh-pages 分支上,generate 出 public/仍需要在本地进行</p>\n</li>\n<li>\n<p>如果打开 Hexo Server 后报错(extends includes/layout.pug block content #recent-posts.recent-posts include includes/recent-posts.pug include includes/pagination.pug)是因为没有安装渲染插件</p>\n</li>\n<li>\n<p>导航栏中的项目不能打 tag 和 categories(编译报错),也不能进行 cover 更改(无效)</p>\n</li>\n<li>\n<p>注意修改 source 的 css 或者 js 后进行 generate 不会刷新状态,需要删掉重新 generate</p>\n</li>\n<li>\n<p>theme/xxx/_config.yml 可以放在 source/_data/xxx.yml 来当主题配置文件,原先的可以删去</p>\n</li>\n</ul>\n<script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kity@2.0.4/dist/kity.min.js\"></script><script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js\"></script><script defer=\"true\" type=\"text&#x2F;javascript\" src=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js\"></script><link rel=\"stylesheet\" type=\"text&#x2F;css\" href=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css\">",
            "tags": [
                "备忘录",
                "website",
                "npm",
                "hexo",
                "node.js"
            ]
        },
        {
            "id": "https://weidows.github.io/post/tools/Git/GitHub-Pages-deploy/",
            "url": "https://weidows.github.io/post/tools/Git/GitHub-Pages-deploy/",
            "title": "一篇扫清:GitHub-Pages自动化部署 + github/gitee选择",
            "date_published": "2020-08-23T02:54:41.000Z",
            "content_html": "<!--\n * @Author: Weidows\n * @Date: 2020-08-23 10:54:41\n * @LastEditors: Weidows\n * @LastEditTime: 2021-12-15 19:49:54\n * @FilePath: \\Blog-private\\source\\_posts\\tools\\Git\\GitHub-Pages-deploy.md\n-->\n<ul>\n<li><a href=\"#githubgitee-%E9%80%89%E6%8B%A9\">GitHub/Gitee 选择</a></li>\n<li><a href=\"#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88\">解决方案</a></li>\n<li><a href=\"#%E5%BC%80%E5%90%AF\">开启</a></li>\n<li><a href=\"#github-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%83%A8%E7%BD%B2\">GitHub 自动化部署</a>\n<ul>\n<li><a href=\"#%E5%AE%89%E8%A3%85-hexo-deployer\">安装 Hexo-deployer</a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%8F%A6%E4%B8%80%E7%A7%8D%E6%9B%B4%E5%8A%A0%E6%96%B9%E4%BE%BF%E5%AE%8C%E7%BE%8E%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88\">另一种更加方便完美的解决方案</a></li>\n<li><a href=\"#github-action-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%83%A8%E7%BD%B2\">github-action 自动化部署</a>\n<ul>\n<li><a href=\"#%E8%A7%A3%E9%87%8A\">解释:</a></li>\n</ul>\n</li>\n</ul>\n<h2 id=\"GitHub-Gitee-选择\">GitHub/Gitee 选择</h2>\n<ul>\n<li>速度来看,GitHub 在加载速度上略超 Gitee,部署速度 Gitee 略快(但是这项几乎不影响体验)</li>\n<li>但是就图片加载来看,GitHub 还是远不如 Gitee,可以考虑图床或者 JsDelivr 做 CDN 来解决</li>\n<li>功能上,都支持 Hexo 部署和选择分支部署\n<ul>\n<li>GitHub 只能识别并部署根目录<code>/</code>或者<code>/docs/</code>,而 Gitee 支持<code>自定义要部署的路径</code></li>\n</ul>\n</li>\n</ul>\n<hr>\n<h2 id=\"解决方案-4\">解决方案</h2>\n<ul>\n<li>如果你想部署在 GitHub 上但是却因为它不识别那个路径\n<ul>\n<li>尝试修改博客根目录下的<code>_config.yml</code>,把<code>public_dir: public</code>改为<code>public_dir: docs</code></li>\n<li>这样在博客 generate 时会把需要部署的文件生成到 docs/里,可供 GitHub 识别</li>\n<li>注意在 GitHub 的这个仓库的 Settings 里要把 source 的分支,目录对应修改好</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h2 id=\"开启\">开启</h2>\n<ul>\n<li><code>Gitee</code><br>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVaAYT.png\" alt=\"20201122112033\"></li>\n<li><code>Github</code><br>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GValiD.png\" alt=\"20201122112109\"></li>\n</ul>\n<hr>\n<h2 id=\"GitHub-自动化部署\">GitHub 自动化部署</h2>\n<h3 id=\"安装-Hexo-deployer\">安装 Hexo-deployer</h3>\n<ul>\n<li>\n<p>(注意 cnpm 好像不行)</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">`npm install hexo-deployer-git --save`</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>在<code>_config.yml</code> 里添加以下内容(注意缩进不要错)</p>\n<figure class=\"highlight avrasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"symbol\">deploy:</span></span><br><span class=\"line\"><span class=\"symbol\">type:</span> git <span class=\"meta\"># 用本项目的 git 进行提交 &amp; 推送</span></span><br><span class=\"line\"><span class=\"symbol\">repo:</span> 这里填入 GitHub 仓库 URL</span><br><span class=\"line\"><span class=\"symbol\">branch:</span> master <span class=\"meta\"># 这里写想要部署到的分支名(没有对应分支的话会自动新建)</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>在对应仓库的设置里找到 github-pages 然后选择对应分支,系统就会自动部署并发出你的博客链接了</p>\n</li>\n</ul>\n<hr>\n<h2 id=\"另一种更加方便完美的解决方案\">另一种更加方便完美的解决方案</h2>\n<ul>\n<li>因为搭建这个博客的工作目录可能并不是一个独立的 git 仓库</li>\n<li>(就是它被包含在其他仓库里,而非自己是一个独立仓库)</li>\n<li>这种情况下上面的 deployer 就鸡鸡了(没法用了,除非自己改),有没有解决方案呢?</li>\n<li>有,使用 github-action 自动化部署!</li>\n</ul>\n<h2 id=\"github-action-自动化部署\">github-action 自动化部署</h2>\n<p>文件目录: <code>Blogroot/.github/workflows/deploy.yml</code><br>\n(简单点就是.github 跟 public,source 等等同级目录),写入下面内容:</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">name:</span> <span class=\"string\">Build</span> <span class=\"string\">and</span> <span class=\"string\">Deploy</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">on:</span> [<span class=\"string\">push</span>] <span class=\"comment\"># 触发条件(git 推送时)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">jobs:</span></span><br><span class=\"line\">  <span class=\"attr\">build-and-deploy:</span></span><br><span class=\"line\">    <span class=\"attr\">runs-on:</span> <span class=\"string\">ubuntu-latest</span></span><br><span class=\"line\">    <span class=\"attr\">steps:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">Checkout</span> <span class=\"string\">🛎️</span></span><br><span class=\"line\">        <span class=\"attr\">uses:</span> <span class=\"string\">actions/checkout@v2</span> <span class=\"comment\"># 下面这个最好设成 false</span></span><br><span class=\"line\">        <span class=\"attr\">with:</span></span><br><span class=\"line\">          <span class=\"attr\">persist-credentials:</span> <span class=\"literal\">false</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">Install</span> <span class=\"string\">and</span> <span class=\"string\">Build</span> <span class=\"string\">🔧</span></span><br><span class=\"line\">        <span class=\"attr\">run:</span> <span class=\"string\">|</span></span><br><span class=\"line\"><span class=\"string\">          cd Website</span></span><br><span class=\"line\"><span class=\"string\">          npm install</span></span><br><span class=\"line\"><span class=\"string\">          npm run build</span></span><br><span class=\"line\"><span class=\"string\"></span>        <span class=\"attr\">env:</span></span><br><span class=\"line\">          <span class=\"attr\">CI:</span> <span class=\"literal\">false</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">Deploy</span> <span class=\"string\">🚀</span></span><br><span class=\"line\">        <span class=\"attr\">uses:</span> <span class=\"string\">JamesIves/github-pages-deploy-action@releases/v3</span></span><br><span class=\"line\">        <span class=\"attr\">with:</span></span><br><span class=\"line\">          <span class=\"attr\">GITHUB_TOKEN:</span> <span class=\"string\">$&#123;&#123;</span> <span class=\"string\">secrets.GITHUB_TOKEN</span> <span class=\"string\">&#125;&#125;</span></span><br><span class=\"line\">          <span class=\"attr\">BRANCH:</span> <span class=\"string\">gh-pages</span> <span class=\"comment\"># 把下面这个文件夹部署到哪个分支(不能是本分支,会覆盖掉)</span></span><br><span class=\"line\">          <span class=\"attr\">FOLDER:</span> <span class=\"string\">Website/public</span> <span class=\"comment\"># 想部署的文件夹</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"解释\">解释:</h3>\n<ul>\n<li>name 随意起</li>\n<li>on:[push]意思是在推送时触发 action</li>\n<li>Build and Deploy 就是触发的 job 名称</li>\n<li>run-on 是运行环境(其自带一些基础的环境,Exp:Node.JS,但是更具体的比如 Hexo 就不会自带了)</li>\n<li>steps 就是步骤了,可以看出下面有三个步骤(步骤内的操作就不细讲了…)</li>\n<li>这样我们写完博客 generate 之后 push 这个仓库,github-action 会自动执行找到你指定的文件夹把它部署到你指定的分支上,然后设置下让 github-pages 部署这个分支,博客就出来了!</li>\n</ul>\n<script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kity@2.0.4/dist/kity.min.js\"></script><script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js\"></script><script defer=\"true\" type=\"text&#x2F;javascript\" src=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js\"></script><link rel=\"stylesheet\" type=\"text&#x2F;css\" href=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css\">",
            "tags": [
                "备忘录",
                "website",
                "hexo",
                "github"
            ]
        }
    ]
}