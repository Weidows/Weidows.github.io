{
    "version": "https://jsonfeed.org/version/1",
    "title": "⭐️齐下无贰⭐️ • All posts by \"system\" category",
    "description": "May all the beauty be bless.✨",
    "home_page_url": "https://blog.weidows.tech",
    "items": [
        {
            "id": "https://blog.weidows.tech/post/system/hosts/",
            "url": "https://blog.weidows.tech/post/system/hosts/",
            "title": "巧用hosts更好地连接局域网设备",
            "date_published": "2024-09-07T09:27:38.000Z",
            "content_html": "<!--\n * @?: *********************************************************************\n * @Author: Weidows\n * @LastEditors: Weidows\n * @LastEditTime: 2024-09-18 03:40:44\n * @FilePath: \\Blog-private\\source\\_posts\\system\\hosts.md\n * @Description:\n * @:\n * ⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡏⠻⣄\n * ⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣀⣀⣀⣀⣀⣀⠀⠀⠀⠀⠀⣀⡾⠀⠀⣿\n * ⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣠⡶⠟⠛⠉⠉⠀⠀⠀⠀⠀⠀⠉⠉⠛⠻⠿⣤⣀⣠⡴⠋\n * ⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣴⠟⠉⠀⠀⠀⠀⠀⠀⠀⠀⠀⣤⠂⠀⠀⠀⠀⠀⠀⠀⠀⠙⢶⣀\n * ⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⡾⠉⠀⠀⠀⠀⠀⠀⡴⠁⠀⠀⠀⡞⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠳⣄\n * ⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣴⠋⠀⠀⠀⠀⠀⠀⢠⠏⠀⠀⠀⠀⡾⠀⠀⠀⠀⠀⠀⠀⠀⢰⠀⠀⠀⠀⠀⠀⠈⢷⡀\n * ⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡿⠀⠀⠀⠀⠀⠀⠀⣠⠃⠀⠀⠀⠀⢰⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⢿⠀⠀⠀⠀⠀⠀⠀⠙⣄\n * ⠀⠀⠀⠀⠀⠀⠀⠀⠀⡿⠀⠀⠀⠀⠀⠀⠀⠀⣿⠀⠀⠀⠀⣀⣿⢠⠀⠀⠀⠀⠀⠀⠀⠀⣶⠀⣧⠀⠀⠀⠀⠀⠀⠀⠈⣆\n * ⠀⠀⠀⠀⠀⠀⠀⠀⣼⠁⠀⣰⠀⠀⠀⠀⣾⢸⣿⣀⣤⣶⡛⠁⣿⠘⡄⠀⠀⠀⠀⢀⠀⠀⣿⠀⢻⠀⠀⠀⠀⠀⠀⠀⠀⠸\n * ⠀⠀⠀⠀⠀⠀⠀⠀⣿⠀⠀⡟⠀⠀⠀⠀⣿⡈⡏⠀⠀⠀⠀⠙⡜⡄⢿⠀⠀⠀⠀⣾⣧⣾⢸⠀⢸⠀⠀⡇⠀⠀⠀⠀⠀⠀⡇\n * ⠀⠀⠀⠀⠀⠀⠀⢀⡇⠀⠀⣇⠀⠀⠀⠀⣷⣿⣿⣶⣦⣀⠀⠀⠀⠹⡘⣿⡀⠀⠀⢹⣿⠃⢸⠀⣿⠀⢠⣿⠀⠀⠀⠀⠀⣄⣧\n * ⠀⠀⠀⠀⠀⠀⠀⣼⠀⠀⠀⣿⠀⠀⠀⠀⢿⠉⠉⠉⠻⣿⣷⡀⠀⠀⠈⠁⠙⢦⣀⣸⠋⠈⣸⣼⢻⠀⣾⡿⠀⠀⠀⠀⢸⢸⣿\n * ⠀⠀⠀⠀⠀⠀⠀⣿⠀⣿⠀⠸⡄⣤⠀⠀⠀⣧⠀⠀⠀⠀⠉⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠉⠀⠀⣿⣿⠇⠀⠀⠀⠀⣾⢸⣿\n * ⠀⠀⠀⠀⠀⠀⢰⡇⠀⣿⠀⠀⠙⠿⣿⠛⠒⠛⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣾⣿⣿⣿⣿⣦⡀⡿⠀⠀⠀⠀⠀⣿⣿⣿\n * ⠀⠀⠀⠀⠀⠀⣿⠀⣴⠋⠙⣦⠀⠀⠀⣇⠀⠀⠀⠀⠀⠀⣼⠉⠙⠳⠦⣤⡀⠀⠀⠀⠀⠀⠀⠈⠻⡿⠀⠀⠀⠀⠀⠀⣿⣿⣿\n * ⠀⠀⠀⠀⠀⠀⣿⢤⠇⣀⡀⣼⠀⠀⠀⢹⠀⠀⠀⠀⠀⢸⠁⠀⠀⠀⠀⢰⠁⠀⠀⠀⠀⠀⠀⣠⠟⠀⠀⠀⠀⠀⠀⢠⣯⣿⣿\n * ⠀⠀⠀⠀⣠⠋⣠⠟⠁⠀⠈⠛⣄⠀⠀⠀⣇⠀⠀⠀⠀⢹⠀⠀⠀⠀⢀⠟⠀⠀⠀⠀⠀⠀⢾⣁⠀⠀⠀⠀⢀⣾⣤⡏⠉⠉⣿\n * ⠀⠀⢀⣞⠤⣴⠁⠀⠀⠀⠀⠀⠀⣧⠀⠀⢿⠉⠳⣤⡀⠀⠁⠀⠠⠶⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠉⠧⣴⣾⣿⣿⠟⡇⠀⠀⢸\n * ⣠⠚⠁⢀⠏⣿⠀⠀⠀⠀⠀⠀⠀⠸⡀⠀⠈⡏⠛⠶⣤⡉⠛⠶⢤⣤⣀⡀⠀⠀⠀⠀⠀⠀⠀⣀⡴⣿⣿⠟⠁⠀⠀⡇⠀⠀⢸\n * ⠀⠀⠀⢸⠀⠘⡄⠀⠀⠀⠀⠀⢹⠀⡿⡄⠀⣿⠀⠀⠀⠀⠙⠲⣤⡀⠙⢦⠉⠉⠉⠉⠉⠉⠁⠀⠀⣿⠀⠀⠀⠀⠀⡇⠀⠀⢸\n * ⠀⠀⠀⠘⡄⠀⣿⠀⠀⠀⠀⠀⣸⠛⡄⢻⠀⠸⡀⠀⠀⠀⠀⠀⠀⠈⠛⢦⡉⢦⡀⠀⠀⠀⠀⠀⠀⣿⠀⠀⠀⠀⢰⠇⠀⠀⢸\n * ⠀⠀⠀⠀⢿⠀⠈⠙⢦⣄⣠⠴⠃⢠⠃⠀⡇⠀⣇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠙⢾⣦⠀⠀⠀⠀⠀⣿⠀⠀⠀⠀⣼⠀⠀⠀⠀⡇\n * ⠀⠀⠀⠀⠀⠙⢤⠀⠀⠀⠀⠀⡴⠋⠀⠀⡇⠀⢿⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠳⣄⠀⠀⠀⡿⠀⠀⠀⠀⡿⠀⠀⠀⠀⡇\n * ⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⡇⠀⠘⣿⣿⣄⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠳⠀⠀⡇⠀⠀⠀⢰⠁⠀⠀⠀⠀⡇\n * ⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡾⠀⠀⠀⣿⣿⣿⣿⣷⣶⣶⣤⣄⠀⠀⠀⠀⠀⠀⠀⠀⢸⠁⠀⠀⠀⡿⠀⠀⠀⠀⠀⣷\n *\n * @!: *********************************************************************\n-->\n<h2 id=\"获取设备-IP\">获取设备 IP</h2>\n<p>树莓派/旧手机 -&gt; 没有屏幕/屏幕坏了 -&gt; 不知道局域网 IP (手机热点)</p>\n<p>用 <code>Advanced IP Scanner</code> 扫出来 IP</p>\n<p>每次热点重启 -&gt; <a href=\"http://192.168.xxx.xxx\">192.168.xxx.xxx</a> IP 会变动, 导致局域网一系列服务配置需要修改 (ssh-config , web 地址, mysql/redis, Escrcpy | 投屏 …)</p>\n<p>修改 hosts 文件 <code>C:\\Windows\\System32\\drivers\\etc\\hosts</code> 做地址别名 (用 utools-hosts 切换比较方便)</p>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"配置\">配置</h2>\n<h3 id=\"hosts\">hosts</h3>\n<figure class=\"highlight accesslog\"><table><tr><td class=\"code\"><pre><span class=\"line\"># 局域网设备</span><br><span class=\"line\"><span class=\"number\">192.168.118.52</span> pi3.wlan</span><br><span class=\"line\"><span class=\"number\">192.168.118.252</span> royole.wlan</span><br></pre></td></tr></table></figure>\n<h3 id=\"ssh\">ssh</h3>\n<figure class=\"highlight crmsh\"><table><tr><td class=\"code\"><pre><span class=\"line\">Host WLAN-RaspberryPi-<span class=\"number\">3</span>B</span><br><span class=\"line\">  HostName  pi3.wlan</span><br><span class=\"line\">  <span class=\"keyword\">User</span> <span class=\"title\">weidows</span></span><br><span class=\"line\">  IdentityFile ~/.ssh/id_rsa</span><br></pre></td></tr></table></figure>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"借物表\">借物表</h2>\n<p>暂无.</p>\n<h3 id=\"哔哩哔哩\">哔哩哔哩</h3>\n<style>.bbplayer{width: 100%; max-width: 850px; margin: auto}</style><div class=\"bbplayer\"><iframe class=\"bbplayer\" id=\"mmedia-mzsaUpiguomqpdxs\" src=\"https://player.bilibili.com/player.html?bvid=BV1vGp8edEwb&page=1&high_quality=1&danmaku=true&autoplay=0\" allowfullscreen=\"allowfullscreen\" scrolling=\"no\" border=\"0\" frameborder=\"0\" framespacing=\"0\" sandbox=\"allow-top-navigation allow-same-origin allow-forms allow-scripts allow-popups\"></iframe></div><script> document.getElementById(\"mmedia-mzsaUpiguomqpdxs\").style.height=document.getElementById(\"mmedia-mzsaUpiguomqpdxs\").scrollWidth*0.76+\"px\";\n    window.onresize = function(){\n      document.getElementById(\"mmedia-mzsaUpiguomqpdxs\").style.height=document.getElementById(\"mmedia-mzsaUpiguomqpdxs\").scrollWidth*0.76+\"px\";\n    }; </script>\n<script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kity@2.0.4/dist/kity.min.js\"></script><script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js\"></script><script defer=\"true\" type=\"text&#x2F;javascript\" src=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js\"></script><link rel=\"stylesheet\" type=\"text&#x2F;css\" href=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css\">",
            "tags": [
                "system"
            ]
        },
        {
            "id": "https://blog.weidows.tech/post/system/k8s/k8s/",
            "url": "https://blog.weidows.tech/post/system/k8s/k8s/",
            "title": "k8s",
            "date_published": "2024-08-07T14:29:27.000Z",
            "content_html": "<h1>k8s</h1>\n<!--\n * @?: *\n\n * @Author: Weidows\n * @LastEditors: Weidows\n * @LastEditTime: 2024-08-10 18:43:06\n * @FilePath: \\Blog-private\\source\\_posts\\system\\k8s\\k8s.md\n * @Description:\n * @!: *\n\n-->\n<blockquote class=\"pullquote mindmap mindmap-md\"><ul>\n<li><a href=\"#k8s\">k8s</a>\n<ul>\n<li><a href=\"#interview\">Interview</a>\n<ul>\n<li><a href=\"#distributed-scheduling\">Distributed-Scheduling</a>\n<ul>\n<li><a href=\"#background\">Background</a></li>\n<li><a href=\"#analyze\">Analyze</a></li>\n<li><a href=\"#arch-graph\">Arch-graph</a></li>\n<li><a href=\"#modules-design-doc\">Modules-Design-doc</a></li>\n<li><a href=\"#considerations\">Considerations</a></li>\n</ul>\n</li>\n<li><a href=\"#system-architecture-design\">System-Architecture-Design</a>\n<ul>\n<li><a href=\"#background-1\">Background</a></li>\n<li><a href=\"#arch-graph-1\">Arch-graph</a></li>\n<li><a href=\"#modules-design-docs\">Modules-Design-docs</a></li>\n</ul>\n</li>\n<li><a href=\"#gpu-optimization\">GPU-optimization</a>\n<ul>\n<li><a href=\"#background-2\">Background</a></li>\n<li><a href=\"#thought\">Thought</a>\n<ul>\n<li><a href=\"#cn\">CN</a></li>\n<li><a href=\"#en\">EN</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"#%E5%80%9F%E7%89%A9%E8%A1%A8\">借物表</a></li>\n</ul>\n</li>\n</ul>\n</blockquote>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"Interview\">Interview</h2>\n<blockquote>\n<p>From: <a href=\"https://github.com/cloudpilot-ai/interview\">https://github.com/cloudpilot-ai/interview</a></p>\n</blockquote>\n<h3 id=\"Distributed-Scheduling\">Distributed-Scheduling</h3>\n<h4 id=\"Background\">Background</h4>\n<p>In all cloud providers, like AWS, Google, and others, there are many spot instances. They are quite cheap (10% of the on-demand instances’ price), but after you buy them, they could be terminated with only two minutes’ notice in advance (in most scenarios, we don’t set PDB, and we should perform the graceful drain).</p>\n<p>So, I want you to design a strategy to maximize the use of spot instances without causing service interruptions, instead of relying solely on on-demand instances, to cut costs, by using distributed scheduling in a single cluster (on-demand/spot mixed or other methods for one workload). This is important because all spot instances being terminated at the same time could cause interruptions for different kinds of workloads (single replica workload, multiple replica workload).</p>\n<p>Also, I don’t want to change the scheduler already used in the K8s cluster and want to ensure the minimal components necessary in the cluster.</p>\n<p>Notes:</p>\n<blockquote>\n<ol>\n<li>On demand nodes has label: <a href=\"http://node.kubernetes.io/capacity:\">node.kubernetes.io/capacity:</a> on-demand.</li>\n<li>Spot node has label: <a href=\"http://node.kubernetes.io/capacity:\">node.kubernetes.io/capacity:</a> spot.</li>\n<li>Workloads represented as Deployments and StatefulSets.</li>\n<li>on-demand/spot instance represented as K8s nodes in the cluster.</li>\n<li>Only focus on scheduling control; the graceful drain after receiving the terminal notification is handled by other components.</li>\n</ol>\n</blockquote>\n<hr>\n<h4 id=\"Analyze\">Analyze</h4>\n<p>尽可能少的使用云平台 on-demand 实例, 转为使用 spot 降低成本</p>\n<p>spot drain 比较频繁, 需要通过设计一套 schedule system 去解决 graceful drain in 2min 的问题</p>\n<h4 id=\"Arch-graph\">Arch-graph</h4>\n<!-- 防止 mermaid 错乱 --><div class=\"mermaid-wrap\"><pre class=\"mermaid-src\" hidden>\n  graph TD\n    subgraph k8s cluster\n        A[On-demand node]\n        B[Spot node]\n    end\n\n    C[kube-scheduler]\n    D[Distributed Scheduling controler]\n    E[Event listener]\n    F[re-schedule]\n    G[k8s API Server]\n    H[Cloud Provider&#39;s notification]\n\n    A --&gt; C\n    B --&gt; C\n    C --&gt; D\n    D --&gt; E\n    D --&gt; G\n    E --&gt; F\n    F --&gt; G\n    H --&gt; D\n  </pre></div>\n<h4 id=\"Modules-Design-doc\">Modules-Design-doc</h4>\n<ul>\n<li>\n<p>kube-scheduler:</p>\n<p>It handles the initial placement of Pods on the available nodes (either On-demand or Spot). It makes decisions based on resource availability, but it doesn’t handle the dynamic nature of Spot instances, which is why it passes control to the Distributed Scheduling Controller.</p>\n</li>\n<li>\n<p>Distributed Scheduling Controller:</p>\n<p>This is a custom controller that monitors the state of Spot nodes. It reacts to termination notifications from the cloud provider, triggering re-scheduling of Pods from Spot nodes to On-demand nodes when necessary. It interacts with both the <code>kube-scheduler</code> and <code>k8s API Server</code> to coordinate these actions.</p>\n</li>\n<li>\n<p>Event Listener:</p>\n<p>A sub-component of the Distributed Scheduling Controller, it listens for termination notifications from the Cloud Provider. When a notification is received, it initiates the re-scheduling process by triggering the necessary operations within the controller.</p>\n</li>\n<li>\n<p>re-schedule:</p>\n<p>This module represents the actual process of migrating Pods from Spot nodes to On-demand nodes. It ensures that services continue running smoothly by moving affected workloads to stable nodes before the Spot nodes are terminated.</p>\n</li>\n<li>\n<p>Cloud Provider’s Notification:</p>\n<p>This is the external signal from the cloud provider indicating that a Spot node is about to be terminated. The Distributed Scheduling Controller listens for this notification and triggers re-scheduling as needed.</p>\n</li>\n</ul>\n<hr>\n<h4 id=\"Considerations\">Considerations</h4>\n<ul>\n<li>\n<p>Handling Spot Instance Termination:</p>\n<p>The system must efficiently handle the rapid termination of Spot instances, ensuring that critical workloads are quickly migrated to On-demand nodes without causing service disruptions.</p>\n</li>\n<li>\n<p>Monitoring and Responsiveness:</p>\n<p>The Event Listener and Distributed Scheduling Controller must be highly responsive to termination notifications. Delays in re-scheduling could lead to service outages.</p>\n</li>\n<li>\n<p>Resource Management:</p>\n<p>It’s crucial to ensure that there are always enough resources available on On-demand nodes to accommodate Pods migrating from Spot nodes. Resource constraints can lead to scheduling failures.</p>\n</li>\n<li>\n<p>System Compatibility:</p>\n<p>The integration between the <code>kube-scheduler</code>, Distributed Scheduling Controller, and <code>k8s API Server</code> should be seamless to avoid conflicts in Pod scheduling and state management.</p>\n</li>\n<li>\n<p>Testing and Reliability:</p>\n<p>The system should be thoroughly tested to handle different failure scenarios, such as mass Spot instance terminations or API Server unavailability, to ensure it can recover gracefully.</p>\n</li>\n</ul>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h3 id=\"System-Architecture-Design\">System-Architecture-Design</h3>\n<h4 id=\"Background-2\">Background</h4>\n<p>Our rough system architecture is illustrated as follows:</p>\n<p><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/%E5%89%AA%E8%B4%B4%E6%9D%BF-20240810.png\" alt=\"Architecture Diagram\"></p>\n<p>Customers install an agent component in their clusters, which pushes metrics to the API endpoint (<a href=\"https://api.xxx.com\">https://api.xxx.com</a>). On the server side, our API server processes and stores these metrics in the database. Another controller analyzes each cluster and provides optimization recommendations to customers, depicted as follows:</p>\n<p>I want you to outline a rough design document for the system that ensures high availability, security, and performance.</p>\n<blockquote>\n<p>Hint: This can be implemented using Kubernetes (K8s) technologies, such as HPA. But for different components, we need use different technologies.</p>\n</blockquote>\n<p>Notes:</p>\n<blockquote>\n<ol>\n<li>You don’t need to think about the database.</li>\n<li>For one customer’s cluster, only one agent is installed, it will scrap metrics from the customer’s cluster’s kube-apiserver.</li>\n<li>Focus on architecture design, not specific implementation.</li>\n</ol>\n</blockquote>\n<!--\n  下面我想提一个具有挑战性的问题, 有关k8s架构设计\n\n  背景是, 有服务端和客户端两侧 k8s cluster\n  客户端侧使用了很多云服务平台的 spot (比如 google / AWS 的), 所以 workload 会频繁变化\n  我想设计一套系统, 能够监测客户端侧的 k8s 运行环境, 将 node/workload(deployment, statefulset, namespace, replica) info 实时传到服务端侧\n\n  需求:\n  1. 我想在客户端侧部署一套环境监测程序, 在服务端搭建一套服务接收处理响应客户端的变化\n  2. 处理过程中肯定会用到k8s的各种组件, 请尽可能合理的采用主流和推荐的做法\n  3. 客户端侧的设计并不复杂, 但需要考虑到客户端会有成千上万个, 所以服务端侧需要满足高可用/高性能/安全, 另外服务端并不需要考虑Database的设计, 只需要将其抽象为一个DB模块就好\n\n  输出:\n  请用markdown的mermaid画一下架构图\n  按mermaid介绍一下每个模块/功能点用到了什么, 这么设计有什么优缺点\n\n\n  <a>![分割线](https://pan.weidows.tech/d/local/img/divider.png)</a>\n\n\n  有几个提问和需要考虑的地方\n  1. server side 在处理之后, 也需要向 client side 传输指令, 然后 client side 处理调度\n  2. 使用了 message queue, 与分布式调度框架比较的话, 有什么区别和优势, 如何后者更好的话可以换一下\n    将消息队列和分布式调度框架作比较时，有几个重要区别：\n      消息队列:\n        优势: 主要用于异步数据传输和解耦服务。消息队列有很强的持久化机制，可以确保消息的可靠传递。适合在需要处理大量并发数据的情况下，将数据流进行缓冲和排队，确保处理的稳定性和可扩展性。\n        局限: 需要额外的监控和管理。队列内的消息处理顺序以及延迟管理可能较为复杂。另外，在高复杂性任务调度上，消息队列可能略显不足。\n\n      分布式调度框架:\n        优势: 比如使用Apache Mesos、Kubernetes的`CronJob`、或Airflow，可以更有效地调度和执行复杂的任务。调度框架通常支持任务的依赖关系处理，能够自动化地对任务进行分配、监控和故障处理。\n        局限: 相比消息队列，调度框架在高并发的简单任务处理上可能效率较低，而且其实现和维护通常需要更高的复杂度。\n\n     结论: 如果系统主要是为了处理数据的高并发传输和处理，消息队列是合适的选择。如果涉及到复杂的任务调度和依赖关系管理，可以考虑引入分布式调度框架。你可以根据具体的需求，选择使用二者之一，或将二者结合使用。\n  3. Authentication 为什么要分开处理\n    将Authentication（认证）独立出来的原因主要有以下几点：\n\n    安全性: 独立的认证服务可以集中管理和更新身份验证策略，避免不同系统模块各自处理认证所带来的安全隐患。\n    复用性: 独立的认证服务可以支持多种客户端和接口的认证需求，方便扩展。\n    可扩展性: 认证服务的独立性允许它根据负载情况进行扩展，而不影响其他服务的稳定性。\n\n    不过，如果系统较为简单，认证负载不大，可以考虑将认证功能集成到API Gateway中，以减少系统复杂性。\n  4. 有什么其他的k8s技术可以考虑加入使用, 比如 HPA, ETCD\n\n  请调整一下 mermaid, 并回答一下\n-->\n<h4 id=\"Arch-graph-2\">Arch-graph</h4>\n<!-- 防止 mermaid 错乱 --><div class=\"mermaid-wrap\"><pre class=\"mermaid-src\" hidden>\n  graph TD\n    subgraph Client Side\n        B([Monitoring Agent])\n        C[Command Executor]\n        D((K8s Cluster))\n        E[Cloud Platform]\n    end\n\n    subgraph Server Side\n        F[API Gateway]\n        G[Authorization Service]\n        H[Message Queue]\n        I[Worker Nodes]\n        J([Processing Service])\n        K[(Database Module)]\n        L[Instruction Generation Module]\n    end\n\n    B --&gt;|Collects Data| D\n    B --&gt;|Sends Data| F\n    E --&gt;|Notice| B\n    F --&gt; G\n    F --&gt;|Sends Instruction| B\n    F --&gt; H\n    G --&gt; J\n    H --&gt; I\n    I --&gt; J\n    J --&gt; K\n    J --&gt; L\n    L --&gt; F\n    B --&gt; C\n    C --&gt; D\n  </pre></div>\n<!--\n  ### 模块及功能介绍\n  1. Environment Monitoring Agent（环境监测程序）\n\n    功能: 部署在每个客户端的 K8s 集群中，负责采集节点信息（Node Info）、工作负载信息（Workload Info，如 Deployment, StatefulSet, Namespace, Replica 等）。这些信息将被打包并通过安全通道发送到服务端。\n    实现: 可以使用 Kubernetes 的原生工具，如`kube-state-metrics`和`node-exporter`，结合`custom controllers`或者`DaemonSet`进行数据采集。数据可以通过 gRPC 或 HTTP API 发送到服务端。\n    优点: 利用 Kubernetes 的原生工具，易于部署和维护，并且具有高扩展性。\n    缺点: 监控数据量大时可能对网络带宽和集群性能造成一定压力。\n\n  2. API Gateway（服务端 API 网关）\n\n    功能: 接收所有客户端的请求，统一处理认证和流量控制，确保服务端的安全性和可扩展性。\n    实现: 可以使用 Nginx 或 Kong 作为 API 网关，并通过 SSL/TLS 进行加密，确保数据传输安全。\n    优点: 提供了统一的入口和控制点，支持负载均衡、限流等功能，确保系统的安全性和稳定性。\n    缺点: 如果网关本身出现故障，会导致整个系统无法正常工作，因此需要高可用部署。\n\n  3. Authentication & Authorization Service（认证与授权服务）\n\n    功能: 确保只有合法的客户端能够接入服务端，并基于角色和权限控制数据的访问。\n    实现: 可以使用 OAuth 2.0 或 OpenID Connect 协议，结合 JWT (JSON Web Token) 进行认证授权。\n    优点: 强大的安全性和灵活的权限控制。\n    缺点: 需要维护认证服务的可用性和密钥的安全性。\n\n  4. Message Queue（消息队列）\n\n    功能: 负责将客户端发送的数据放入消息队列，以解耦数据接收和处理过程，提高系统的处理能力和可扩展性。\n    实现: 可以使用 Kafka 或 RabbitMQ 等高性能消息队列系统。\n    优点: 高吞吐量，支持消息持久化和重试机制，保证数据不会丢失。\n    缺点: 需要额外的资源和复杂的运维管理。\n\n  5. Worker Nodes（工作节点）\n\n    功能: 消费消息队列中的数据，并将数据传递给处理服务进行进一步处理。\n    实现: 可以使用 Kubernetes 的`Deployment`或`StatefulSet`进行工作节点的部署，结合 HPA（Horizontal Pod Autoscaler）实现自动扩展。\n    优点: 动态扩展能力强，能有效处理高并发任务。\n    缺点: 在高峰期，可能需要大量的计算资源支持。\n\n  6. Processing Service（数据处理服务）\n\n    功能: 处理从客户端采集的数据，执行必要的数据清洗、聚合，并将结果存储到数据库模块中。\n    实现: 可以使用基于微服务的架构进行设计，使用流处理框架如 Apache Flink 或 Storm，结合容器化的部署方式。\n    优点: 灵活的扩展性和强大的数据处理能力，适应多样化的处理需求。\n    缺点: 复杂度较高，需要额外的监控和管理。\n\n  7. Database Module（数据库模块）\n    功能: 存储处理后的数据，提供高效的查询和分析能力。\n    实现: 可以使用 NoSQL 数据库如 MongoDB 或 Cassandra，或者分布式 SQL 数据库如 CockroachDB，来保证数据的高可用和高性能。\n    优点: 高可用性和扩展性，适应大规模数据的存储和查询需求。\n    缺点: 数据库的选择和调优需要经验，可能会增加系统复杂性。\n\n  ### 设计分析\n\n  - 优点:\n\n    1. 高可用性：通过多层次的设计，确保系统在任何一层出现问题时，不会导致整体系统的崩溃。\n    2. 高性能：使用消息队列和可扩展的工作节点设计，能够处理大量并发的客户端请求。\n    3. 安全性：通过 API 网关和认证服务，确保数据传输和访问的安全性。\n    4. 可扩展性：客户端数量可以动态增长，服务端可以通过扩展工作节点和数据库模块来应对增加的负载。\n\n  - 缺点:\n    1. 复杂度：系统设计较为复杂，涉及多个组件和服务的集成，增加了部署和运维的难度。\n    2. 成本：由于涉及到多种高性能组件，如消息队列、工作节点、数据库等，可能会增加系统的整体成本。\n    3. 运维挑战：多组件的运维和监控要求较高，需要专业的团队进行管理，特别是消息队列和数据库模块的稳定性保障。\n\n  这种设计能有效满足大规模分布式 K8s 集群监控和数据处理的需求，同时也为系统的扩展性和高可用性提供了强有力的支持。\n\n\n  结合上面 mermaid 架构图, 用英文再次简介的总结一下每个功能模块设计的功能和必要性, 有什么优点和考虑之处\n-->\n<h4 id=\"Modules-Design-docs\">Modules-Design-docs</h4>\n<ol>\n<li>\n<p>Monitoring Agent (Client Side)<br>\nFunction: The Monitoring Agent is responsible for collecting real-time data from the client-side Kubernetes cluster and receiving notifications from the cloud platform, such as spot instance termination messages. It then sends this data to the Server Side API Gateway.</p>\n<p>Necessity: This module is crucial for maintaining an up-to-date overview of the client-side environment, enabling the system to react dynamically to changes.</p>\n<p>Advantages: Centralizes data collection and processing of cloud notifications, making the client-side environment more responsive and easier to manage.</p>\n</li>\n<li>\n<p>Command Executor (Client Side)<br>\nFunction: Receives instructions from the Monitoring Agent and executes them on the Kubernetes cluster. Before executing, it assesses the real-time environment to ensure optimal decision-making.</p>\n<p>Necessity: Ensures that commands are executed with consideration of the current state of the client environment, improving operational efficiency.</p>\n<p>Advantages: Adds a layer of decision-making that enhances the flexibility and responsiveness of the system, reducing the risk of executing commands that could negatively impact the environment.</p>\n</li>\n<li>\n<p>Kubernetes Cluster (Client Side)<br>\nFunction: Represents the client-side Kubernetes infrastructure where workloads are deployed and managed.</p>\n<p>Necessity: The core environment where all client-side applications run, making it the focal point of monitoring and command execution.</p>\n<p>Advantages: Allows for scalable and automated management of containerized applications.</p>\n</li>\n<li>\n<p>Cloud Platform (Client Side)<br>\nFunction: Sends spot instance termination notices or other relevant notifications to the Monitoring Agent.</p>\n<p>Necessity: Critical for handling the dynamic and volatile nature of spot instances, which are commonly used to optimize cost.</p>\n<p>Advantages: Enhances the system’s ability to preemptively respond to changes in the cloud environment, improving uptime and reducing potential disruptions.</p>\n</li>\n<li>\n<p>API Gateway (Server Side)<br>\nFunction: Acts as the central entry point for all data sent from the client side. It handles the routing of data to the appropriate backend services, including sending instructions back to the client side.</p>\n<p>Necessity: Essential for managing communication between the client and server sides, ensuring secure, scalable, and organized data flow.</p>\n<p>Advantages: Provides a centralized control point for authentication, authorization, and traffic management, enhancing the system’s overall security and scalability.</p>\n</li>\n<li>\n<p>Authorization Service (Server Side)<br>\nFunction: Handles the authentication and authorization of incoming data and commands, ensuring that only verified and authorized actions are processed.</p>\n<p>Necessity: Critical for maintaining the security and integrity of the system by preventing unauthorized access and operations.</p>\n<p>Advantages: Adds a strong security layer to the system, protecting against potential breaches and unauthorized data manipulation.</p>\n</li>\n<li>\n<p>Message Queue (Server Side)<br>\nFunction: Decouples the ingestion of data from its processing, allowing for high-throughput and reliable handling of large volumes of data.</p>\n<p>Necessity: Ensures that data from multiple clients can be processed asynchronously, improving system resilience and scalability.</p>\n<p>Advantages: Enhances the system’s ability to handle bursts of data and maintain performance under heavy load, reducing the likelihood of bottlenecks.</p>\n</li>\n<li>\n<p>Worker Nodes (Server Side)<br>\nFunction: Consume messages from the queue and process the data or commands as required.</p>\n<p>Necessity: Essential for executing the bulk of the system’s processing tasks in a distributed and scalable manner.</p>\n<p>Advantages: Supports horizontal scaling, allowing the system to handle increasing workloads by simply adding more worker nodes.</p>\n</li>\n<li>\n<p>Processing Service (Server Side)<br>\nFunction: Core service responsible for processing the data received from the client side, making decisions, and interacting with other server-side components like the database and instruction generation module.</p>\n<p>Necessity: Central to the system’s ability to analyze client data and generate appropriate responses or commands.</p>\n<p>Advantages: Provides a flexible and extensible processing framework that can be tailored to specific application needs.</p>\n</li>\n<li>\n<p>Database Module (Server Side)<br>\nFunction: Stores processed data, including logs, metrics, and historical records, for analysis and reporting.</p>\n<p>Necessity: Ensures that all critical data is persisted for future reference, analysis, and compliance requirements.</p>\n<p>Advantages: Offers high availability and scalability, ensuring that the system can store and retrieve data efficiently as it grows.</p>\n</li>\n<li>\n<p>Instruction Generation Module (Server Side)<br>\nFunction: Generates commands and instructions based on the processed data, which are then sent back to the client side via the API Gateway.</p>\n<p>Necessity: Enables the system to actively manage and optimize client-side operations based on real-time data.</p>\n<p>Advantages: Allows for automated, data-driven decision-making, enhancing the system’s overall efficiency and responsiveness.</p>\n</li>\n</ol>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h3 id=\"GPU-optimization\">GPU-optimization</h3>\n<h4 id=\"Background-3\">Background</h4>\n<p>Please open your mind. In the AI world today, every company uses GPUs for training and inference. Is there anything we can do to reduce the cost of GPUs for training and inference?</p>\n<p>Alternatively, are there other areas in the public cloud(K8s) that could be optimized?</p>\n<h4 id=\"Thought\">Thought</h4>\n<h5 id=\"CN\">CN</h5>\n<p>因为我之前待过的公司和创业的公司都是主要涉及 AI, 这块还算比较熟悉, 痛点考虑点如下:</p>\n<ol>\n<li>\n<p>AI 项目 (Python 为主) 可迁移性比较差, 与操作系统算是半强绑定</p>\n<p>不同于 CPU, GPU 是个原子化的东西, 没法再拆分了, 而且 GPU 对 CPU 的性能依赖也是线性关联</p>\n<p>torch 这边还算比较成熟/版本切换自由, 但还是有很多库, 乃至 cuda 对操作系统有侵入和依赖性</p>\n<p>如何考虑要让客户端容器能扩缩, 需要额外适配下如何完善的装好依赖</p>\n</li>\n<li>\n<p>train / inference 的任务对性能的优化并不是很好</p>\n<p>毕竟大多都是研究团队发 paper 用的, 代码很多是一团糟, 适配多进程都很少见, 更不用说适配容器化了</p>\n<p>涉及到利用容器技术进行扩缩, 不太乐观, 这需要开发者手动去适配代码, 不然扩到 100 核只占用满 10 核也是很有可能的</p>\n<p>train 的任务非常非常非常怕中断, 哪怕是开发者自己也说不准不同电脑上进行训练到底需要多高的性能, 所以一般会开性能冗余很多的机子</p>\n<p>数据集 IO 这块的话压力一般来说不算太过分, 可以考虑用 k8s 技术进行读共享, 写需要额外操作</p>\n</li>\n<li>\n<p>GPU 共享平台最近有雏形了, 利用容器技术搞这个应该不错</p>\n<p>毕竟确实有一些不在乎钱的团队整晚开着机子不用</p>\n<p>而且 GPU 租用平台的受众还是蛮大的, 能用上容器的话, 比常规整租 GPU 的平台应该能便宜些</p>\n</li>\n<li>\n<p>如果考虑可插入性的, 那就只有在 pod 内跑多个容器了</p>\n<p>不过还是有预测问题, AI 领域的应用, 跑起来后显存占用起伏比较大且随机</p>\n<p>会很容易出现突发性性能抢占</p>\n</li>\n</ol>\n<h5 id=\"EN\">EN</h5>\n<p>Since the companies I’ve worked for and the startups I’ve been involved in have primarily focused on AI, I’m fairly familiar with this area. The pain points and considerations are as follows:</p>\n<ol>\n<li>\n<p><strong>AI Project (Mainly Python) Portability Is Relatively Poor, With a Semi-Strong Binding to the Operating System</strong></p>\n<p>Unlike CPUs, GPUs are atomic entities and cannot be further split. Moreover, the performance of GPUs is linearly dependent on the CPU’s capabilities.</p>\n<p>While Torch is relatively mature and allows for flexible version switching, there are still many libraries, and even CUDA, that have invasive dependencies on the operating system. To ensure that a client container can scale up or down, additional adjustments may be necessary to ensure that dependencies are properly installed.</p>\n</li>\n<li>\n<p><strong>The Performance Optimization for Train/Inference Tasks Is Not Very Good</strong></p>\n<p>Since most of these tasks are designed by research teams for publishing papers, the code is often quite messy, with little adaptation for multiprocessing, let alone containerization.</p>\n<p>When it comes to utilizing container technology for scaling, the outlook is not very optimistic. Developers often need to manually adapt the code;<br>\notherwise, it’s possible to scale up to 100 cores but only fully utilize 10 of them.</p>\n<p>Training tasks are highly sensitive to interruptions, and even developers themselves cannot accurately predict the required performance on different machines for training, so they generally opt for machines with a significant performance surplus.</p>\n<p>The pressure on dataset I/O is generally not too excessive and can be managed with Kubernetes technology for read-sharing, but additional operations are needed for writes.</p>\n</li>\n<li>\n<p><strong>There Is a Preliminary GPU Sharing Platform, and Using Container Technology for This Seems Promising</strong></p>\n<p>After all, there are indeed teams that don’t mind leaving their machines running all night without use. Additionally, the market for GPU rental platforms is quite large.</p>\n<p>If container technology can be utilized, it could potentially be cheaper than conventional GPU rental platforms that require full-time GPU leasing.</p>\n</li>\n<li>\n<p><strong>If Considering Plug-and-Play Capability, Then Running Multiple Containers Within a Pod Is the Only Option</strong></p>\n<p>However, there is still the issue of prediction. In the field of AI applications, the memory usage can fluctuate significantly and randomly once the process starts running.</p>\n<p>This could easily lead to sudden performance contention.</p>\n</li>\n</ol>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"借物表\">借物表</h2>\n<p><a name='cite_note-1' href='#cite_ref-1'>[1]</a>: Google &amp; ChatGPT</p>\n<script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kity@2.0.4/dist/kity.min.js\"></script><script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js\"></script><script defer=\"true\" type=\"text&#x2F;javascript\" src=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js\"></script><link rel=\"stylesheet\" type=\"text&#x2F;css\" href=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css\">",
            "tags": [
                "design",
                "system",
                "k8s"
            ]
        },
        {
            "id": "https://blog.weidows.tech/post/system/server/serv00/",
            "url": "https://blog.weidows.tech/post/system/server/serv00/",
            "title": "serv00-服务搭建记录",
            "date_published": "2024-08-02T19:42:31.000Z",
            "content_html": "<h1>serv00-服务搭建记录</h1>\n<!--\n * @?: *********************************************************************\n * @Author: Weidows\n * @LastEditors: Weidows\n * @LastEditTime: 2024-08-07 12:20:39\n * @FilePath: \\Blog-private\\source\\_posts\\system\\serv00.md\n * @Description:\n * @!: *********************************************************************\n-->\n<blockquote class=\"pullquote mindmap mindmap-sm\"><ul>\n<li><a href=\"#serv00-%E6%9C%8D%E5%8A%A1%E6%90%AD%E5%BB%BA%E8%AE%B0%E5%BD%95\">serv00-服务搭建记录</a>\n<ul>\n<li><a href=\"#%E6%9C%8D%E5%8A%A1%E5%99%A8\">服务器</a>\n<ul>\n<li><a href=\"#login-failed\">login-failed</a></li>\n<li><a href=\"#%E6%96%87%E4%BB%B6%E5%90%8C%E6%AD%A5\">文件同步</a></li>\n<li><a href=\"#%E9%87%8D%E5%90%AF%E5%90%8E%E6%9C%8D%E5%8A%A1%E6%81%A2%E5%A4%8D\">重启后服务恢复</a></li>\n</ul>\n</li>\n<li><a href=\"#alist-%E5%9B%BE%E5%BA%8A\">alist-图床</a>\n<ul>\n<li><a href=\"#%E5%9B%BE%E7%89%87%E4%B8%8B%E8%BD%BD%E9%97%AE%E9%A2%98\">图片下载问题</a></li>\n</ul>\n</li>\n<li><a href=\"#cloudflare\">cloudflare</a></li>\n<li><a href=\"#%E5%80%9F%E7%89%A9%E8%A1%A8\">借物表</a></li>\n</ul>\n</li>\n</ul>\n</blockquote>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"服务器\">服务器</h2>\n<h3 id=\"login-failed\">login-failed</h3>\n<p>官方邮件给的地址 <code>s4.serv00.com</code> 之前还行, 现在无法登录, 全球无解析状态</p>\n<p>ssh host 换为 <code>web4.serv00.com</code></p>\n<hr>\n<h3 id=\"文件同步\">文件同步</h3>\n<p>在 duck / rclone / rsync 中选择的 duck+WebDAV</p>\n<p>其他两个不方便/有报错</p>\n<p>我的配置: 主要用来备份服务器上的图片文件 <sup id='cite_ref-1'><a href=\"#cite_note-1\">[1]</a></sup></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">duck --synchronize davs://pan.weidows.tech/dav/local/ ./backup --username xxx --password xxx --parallel --quiet</span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"重启后服务恢复\">重启后服务恢复</h3>\n<p>serv00 服务器每天会不定时重启, 网上提供的方法大多是重启后进一下 cron, 但似乎不太好用</p>\n<p>我自己改了下, 启用定时 cron:</p>\n<figure class=\"highlight gradle\"><table><tr><td class=\"code\"><pre><span class=\"line\">ps aux | <span class=\"keyword\">grep</span> <span class=\"string\">&#x27;[P]M2&#x27;</span> || <span class=\"regexp\">/home/</span>Weidows<span class=\"regexp\">/.npm-global/</span>bin/pm2 resurrect</span><br></pre></td></tr></table></figure>\n<p>可以用这个杀一下用户进程</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">pkill -<span class=\"built_in\">kill</span> -u Weidows</span><br></pre></td></tr></table></figure>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"alist-图床\">alist-图床</h2>\n<p>我的目标是搭建一个 alist , 同时用本地那 3 个 G 存储做 <code>个人图床</code> (相当够用了, 不够再加其他盘), 看网上别人踩坑的记录挺少的</p>\n<p>首先在 serv00 上正常搭建起来, 有两种方法能对外开放: <code>argo cloudflared</code> 或者 <code>panel 添加网站</code></p>\n<p>还是更推荐直连, 速度和延迟都很不错, argo 并不稳</p>\n<hr>\n<h3 id=\"图片下载问题\">图片下载问题</h3>\n<p>按上面那样搭好后, 在网页中图片显示没有问题, 但是右键 -&gt; 新页面打开后会直接弹到下载 (是 header 设置的问题)</p>\n<p>可以使用 cloudflare 的服务给在中间截胡更改了:</p>\n<ol>\n<li>cloudflare -&gt; 点开用的域名 -&gt; 规则 -&gt; 转换规则 -&gt; 修改响应头</li>\n<li>名字随便起 -&gt; 自定义筛选表达式</li>\n<li>匹配: <code>主机名 等于 pan.weidows.tech</code></li>\n<li>设置静态 -&gt; <code>Content-Disposition</code> = <code>inline; filename=&quot;from-pan.weidows.tech.jpg&quot;</code> , 当然可以改一改自定义内容</li>\n</ol>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"cloudflare\">cloudflare</h2>\n<p><a href=\"../../../Web/cloudflare\">cloudflare-使用及问题记录</a></p>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"借物表\">借物表</h2>\n<p><a name='cite_note-1' href='#cite_ref-1'>[1]</a>: <a href=\"https://docs.duck.sh/cli/#synchronize-folders-with-synchronize\">https://docs.duck.sh/cli/#synchronize-folders-with-synchronize</a></p>\n<script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kity@2.0.4/dist/kity.min.js\"></script><script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js\"></script><script defer=\"true\" type=\"text&#x2F;javascript\" src=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js\"></script><link rel=\"stylesheet\" type=\"text&#x2F;css\" href=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css\">",
            "tags": [
                "cloudflare",
                "system",
                "alist"
            ]
        },
        {
            "id": "https://blog.weidows.tech/post/system/Windows-Theme-HighContract-Tokyo-Night/README/",
            "url": "https://blog.weidows.tech/post/system/Windows-Theme-HighContract-Tokyo-Night/README/",
            "title": "🏳️‍🌈Windows-Theme-HighContract-Tokyo-Night",
            "date_published": "2023-11-20T09:08:04.000Z",
            "content_html": "<h1>Windows-Theme-HighContract-Tokyo-Night</h1>\n<!--\n * @?: *********************************************************************\n * @Author: Weidows\n * @LastEditors: Weidows\n * @LastEditTime: 2024-08-06 15:44:32\n * @FilePath: \\Blog-private\\source\\_posts\\system\\Windows-Theme-HighContract-Tokyo-Night\\README.md\n * @Description:\n * @!: *********************************************************************\n-->\n<blockquote class=\"pullquote mindmap mindmap-sm\"><ul>\n<li><a href=\"#windows-theme-highcontract-tokyo-night\">Windows-Theme-HighContract-Tokyo-Night</a>\n<ul>\n<li><a href=\"#preview\">Preview</a></li>\n<li><a href=\"#feature\">Feature</a></li>\n<li><a href=\"#%E5%AE%89%E8%A3%85\">安装</a>\n<ul>\n<li><a href=\"#%E6%89%8B%E5%8A%A8\">手动</a></li>\n<li><a href=\"#scoop\">Scoop</a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%80%9F%E7%89%A9%E8%A1%A8\">借物表</a></li>\n</ul>\n</li>\n</ul>\n</blockquote>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"Preview\">Preview</h2>\n<p><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/owlrlm.png\" alt=\"owlrlm.png\"></p>\n<p><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/owlk10.png\" alt=\"owlk10.png\"></p>\n<p><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/owluuT.png\" alt=\"owluuT.png\"></p>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"Feature\">Feature</h2>\n<ul>\n<li>[x] 一键安装\n<ul>\n<li>[ ] 本来想用 .themepack 打包, 遇到点问题</li>\n</ul>\n</li>\n<li>[x] 原神音效</li>\n<li>[x] 拉扬白光标</li>\n<li>[x] 极高对比度\n<ul>\n<li>[ ] 可惜系统对某些组件的显示效果支持不好</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h2 id=\"安装\">安装</h2>\n<h3 id=\"手动\">手动</h3>\n<p>下载 Release 中压缩包-解压-右键管理员模式运行 <code>install.bat</code></p>\n<p>然后设置-个性化-主题里会出现新的主题, 点一下就 OK</p>\n<p>卸载的话, 同上运行 <code>uninstall.bat</code></p>\n<hr>\n<h3 id=\"Scoop\">Scoop</h3>\n<figure class=\"highlight armasm\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"symbol\">scoop</span> bucket <span class=\"keyword\">add</span> apps https:<span class=\"comment\">//github.com/kkzzhizhou/scoop-apps</span></span><br><span class=\"line\"><span class=\"symbol\">scoop</span> install Windows-Theme-HighContract-Tokyo-Night</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"customize\">customize</h2>\n<p><code>[Control Panel\\Colors]</code> 这些键及其对应的 RGB 颜色值用于定义 Windows 经典主题中各种界面的颜色元素。下面解释每个键对应的具体界面部分：</p>\n<ol>\n<li>\n<p><strong>ActiveTitle=10 36 106</strong><br>\n<strong>激活窗口的标题栏背景颜色</strong>。当窗口处于激活状态（选中）时，标题栏的背景颜色。</p>\n</li>\n<li>\n<p><strong>Background=166 202 240</strong><br>\n<strong>桌面背景颜色</strong>。这定义了桌面上未被任何窗口或图标覆盖的区域的颜色。</p>\n</li>\n<li>\n<p><strong>Hilight=10 36 106</strong><br>\n<strong>选中项目的背景颜色</strong>。当你在文件资源管理器中选中一个文件或选项时，背景高亮显示的颜色。</p>\n</li>\n<li>\n<p><strong>HilightText=255 255 255</strong><br>\n<strong>选中项目的文本颜色</strong>。文件或选项被选中时，文本的颜色。</p>\n</li>\n<li>\n<p><strong>TitleText=255 255 255</strong><br>\n<strong>激活窗口的标题栏文字颜色</strong>。窗口标题栏上的文字颜色，当窗口处于激活状态时。</p>\n</li>\n<li>\n<p><strong>Window=255 255 255</strong><br>\n<strong>窗口背景颜色</strong>。窗口内容区域的背景颜色，例如记事本的空白区域。</p>\n</li>\n<li>\n<p><strong>WindowText=0 0 0</strong><br>\n<strong>窗口文本颜色</strong>。窗口中正常显示文本的颜色，比如记事本中的文字。</p>\n</li>\n<li>\n<p><strong>Scrollbar=212 208 200</strong><br>\n<strong>滚动条背景颜色</strong>。滚动条轨道的颜色。</p>\n</li>\n<li>\n<p><strong>InactiveTitle=128 128 128</strong><br>\n<strong>非激活窗口的标题栏背景颜色</strong>。当窗口处于非激活状态（未选中）时，标题栏的背景颜色。</p>\n</li>\n<li>\n<p><strong>Menu=212 208 200</strong><br>\n<strong>菜单背景颜色</strong>。窗口菜单（如右键菜单或文件菜单）的背景颜色。</p>\n</li>\n<li>\n<p><strong>WindowFrame=0 0 0</strong><br>\n<strong>窗口边框颜色</strong>。窗口的外框颜色。</p>\n</li>\n<li>\n<p><strong>MenuText=0 0 0</strong><br>\n<strong>菜单文本颜色</strong>。菜单中显示文字的颜色。</p>\n</li>\n<li>\n<p><strong>ActiveBorder=212 208 200</strong><br>\n<strong>激活窗口的边框颜色</strong>。当窗口被选中时，边框的颜色。</p>\n</li>\n<li>\n<p><strong>InactiveBorder=212 208 200</strong><br>\n<strong>非激活窗口的边框颜色</strong>。当窗口未被选中时，边框的颜色。</p>\n</li>\n<li>\n<p><strong>AppWorkspace=128 128 128</strong><br>\n<strong>应用程序工作区背景颜色</strong>。当多个文档窗口处于 MDI 应用程序（多文档界面）中时，非活动窗口之间的区域颜色。</p>\n</li>\n<li>\n<p><strong>ButtonFace=212 208 200</strong><br>\n<strong>按钮的表面颜色</strong>。按钮的背景颜色，例如 “确定” 或 “取消” 按钮的表面。</p>\n</li>\n<li>\n<p><strong>ButtonShadow=128 128 128</strong><br>\n<strong>按钮的阴影颜色</strong>。按钮阴影部分的颜色，通常是边缘或下部的颜色，给人一种 3D 效果。</p>\n</li>\n<li>\n<p><strong>GrayText=128 128 128</strong><br>\n<strong>禁用文本颜色</strong>。当文本处于禁用状态时（比如按钮不可点击时），显示为灰色的文字颜色。</p>\n</li>\n<li>\n<p><strong>ButtonText=0 0 0</strong><br>\n<strong>按钮文字颜色</strong>。按钮上显示的文字的颜色。</p>\n</li>\n<li>\n<p><strong>InactiveTitleText=212 208 200</strong><br>\n<strong>非激活窗口的标题栏文字颜色</strong>。当窗口未被选中时，标题栏的文字颜色。</p>\n</li>\n<li>\n<p><strong>ButtonHilight=255 255 255</strong><br>\n<strong>按钮高光颜色</strong>。按钮高光部分的颜色，通常是按钮顶部或侧面的高光区域，给人一种 3D 效果。</p>\n</li>\n<li>\n<p><strong>ButtonDkShadow=64 64 64</strong><br>\n<strong>按钮深色阴影</strong>。按钮的深色阴影，通常在按钮的底部或右侧，增强 3D 效果。</p>\n</li>\n<li>\n<p><strong>ButtonLight=212 208 200</strong><br>\n<strong>按钮浅色部分</strong>。按钮的浅色部分，通常用于边缘，帮助增强按钮的视觉效果。</p>\n</li>\n<li>\n<p><strong>InfoText=0 0 0</strong><br>\n<strong>工具提示文本颜色</strong>。工具提示窗口中显示的文本颜色。</p>\n</li>\n<li>\n<p><strong>InfoWindow=255 255 225</strong><br>\n<strong>工具提示背景颜色</strong>。工具提示窗口的背景颜色。</p>\n</li>\n<li>\n<p><strong>GradientActiveTitle=166 202 240</strong><br>\n<strong>激活窗口的渐变标题栏颜色</strong>。当启用渐变效果时，激活窗口标题栏的颜色变化。</p>\n</li>\n<li>\n<p><strong>GradientInactiveTitle=192 192 192</strong><br>\n<strong>非激活窗口的渐变标题栏颜色</strong>。当窗口未激活并且启用渐变效果时，标题栏的颜色变化。</p>\n</li>\n</ol>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"借物表\">借物表</h2>\n<blockquote>\n<p>请去支持各位原作者, 至少点个赞</p>\n</blockquote>\n<p><a name='cite_note-1' href='#cite_ref-1'>[1]</a>: <a href=\"https://www.bilibili.com/video/BV1Ls4y1B7mB\">原神游戏音效选集：七圣召唤更新</a></p>\n<p><a name='cite_note-2' href='#cite_ref-2'>[2]</a>: <a href=\"https://zhutix.com/ico/layan-white-cus/\">拉扬白光标 - 图标指针 - 致美化</a></p>\n<p><a name='cite_note-3' href='#cite_ref-3'>[3]</a>: <a href=\"https://zhutix.com/pc/tokyo-night-vs/\">东京之夜 Win11 主题 - 桌面主题 - 致美化</a></p>\n<p><a name='cite_note-4' href='#cite_ref-4'>[4]</a>: <a href=\"https://meta.appinn.net/t/topic/27800\">自己动手做主题包</a></p>\n<p><a name='cite_note-5' href='#cite_ref-5'>[5]</a>: <a href=\"https://github.com/sapientcoder/CabMaker/\">GitHub - sapientcoder/CabMaker: CabMaker is a free Windows desktop tool that lets you quickly package up an entire folder of files (including subfolders) into a .cab file.</a> <br>\n似乎只能 pack .theme, 不太好使</p>\n<script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kity@2.0.4/dist/kity.min.js\"></script><script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js\"></script><script defer=\"true\" type=\"text&#x2F;javascript\" src=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js\"></script><link rel=\"stylesheet\" type=\"text&#x2F;css\" href=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css\">",
            "tags": [
                "Windows",
                "theme"
            ]
        },
        {
            "id": "https://blog.weidows.tech/post/system/server/AWS/",
            "url": "https://blog.weidows.tech/post/system/server/AWS/",
            "title": "🤧AWS-matters",
            "date_published": "2023-07-28T11:35:28.000Z",
            "content_html": "<h1>AWS-matters</h1>\n<!--\n * @?: *********************************************************************\n * @Author: Weidows\n * @LastEditors: Weidows\n * @LastEditTime: 2023-09-04 15:07:59\n * @FilePath: \\Blog-private\\source\\_posts\\system\\server\\AWS.md\n * @Description:\n * @!: *********************************************************************\n-->\n<blockquote class=\"pullquote mindmap mindmap-sm\"><ul>\n<li><a href=\"#aws-matters\">AWS-matters</a>\n<ul>\n<li><a href=\"#%E5%88%9B%E5%BB%BA%E5%AD%90%E8%B4%A6%E6%88%B7\">创建子账户</a></li>\n<li><a href=\"#ec2\">EC2</a>\n<ul>\n<li><a href=\"#vcpu-%E9%99%90%E5%88%B6\">vCPU-限制</a></li>\n<li><a href=\"#gpu-%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9A%84%E9%80%89%E5%9E%8B\">GPU-服务器的选型</a>\n<ul>\n<li><a href=\"#%E5%9C%A8%E5%93%AA%E9%87%8C%E5%92%8C%E4%BC%9A%E9%81%87%E5%88%B0%E7%9A%84%E5%9D%91\">在哪里和会遇到的坑</a></li>\n<li><a href=\"#%E4%BB%B7%E6%A0%BC\">价格</a></li>\n</ul>\n</li>\n<li><a href=\"#%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%BF%9E%E6%8E%A5\">服务器连接</a>\n<ul>\n<li><a href=\"#%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7-ssh-%E8%BF%9E%E6%8E%A5\">服务器创建用户-ssh 连接</a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%AE%9A%E6%97%B6%E5%BC%80%E5%85%B3%E6%9C%BA\">定时开关机</a></li>\n</ul>\n</li>\n<li><a href=\"#credits\">Credits</a>\n<ul>\n<li><a href=\"#%E5%88%9B%E4%B8%9A%E8%AE%A1%E5%88%92%E9%87%91%E9%A2%9D\">创业计划金额</a></li>\n<li><a href=\"#%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8\">如何使用</a></li>\n</ul>\n</li>\n<li><a href=\"#router-53\">Router-53</a>\n<ul>\n<li><a href=\"#domain-register\">domain-register</a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4\">常用指令</a>\n<ul>\n<li><a href=\"#aws-cli-login\">AWS-Cli-Login</a></li>\n<li><a href=\"#ec2-instance-manage\">EC2-instance-manage</a></li>\n<li><a href=\"#%E6%9C%AA%E5%88%86%E7%B1%BB\">未分类</a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%80%9F%E7%89%A9%E8%A1%A8\">借物表</a></li>\n</ul>\n</li>\n</ul>\n</blockquote>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"创建子账户\">创建子账户</h2>\n<style>.bbplayer{width: 100%; max-width: 850px; margin: auto}</style><div class=\"bbplayer\"><iframe class=\"bbplayer\" id=\"mmedia-EUwuKpaNgLZSXHgU\" src=\"https://player.bilibili.com/player.html?bvid=BV11h4y157Pe&page=1&high_quality=1&danmaku=true&autoplay=0\" allowfullscreen=\"allowfullscreen\" scrolling=\"no\" border=\"0\" frameborder=\"0\" framespacing=\"0\" sandbox=\"allow-top-navigation allow-same-origin allow-forms allow-scripts allow-popups\"></iframe></div><script> document.getElementById(\"mmedia-EUwuKpaNgLZSXHgU\").style.height=document.getElementById(\"mmedia-EUwuKpaNgLZSXHgU\").scrollWidth*0.76+\"px\";\n    window.onresize = function(){\n      document.getElementById(\"mmedia-EUwuKpaNgLZSXHgU\").style.height=document.getElementById(\"mmedia-EUwuKpaNgLZSXHgU\").scrollWidth*0.76+\"px\";\n    }; </script>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"EC2\">EC2</h2>\n<h3 id=\"vCPU-限制\">vCPU-限制</h3>\n<p>新账号默认是 0, 得提交工单去申请, 改为比如 16/32/64 这样 (need n hrs) <sup id='cite_ref-2'><a href=\"#cite_note-2\">[2]</a></sup></p>\n<hr>\n<h3 id=\"GPU-服务器的选型\">GPU-服务器的选型</h3>\n<h4 id=\"在哪里和会遇到的坑\">在哪里和会遇到的坑</h4>\n<p><a href=\"https://aws.amazon.com/cn/ec2/instance-types\">Amazon EC2 实例类型-EC2 虚拟云服务器托管-AWS 云服务</a></p>\n<p>AWS 属实有点迷宫, 比如我想找个合适的算力资源用于开发, 搜了半天 GPU 发现有很多卖 AI 服务的项目挂着, 但没找到服务器</p>\n<p>那么就直奔 EC2 吧, 下一步迷的是机型挑选, 列了一大排没标 GPU 型号的服务器</p>\n<p>你还得去搜 g 系列服务器配的卡, 比如 2023 年是 g5-A10G</p>\n<p>确定目标后想 create instance, 又会发现有 region 限制 (比如国内香港还没有 g5 系列)</p>\n<hr>\n<h4 id=\"价格\">价格</h4>\n<p>美 &gt; 欧 &gt; 亚太 &gt; 南美</p>\n<p>同一区域差别不大, 跨区差额比较大</p>\n<p>比如 2023.7-g5.xlarge-server 美区 1<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">/</mi><mi>h</mi><mo separator=\"true\">,</mo><mtext>欧区</mtext><mn>1.2</mn></mrow><annotation encoding=\"application/x-tex\">/h, 欧区1.2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">/</span><span class=\"mord mathnormal\">h</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord cjk_fallback\">欧区</span><span class=\"mord\">1.2</span></span></span></span>/h</p>\n<hr>\n<h3 id=\"服务器连接\">服务器连接</h3>\n<ol>\n<li>我用 aws 自动创建的公私钥对登录, 一直是 access denied</li>\n<li>web console 登录进去, 直接 vim 修改</li>\n<li>ssh 登录, 也可以改 root 密码切到 root</li>\n</ol>\n<h4 id=\"服务器创建用户-ssh-连接\">服务器创建用户-ssh 连接</h4>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> passwd root</span><br><span class=\"line\">passwd ubuntu</span><br><span class=\"line\">su root</span><br><span class=\"line\"></span><br><span class=\"line\">adduser project-1</span><br><span class=\"line\"><span class=\"comment\"># userdel -r project-1</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 一定要切到新用户, 不要用 root 执行后面的</span></span><br><span class=\"line\">su project-1</span><br><span class=\"line\"><span class=\"built_in\">mkdir</span> ~/.ssh</span><br><span class=\"line\"><span class=\"built_in\">touch</span> ~/.ssh/authorized_keys</span><br><span class=\"line\"><span class=\"built_in\">chmod</span> 600 ~/.ssh/authorized_keys</span><br><span class=\"line\"></span><br><span class=\"line\">su root</span><br><span class=\"line\">service sshd restart</span><br><span class=\"line\">ssh project-1@localhost</span><br></pre></td></tr></table></figure>\n<h3 id=\"定时开关机\">定时开关机</h3>\n<blockquote>\n<p><a href=\"https://repost.aws/zh-Hans/knowledge-center/start-stop-lambda-eventbridge\">使用 Lambda 以设定的间隔停止和启动 EC2 实例</a> <br>\n<a href=\"https://blog.csdn.net/m0_61418822/article/details/129008798\">AWS EC2 定时开关机（lambda+cloudwatch 实现）<em>aws cloud watch</em>干运维的 yds 的博客-CSDN 博客</a></p>\n</blockquote>\n<ol>\n<li>EventBridge -&gt; cron</li>\n<li>Lambda -&gt; py\n<ol>\n<li>IAM -&gt; 执行角色权限</li>\n</ol>\n</li>\n<li>EC2 -&gt; start/stop</li>\n</ol>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"Credits\">Credits</h2>\n<blockquote>\n<p><a href=\"https://jinshuju.net/f/e8uNNU\">亚马逊云 Startup 免费云资源申请</a> <br>\n<a href=\"https://aws.amazon.com/cn/campaigns/activate/\">亚马逊云科技云创计划-亚马逊云科技初创公司起步云资源服务-亚马逊云科技中国区域网络服务解决方案</a></p>\n</blockquote>\n<h3 id=\"创业计划金额\">创业计划金额</h3>\n<ol>\n<li>\n<p>填写表格, 介绍项目</p>\n</li>\n<li>\n<p>需要与负责人会议沟通, 讲明给的金额</p>\n<p>是按每批 5000$ credit 发, 用完再给, 过期可以续</p>\n</li>\n<li>\n<p>第二次会议讲 AWS 可以为我们提供什么个性化服务 (因为有很多方便的服务我们可能并不知道)</p>\n</li>\n</ol>\n<hr>\n<h3 id=\"如何使用\">如何使用</h3>\n<p>这个很坑, 我找了半天 Doc/设置/付款选项也没找到哪里能更换为 credits 抵扣</p>\n<p>问了 AWS 工作人员才知道, 是先花后付, 每个月的账单会自动扣在 credits 头上, 不够的才扣银行卡</p>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"Router-53\">Router-53</h2>\n<h3 id=\"domain-register\">domain-register</h3>\n<blockquote>\n<p>You can’t use AWS credits to pay the fee for registering a new domain with Route 53. <sup id='cite_ref-3'><a href=\"#cite_note-3\">[3]</a></sup> <br>\nAWS 注册域名不能用 credits 抵扣</p>\n</blockquote>\n<p>我翻开文档一查，这文档没有年代。歪歪斜斜的每页上都写着“抵扣金额”几个字，我横竖睡不着，仔细看了半夜，才从字缝里看出来，满本上都写着两个字“付费&quot;！</p>\n<p>woc 藏挺深, 这不坑人嘛, 买了之后看了半天账单没看明白, 原来是扣的信用卡的</p>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"常用指令\">常用指令</h2>\n<h3 id=\"AWS-Cli-Login\">AWS-Cli-Login</h3>\n<blockquote>\n<p><a href=\"https://github.com/aws/aws-cli\">GitHub - aws/aws-cli: Universal Command Line Interface for Amazon Web Services</a> &gt; <a href=\"https://us-east-1.console.aws.amazon.com/iamv2/home#/security_credentials\">https://us-east-1.console.aws.amazon.com/iamv2/home#/security_credentials</a> <br>\n创建访问秘钥对</p>\n</blockquote>\n<figure class=\"highlight markdown\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"quote\">&gt; aws configure</span></span><br><span class=\"line\">AWS Access Key ID [<span class=\"strong\">****</span><span class=\"strong\">****</span><span class=\"strong\">****</span><span class=\"strong\">****</span>JFP2]: XXXXXXXXXXXXXXXXXXXX</span><br><span class=\"line\">AWS Secret Access Key [<span class=\"strong\">****</span><span class=\"strong\">****</span><span class=\"strong\">****</span><span class=\"strong\">****</span>Rb0A]: XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX</span><br><span class=\"line\">Default region name [us-east-1]: 直接回车</span><br><span class=\"line\">Default output format [None]: 直接回车</span><br></pre></td></tr></table></figure>\n<h3 id=\"EC2-instance-manage\">EC2-instance-manage</h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">开机</span></span><br><span class=\"line\"><span class=\"meta prompt_\">&gt; </span><span class=\"language-bash\">aws ec2 start-instances --instance-ids i-036c4cc27119d3b8e</span></span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">查询</span></span><br><span class=\"line\"><span class=\"meta prompt_\">&gt; </span><span class=\"language-bash\">aws ec2 describe-instances</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    &quot;Reservations&quot;: [</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            &quot;Groups&quot;: [],</span><br><span class=\"line\">            &quot;Instances&quot;: [</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    &quot;AmiLaunchIndex&quot;: 0,</span><br><span class=\"line\">                    &quot;ImageId&quot;: &quot;xxxxxx&quot;,</span><br><span class=\"line\">                    &quot;InstanceId&quot;: &quot;xxxxxx&quot;,</span><br><span class=\"line\">                    &quot;InstanceType&quot;: &quot;g5.2xlarge&quot;,</span><br><span class=\"line\">                    &quot;KeyName&quot;: &quot;Login&quot;,</span><br><span class=\"line\">                    &quot;LaunchTime&quot;: &quot;2023-07-31T03:11:29+00:00&quot;,</span><br><span class=\"line\">                    &quot;Monitoring&quot;: &#123;</span><br><span class=\"line\">                        &quot;State&quot;: &quot;enabled&quot;</span><br><span class=\"line\">                    &#125;,</span><br><span class=\"line\">                    &quot;Placement&quot;: &#123;</span><br><span class=\"line\">                        &quot;AvailabilityZone&quot;: &quot;us-east-1b&quot;,</span><br><span class=\"line\">                        &quot;GroupName&quot;: &quot;&quot;,</span><br><span class=\"line\">                        &quot;Tenancy&quot;: &quot;default&quot;</span><br><span class=\"line\">                    &#125;,</span><br><span class=\"line\">                    &quot;PrivateDnsName&quot;: &quot;ip-172-31-95-130.ec2.internal&quot;,</span><br><span class=\"line\">                    &quot;PrivateIpAddress&quot;: &quot;172.31.95.130&quot;,</span><br><span class=\"line\">                    &quot;ProductCodes&quot;: [],</span><br><span class=\"line\">                    &quot;PublicDnsName&quot;: &quot;xxxxxx&quot;,</span><br><span class=\"line\">                    &quot;PublicIpAddress&quot;: &quot;xxxxxx&quot;,</span><br><span class=\"line\">                    &quot;State&quot;: &#123;</span><br><span class=\"line\">                        &quot;Code&quot;: 16,</span><br><span class=\"line\">                        &quot;Name&quot;: &quot;running&quot;</span><br><span class=\"line\">                    &#125;,</span><br><span class=\"line\">                    &quot;StateTransitionReason&quot;: &quot;&quot;,</span><br><span class=\"line\">                    &quot;SubnetId&quot;: &quot;xxxxxx&quot;,</span><br><span class=\"line\">                    &quot;VpcId&quot;: &quot;xxxxxx&quot;,</span><br><span class=\"line\">                    &quot;Architecture&quot;: &quot;x86_64&quot;,</span><br><span class=\"line\">                    &quot;BlockDeviceMappings&quot;: [</span><br><span class=\"line\">                        &#123;</span><br><span class=\"line\">                            &quot;DeviceName&quot;: &quot;/dev/sda1&quot;,</span><br><span class=\"line\">                            &quot;Ebs&quot;: &#123;</span><br><span class=\"line\">                                &quot;AttachTime&quot;: &quot;2023-07-23T04:38:13+00:00&quot;,</span><br><span class=\"line\">                                &quot;DeleteOnTermination&quot;: true,</span><br><span class=\"line\">                                &quot;Status&quot;: &quot;attached&quot;,</span><br><span class=\"line\">                                &quot;VolumeId&quot;: &quot;xxxxxx&quot;</span><br><span class=\"line\">                            &#125;</span><br><span class=\"line\">                        &#125;</span><br><span class=\"line\">                    ],</span><br><span class=\"line\">                    &quot;ClientToken&quot;: &quot;xxxxxx&quot;,</span><br><span class=\"line\">                    &quot;EbsOptimized&quot;: true,</span><br><span class=\"line\">                    &quot;EnaSupport&quot;: true,</span><br><span class=\"line\">                    &quot;Hypervisor&quot;: &quot;xen&quot;,</span><br><span class=\"line\">                    &quot;NetworkInterfaces&quot;: [</span><br><span class=\"line\">-- More  --</span><br><span class=\"line\"><span class=\"meta prompt_\"></span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">筛选</span></span><br><span class=\"line\"><span class=\"meta prompt_\">&gt; </span><span class=\"language-bash\">aws ec2 describe-instances --query <span class=\"string\">&quot;Reservations[].Instances[].PublicIpAddress&quot;</span></span></span><br><span class=\"line\">[</span><br><span class=\"line\">    &quot;1.2.3.4&quot;</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n<h3 id=\"未分类\">未分类</h3>\n<figure class=\"highlight pgsql\"><table><tr><td class=\"code\"><pre><span class=\"line\">aws organizations <span class=\"keyword\">enable</span>-aws-service-<span class=\"keyword\">access</span> <span class=\"comment\">--service-principal account.amazonaws.com</span></span><br></pre></td></tr></table></figure>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"借物表\">借物表</h2>\n<p><a name='cite_note-1' href='#cite_ref-1'>[1]</a>: <a href=\"https://www.runoob.com/linux/linux-user-manage.html\">Linux 用户和用户组管理</a></p>\n<p><a name='cite_note-2' href='#cite_ref-2'>[2]</a>: <a href=\"https://repost.aws/zh-Hans/knowledge-center/ec2-on-demand-instance-vcpu-increase\">计算可为 Amazon EC2 按需型实例请求提高的 vCPU 限制</a></p>\n<p><a name='cite_note-3' href='#cite_ref-3'>[3]</a>: <a href=\"https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/domain-register.html\">Registering a new domain - Amazon Route 53</a></p>\n<p><a name='cite_note-4' href='#cite_ref-4'>[4]</a>: <a href=\"https://docs.aws.amazon.com/zh_cn/cli/latest/userguide/cli-services-ec2-instances.html\">启动、列出和终止 Amazon EC2 实例 - AWS Command Line Interface</a></p>\n<script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kity@2.0.4/dist/kity.min.js\"></script><script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js\"></script><script defer=\"true\" type=\"text&#x2F;javascript\" src=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js\"></script><link rel=\"stylesheet\" type=\"text&#x2F;css\" href=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css\">",
            "tags": [
                "AWS",
                "Server"
            ]
        },
        {
            "id": "https://blog.weidows.tech/post/system/server/tsvps/",
            "url": "https://blog.weidows.tech/post/system/server/tsvps/",
            "title": "蓝易云商家机器主打稳定建站服务器！29元/月1核/1G内存/10Mbps/香港CN2服务器、香港大带宽服务器、香港服务器推荐",
            "date_published": "2022-11-13T07:17:39.000Z",
            "content_html": "<!--\n * @?: *********************************************************************\n * @Author: Weidows\n * @LastEditors: Weidows\n * @LastEditTime: 2023-04-20 18:36:03\n * @FilePath: \\Blog-private\\source\\_posts\\system\\server\\tsvps.md\n * @Description:\n * @!: *********************************************************************\n-->\n<h2 id=\"简介\">简介</h2>\n<p>蓝易云好不好? 蓝易云怎么样？香港服务器推荐。</p>\n<p>蓝易云，2020 年成立的国人商家，是成都天上云网络科技有限公司旗下的云计算服务品牌，专注为个人开发者用户、中小型企业用户、大型企业用户提供云服务器、云虚拟主机、云数据库、云存储、域名、CDN、SSL 证书、服务器租用托管等服务。</p>\n<p>该商家主要定位建站服务器，特点是香港 CN2 网络，国内速度优秀，区域内支持 VPC 内网互联、快照、备份等功能。</p>\n<p>蓝易云持有 <code>IDC、ISP、CDN</code> 许可证，为正规商家。</p>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"特点\">特点</h2>\n<p>机器特点：去程联通电信走 CN2</p>\n<p>回程 移动+联通+电信+教育网+广电+长城五网 CN2-延迟超低！</p>\n<p>CPU 性能强劲，4 核编译安装宝塔环境 CPU 只能占用到 70%左右！</p>\n<p>CPU 单核 GEEKBENCH 跑分能到 849 分左右，lemonbench 跑到能到 942 分左右。【优秀性能】</p>\n<hr>\n<p>商家最新高防 SCDN 信息</p>\n<p>蓝易云 SCDN 官网：<a href=\"https://www.tsycdn.com/\">点击前往</a></p>\n<p>无感防护 告别传统 HTTP 验证【可防 HTTPS】 AI 智能全方位立体防护 专业算法</p>\n<p>国内外加速 支持定制 【防住付款】 【现提供 1 元公益防护】接一切扛不住的攻击定制防护</p>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"SCDN\">SCDN</h2>\n<p>以下是蓝易云 SCDN 控制台展示：</p>\n<p><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/ZhGicc.png\" alt=\"SCDN控制台展示\"></p>\n<p><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/ZhGnVq.png\" alt=\"SCDN域名控制台展示\"></p>\n<hr>\n<p>使用蓝易云 SCDN 网站的打开速度测试结果：</p>\n<p><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/ZhGb3r.png\" alt=\"网站打开测速结果\"></p>\n<p>以下是蓝易云香港服务器质量介绍：</p>\n<p>香港九龙机房-双向 CN2<br>\nvCPU：1 核 E5-2678 v3 @ 2.50GHz<br>\n内存：1G DDR4<br>\n硬盘：30G 系统盘+20G 数据盘<br>\n流量：500G 流量/月（10Mbps 端口）<br>\n价格：29 元/月<br>\n购买：<a href=\"https://www.tsyvps.com/cart?action=configureproduct&amp;pid=37\">点击直达</a></p>\n<p>香港九龙机房-双向 CN2<br>\nvCPU：1 核 E5-2678 v3 @ 2.50GHz<br>\n内存：2G DDR4<br>\n硬盘：30G 系统盘+20G 数据盘<br>\n带宽：500G 流量/月（10Mbps 端口）<br>\n价格：39 元/月<br>\n购买：<a href=\"https://www.tsyvps.com/cart?action=configureproduct&amp;pid=37\">点击直达</a></p>\n<p>香港九龙机房-双向 CN2<br>\nvCPU：2 核 E5-2678 v3 @ 2.50GHz<br>\n内存：4G DDR4<br>\n硬盘：30G 系统盘+20G 数据盘<br>\n带宽：500G 流量/月（10Mbps 端口）<br>\n价格：59 元/月<br>\n购买：<a href=\"https://www.tsyvps.com/cart?action=configureproduct&amp;pid=37\">点击直达</a></p>\n<p>香港九龙机房-双向 CN2<br>\nvCPU：4 核 E5-2678 v3 @ 2.50GHz<br>\n内存：8G DDR4<br>\n硬盘：30G 系统盘+20G 数据盘<br>\n带宽：500G 流量/月（10Mbps 端口）<br>\n价格：109 元/月<br>\n购买：<a href=\"https://www.tsyvps.com/cart?action=configureproduct&amp;pid=37\">点击直达</a></p>\n<p>如需更多规格配置，可以根据需要自行选择，价格以商家官网为准。</p>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"测试\">测试</h2>\n<p>1H1G 规格配置实际测试：</p>\n<p>延迟 ：延迟方面可以看到基本都在 40MS 以内，直连线路延迟低。</p>\n<p><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/ZhGlMT.png\" alt=\"全国 ping 延迟\"></p>\n<p>性能 ：IO 方面速度还不错，网络为上下对等 10M CN2 网络.</p>\n<p><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/ZhGM81.png\" alt=\"IO 速度\"></p>\n<p>CPU 方面据商家描速进行了优化，GEEKBENCH 跑分能到 849 分左右，lemonbench 跑到能到 942 分左右。</p>\n<p>根据商家描述香港云增强型性能 超越标准型 30%，经实测达到商家描述！</p>\n<p><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/ZhGTZK.png\" alt=\"对比图\"></p>\n<p>线路 ：使用测试脚本进行回程路由测试，可以看到三网回程均为 CN2 网络【其他线路的忘记截屏了，大家可以自测】</p>\n<p><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/ZhGWSb.png\" alt=\"三网回程线路\"></p>\n<p>增强型网络得到进一步优化，相比标准型低 10%左右延迟。</p>\n<p>网络抖动<br>\n网络带宽充足，抖动较小，基本不丢包：</p>\n<p><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/ZhG9po.png\" alt=\"网络稳定性\"></p>\n<h2 id=\"总结\">总结</h2>\n<p>机器线路稳定，适合稳定建站，大带宽类型适合突发带宽访问用户，比较不错，CPU 性能足够。</p>\n<p>商家售后服务态度也不错，这点不错，值得推荐！</p>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"借物表\">借物表</h2>\n<p><a name='cite_note-1' href='#cite_ref-1'>[1]</a>: 转自 <a href=\"https://www.8kiz.cn/archives/78.html\">蓝易云商家机器主打稳定建站服务器！29 元/月 1 核/1G 内存/10Mbps/香港 CN2 服务器、香港大带宽服务器、香港服务器推荐</a></p>\n<script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kity@2.0.4/dist/kity.min.js\"></script><script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js\"></script><script defer=\"true\" type=\"text&#x2F;javascript\" src=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js\"></script><link rel=\"stylesheet\" type=\"text&#x2F;css\" href=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css\">",
            "tags": [
                "服务器",
                "蓝易云"
            ]
        },
        {
            "id": "https://blog.weidows.tech/post/system/process-thread/",
            "url": "https://blog.weidows.tech/post/system/process-thread/",
            "title": "🤷‍♂️进程线程-CPU-并行并发大杂碎!",
            "date_published": "2021-03-05T13:08:33.000Z",
            "content_html": "<h1>进程线程-CPU-并行并发大杂碎!</h1>\n<!--\n * @?: *********************************************************************\n * @Author: Weidows\n * @LastEditors: Weidows\n * @LastEditTime: 2023-04-20 18:38:02\n * @FilePath: \\Blog-private\\source\\_posts\\system\\process-thread.md\n * @Description:\n * @!: *********************************************************************\n-->\n<blockquote class=\"pullquote mindmap mindmap-md\"><ul>\n<li><a href=\"#%E8%BF%9B%E7%A8%8B%E7%BA%BF%E7%A8%8B-cpu-%E5%B9%B6%E8%A1%8C%E5%B9%B6%E5%8F%91%E5%A4%A7%E6%9D%82%E7%A2%8E\">进程线程-CPU-并行并发大杂碎!</a>\n<ul>\n<li><a href=\"#%E5%BC%95%E5%AD%90\">引子</a></li>\n<li><a href=\"#%E8%BF%9B%E7%A8%8B%E4%B8%8E%E7%BA%BF%E7%A8%8B\">进程与线程</a>\n<ul>\n<li><a href=\"#%E8%BF%9B%E7%A8%8B\">进程</a></li>\n<li><a href=\"#%E7%BA%BF%E7%A8%8B\">线程</a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%87%A0%E6%A0%B8%E5%87%A0%E7%BA%BF%E7%A8%8B\">几核几线程</a></li>\n<li><a href=\"#%E5%B9%B6%E8%A1%8C%E4%B8%8E%E5%B9%B6%E5%8F%91\">并行与并发</a></li>\n<li><a href=\"#%E5%80%9F%E7%89%A9%E8%A1%A8\">借物表</a></li>\n</ul>\n</li>\n</ul>\n</blockquote>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"引子\">引子</h2>\n<ul>\n<li>谈操作系统会了解到<code>进程与线程</code></li>\n<li>谈 CPU 会听到<code>几核几线程</code></li>\n<li>谈 CPU 调度会存疑<code>并行与并发</code></li>\n</ul>\n<hr>\n<h2 id=\"进程与线程\">进程与线程</h2>\n<ul>\n<li>简单层级关系: <code>应用程序-&gt;一至多个进程-&gt;一至多个线程</code></li>\n</ul>\n<blockquote>\n<p>线程是调度的基本单位，而进程则是资源拥有的基本单位。</p>\n</blockquote>\n<h3 id=\"进程\">进程</h3>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GVsaG1.png\" alt=\"20210305222645\" />\n<hr>\n<ul>\n<li>\n<p>在前台显示的(有图形窗口的)程序,叫做<code>&quot;应用&quot;</code></p>\n<ul>\n<li>比如 IDEA,酷狗,Edge,QQ 这些都是应用.</li>\n<li>同一个程序,打开多个窗口,其产生的进程也会被归到一个应用下\n<ul>\n<li>比如打开两个 VScode 窗口,其产生的新进程也会列在 VScode 栏下,并不会出现两个 VScode 栏</li>\n<li>另外,新建窗口不一定会产生新进程(比如打开两个 IDEA 窗口,IDEA 栏下的进程数没变)</li>\n</ul>\n</li>\n<li>关闭窗口后,应用要么被全然关闭,要么转入后台进程\n<ul>\n<li>就比如 QQ 可以选择整个关掉或者后台挂着,后台挂着时 QQ 不会在<code>&quot;应用&quot;</code>列表出现,会被归到后台进程</li>\n</ul>\n</li>\n</ul>\n<hr>\n</li>\n<li>\n<p>每个应用会有一个至多个进程</p>\n<ul>\n<li>至少有一个<code>&quot;应用&quot;</code>进程和若干<code>&quot;后台进程&quot;</code>.</li>\n<li>比如 IDEA 下面的一排,六个进程</li>\n<li>一个进程 = <code>.exe</code>之类的可执行文件 + 运行时数据\n<ul>\n<li>也就是说同一个程序运行在不同数据环境下会产生不同进程(比如 IDEA 下的两个 TabNine 进程)</li>\n</ul>\n</li>\n</ul>\n<hr>\n</li>\n<li>\n<p>不同进程之间数据隔离</p>\n<ul>\n<li>也就是说一个进程挂掉只影响这个进程,对其他进程无影响</li>\n<li>比如浏览器,<code>一个页面就是一个进程</code>(如果两个页面相同会共享同一进程),脚本插件另行计算,一个页面崩溃一般只影响这个页面.</li>\n</ul>\n<hr>\n</li>\n<li>\n<p>后台进程</p>\n<ul>\n<li>现在我们可以理解没有界面的程序运行时肯定会被归到<code>后台进程</code>\n<ul>\n<li>比如 <code>aria2c.exe</code>,没有界面,只可能出现在后台进程.</li>\n</ul>\n</li>\n<li>但是,有些程序会<code>两面吃</code>,比如 vscode 运行时,<code>&quot;应用&quot;</code>栏有它,<code>后台进程</code>栏也有它!\n<ul>\n<li>&quot;应用&quot;栏会归并对当前程序窗口有影响的进程,没影响的叫做<code>&quot;守护进程&quot;</code></li>\n<li>也就是说这些后台进程有他们的作用,但是这作用并不依赖于程序运行(比如说发光发热,对程序没影响,但这个进程有它存在的意义),它们就被归到<code>后台进程</code>去了.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h3 id=\"线程\">线程</h3>\n<ul>\n<li>\n<p>轮到线程了:</p>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GVs14K.png\" alt=\"20210305231739\" />\n</li>\n<li>\n<p>这个比较简单了,线程是进程内部的,如上图两个 aria2c 进程中,分别有一个和三个线程</p>\n</li>\n<li>\n<p>一个进程至少一个线程.</p>\n<ul>\n<li>\n<p>不同线程之间共享同一个进程内的资源.</p>\n</li>\n<li>\n<p>一个线程崩溃会牵连所有,整个进程会崩溃.</p>\n</li>\n</ul>\n<hr>\n</li>\n<li>\n<p>多线程主要为了<code>提升性能</code></p>\n<ul>\n<li>\n<p>比如一个进程只有一个线程,那它只能同时靠一个 CPU 逻辑处理器处理</p>\n</li>\n<li>\n<p>如果是多线程,比如 9 个线程,那么在 8 个逻辑处理器的 CPU 上,这个进程可以占有 8 个逻辑处理器的算力,提升运行速度</p>\n</li>\n</ul>\n</li>\n<li>\n<p>如果线程数大于 CPU 逻辑处理器数,其他的线程排队等待.</p>\n</li>\n</ul>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"几核几线程\">几核几线程</h2>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GVsFDT.png\" alt=\"20210305210405\" />\n<ul>\n<li>\n<p>如上图,一个插槽对应一块结结实实的 CPU</p>\n<ul>\n<li>\n<p>这块 CPU 里面被划分出四个隔离的核心 -&gt; <code>四核</code></p>\n</li>\n<li>\n<p>每个核心,又可以分为两个逻辑处理器,一个逻辑处理器只能同时处理一个任务(线程) -&gt; <code>八线程</code></p>\n</li>\n<li>\n<p>上面八个线形图就是每个逻辑处理器的使用率</p>\n</li>\n</ul>\n<hr>\n</li>\n<li>\n<p>运行速度标的是每个核心(core)而非逻辑处理器(processor)的速度</p>\n</li>\n</ul>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"并行与并发\">并行与并发</h2>\n<ul>\n<li>\n<p>实际上,网上对这两个词义一定程度上在混用~</p>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GVs30b.png\" alt=\"20210306000528\" />\n</li>\n<li>\n<p>有个词叫<code>&quot;并行不悖&quot;</code>,记住这个就不会弄混了.</p>\n</li>\n<li>\n<p><code>多进程并发,多线程并行.</code></p>\n</li>\n</ul>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"借物表\">借物表</h2>\n<blockquote>\n<p><a href=\"https://mp.weixin.qq.com/s?__biz=Mzk0NzE4NTk4Ng==&amp;mid=2247486625&amp;idx=1&amp;sn=f35d340727b0e8e23f82ff7c5182c893&amp;chksm=c37bfc8cf40c759a084effb4c5b253ad50ad0be02b8b8dea073fa333ca6adefce6ef8cb6db9f&amp;mpshare=1&amp;scene=23&amp;srcid=0305mrfN5sGJ1jI9aPxUFqjU&amp;sharer_sharetime=1614936389002&amp;sharer_shareid=ff6bb8cfd138294e80df076b8b76232d#rd\">进程和线程基础知识全家桶，30 张图一套带走</a></p>\n</blockquote>\n<blockquote>\n<p><a href=\"https://blog.csdn.net/cherrycheng_/article/details/51384657\">基础知识：线程，进程。多进程，多线程。并发，并行的区别</a></p>\n</blockquote>\n<blockquote>\n<p><a href=\"https://zhuanlan.zhihu.com/p/86855590\">cpu 核心数与线程数</a></p>\n</blockquote>\n<blockquote>\n<p><a href=\"https://blog.51cto.com/14462329/2427415\">为什么 Chrome 在任务管理器里有 4 个进程？</a></p>\n</blockquote>\n<blockquote>\n<p><a href=\"https://blog.csdn.net/a3192048/article/details/82085422?utm_medium=distribute.pc_relevant.none-task-blog-baidujs_baidulandingword-1&amp;spm=1001.2101.3001.4242\">程序，进程，线程的区别和联系</a></p>\n</blockquote>\n<script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kity@2.0.4/dist/kity.min.js\"></script><script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js\"></script><script defer=\"true\" type=\"text&#x2F;javascript\" src=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js\"></script><link rel=\"stylesheet\" type=\"text&#x2F;css\" href=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css\">",
            "tags": [
                "操作系统",
                "多线程",
                "进程",
                "CPU"
            ]
        },
        {
            "id": "https://blog.weidows.tech/post/system/Manjaro-Server/",
            "url": "https://blog.weidows.tech/post/system/Manjaro-Server/",
            "title": "😍Manjaro虚拟机充当服务器记录.",
            "date_published": "2021-02-03T06:00:21.000Z",
            "content_html": "<!--\n * @?: *********************************************************************\n * @Author: Weidows\n * @Date: 2021-02-03 14:00:21\n * @LastEditors: Weidows\n * @LastEditTime: 2023-04-20 18:36:27\n * @FilePath: \\Blog-private\\source\\_posts\\system\\Manjaro-Server.md\n * @Description:\n * @!: *********************************************************************\n-->\n<ul>\n<li><a href=\"#%E7%B3%BB%E7%BB%9F%E9%80%89%E6%8B%A9\">系统选择</a>\n<ul>\n<li><a href=\"#%E6%88%91%E7%9A%84%E9%9C%80%E6%B1%82\">我的需求</a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%90%AF%E7%94%A8-ssh-%E6%9C%8D%E5%8A%A1\">启用 ssh 服务</a>\n<ul>\n<li><a href=\"#%E6%95%85%E9%9A%9C%E6%8E%92%E9%99%A4\">故障排除</a></li>\n</ul>\n</li>\n<li><a href=\"#%E6%8D%A2%E6%BA%90\">换源</a>\n<ul>\n<li><a href=\"#%E8%87%AA%E5%8A%A8\">自动</a></li>\n<li><a href=\"#%E6%89%8B%E5%8A%A8\">手动</a></li>\n<li><a href=\"#%E6%9B%B4%E6%96%B0\">更新</a></li>\n</ul>\n</li>\n<li><a href=\"#%E9%85%8D%E7%BD%AE-docker\">配置 docker</a></li>\n<li><a href=\"#%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85\">软件安装</a></li>\n<li><a href=\"#%E6%9B%B4%E6%96%B0%E5%A4%B1%E8%B4%A5\">更新失败</a>\n<ul>\n<li><a href=\"#%E6%96%87%E4%BB%B6%E5%86%B2%E7%AA%81\">文件冲突</a></li>\n</ul>\n</li>\n<li><a href=\"#%E8%99%9A%E6%8B%9F%E6%9C%BA%E4%BB%A3%E7%90%86\">虚拟机代理</a></li>\n</ul>\n<h2 id=\"系统选择\">系统选择</h2>\n<ul>\n<li>关于我为什么最后选择了作为 Server 来说比较冷门的 <code>Manjaro</code></li>\n</ul>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">系统</th>\n<th style=\"text-align:center\">特性</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">CentOS</td>\n<td style=\"text-align:center\">系统特别稳健,bug 少,出了问题解决方案多,服务型软件丰富;标准 server,不怎么需要特殊配置,维护难度低</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">Ubuntu</td>\n<td style=\"text-align:center\">跟 CentOS 差不多,但是因为生态惯性问题确实比 CentOS 用得少,现在由 CentOS 转向 Ubuntu 的很多;server 安装后需要做很多配置才能使用,维护性难度中等;server 安装后默认没有 root 用户</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">Manjaro</td>\n<td style=\"text-align:center\">Arch 分支的 Linux 发行版,desktop-KDE,内核滚动更新很快,更新比 Arch 慢但更稳定,软件生态很丰富,图形化好维护;定位并非 Server,是桌面操作系统所以功耗稍大;默认不启用 ssh 服务</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">RaspberryPi</td>\n<td style=\"text-align:center\">树莓派定制化系统,可以说啥都干得了,但是啥都干不好</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">Deepin</td>\n<td style=\"text-align:center\">生态正在逐步扩大,但是对于服务器端还是太差了,毕竟它的定位也是桌面操作系统;图形化卡顿比较严重,有些无解决方案的 bug;不开放 root 用户</td>\n</tr>\n</tbody>\n</table>\n<hr>\n<h3 id=\"我的需求\">我的需求</h3>\n<ul>\n<li>\n<p>我想让服务器比较稳定,因为在主机上用<code>VMware</code> 开的虚拟机,所以性能消耗要求不高.</p>\n</li>\n<li>\n<p>最好是带有图形界面,这样维护比较方便</p>\n</li>\n<li>\n<p>与<code>VScode-ssh</code>连接必须稳定!</p>\n<ul>\n<li>有些服务需要把代码拉到服务器上</li>\n</ul>\n<blockquote>\n<p>已经有解决方案了,参见 <a href=\"../../experience/SSH#VScode-ssh-%E6%96%AD%E5%BC%80%E8%BF%9E%E6%8E%A5\">✨SSH 远程连接.#VScode-ssh-断开连接</a></p>\n</blockquote>\n</li>\n<li>\n<p>有且要开放 root</p>\n<ul>\n<li>有的系统不带 root 账户,有的不开放.</li>\n</ul>\n</li>\n</ul>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"启用-ssh-服务\">启用 ssh 服务</h2>\n<blockquote>\n<p><a href=\"https://blog.csdn.net/SUDDEV/article/details/85314469\">Manjaro Linux 系统 ssh：connect to host localhost port 22: Connection refused 解决方法</a></p>\n</blockquote>\n<ul>\n<li>\n<p>默认情况下 manjaro 有 ssh 但是不开启.</p>\n</li>\n<li>\n<p>用 ssh 连接它会出现以下报错:</p>\n<figure class=\"highlight pgsql\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">connect</span> <span class=\"keyword\">to</span> host localhost port <span class=\"number\">22</span>: <span class=\"keyword\">Connection</span> refused</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>开启 ssh 服务</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">systemctl enable sshd.service</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>开启后需要<code>重启</code>下才能生效.</p>\n</li>\n</ul>\n<hr>\n<h3 id=\"故障排除\">故障排除</h3>\n<ul>\n<li>\n<p>如果 ssh 服务开启了,连接步骤也没错,但是就是连不上,有可能是 ssh 旧记录的问题</p>\n</li>\n<li>\n<p>报错信息包含如下</p>\n<figure class=\"highlight gauss\"><table><tr><td class=\"code\"><pre><span class=\"line\">WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!     <span class=\"comment\">@</span></span><br><span class=\"line\"><span class=\"comment\">&gt; @</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>去主机电脑上找到<code>~/.ssh/known_hosts</code>,这里面有过去连接的 ip 记录和公钥,删除对应的就可.</p>\n<ul>\n<li>Windows 上那个位置就是<code>C:\\Users\\你的用户名\\.ssh</code></li>\n</ul>\n</li>\n</ul>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"换源\">换源</h2>\n<blockquote>\n<p><a href=\"https://blog.csdn.net/weixin_43968923/article/details/86349914\">arch/Manjaro 添加国内源以及社区源</a></p>\n</blockquote>\n<h3 id=\"自动\">自动</h3>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> pacman-mirrors -i -c China -m rank</span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"手动\">手动</h3>\n<ul>\n<li>\n<p>找到<code>/etc/pacman.d/mirrorlist</code>,备份之后修改:</p>\n<ul>\n<li>越靠上优先级越高.</li>\n</ul>\n<figure class=\"highlight awk\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 中科大</span></span><br><span class=\"line\">Server = https:<span class=\"regexp\">//mi</span>rrors.ustc.edu.cn<span class=\"regexp\">/manjaro/</span>stable<span class=\"regexp\">/$repo/</span><span class=\"variable\">$arch</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#  清华大学</span></span><br><span class=\"line\">Server = https:<span class=\"regexp\">//mi</span>rrors.tuna.tsinghua.edu.cn<span class=\"regexp\">/manjaro/</span>stable<span class=\"regexp\">/$repo/</span><span class=\"variable\">$arch</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 上海交通大学</span></span><br><span class=\"line\">Server = https:<span class=\"regexp\">//mi</span>rrors.sjtug.sjtu.edu.cn<span class=\"regexp\">/manjaro/</span>stable<span class=\"regexp\">/$repo/</span><span class=\"variable\">$arch</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 浙江大学</span></span><br><span class=\"line\">Server = https:<span class=\"regexp\">//mi</span>rrors.zju.edu.cn<span class=\"regexp\">/manjaro/</span>stable<span class=\"regexp\">/$repo/</span><span class=\"variable\">$arch</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<h3 id=\"更新\">更新</h3>\n<p>换源后执行一下,更新本地软件包数据库.</p>\n<ul>\n<li>\n<p>更新软件包</p>\n<figure class=\"highlight ebnf\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">pacman -Sy</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>更新所有</p>\n<figure class=\"highlight ebnf\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">pacman -Syyu</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"配置-docker\">配置 docker</h2>\n<blockquote>\n<p>详见 <a href=\"../../system/docker\">🌈 初探 Docker.</a></p>\n</blockquote>\n<blockquote>\n<p><a href=\"https://blog.huangz.me/2020/docker-on-linux.html\">在 Manjaro Linux 系统使用 Docker</a></p>\n</blockquote>\n<h2 id=\"软件安装\">软件安装</h2>\n<blockquote>\n<p><a href=\"https://blog.csdn.net/john_bh/article/details/104652224\">msys2 pacman 常用命令以及添加国内源加速 pacman</a></p>\n</blockquote>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> pacman -S docker</span><br></pre></td></tr></table></figure>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"更新失败\">更新失败</h2>\n<h3 id=\"文件冲突\">文件冲突</h3>\n<ul>\n<li>\n<p>这种删掉它提示的文件就好了,可能会报好多个,如下:</p>\n<figure class=\"highlight awk\"><table><tr><td class=\"code\"><pre><span class=\"line\">有冲突的文件:</span><br><span class=\"line\">- plasma-workspace：<span class=\"regexp\">/usr/</span>lib<span class=\"regexp\">/qt/</span>plugins/kcm_formats.so 已经存在于文件系统中（所有者为plasma-desktop-primex）</span><br><span class=\"line\">- plasma-workspace：<span class=\"regexp\">/usr/</span>lib<span class=\"regexp\">/qt/</span>plugins<span class=\"regexp\">/kcms/</span>kcm_autostart.so 已经存在于文件系统中（所有者为plasma-desktop-primex）</span><br><span class=\"line\">- plasma-workspace：<span class=\"regexp\">/usr/</span>lib<span class=\"regexp\">/qt/</span>plugins<span class=\"regexp\">/kcms/</span>kcm_nightcolor.so 已经存在于文件系统中（所有者为plasma-desktop-primex）</span><br><span class=\"line\">- plasma-workspace：<span class=\"regexp\">/usr/</span>lib<span class=\"regexp\">/qt/</span>plugins<span class=\"regexp\">/kcms/</span>kcm_notifications.so 已经存在于文件系统中（所有者为plasma-desktop-primex）</span><br><span class=\"line\">- plasma-workspace：<span class=\"regexp\">/usr/</span>share<span class=\"regexp\">/doc/</span>HTML<span class=\"regexp\">/ca/</span>kcontrol<span class=\"regexp\">/autostart/i</span>ndex.cache.bz2 已经存在于文件系统中（所有者为plasma-desktop-primex）</span><br><span class=\"line\">- plasma-workspace：<span class=\"regexp\">/usr/</span>share<span class=\"regexp\">/doc/</span>HTML<span class=\"regexp\">/ca/</span>kcontrol<span class=\"regexp\">/autostart/i</span>ndex.docbook 已经存在于文件系统中（所有者为plasma-desktop-primex）</span><br><span class=\"line\">- plasma-workspace：<span class=\"regexp\">/usr/</span>share<span class=\"regexp\">/doc/</span>HTML<span class=\"regexp\">/ca/</span>kcontrol<span class=\"regexp\">/formats/i</span>ndex.cache.bz2 已经存在于文件系统中（所有者为plasma-desktop-primex）</span><br><span class=\"line\">- plasma-workspace：<span class=\"regexp\">/usr/</span>share<span class=\"regexp\">/doc/</span>HTML<span class=\"regexp\">/ca/</span>kcontrol<span class=\"regexp\">/formats/i</span>ndex.docbook 已经存在于文件系统中（所有者为plasma-desktop-primex）</span><br><span class=\"line\">- plasma-workspace：<span class=\"regexp\">/usr/</span>share<span class=\"regexp\">/doc/</span>HTML<span class=\"regexp\">/ca/</span>kcontrol<span class=\"regexp\">/notifications/i</span>ndex.cache.bz2 已经存在于文件系统中（所有者为plasma-desktop-primex）</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>把提示的内容复制进文本编辑器 (比如 VScode)</p>\n<p><code>- plasma-workspace：</code> 和 <code>已经存在于文件系统中（所有者为plasma-desktop-primex）</code> 都是重复的,按 <code>Ctrl + shift + L</code> 可以选中全部,然后删掉,再去掉换行符整合到一行,结果如下:</p>\n<figure class=\"highlight awk\"><table><tr><td class=\"code\"><pre><span class=\"line\">sudo rm <span class=\"regexp\">/usr/</span>lib<span class=\"regexp\">/qt/</span>plugins<span class=\"regexp\">/kcm_formats.so /u</span>sr<span class=\"regexp\">/lib/</span>qt<span class=\"regexp\">/plugins/</span>kcms<span class=\"regexp\">/kcm_autostart.so /u</span>sr<span class=\"regexp\">/lib/</span>qt<span class=\"regexp\">/plugins/</span>kcms<span class=\"regexp\">/kcm_nightcolor.so /u</span>sr<span class=\"regexp\">/lib/</span>qt<span class=\"regexp\">/plugins/</span>kcms<span class=\"regexp\">/kcm_notifications.so /u</span>sr<span class=\"regexp\">/share/</span>doc<span class=\"regexp\">/HTML/</span>ca<span class=\"regexp\">/kcontrol/</span>autostart<span class=\"regexp\">/index.cache.bz2 /u</span>sr<span class=\"regexp\">/share/</span>doc<span class=\"regexp\">/HTML/</span>ca<span class=\"regexp\">/kcontrol/</span>autostart<span class=\"regexp\">/index.docbook /u</span>sr<span class=\"regexp\">/share/</span>doc<span class=\"regexp\">/HTML/</span>ca<span class=\"regexp\">/kcontrol/</span>formats<span class=\"regexp\">/index.cache.bz2 /u</span>sr<span class=\"regexp\">/share/</span>doc<span class=\"regexp\">/HTML/</span>ca<span class=\"regexp\">/kcontrol/</span>formats<span class=\"regexp\">/index.docbook /u</span>sr<span class=\"regexp\">/share/</span>doc<span class=\"regexp\">/HTML/</span>ca<span class=\"regexp\">/kcontrol/</span>notifications<span class=\"regexp\">/index.cache.bz2 /u</span>sr<span class=\"regexp\">/share/</span>doc<span class=\"regexp\">/HTML/</span>ca<span class=\"regexp\">/kcontrol/</span>notifications<span class=\"regexp\">/index.docbook /u</span>sr<span class=\"regexp\">/share/</span>doc<span class=\"regexp\">/HTML/</span>de<span class=\"regexp\">/kcontrol/</span>autostart<span class=\"regexp\">/index.cache.bz2 /u</span>sr<span class=\"regexp\">/share/</span>doc<span class=\"regexp\">/HTML/</span>de<span class=\"regexp\">/kcontrol/</span>autostart<span class=\"regexp\">/index.docbook /u</span>sr<span class=\"regexp\">/share/</span>doc<span class=\"regexp\">/HTML/</span>de<span class=\"regexp\">/kcontrol/</span>formats<span class=\"regexp\">/index.cache.bz2 /u</span>sr<span class=\"regexp\">/share/</span>doc<span class=\"regexp\">/HTML/</span>de<span class=\"regexp\">/kcontrol/</span>formats<span class=\"regexp\">/index.docbook /u</span>sr<span class=\"regexp\">/share/</span>doc<span class=\"regexp\">/HTML/</span>en<span class=\"regexp\">/kcontrol/</span>autostart<span class=\"regexp\">/index.cache.bz2 /u</span>sr<span class=\"regexp\">/share/</span>doc<span class=\"regexp\">/HTML/</span>en<span class=\"regexp\">/kcontrol/</span>autostart<span class=\"regexp\">/index.docbook /u</span>sr<span class=\"regexp\">/share/</span>doc<span class=\"regexp\">/HTML/</span>en<span class=\"regexp\">/kcontrol/</span>formats<span class=\"regexp\">/index.cache.bz2 /u</span>sr<span class=\"regexp\">/share/</span>doc<span class=\"regexp\">/HTML/</span>en<span class=\"regexp\">/kcontrol/</span>formats<span class=\"regexp\">/index.docbook /u</span>sr<span class=\"regexp\">/share/</span>doc<span class=\"regexp\">/HTML/</span>en<span class=\"regexp\">/kcontrol/</span>notifications/index.cache.bz2</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>然后复制进 console 执行-&gt;再次更新-&gt;成功!</p>\n</li>\n</ul>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"虚拟机代理\">虚拟机代理</h2>\n<p><s>好久没更新这篇了,冲冲水</s></p>\n<ul>\n<li>\n<p>服务器端当安装某些软件时也会有 <code>访问-国外</code> 的需求,在服务器再安装一个软件的话,也可以</p>\n<p>但是节点维护会烦人一些,我想的是: 直接让虚拟机服务器用主机开的代理</p>\n<hr>\n</li>\n<li>\n<p>首先需要主机 &lt;–&gt; 虚拟机 可实现互通,这过程中遇到了几个弯</p>\n<ol>\n<li>\n<p>首先,虚拟机网络<code>不要用桥接模式</code>,这个模式下,每次主机换 WIFI 都需要虚拟机端重新配置主机的 IP(麻烦得很)</p>\n</li>\n<li>\n<p><code>用NAT模式!</code> 这种模式下主机地址(192.168.114.1) ,路由地址(192.168.114.2) ,虚拟机地址(<a href=\"http://192.168.114.xxx\">192.168.114.xxx</a>) 不手动改的话都<code>固定</code>,而且主机换网络环境也不会变. (提一嘴,必须开启 DHCP 虚拟机才能连上主机,默认是开启的不用动)</p>\n</li>\n</ol>\n</li>\n<li>\n<p>实际操作的话</p>\n<p>比如我主机端代理是: localhost:7890</p>\n<p>虚拟机里代理填 192.168.114.1:7890</p>\n</li>\n<li>\n<p>重启.(<s>灵药</s>)</p>\n</li>\n</ul>\n<script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kity@2.0.4/dist/kity.min.js\"></script><script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js\"></script><script defer=\"true\" type=\"text&#x2F;javascript\" src=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js\"></script><link rel=\"stylesheet\" type=\"text&#x2F;css\" href=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css\">",
            "tags": [
                "服务器",
                "Manjaro",
                "操作系统",
                "虚拟机"
            ]
        },
        {
            "id": "https://blog.weidows.tech/post/system/server/Ubuntu-server/",
            "url": "https://blog.weidows.tech/post/system/server/Ubuntu-server/",
            "title": "🟡Ubuntu-Server搞机记录.",
            "date_published": "2021-02-01T18:04:38.000Z",
            "content_html": "<!--\n * @?: *********************************************************************\n * @Author: Weidows\n * @Date: 2021-02-02 02:04:38\n * @LastEditors: Weidows\n * @LastEditTime: 2021-09-02 15:47:06\n * @FilePath: \\Blog-private\\source\\_posts\\system\\virtual-server.md\n * @Description:\n * @!: *********************************************************************\n-->\n<ul>\n<li><a href=\"#%E4%B8%8B%E8%BD%BD%E5%AE%89%E8%A3%85\">下载安装</a></li>\n<li><a href=\"#%E6%8D%A2%E6%BA%90\">换源</a></li>\n<li><a href=\"#%E9%85%8D%E7%BD%AE%E9%9D%99%E6%80%81-ip\">配置静态 IP</a></li>\n<li><a href=\"#%E8%BD%AF%E4%BB%B6%E5%A4%87%E4%BB%BD\">软件备份</a></li>\n</ul>\n<h2 id=\"下载安装\">下载安装</h2>\n<ul>\n<li>\n<p>官网上下载 ISO 文件就行,挺快的</p>\n<ul>\n<li>\n<p>desktop 是桌面版,有图形界面</p>\n</li>\n<li>\n<p>server 是服务器版,没有图形界面(也就是只有命令行界面)</p>\n</li>\n</ul>\n<hr>\n</li>\n<li>\n<p>我用的<code>VMware</code>安装的,用其他软件也可,个人比较喜欢这个.</p>\n<ul>\n<li>安装时可以选择附带的服务软件,比如<code>docker</code>,<code>k8s</code>等等…</li>\n</ul>\n<hr>\n</li>\n<li>\n<p>安装完成后长这样</p>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GV4SqX.png\" alt=\"20210202144325\" />\n</li>\n</ul>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"换源\">换源</h2>\n<blockquote>\n<p><a href=\"https://blog.csdn.net/xiangxianghehe/article/details/105688062\">Ubuntu 20.04 换国内源 清华源 阿里源 中科大源 163 源</a></p>\n</blockquote>\n<ul>\n<li>安装系统过程中就有换源选项.</li>\n</ul>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"配置静态-IP\">配置静态 IP</h2>\n<blockquote>\n<p><a href=\"https://www.cnblogs.com/yaohong/p/11593989.html\">ubuntu 18.04 设置静态 ip 方法</a></p>\n</blockquote>\n<ul>\n<li>\n<p>初始的 Ubuntu-Server 没有<code>net-tools</code>,需要<a href=\"#%E8%BD%AF%E4%BB%B6%E5%A4%87%E4%BB%BD\">安装</a></p>\n</li>\n<li>\n<p>默认情况下使用<code>DHCP</code>,连接网络会自动分配一个 IP,使用<code>ifconfig</code>查看(这个 ifconfig 就是上面 net-tools 里面的)</p>\n<figure class=\"highlight apache\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">weidows</span>@ubuntu-server:~/Code$ ifconfig</span><br><span class=\"line\"><span class=\"attribute\">ens33</span>: flags=<span class=\"number\">4163</span>&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu <span class=\"number\">1500</span></span><br><span class=\"line\">        <span class=\"attribute\">inet</span> <span class=\"number\">192.168.2.122</span>  netmask <span class=\"number\">255.255.255.0</span>  broadcast <span class=\"number\">192.168.2.255</span></span><br><span class=\"line\">        <span class=\"attribute\">inet6</span> fe80::<span class=\"number\">20</span>c:<span class=\"number\">29</span>ff:fe28:c082  prefixlen <span class=\"number\">64</span>  scopeid <span class=\"number\">0</span>x20&lt;link&gt;</span><br><span class=\"line\">        <span class=\"attribute\">ether</span> <span class=\"number\">00</span>:<span class=\"number\">0</span>c:<span class=\"number\">29</span>:<span class=\"number\">28</span>:c0:<span class=\"number\">82</span>  txqueuelen <span class=\"number\">1000</span>  (Ethernet)</span><br><span class=\"line\">        <span class=\"attribute\">RX</span> packets <span class=\"number\">114664</span>  bytes <span class=\"number\">143722941</span> (<span class=\"number\">143</span>.<span class=\"number\">7</span> MB)</span><br><span class=\"line\">        <span class=\"attribute\">RX</span> errors <span class=\"number\">0</span>  dropped <span class=\"number\">0</span>  overruns <span class=\"number\">0</span>  frame <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"attribute\">TX</span> packets <span class=\"number\">52086</span>  bytes <span class=\"number\">37199464</span> (<span class=\"number\">37</span>.<span class=\"number\">1</span> MB)</span><br><span class=\"line\">        <span class=\"attribute\">TX</span> errors <span class=\"number\">0</span>  dropped <span class=\"number\">0</span> overruns <span class=\"number\">0</span>  carrier <span class=\"number\">0</span>  collisions <span class=\"number\">0</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attribute\">lo</span>: flags=<span class=\"number\">73</span>&lt;UP,LOOPBACK,RUNNING&gt;  mtu <span class=\"number\">65536</span></span><br><span class=\"line\">        <span class=\"attribute\">inet</span> <span class=\"number\">127.0.0.1</span>  netmask <span class=\"number\">255.0.0.0</span></span><br><span class=\"line\">        <span class=\"attribute\">inet6</span> ::<span class=\"number\">1</span>  prefixlen <span class=\"number\">128</span>  scopeid <span class=\"number\">0</span>x10&lt;host&gt;</span><br><span class=\"line\">        <span class=\"attribute\">loop</span>  txqueuelen <span class=\"number\">1000</span>  (Local Loopback)</span><br><span class=\"line\">        <span class=\"attribute\">RX</span> packets <span class=\"number\">14643</span>  bytes <span class=\"number\">53874531</span> (<span class=\"number\">53</span>.<span class=\"number\">8</span> MB)</span><br><span class=\"line\">        <span class=\"attribute\">RX</span> errors <span class=\"number\">0</span>  dropped <span class=\"number\">0</span>  overruns <span class=\"number\">0</span>  frame <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"attribute\">TX</span> packets <span class=\"number\">14643</span>  bytes <span class=\"number\">53874531</span> (<span class=\"number\">53</span>.<span class=\"number\">8</span> MB)</span><br><span class=\"line\">        <span class=\"attribute\">TX</span> errors <span class=\"number\">0</span>  dropped <span class=\"number\">0</span> overruns <span class=\"number\">0</span>  carrier <span class=\"number\">0</span>  collisions <span class=\"number\">0</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attribute\">weidows</span>@ubuntu-server:~/Code$</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>可以看到第三行<code>192.168.2.122</code>就是分配的 ip 了,用它就行.</p>\n</li>\n<li>\n<p>进入<code>/etc/netplan/</code>这个目录,使用<code>ll</code>查看内部有啥东西</p>\n<ul>\n<li>\n<p>发现第六行<code>00-installer-config.yaml</code>这个文件是我们要找的(可能名字不一样,后缀是.yaml 就对了)</p>\n</li>\n<li>\n<p>使用<code>cat</code>查看文件内容,核实没错,然后修改它!</p>\n</li>\n</ul>\n<figure class=\"highlight jboss-cli\"><table><tr><td class=\"code\"><pre><span class=\"line\">weidows@ubuntu-server:~<span class=\"string\">/Code</span>$ <span class=\"keyword\">cd</span> <span class=\"string\">/etc/netplan/</span></span><br><span class=\"line\">weidows@ubuntu-server:<span class=\"string\">/etc/netplan</span>$ ll</span><br><span class=\"line\">total 12</span><br><span class=\"line\">drwxr-xr-x  2 root root 4096 Feb  1 17<span class=\"function\">:55</span> <span class=\"string\">./</span></span><br><span class=\"line\">drwxr-xr-x 92 root root 4096 Feb  2 06<span class=\"function\">:25</span> <span class=\"string\">../</span></span><br><span class=\"line\">-rw-r<span class=\"params\">--r--</span>  1 root root  116 Feb  1 17<span class=\"function\">:55</span> 00-installer-config.yaml</span><br><span class=\"line\">weidows@ubuntu-server:<span class=\"string\">/etc/netplan</span>$ cat 00-installer-config.yaml</span><br><span class=\"line\"><span class=\"comment\"># This is the network config written by &#x27;subiquity&#x27;</span></span><br><span class=\"line\">network:</span><br><span class=\"line\">  ethernets:</span><br><span class=\"line\">    ens33:</span><br><span class=\"line\">      dhcp4: <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"keyword\">version</span>: 2</span><br><span class=\"line\">weidows@ubuntu-server:<span class=\"string\">/etc/netplan</span>$</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>使用<code>vi</code>修改<code> sudo vi /etc/netplan/00-installer-config.yaml</code></p>\n<ul>\n<li>地址啥的按照规则设</li>\n</ul>\n<figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">## This is the network config written by &#x27;subiquity&#x27;</span></span><br><span class=\"line\"><span class=\"attr\">network:</span></span><br><span class=\"line\">  <span class=\"attr\">ethernets:</span></span><br><span class=\"line\">    <span class=\"attr\">ens33:</span></span><br><span class=\"line\">      <span class=\"attr\">dhcp4:</span> <span class=\"literal\">false</span></span><br><span class=\"line\">      <span class=\"attr\">addresses:</span> [<span class=\"number\">192.168</span><span class=\"number\">.2</span><span class=\"number\">.122</span><span class=\"string\">/24</span>]</span><br><span class=\"line\">      <span class=\"attr\">gateway4:</span> <span class=\"number\">192.168</span><span class=\"number\">.2</span><span class=\"number\">.1</span></span><br><span class=\"line\">      <span class=\"attr\">nameservers:</span></span><br><span class=\"line\">        <span class=\"attr\">addresses:</span></span><br><span class=\"line\">          <span class=\"bullet\">-</span> <span class=\"number\">192.168</span><span class=\"number\">.2</span><span class=\"number\">.1</span></span><br><span class=\"line\">  <span class=\"attr\">version:</span> <span class=\"number\">2</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>然后应用<code>sudo netplan apply</code>设置,完事!</p>\n</li>\n</ul>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"软件备份\">软件备份</h2>\n<ul>\n<li>\n<p>找软件的话可以用<code>apt search XXX</code>来找</p>\n</li>\n<li>\n<p>个人安装的一些服务型软件(在主机上做的开发,用这个 Server 跑服务)</p>\n</li>\n</ul>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> apt install docker</span><br><span class=\"line\"><span class=\"built_in\">sudo</span> apt install net-tools</span><br></pre></td></tr></table></figure>\n<script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kity@2.0.4/dist/kity.min.js\"></script><script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js\"></script><script defer=\"true\" type=\"text&#x2F;javascript\" src=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js\"></script><link rel=\"stylesheet\" type=\"text&#x2F;css\" href=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css\">",
            "tags": [
                "服务器",
                "操作系统",
                "虚拟机",
                "Ubuntu"
            ]
        },
        {
            "id": "https://blog.weidows.tech/post/system/wsl2/",
            "url": "https://blog.weidows.tech/post/system/wsl2/",
            "title": "🎇wsl-安装使用和问题记录",
            "date_published": "2021-02-01T05:54:10.000Z",
            "content_html": "<h1>wsl-安装使用和问题记录</h1>\n<!--\n * @?: *********************************************************************\n * @Author: Weidows\n * @Date: 2021-02-01 13:54:10\n * @LastEditors: Weidows\n * @LastEditTime: 2024-09-04 02:55:52\n * @FilePath: \\Blog-private\\source\\_posts\\system\\wsl2.md\n * @Description:\n * @!: *********************************************************************\n-->\n<blockquote class=\"pullquote mindmap mindmap-md\"><ul>\n<li><a href=\"#wsl-%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8%E5%92%8C%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95\">wsl-安装使用和问题记录</a>\n<ul>\n<li><a href=\"#%E6%8C%87%E5%8D%97\">指南</a>\n<ul>\n<li><a href=\"#%E5%AE%98%E6%96%B9%E7%9A%84\">官方的</a></li>\n<li><a href=\"#%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A\">名词解释</a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%AE%89%E8%A3%85%E6%AD%A5%E9%AA%A4\">安装步骤</a>\n<ul>\n<li><a href=\"#%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4\">常用指令</a></li>\n<li><a href=\"#%E7%B3%BB%E7%BB%9F\">系统</a></li>\n<li><a href=\"#%E5%8A%9F%E8%83%BD\">功能</a></li>\n<li><a href=\"#%E9%85%8D%E7%BD%AE\">配置</a></li>\n<li><a href=\"#wsl-%E4%BB%A3%E7%90%86\">wsl-代理</a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%AE%89%E8%A3%85%E5%AE%8C%E6%88%90\">安装完成</a>\n<ul>\n<li><a href=\"#wsl-%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85\">wsl 软件安装</a>\n<ul>\n<li><a href=\"#apt\">apt?</a></li>\n<li><a href=\"#dpkg\">dpkg</a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%9C%B0%E5%9D%80%E6%98%A0%E5%B0%84\">地址映射</a></li>\n<li><a href=\"#vscodewsl\">VScode+wsl</a>\n<ul>\n<li><a href=\"#terminal\">Terminal</a></li>\n<li><a href=\"#remote-%E5%BC%80%E5%8F%91\">Remote 开发</a></li>\n</ul>\n</li>\n<li><a href=\"#ideawsl\">IDEA+wsl</a>\n<ul>\n<li><a href=\"#terminal-1\">terminal</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"#%E6%8A%A5%E9%94%99-error\">报错-error</a>\n<ul>\n<li><a href=\"#%E6%8C%87%E5%90%91%E9%94%99%E8%AF%AF\">指向错误</a></li>\n<li><a href=\"#%E5%BA%94%E7%94%A8%E5%AE%9D%E5%AF%BC%E8%87%B4\">应用宝导致</a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%80%9F%E7%89%A9%E8%A1%A8\">借物表</a></li>\n</ul>\n</li>\n</ul>\n</blockquote>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"指南\">指南</h2>\n<h3 id=\"官方的\">官方的</h3>\n<ul>\n<li>\n<p>这个微软是官方的,讲的很详细.</p>\n<blockquote>\n<p><a href=\"https://docs.microsoft.com/zh-cn/windows/wsl/install-win10#update-to-wsl-2\">适用于 Linux 的 Windows 子系统安装指南 (Windows 10)</a></p>\n</blockquote>\n</li>\n</ul>\n<hr>\n<h3 id=\"名词解释\">名词解释</h3>\n<ul>\n<li>\n<p>下面牵扯到很多名词,乍一看会<code>蒙圈</code>.</p>\n</li>\n<li>\n<p>放一个关系网络</p>\n<figure class=\"highlight 1c\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">-</span> hyper<span class=\"punctuation\">-</span>v</span><br><span class=\"line\">  <span class=\"string\">|- Docker(hype-v引擎)</span></span><br><span class=\"line\">  <span class=\"string\">|- Windows</span></span><br><span class=\"line\">    <span class=\"string\">|- wsl2</span></span><br><span class=\"line\">      <span class=\"string\">|- wsl-linux</span></span><br><span class=\"line\">      <span class=\"string\">|- Docker(wsl引擎)</span></span><br><span class=\"line\">        <span class=\"string\">|- Nginx</span></span><br><span class=\"line\">        <span class=\"string\">|- Node.js</span></span><br><span class=\"line\">        <span class=\"string\">|- 各种系统和服务</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p><code>hyper-v</code>是微软家的虚拟机平台,定位于<code>VMware</code>相同,虽然它看起来是 Windows 内部的软件,但是开启 hyper-v 后 Windows 本身也会成为其内部的虚拟机.</p>\n</li>\n<li>\n<p>wsl 是基于 Windows 下实现的 Linux 虚拟化技术,全称<code>Windows Subsystem for Linux</code>,所以这里面装的系统肯定是各种 linux,<code>2</code>只是版本号,一般 wsl2 简称 wsl,两个版本功能上有些差别.</p>\n<ul>\n<li><code>wsl-linux</code>就是指在 Store 里面像是 Ubuntu,Debian 等等的 linux 系统</li>\n</ul>\n</li>\n</ul>\n<blockquote>\n<p>Docker 的话详见 <a href=\"../docker\">🌈 初探 Docker.</a></p>\n</blockquote>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"安装步骤\">安装步骤</h2>\n<h3 id=\"常用指令\">常用指令</h3>\n<figure class=\"highlight jboss-cli\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 打开 Windows 功能</span></span><br><span class=\"line\">dism.exe <span class=\"string\">/online</span> <span class=\"string\">/enable-feature</span> <span class=\"string\">/featurename</span><span class=\"function\">:Microsoft-Windows-Subsystem-Linux</span> <span class=\"string\">/all</span> <span class=\"string\">/norestart</span></span><br><span class=\"line\">dism.exe <span class=\"string\">/online</span> <span class=\"string\">/enable-feature</span> <span class=\"string\">/featurename</span><span class=\"function\">:VirtualMachinePlatform</span> <span class=\"string\">/all</span> <span class=\"string\">/norestart</span></span><br><span class=\"line\">Enable-WindowsOptionalFeature -Online -FeatureName Microsoft-Windows-Subsystem-Linux</span><br><span class=\"line\"></span><br><span class=\"line\">wsl <span class=\"params\">--list</span> <span class=\"params\">--online</span></span><br><span class=\"line\">wsl <span class=\"params\">--install</span> -d Ubuntu-22.04</span><br><span class=\"line\">wsl <span class=\"params\">--update</span></span><br><span class=\"line\">wsl <span class=\"params\">--unregister</span> xxx</span><br><span class=\"line\">wsl <span class=\"params\">--list</span> <span class=\"params\">--verbose</span></span><br><span class=\"line\"></span><br><span class=\"line\">netsh winsock reset</span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"系统\">系统</h3>\n<ul>\n<li>\n<p>首先 Windows64 位系统版本号必须大于等于 <code>1903</code>.</p>\n</li>\n<li>\n<p>系统类型只有专业版(好像家庭版和企业版不行)</p>\n</li>\n</ul>\n<hr>\n<h3 id=\"功能\">功能</h3>\n<ul>\n<li>\n<p>[x] 启用适用于 Linux 的 Windows 子系统</p>\n</li>\n<li>\n<p>[x] 启用虚拟机功能</p>\n<hr>\n</li>\n<li>\n<p>如图上面两个<code>必须开启</code>,其他的您看着来~</p>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GVtzd9.png\" alt=\"20210201160810\" />\n</li>\n</ul>\n<hr>\n<h3 id=\"配置\">配置</h3>\n<ul>\n<li>\n<p>下载并安装</p>\n<blockquote>\n<p><a href=\"https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi\">下载适用于 x64 计算机的 WSL2 Linux 内核更新包</a></p>\n</blockquote>\n</li>\n<li>\n<p>然后,将 WSL 2 设置为默认版本</p>\n<ul>\n<li>\n<p>在 PowerShell 输入</p>\n<figure class=\"highlight actionscript\"><table><tr><td class=\"code\"><pre><span class=\"line\">wsl --<span class=\"keyword\">set</span>-<span class=\"keyword\">default</span>-version <span class=\"number\">2</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>没出问题的话会提示 <code>有关与 WSL 2 的主要区别的信息，请访问 https://aka.ms/wsl2</code></p>\n</li>\n</ul>\n</li>\n<li>\n<p><code>最后</code>,打开<code>Microsoft Store</code>,安装想安装的 Linux 系统</p>\n<ul>\n<li>\n<p>Ubuntu 16.04 LTS</p>\n</li>\n<li>\n<p>Ubuntu 18.04 LTS</p>\n</li>\n<li>\n<p>Ubuntu 20.04 LTS (主流推荐)</p>\n</li>\n<li>\n<p>openSUSE Leap 15.1</p>\n</li>\n<li>\n<p>SUSE Linux Enterprise Server 12 SP5</p>\n</li>\n<li>\n<p>SUSE Linux Enterprise Server 15 SP1</p>\n</li>\n<li>\n<p>Kali Linux</p>\n</li>\n<li>\n<p>Debian GNU/Linux</p>\n</li>\n<li>\n<p>Fedora Remix for WSL</p>\n</li>\n<li>\n<p>Pengwin</p>\n</li>\n<li>\n<p>Pengwin Enterprise</p>\n</li>\n<li>\n<p>Alpine WSL</p>\n</li>\n</ul>\n</li>\n<li>\n<p>小插曲,如果 Store 加载不出来数据,报错<code>0x80131500</code>,那么,请关掉你的科学上网软件 🤣</p>\n</li>\n</ul>\n<hr>\n<h3 id=\"wsl-代理\">wsl-代理</h3>\n<p>可以用 clash 的 TUN 模式: <a href=\"https://docs.cfw.lbyczf.com/contents/tun.html#windows\">https://docs.cfw.lbyczf.com/contents/tun.html#windows</a></p>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"安装完成\">安装完成</h2>\n<ul>\n<li>\n<p>第一次打开时他会先安装一小会儿,然后让你输入用户名和密码,创建新用户</p>\n<ul>\n<li>注意 Linux 系统输入密码时不会显示<code>****</code></li>\n</ul>\n<figure class=\"highlight lasso\"><table><tr><td class=\"code\"><pre><span class=\"line\">Installing, this may <span class=\"keyword\">take</span> a few minutes<span class=\"params\">...</span></span><br><span class=\"line\">Please create a default UNIX user account. The username does <span class=\"literal\">not</span> need <span class=\"keyword\">to</span> <span class=\"keyword\">match</span> your Windows username.</span><br><span class=\"line\">For more information visit: https:<span class=\"comment\">//aka.ms/wslusers</span></span><br><span class=\"line\">Enter <span class=\"literal\">new</span> UNIX username: weidows</span><br><span class=\"line\"><span class=\"literal\">New</span> password:</span><br><span class=\"line\">Retype <span class=\"literal\">new</span> password:</span><br><span class=\"line\">passwd: password updated successfully</span><br><span class=\"line\">Installation successful!</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<h3 id=\"wsl-软件安装\">wsl 软件安装</h3>\n<h4 id=\"apt\">apt?</h4>\n<blockquote>\n<p><a href=\"https://www.sysgeek.cn/apt-vs-apt-get/\">Linux 中 apt 与 apt-get 命令的区别与解释</a></p>\n</blockquote>\n<blockquote>\n<p>简单来说就是：apt = apt-get、apt-cache 和 apt-config 中最常用命令选项的集合。</p>\n</blockquote>\n<hr>\n<h4 id=\"dpkg\">dpkg</h4>\n<blockquote>\n<p><a href=\"https://blog.csdn.net/LEON1741/article/details/85127000\">怎么理解 ubuntu 中的软件包管理器 apt 和 dpkg</a></p>\n</blockquote>\n<hr>\n<h3 id=\"地址映射\">地址映射</h3>\n<ul>\n<li>\n<p>安装 wsl 之后就可以通过<code>\\\\wsl$</code>访问到自己的虚拟机</p>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GV4XTS.png\" alt=\"20210201173448\" />\n</li>\n<li>\n<p>映射</p>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GVSOhE.png\" alt=\"20210201174422\" />\n</li>\n<li>\n<p>映射之后出现新盘符</p>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GVAEkm.png\" alt=\"20210201174646\" />\n</li>\n<li>\n<p>有个奇妙的事是<code>mnt/</code>目录下会反过来映射你的所有本地盘符</p>\n<ul>\n<li>\n<p>看上面那个图,我有四个盘符,然后 mnt 目录下就有<code>c,d,e,f</code>四个文件夹</p>\n</li>\n<li>\n<p>这几个映射文件夹在 Windows 文件管理器无法打开,但是在终端里可以进入</p>\n</li>\n</ul>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GVLfvE.png\" alt=\"20210201174957\" />\n</li>\n</ul>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h3 id=\"VScode-wsl\">VScode+wsl</h3>\n<h4 id=\"Terminal\">Terminal</h4>\n<ul>\n<li>\n<p>网上大多数人推荐<code>Windows Terminal</code>,我觉得也不错,不过没用,直接用的<code>VScode</code></p>\n</li>\n<li>\n<p>如图,点<code>选择默认shell</code>里面就可以选择<code>wsl</code>了</p>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GVPXRS.png\" alt=\"20210201165532\" />\n</li>\n</ul>\n<hr>\n<h4 id=\"Remote-开发\">Remote 开发</h4>\n<ul>\n<li>\n<p>wsl 相当于在内网开了一台电脑,会有一个<code>内网ip</code></p>\n</li>\n<li>\n<p>我们不需要获取这个 IP,直接在 VScode 里安装<code>Remote - WSL</code>这个插件</p>\n</li>\n<li>\n<p>甚至都不需要配置,直接点左下角打开就行了</p>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GVAtIq.png\" alt=\"20210201173024\" />\n</li>\n<li>\n<p>当然,如果不嫌麻烦拿 ssh 连接 wsl 也可以,需要在 wsl 系统内配置静态 ip,但是很多功能性上不如上面那个插件.</p>\n</li>\n</ul>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h3 id=\"IDEA-wsl\">IDEA+wsl</h3>\n<h4 id=\"terminal\">terminal</h4>\n<ul>\n<li>\n<p>设置里打开 <code>File -&gt; Settings -&gt; Tools -&gt; Terminal</code></p>\n</li>\n<li>\n<p>shell path 填上</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">&quot;cmd.exe&quot;</span> /k <span class=\"string\">&quot;wsl.exe&quot;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>如图</p>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GVLc8h.png\" alt=\"20210201221447\" />\n</li>\n</ul>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<!-- ## 后记\n\n- 本来开始想的是开发环境转到 wsl 内部\n\n- 折腾了大半天发现 wsl 生态并不很讨喜,只有部分特性值得使用\n\n  - 比如跑 `Docker`,`zsh` 终端,`SQL` 服务等等...\n\n  - 尝试了一下,直白点说,`用它做开发不行!`\n\n  - 但是拿它来`替代虚拟机`倒是还可以,它的 CPU 闲时占用很低(不到 1%),内存占用半个 G,还好~\n\n  ***\n\n- 为啥呢? 说一下我遇到的痛点:\n\n  - 首先,`生态问题`,下图是我的开发环境,想要移植到 Linux 难度很大,肯定要放弃一些,,所以我放弃移植了...\n\n    <img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GVS9wv.png\" alt=\"20210201215547\" />\n\n  - 其次,有些小问题需要解决,比如路径问题`\"/\"与\"\\\"`不一样,还有换行符问题,会导致 git 认为你的项目全绿`(就是所有文件的所有行都有修改)`,令人窒息...\n\n  - 再次,`性能问题`,这个虚拟化毕竟是虚拟,上手试了一下会有迟钝(CPU 和网络问题都有),另外,开启了虚拟后就连 Windows 多多少少也会损耗一些性能.\n\n  - 其实我认为最难受的是`IDE适配`,我用的`IntelliJ IDEA`和`VScode`,它们需要`Git,Node.js,openjdk,maven,python`等等,这些并不能通过 wsl 直通,除非直接用 linux 系统把这些全装进 linux 里面.\n\n---\n\n- 不过倒也没有白安装,一些东西还是需要 wsl 的\n\n  - 比如`bash`,`zsh`,`docker`等等...\n\n  - 害,算了,`VMware`真香!\n\n---\n\n- 还有一个比较上头的问题:\n\n  - 开启 wsl 后因为虚拟化,window 系统开机后`无法自动连接 WiFi`,可能是个 bug,但是劝退了!\n  - 经测试,开启 hyper-v 也会造成这后果.\n  - 有可能只是我这么一个个例,硬件兼容性问题. -->\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"报错-error\">报错-error</h2>\n<h3 id=\"指向错误\">指向错误</h3>\n<figure class=\"highlight apache\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"section\">&lt;3&gt;</span><span class=\"attribute\">WSL</span> (<span class=\"number\">10</span>) ERROR: CreateProcessParseCommon:<span class=\"number\">711</span>: Failed to translate C:\\Windows\\System32</span><br><span class=\"line\"><span class=\"section\">&lt;3&gt;</span><span class=\"attribute\">WSL</span> (<span class=\"number\">10</span>) ERROR: CreateProcessParseCommon:<span class=\"number\">757</span>: getpwuid(<span class=\"number\">0</span>) failed <span class=\"number\">2</span></span><br><span class=\"line\"><span class=\"section\">&lt;3&gt;</span><span class=\"attribute\">WSL</span> (<span class=\"number\">10</span>) ERROR: UtilTranslatePathList:<span class=\"number\">2866</span>: Failed to translate D:\\Scoop\\apps\\pwsh\\current</span><br><span class=\"line\"><span class=\"section\">&lt;3&gt;</span><span class=\"attribute\">WSL</span> (<span class=\"number\">10</span>) ERROR: UtilTranslatePathList:<span class=\"number\">2866</span>: Failed to translate C:\\Windows\\system32</span><br><span class=\"line\"><span class=\"section\">&lt;3&gt;</span><span class=\"attribute\">WSL</span> (<span class=\"number\">10</span>) ERROR: UtilTranslatePathList:<span class=\"number\">2866</span>: Failed to translate C:\\Windows</span><br><span class=\"line\"><span class=\"section\">&lt;3&gt;</span><span class=\"attribute\">WSL</span> (<span class=\"number\">10</span>) ERROR: UtilTranslatePathList:<span class=\"number\">2866</span>: Failed to translate C:\\Windows\\System32\\Wbem</span><br><span class=\"line\"><span class=\"section\">&lt;3&gt;</span><span class=\"attribute\">WSL</span> (<span class=\"number\">10</span>) ERROR: UtilTranslatePathList:<span class=\"number\">2866</span>: Failed to translate C:\\Windows\\System32\\WindowsPowerShell\\v1.<span class=\"number\">0</span>\\</span><br><span class=\"line\"><span class=\"section\">&lt;3&gt;</span><span class=\"attribute\">WSL</span> (<span class=\"number\">10</span>) ERROR: UtilTranslatePathList:<span class=\"number\">2866</span>: Failed to translate C:\\Windows\\System32\\OpenSSH\\</span><br><span class=\"line\"><span class=\"section\">&lt;3&gt;</span><span class=\"attribute\">WSL</span> (<span class=\"number\">10</span>) ERROR: UtilTranslatePathList:<span class=\"number\">2866</span>: Failed to translate D:\\Scoop\\apps\\docker-desktop-with-compose\\<span class=\"number\">139021</span>\\docker\\resources\\bin</span><br><span class=\"line\"><span class=\"section\">&lt;3&gt;</span><span class=\"attribute\">WSL</span> (<span class=\"number\">10</span>) ERROR: UtilTranslatePathList:<span class=\"number\">2866</span>: Failed to translate C:\\Program Files (x86)\\Windows Kits\\<span class=\"number\">10</span>\\Windows Performance Toolkit\\</span><br><span class=\"line\"><span class=\"section\">&lt;3&gt;</span><span class=\"attribute\">WSL</span> (<span class=\"number\">10</span>) ERROR: UtilTranslatePathList:<span class=\"number\">2866</span>: Failed to translate D:\\Scoop\\apps\\miniconda3\\current\\scripts</span><br><span class=\"line\"><span class=\"section\">&lt;3&gt;</span><span class=\"attribute\">WSL</span> (<span class=\"number\">10</span>) ERROR: UtilTranslatePathList:<span class=\"number\">2866</span>: Failed to translate D:\\Scoop\\apps\\miniconda3\\current\\Library\\bin</span><br><span class=\"line\"><span class=\"section\">&lt;3&gt;</span><span class=\"attribute\">WSL</span> (<span class=\"number\">10</span>) ERROR: UtilTranslatePathList:<span class=\"number\">2866</span>: Failed to translate D:\\Scoop\\apps\\vscode\\current\\bin</span><br><span class=\"line\"><span class=\"section\">&lt;3&gt;</span><span class=\"attribute\">WSL</span> (<span class=\"number\">10</span>) ERROR: UtilTranslatePathList:<span class=\"number\">2866</span>: Failed to translate D:\\Scoop\\apps\\rustup\\current\\.cargo\\bin</span><br><span class=\"line\"><span class=\"section\">&lt;3&gt;</span><span class=\"attribute\">WSL</span> (<span class=\"number\">10</span>) ERROR: UtilTranslatePathList:<span class=\"number\">2866</span>: Failed to translate D:\\Scoop\\apps\\nvm\\current\\nodejs\\nodejs</span><br><span class=\"line\"><span class=\"section\">&lt;3&gt;</span><span class=\"attribute\">WSL</span> (<span class=\"number\">10</span>) ERROR: UtilTranslatePathList:<span class=\"number\">2866</span>: Failed to translate D:\\Scoop\\apps\\nvm\\current\\pnpm\\bin</span><br><span class=\"line\"><span class=\"section\">&lt;3&gt;</span><span class=\"attribute\">WSL</span> (<span class=\"number\">10</span>) ERROR: UtilTranslatePathList:<span class=\"number\">2866</span>: Failed to translate D:\\Scoop\\apps\\nvm\\current\\yarn\\global\\node_modules\\.bin</span><br><span class=\"line\"><span class=\"section\">&lt;3&gt;</span><span class=\"attribute\">WSL</span> (<span class=\"number\">10</span>) ERROR: UtilTranslatePathList:<span class=\"number\">2866</span>: Failed to translate D:\\Scoop\\apps\\maven\\current\\bin</span><br><span class=\"line\"><span class=\"section\">&lt;3&gt;</span><span class=\"attribute\">WSL</span> (<span class=\"number\">10</span>) ERROR: UtilTranslatePathList:<span class=\"number\">2866</span>: Failed to translate D:\\Scoop\\apps\\latex\\current\\texmfs\\install\\miktex\\bin\\x64</span><br><span class=\"line\"><span class=\"section\">&lt;3&gt;</span><span class=\"attribute\">WSL</span> (<span class=\"number\">10</span>) ERROR: UtilTranslatePathList:<span class=\"number\">2866</span>: Failed to translate D:\\Scoop\\apps\\jvms\\current\\store\\current\\bin</span><br><span class=\"line\"><span class=\"section\">&lt;3&gt;</span><span class=\"attribute\">WSL</span> (<span class=\"number\">10</span>) ERROR: UtilTranslatePathList:<span class=\"number\">2866</span>: Failed to translate D:\\Scoop\\apps\\gvm\\current\\.g\\go\\bin</span><br><span class=\"line\"><span class=\"section\">&lt;3&gt;</span><span class=\"attribute\">WSL</span> (<span class=\"number\">10</span>) ERROR: UtilTranslatePathList:<span class=\"number\">2866</span>: Failed to translate D:\\Scoop\\apps\\gvm\\current\\.go\\GOPATH\\bin</span><br><span class=\"line\"><span class=\"section\">&lt;3&gt;</span><span class=\"attribute\">WSL</span> (<span class=\"number\">10</span>) ERROR: UtilTranslatePathList:<span class=\"number\">2866</span>: Failed to translate D:\\Scoop\\apps\\encore\\current\\bin</span><br><span class=\"line\"><span class=\"section\">&lt;3&gt;</span><span class=\"attribute\">WSL</span> (<span class=\"number\">10</span>) ERROR: UtilTranslatePathList:<span class=\"number\">2866</span>: Failed to translate D:\\Scoop\\apps\\docker-desktop-with-compose\\current\\docker\\resources\\bin</span><br><span class=\"line\"><span class=\"section\">&lt;3&gt;</span><span class=\"attribute\">WSL</span> (<span class=\"number\">10</span>) ERROR: UtilTranslatePathList:<span class=\"number\">2866</span>: Failed to translate D:\\Scoop\\apps\\cudnn\\current\\bin</span><br><span class=\"line\"><span class=\"section\">&lt;3&gt;</span><span class=\"attribute\">WSL</span> (<span class=\"number\">10</span>) ERROR: UtilTranslatePathList:<span class=\"number\">2866</span>: Failed to translate D:\\Scoop\\apps\\cuda11.<span class=\"number\">3</span>\\current\\bin</span><br><span class=\"line\"><span class=\"section\">&lt;3&gt;</span><span class=\"attribute\">WSL</span> (<span class=\"number\">10</span>) ERROR: UtilTranslatePathList:<span class=\"number\">2866</span>: Failed to translate D:\\Scoop\\apps\\cuda11.<span class=\"number\">3</span>\\current\\libnvvp</span><br><span class=\"line\"><span class=\"section\">&lt;3&gt;</span><span class=\"attribute\">WSL</span> (<span class=\"number\">10</span>) ERROR: UtilTranslatePathList:<span class=\"number\">2866</span>: Failed to translate D:\\Scoop\\shims</span><br><span class=\"line\"><span class=\"section\">&lt;3&gt;</span><span class=\"attribute\">WSL</span> (<span class=\"number\">10</span>) ERROR: UtilTranslatePathList:<span class=\"number\">2866</span>: Failed to translate D:\\Scoop\\apps\\cygwin-libs-hentai\\current\\root\\bin</span><br><span class=\"line\"><span class=\"section\">&lt;3&gt;</span><span class=\"attribute\">WSL</span> (<span class=\"number\">10</span>) ERROR: UtilTranslatePathList:<span class=\"number\">2866</span>: Failed to translate C:\\Users\\Weidows\\AppData\\Local\\Microsoft\\WindowsApps</span><br><span class=\"line\"><span class=\"attribute\">Processing</span> fstab with mount -a failed.</span><br><span class=\"line\"><span class=\"attribute\">Failed</span> to mount C:\\, see dmesg for more details.</span><br><span class=\"line\"><span class=\"attribute\">Failed</span> to mount D:\\, see dmesg for more details.</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"section\">&lt;3&gt;</span><span class=\"attribute\">WSL</span> (<span class=\"number\">10</span>) ERROR: CreateProcessEntryCommon:<span class=\"number\">334</span>: getpwuid(<span class=\"number\">0</span>) failed <span class=\"number\">2</span></span><br><span class=\"line\"><span class=\"section\">&lt;3&gt;</span><span class=\"attribute\">WSL</span> (<span class=\"number\">10</span>) ERROR: CreateProcessEntryCommon:<span class=\"number\">505</span>: execvpe /bin/sh failed <span class=\"number\">2</span></span><br><span class=\"line\"><span class=\"section\">&lt;3&gt;</span><span class=\"attribute\">WSL</span> (<span class=\"number\">10</span>) ERROR: CreateProcessEntryCommon:<span class=\"number\">508</span>: Create process not expected to return</span><br></pre></td></tr></table></figure>\n<p>这是因为 wsl 默认指向了 docker-desktop-data</p>\n<hr>\n<h3 id=\"应用宝导致\">应用宝导致</h3>\n<p>万不可同时使用 wsl 和应用宝, 在应用宝启动时会提示关闭 hyper-V, 但这鬼东西也会同时把 wsl 环境搞崩溃</p>\n<figure class=\"highlight console\"><table><tr><td class=\"code\"><pre><span class=\"line\">╰─wsl</span><br><span class=\"line\">当前计算机配置不支持 WSL2。</span><br><span class=\"line\">请启用“虚拟机平台”可选组件，并确保在 BIOS 中启用虚拟化。</span><br><span class=\"line\">通过运行以下命令启用“虚拟机平台”: wsl.exe --install --no-distribution</span><br><span class=\"line\">有关信息，请访问 https://aka.ms/enablevirtualization</span><br><span class=\"line\">Error code: Wsl/Service/CreateInstance/CreateVm/HCS/HCS_E_HYPERV_NOT_INSTALLED</span><br></pre></td></tr></table></figure>\n<p>恢复方法:</p>\n<ol>\n<li>去控制面板关掉 <code>虚拟机平台 Virtual Machine Platform</code></li>\n<li>重启</li>\n<li>一定要用 <code>wsl --install --no-distribution</code> 让 wsl 恢复环境, 不要去控制面板操作</li>\n<li>重启</li>\n<li>应该是恢复了, 如果不行的话就要删环境了 <code>wsl --set-default Ubuntu</code></li>\n</ol>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"借物表\">借物表</h2>\n<p><a name='cite_note-1' href='#cite_ref-1'>[1]</a>: <a href=\"https://www.cnblogs.com/kuangdaoyizhimei/p/14175143.html#_label2_0\">本篇文章会介绍 win10 中 wsl2 的安装和使用以及遇到的常见问题比如如何固定 wsl2 地址等问题的总结。</a></p>\n<p><a name='cite_note-2' href='#cite_ref-2'>[2]</a>: <a href=\"https://blog.csdn.net/weixin_43376501/article/details/126957208\">_wsl 打不开_zhjs_abc 的博客-CSDN 博客</a></p>\n<p><a name='cite_note-3' href='#cite_ref-3'>[3]</a>: <a href=\"https://blog.csdn.net/chuhe163/article/details/112628879\">Docker 安装时提示 Existing installation is up to date_一株禾的博客-CSDN 博客</a></p>\n<hr>\n<!--\n### 吐槽\n\n- 搜文章头图时发现...百度和谷歌差距有点大...\n\n  我用谷歌时间肯定没百度长,看起来谷歌更了解我 🤣\n\n  <img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GVLAMg.png\" alt=\"20210201140021\" />\n\n  <img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GVSAfK.png\" alt=\"20210201140048\" />\n\n- 虽然并不想吹捧或贬低哪个,但是这...(看来我是老双标怪了~) -->\n<script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kity@2.0.4/dist/kity.min.js\"></script><script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js\"></script><script defer=\"true\" type=\"text&#x2F;javascript\" src=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js\"></script><link rel=\"stylesheet\" type=\"text&#x2F;css\" href=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css\">",
            "tags": [
                "操作系统",
                "Windows",
                "wsl2"
            ]
        },
        {
            "id": "https://blog.weidows.tech/post/system/docker/",
            "url": "https://blog.weidows.tech/post/system/docker/",
            "title": "🌈初探Docker",
            "date_published": "2021-01-30T16:08:20.000Z",
            "content_html": "<h1>初探 Docker.</h1>\n<!--\n * @?: *********************************************************************\n * @Author: Weidows\n * @Date: 2021-01-31 00:08:20\n * @LastEditors: Weidows\n * @LastEditTime: 2024-08-07 13:29:21\n * @FilePath: \\Blog-private\\source\\_posts\\system\\docker.md\n * @Description:\n * @!: *********************************************************************\n-->\n<blockquote class=\"pullquote mindmap mindmap-md\"><ul>\n<li><a href=\"#%E5%88%9D%E6%8E%A2-docker\">初探 Docker.</a>\n<ul>\n<li><a href=\"#%E5%90%8D%E8%AF%8D%E5%BC%95%E5%85%A5\">名词引入</a>\n<ul>\n<li><a href=\"#docker-dockerfile\">docker-Dockerfile</a></li>\n<li><a href=\"#docker-compose\">docker-compose</a></li>\n<li><a href=\"#docker-machine\">docker-machine</a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%AE%89%E8%A3%85%E5%90%AF%E5%8A%A8\">安装启动</a>\n<ul>\n<li><a href=\"#manjaro\">Manjaro</a></li>\n<li><a href=\"#windows\">Windows</a></li>\n<li><a href=\"#ubuntu-server\">Ubuntu-Server</a></li>\n<li><a href=\"#%E8%A7%A3%E5%86%B3%E6%9D%83%E9%99%90%E9%97%AE%E9%A2%98\">解决权限问题</a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%8A%A0%E9%80%9F\">加速</a>\n<ul>\n<li><a href=\"#%E9%95%9C%E5%83%8F%E5%8A%A0%E9%80%9F\">镜像加速</a>\n<ul>\n<li><a href=\"#windows-1\">Windows</a></li>\n<li><a href=\"#manjaro-1\">Manjaro</a></li>\n</ul>\n</li>\n<li><a href=\"#%E8%AE%BE%E7%BD%AE%E4%BB%A3%E7%90%86\">设置代理</a>\n<ul>\n<li><a href=\"#docker-%E6%9C%AC%E8%BA%AB%E4%BB%A3%E7%90%86\">docker-本身代理</a></li>\n<li><a href=\"#docker-%E5%AE%B9%E5%99%A8%E4%BD%BF%E7%94%A8%E5%AE%BF%E4%B8%BB%E6%9C%BA%E4%BB%A3%E7%90%86\">docker-容器使用宿主机代理</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"#docker-%E7%AE%A1%E7%90%86\">docker 管理</a>\n<ul>\n<li><a href=\"#vscode-docker\">VScode-docker</a></li>\n<li><a href=\"#portainer\">Portainer</a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4\">常用命令</a>\n<ul>\n<li><a href=\"#%E5%91%BD%E4%BB%A4%E8%A1%8C%E6%89%A7%E8%A1%8C\">命令行执行</a></li>\n<li><a href=\"#docker-%E8%87%AA%E5%90%AF\">docker 自启</a></li>\n<li><a href=\"#%E5%AE%B9%E5%99%A8%E8%87%AA%E5%90%AF\">容器自启</a></li>\n</ul>\n</li>\n<li><a href=\"#%E4%BD%BF%E7%94%A8%E6%A1%88%E4%BE%8B\">使用案例</a>\n<ul>\n<li><a href=\"#%E5%A4%9A%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AE%A1%E7%90%86\">多数据库管理</a></li>\n<li><a href=\"#docker-osx\">docker-osx</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</blockquote>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"名词引入\">名词引入</h2>\n<ul>\n<li>\n<p>首先<code>Docker</code>是啥就不解释了.</p>\n</li>\n<li>\n<p>初探尝试安装时出现下面好几个选择,于是搜了搜~</p>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GVA30z.png\" alt=\"20210131002505\" />\n</li>\n<li>\n<p>找到 docker 家族有几个特殊的工具<code>docker-Dockerfile</code>, <code>docker-compose</code>, <code>docker-machine</code></p>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GVSvW9.png\" alt=\"20210131004332\" />\n</li>\n</ul>\n<hr>\n<h3 id=\"docker-Dockerfile\">docker-Dockerfile</h3>\n<blockquote>\n<p><a href=\"https://www.runoob.com/docker/docker-dockerfile.html\">Docker Dockerfile</a> <br>\nDockerfile 是一个用来构建镜像的文本文件，文本内容包含了一条条构建镜像所需的指令和说明。</p>\n</blockquote>\n<hr>\n<h3 id=\"docker-compose\">docker-compose</h3>\n<blockquote>\n<p><a href=\"https://blog.csdn.net/weixin_43165750/article/details/106108234\">docker 与 docker-compose 区别</a> <br>\ndocker 是一个容器，你如果要是安装服务也是要单独一个一个的安装，如果你使用了 docker-compose 的话 就可以使用一个 docker-compose.yml 脚本一键安装<br>\n说来其是管理同一个 docker 下多个服务的.</p>\n</blockquote>\n<hr>\n<h3 id=\"docker-machine\">docker-machine</h3>\n<blockquote>\n<p><a href=\"https://zhuanlan.zhihu.com/p/93459073\">Docker 三剑客之 docker-machine</a> <br>\n这个是用来管理多个 docker 的.</p>\n</blockquote>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"安装启动\">安装启动</h2>\n<h3 id=\"Manjaro\">Manjaro</h3>\n<ul>\n<li>\n<p>manjaro 里搜 <code>docker</code> 和 <code>docker-compose</code> 安装,然后配置下面的 <a href=\"#manjaro\">镜像加速</a> 和 <a href=\"#docker-%E8%87%AA%E5%90%AF\">docker 自启</a></p>\n</li>\n<li>\n<p>ok, Manjaro 没有其他任何坑!</p>\n</li>\n</ul>\n<hr>\n<h3 id=\"Windows\">Windows</h3>\n<ul>\n<li>\n<p>在 <code>Windows</code> 上安装就比较复杂了,牵扯到很多东西.</p>\n</li>\n<li>\n<p>Docker 基于 Linux 系统实现,所以无法直接安装在 Windows 上,需要虚拟化支持.</p>\n<ul>\n<li>这就需要借助<code>wsl</code>或者<code>Virtual box</code>或者<code>hyper-v</code>了(建议用 wsl)</li>\n</ul>\n<blockquote>\n<p>详见 <a href=\"../wsl2#%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A\">🎇 尝试转投 wsl 生态.#名词解释</a></p>\n</blockquote>\n<ul>\n<li>这里提一下,如果想用 hyper-v 引擎,只需要勾选<code>hyper-v</code>功能就行,wsl 的那两个不用开(当然开了对 docker 也没影响)</li>\n</ul>\n</li>\n</ul>\n<hr>\n<ul>\n<li>\n<p>安装 docker 前,需要装好 wsl,下面文章到<code>最后</code>安装系统之前,都需要过一遍才能装好 wsl2</p>\n<blockquote>\n<p><a href=\"../wsl2#%E9%85%8D%E7%BD%AE\">🎇 尝试转投 wsl 生态.#配置</a></p>\n</blockquote>\n</li>\n<li>\n<p>装好 wsl 后去 docker 官网下载 <code>Docker desktop for window</code>,安装.</p>\n</li>\n<li>\n<p>装好 docker 之后 <code>重启</code> 才能正常使用!</p>\n</li>\n</ul>\n<hr>\n<h3 id=\"Ubuntu-Server\">Ubuntu-Server</h3>\n<ul>\n<li>\n<p><code>Ubuntu-Server</code>装系统时就带有<code>Docker</code>安装选项,直接安装即可,但是会遇到下面<a href=\"#%E8%A7%A3%E5%86%B3%E6%9D%83%E9%99%90%E9%97%AE%E9%A2%98\">权限问题及解决办法</a></p>\n</li>\n<li>\n<details>\n  <summary>安装后开机检测</summary>\n<figure class=\"highlight stata\"><table><tr><td class=\"code\"><pre><span class=\"line\">weidows@ubuntu-server:~$ docker</span><br><span class=\"line\"></span><br><span class=\"line\">Usage: docker [OPTIONS] COMMAND</span><br><span class=\"line\"></span><br><span class=\"line\">A self-sufficient runtime <span class=\"keyword\">for</span> containers</span><br><span class=\"line\"></span><br><span class=\"line\">Options:</span><br><span class=\"line\">--config string Location of client config files (default <span class=\"string\">&quot;/home/weidows/snap/docker/471/.docker&quot;</span>)</span><br><span class=\"line\">-c, --context string Name of the context to <span class=\"keyword\">use</span> to connect to the daemon (overrides DOCKER_HOST env <span class=\"keyword\">var</span> and default context <span class=\"keyword\">set</span> with <span class=\"string\">&quot;docker context use&quot;</span>)</span><br><span class=\"line\">-<span class=\"keyword\">D</span>, --debug Enable debug mode</span><br><span class=\"line\">-<span class=\"keyword\">H</span>, --host <span class=\"keyword\">list</span> Daemon socket(s) to connect to</span><br><span class=\"line\">-<span class=\"keyword\">l</span>, --<span class=\"keyword\">log</span>-level string <span class=\"keyword\">Set</span> the logging level (<span class=\"string\">&quot;debug&quot;</span>|<span class=\"string\">&quot;info&quot;</span>|<span class=\"string\">&quot;warn&quot;</span>|<span class=\"string\">&quot;error&quot;</span>|<span class=\"string\">&quot;fatal&quot;</span>) (default <span class=\"string\">&quot;info&quot;</span>)</span><br><span class=\"line\">--tls <span class=\"keyword\">Use</span> TLS; implied <span class=\"keyword\">by</span> --tlsverify</span><br><span class=\"line\">--tlscacert string Trust certs signed only <span class=\"keyword\">by</span> this <span class=\"keyword\">CA</span> (default <span class=\"string\">&quot;/home/weidows/snap/docker/471/.docker/ca.pem&quot;</span>)</span><br><span class=\"line\">--tlscert string Path to TLS certificate <span class=\"keyword\">file</span> (default <span class=\"string\">&quot;/home/weidows/snap/docker/471/.docker/cert.pem&quot;</span>)</span><br><span class=\"line\">--tlskey string Path to TLS key <span class=\"keyword\">file</span> (default <span class=\"string\">&quot;/home/weidows/snap/docker/471/.docker/key.pem&quot;</span>)</span><br><span class=\"line\">--tlsverify <span class=\"keyword\">Use</span> TLS and verify the remote</span><br><span class=\"line\">-v, --<span class=\"keyword\">version</span> <span class=\"keyword\">Print</span> <span class=\"keyword\">version</span> information and quit</span><br><span class=\"line\"></span><br><span class=\"line\">Management Commands:</span><br><span class=\"line\">builder Manage builds</span><br><span class=\"line\">config Manage Docker configs</span><br><span class=\"line\">container Manage containers</span><br><span class=\"line\">context Manage contexts</span><br><span class=\"line\">engine Manage the docker engine</span><br><span class=\"line\">image Manage images</span><br><span class=\"line\">network Manage networks</span><br><span class=\"line\">node Manage Swarm nodes</span><br><span class=\"line\"><span class=\"keyword\">plugin</span> Manage plugins</span><br><span class=\"line\">secret Manage Docker secrets</span><br><span class=\"line\">service Manage services</span><br><span class=\"line\"><span class=\"keyword\">stack</span> Manage Docker stacks</span><br><span class=\"line\">swarm Manage Swarm</span><br><span class=\"line\">system Manage Docker</span><br><span class=\"line\">trust Manage trust <span class=\"keyword\">on</span> Docker images</span><br><span class=\"line\">volume Manage volumes</span><br><span class=\"line\"></span><br><span class=\"line\">Commands:</span><br><span class=\"line\">attach Attach <span class=\"keyword\">local</span> standard <span class=\"keyword\">input</span>, output, and <span class=\"keyword\">error</span> streams to a running container</span><br><span class=\"line\">build Build <span class=\"keyword\">an</span> image from a Dockerfile</span><br><span class=\"line\">commit Create a new image from a container&#x27;s changes</span><br><span class=\"line\">cp <span class=\"keyword\">Copy</span> files/folders between a container and the <span class=\"keyword\">local</span> filesystem</span><br><span class=\"line\">create Create a new container</span><br><span class=\"line\">deploy Deploy a new <span class=\"keyword\">stack</span> or <span class=\"keyword\">update</span> <span class=\"keyword\">an</span> existing <span class=\"keyword\">stack</span></span><br><span class=\"line\">diff <span class=\"keyword\">Inspect</span> changes to files or directories <span class=\"keyword\">on</span> a container&#x27;s filesystem</span><br><span class=\"line\">events Get real time events from the server</span><br><span class=\"line\">exec <span class=\"keyword\">Run</span> a command <span class=\"keyword\">in</span> a running container</span><br><span class=\"line\">export Export a container&#x27;s filesystem <span class=\"keyword\">as</span> a tar archive</span><br><span class=\"line\">history Show the history of <span class=\"keyword\">an</span> image</span><br><span class=\"line\">images <span class=\"keyword\">List</span> images</span><br><span class=\"line\">import Import the contents from a tarball to create a filesystem image</span><br><span class=\"line\">info <span class=\"keyword\">Display</span> system-wide information</span><br><span class=\"line\"><span class=\"keyword\">inspect</span> <span class=\"keyword\">Return</span> low-level information <span class=\"keyword\">on</span> Docker objects</span><br><span class=\"line\">kill Kill <span class=\"keyword\">one</span> or <span class=\"keyword\">more</span> running containers</span><br><span class=\"line\">load Load <span class=\"keyword\">an</span> image from a tar archive or STDIN</span><br><span class=\"line\">login <span class=\"keyword\">Log</span> <span class=\"keyword\">in</span> to a Docker registry</span><br><span class=\"line\">logout <span class=\"keyword\">Log</span> <span class=\"keyword\">out</span> from a Docker registry</span><br><span class=\"line\">logs Fetch the logs of a container</span><br><span class=\"line\"><span class=\"keyword\">pause</span> <span class=\"keyword\">Pause</span> all processes within <span class=\"keyword\">one</span> or <span class=\"keyword\">more</span> containers</span><br><span class=\"line\">port <span class=\"keyword\">List</span> port mappings or a specific mapping <span class=\"keyword\">for</span> the container</span><br><span class=\"line\">ps <span class=\"keyword\">List</span> containers</span><br><span class=\"line\">pull Pull <span class=\"keyword\">an</span> image or a repository from a registry</span><br><span class=\"line\">push Push <span class=\"keyword\">an</span> image or a repository to a registry</span><br><span class=\"line\"><span class=\"keyword\">rename</span> <span class=\"keyword\">Rename</span> a container</span><br><span class=\"line\">restart Restart <span class=\"keyword\">one</span> or <span class=\"keyword\">more</span> containers</span><br><span class=\"line\"><span class=\"keyword\">rm</span> Remove <span class=\"keyword\">one</span> or <span class=\"keyword\">more</span> containers</span><br><span class=\"line\">rmi Remove <span class=\"keyword\">one</span> or <span class=\"keyword\">more</span> images</span><br><span class=\"line\"><span class=\"keyword\">run</span> <span class=\"keyword\">Run</span> a command <span class=\"keyword\">in</span> a new container</span><br><span class=\"line\"><span class=\"keyword\">save</span> <span class=\"keyword\">Save</span> <span class=\"keyword\">one</span> or <span class=\"keyword\">more</span> images to a tar archive (streamed to STDOUT <span class=\"keyword\">by</span> default)</span><br><span class=\"line\"><span class=\"keyword\">search</span> <span class=\"keyword\">Search</span> the Docker Hub <span class=\"keyword\">for</span> images</span><br><span class=\"line\">start Start <span class=\"keyword\">one</span> or <span class=\"keyword\">more</span> stopped containers</span><br><span class=\"line\">stats <span class=\"keyword\">Display</span> a live stream of container(s) resource usage statistics</span><br><span class=\"line\">stop Stop <span class=\"keyword\">one</span> or <span class=\"keyword\">more</span> running containers</span><br><span class=\"line\">tag Create a tag TARGET_IMAGE that refers to SOURCE_IMAGE</span><br><span class=\"line\">top <span class=\"keyword\">Display</span> the running processes of a container</span><br><span class=\"line\">unpause Unpause all processes within <span class=\"keyword\">one</span> or <span class=\"keyword\">more</span> containers</span><br><span class=\"line\"><span class=\"keyword\">update</span> <span class=\"keyword\">Update</span> configuration of <span class=\"keyword\">one</span> or <span class=\"keyword\">more</span> containers</span><br><span class=\"line\"><span class=\"keyword\">version</span> Show the Docker <span class=\"keyword\">version</span> information</span><br><span class=\"line\">wait Block until <span class=\"keyword\">one</span> or <span class=\"keyword\">more</span> containers stop, then <span class=\"keyword\">print</span> their <span class=\"keyword\">exit</span> codes</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">Run</span> &#x27;docker COMMAND --<span class=\"keyword\">help</span>&#x27; <span class=\"keyword\">for</span> <span class=\"keyword\">more</span> information <span class=\"keyword\">on</span> a command.</span><br><span class=\"line\">weidows@ubuntu-server:~$</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n</details>\n</li>\n</ul>\n<hr>\n<h3 id=\"解决权限问题\">解决权限问题</h3>\n<blockquote>\n<p><a href=\"https://blog.csdn.net/liangllhahaha/article/details/92077065\">解决 Ubuntu18.04 启动 Docker“Got permission denied while trying to connect to the Docker daemon socket“问题</a></p>\n</blockquote>\n<ul>\n<li>\n<p>我安装的<code>Ubuntu-Server</code>没有<code>root</code>用户,会导致 docker 启动异常.</p>\n</li>\n<li>\n<p>用<code>docker version</code>检查</p>\n<ul>\n<li>最后一行会报错这样</li>\n</ul>\n<figure class=\"highlight perl\"><table><tr><td class=\"code\"><pre><span class=\"line\">Got permission denied <span class=\"keyword\">while</span> trying to <span class=\"keyword\">connect</span> to the Docker daemon <span class=\"keyword\">socket</span> at unix:<span class=\"regexp\">//</span><span class=\"regexp\">/var/run</span><span class=\"regexp\">/docker.sock: Get http:/</span><span class=\"regexp\">/%2Fvar%2Frun%2Fdocker.sock/</span><span class=\"number\">v1.26</span>/images/json: dial unix /var/run/docker.sock: <span class=\"keyword\">connect</span>: permission denied</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<ul>\n<li>\n<p>解决方案</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> groupadd docker          <span class=\"comment\">#添加docker用户组</span></span><br><span class=\"line\"><span class=\"built_in\">sudo</span> gpasswd -a <span class=\"variable\">$USER</span> docker  <span class=\"comment\">#将当前用户添加至docker用户组</span></span><br><span class=\"line\">newgrp docker                 <span class=\"comment\">#更新docker用户组</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"加速\">加速</h2>\n<h3 id=\"镜像加速\">镜像加速</h3>\n<p>阿里的镜像服务虽然是能访问, 但是已经停止更新了…</p>\n<ul>\n<li>\n<p>登录阿里云并找到<a href=\"https://cr.console.aliyun.com/cn-hangzhou/instances/mirrors\"><code>容器镜像服务</code></a></p>\n</li>\n<li>\n<p>阿里会给一个加速地址,把地址复制到 Docker 设置里就可.</p>\n</li>\n</ul>\n<h4 id=\"Windows-2\">Windows</h4>\n  <img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GVS4w1.png\" alt=\"20210205010825\" />\n<hr>\n<h4 id=\"Manjaro-2\">Manjaro</h4>\n<ul>\n<li>\n<p>新建或者修改<code>/etc/docker/daemon.json</code></p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;registry-mirrors&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">[</span><span class=\"string\">&quot;https://docker.hub.weidows.tech&quot;</span><span class=\"punctuation\">]</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>然后重启 docker 服务</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">sudo systemctl daemon-reload</span><br><span class=\"line\">sudo systemctl restart docker</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<h3 id=\"设置代理\">设置代理</h3>\n<h4 id=\"docker-本身代理\">docker-本身代理</h4>\n<p>国内网络环境拉取镜像非常慢,挂代理可以快很多. (不过一般配置了上面的镜像加速就用不着配置代理了)</p>\n<p>docker desktop 设置里操作, localhost:7890</p>\n<h4 id=\"docker-容器使用宿主机代理\">docker-容器使用宿主机代理</h4>\n<p>比如在 docker 里跑了虚拟机 (docker-osx, 默认是桥接网络实际用起来是没有科学的</p>\n<p>可以选择在创建容器时 <code>--net=host</code> 使用主机网络, 但不如:</p>\n<p><code>host.docker.internal</code> 指向宿主机内网 IP, proxy 可以直接写为 host.docker.internal:7890</p>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"docker-管理\">docker 管理</h2>\n<h3 id=\"VScode-docker\">VScode-docker</h3>\n<ul>\n<li>\n<p>在 Manjaro 虚拟机中启动 docker 服务,然后用 vscode-ssh 连接 manjaro</p>\n</li>\n<li>\n<p>安装 docker 插件,就可以享受比较方便的可视化了(个人非常喜欢这种方式)</p>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GVt7YX.png\" alt=\"20210206153528\" />\n</li>\n<li>\n<p>另外再安装<code>Resource Monitor</code>这个插件可以监控远程机资源消耗(如上图最下方)</p>\n</li>\n</ul>\n<hr>\n<h3 id=\"Portainer\">Portainer</h3>\n<blockquote>\n<p><a href=\"https://blog.csdn.net/tian330726/article/details/102987572\">Docker 安装管理面板–Portainer</a></p>\n</blockquote>\n<ul>\n<li>\n<p>docker 的可视化工具,可连接本地和远程,支持集群,有很多部署方式,这里选择直接在 docker 部署.</p>\n</li>\n<li>\n<p>首先它需要一个<code>volume(数据卷)</code>,新建</p>\n<figure class=\"highlight gauss\"><table><tr><td class=\"code\"><pre><span class=\"line\">docker <span class=\"built_in\">volume</span> <span class=\"keyword\">create</span> portainer_data</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>然后拉取并运行</p>\n<ul>\n<li>需要保证 9000 端口没被占用,不然无法运行</li>\n</ul>\n<figure class=\"highlight dockerfile\"><table><tr><td class=\"code\"><pre><span class=\"line\">docker <span class=\"keyword\">run</span><span class=\"language-bash\"> -d --name portainer --restart always -p 9000:9000 -v /var/run/docker.sock:/var/run/docker.sock -v portainer_data:/data portainer/portainer</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>浏览器打开 <code>localhost:9000</code></p>\n</li>\n<li>\n<p>官网上的版本要比 github 的 tag 慢一些,左下角提示更新可以无视~</p>\n</li>\n</ul>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"常用命令\">常用命令</h2>\n<h3 id=\"命令行执行\">命令行执行</h3>\n<p>有些文档的命令是这样, 行末的 '' 是 shell 的换行符, windows 不支持, 删掉就好</p>\n<pre><code>docker run -d \\\n  -p 8088:8088 \\\n  --name next-terminal \\\n  --restart always ghcr.io/dushixiang/next-terminal:latest\n\ndocker run -d -p 8088:8088 --name next-terminal --restart always ghcr.io/dushixiang/next-terminal:latest\n</code></pre>\n<hr>\n<blockquote>\n<p><a href=\"../../lang/shell/shell#docker\">💧 一些常用终端命令.#docker</a></p>\n</blockquote>\n<h3 id=\"docker-自启\">docker 自启</h3>\n<ul>\n<li>\n<p>启动服务</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> systemctl start docker.service</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>开机自动启动 docker 服务</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> systemctl <span class=\"built_in\">enable</span> docker.service</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>重新载入配置</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> systemctl daemon-reload</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>重启 docker</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> systemctl restart docker</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<h3 id=\"容器自启\">容器自启</h3>\n<figure class=\"highlight routeros\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 开启</span></span><br><span class=\"line\">docker update <span class=\"attribute\">--restart</span>=always &lt;CONTAINER ID&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 关闭</span></span><br><span class=\"line\">docker update <span class=\"attribute\">--restart</span>=<span class=\"literal\">no</span> &lt;CONTAINER ID&gt;</span><br></pre></td></tr></table></figure>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"使用案例\">使用案例</h2>\n<h3 id=\"多数据库管理\">多数据库管理</h3>\n<ul>\n<li>\n<p>开发时需要好几个不同的数据库</p>\n<ol>\n<li>\n<p>在 win 主机上安装配置的话,必然各种 bug,大部分时间还空浪费性能</p>\n</li>\n<li>\n<p>于是考虑在虚拟机上装,但是鉴于各种系统环境还不一样,每个数据库挨个配置和解决 bug 都废手</p>\n</li>\n<li>\n<p>于是让数据库进入 docker</p>\n</li>\n</ol>\n</li>\n<li>\n<p>通过 <code>docker-compose.yml</code> 一条龙管理 (免去了每个数据库安装,开通远程连接,配置账户这些麻烦)</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">version:</span> <span class=\"string\">&quot;3.1&quot;</span></span><br><span class=\"line\"><span class=\"attr\">services:</span></span><br><span class=\"line\">  <span class=\"comment\"># redis 无密码</span></span><br><span class=\"line\">  <span class=\"attr\">redis:</span></span><br><span class=\"line\">    <span class=\"attr\">image:</span> <span class=\"string\">redis:latest</span></span><br><span class=\"line\">    <span class=\"attr\">restart:</span> <span class=\"string\">always</span></span><br><span class=\"line\">    <span class=\"attr\">container_name:</span> <span class=\"string\">&quot;redis-app&quot;</span></span><br><span class=\"line\">    <span class=\"attr\">command:</span> <span class=\"string\">redis-server</span> <span class=\"string\">/usr/local/etc/redis/redis.conf</span></span><br><span class=\"line\">    <span class=\"attr\">ports:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"number\">6379</span><span class=\"string\">:6379</span></span><br><span class=\"line\">    <span class=\"attr\">volumes:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">./redis.conf:/usr/local/etc/redis/redis.conf</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">/data/redis:/data</span></span><br><span class=\"line\">  <span class=\"comment\"># mongo root-2333</span></span><br><span class=\"line\">  <span class=\"attr\">mongo:</span></span><br><span class=\"line\">    <span class=\"attr\">image:</span> <span class=\"string\">mongo:latest</span></span><br><span class=\"line\">    <span class=\"attr\">restart:</span> <span class=\"string\">always</span></span><br><span class=\"line\">    <span class=\"attr\">container_name:</span> <span class=\"string\">&quot;mongo-app&quot;</span></span><br><span class=\"line\">    <span class=\"attr\">environment:</span></span><br><span class=\"line\">      <span class=\"attr\">MONGO_INITDB_ROOT_USERNAME:</span> <span class=\"string\">root</span></span><br><span class=\"line\">      <span class=\"attr\">MONGO_INITDB_ROOT_PASSWORD:</span> <span class=\"number\">2333</span></span><br><span class=\"line\">    <span class=\"attr\">ports:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"number\">27017</span><span class=\"string\">:27017</span></span><br><span class=\"line\">    <span class=\"attr\">volumes:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">/data/mongo:/etc/mongo</span></span><br><span class=\"line\">  <span class=\"comment\"># mariadb root-2333</span></span><br><span class=\"line\">  <span class=\"attr\">mariadb:</span></span><br><span class=\"line\">    <span class=\"attr\">image:</span> <span class=\"string\">mariadb:latest</span></span><br><span class=\"line\">    <span class=\"attr\">restart:</span> <span class=\"string\">always</span></span><br><span class=\"line\">    <span class=\"attr\">container_name:</span> <span class=\"string\">&quot;mariadb-app&quot;</span></span><br><span class=\"line\">    <span class=\"attr\">ports:</span></span><br><span class=\"line\">      <span class=\"comment\"># 端口映射</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"number\">3306</span><span class=\"string\">:3306</span></span><br><span class=\"line\">    <span class=\"attr\">volumes:</span></span><br><span class=\"line\">      <span class=\"comment\"># 容器与宿主机时间同步</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">/etc/localtime:/etc/localtime</span></span><br><span class=\"line\">      <span class=\"comment\"># 数据库目录映射</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">./config/mariadb:/var/lib/mysql</span></span><br><span class=\"line\">      <span class=\"comment\"># （推荐）如果要使用自定义的MySQL配置，则可以在主机上的目录中创建备用配置文件，然后将该目录位置/etc/mysql/conf.d安装在mariadb容器内。自己所需的配置文件可以放在自己服务器./config/data/mariadb-config里面</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">./config/mariadb-config:/etc/mysql/conf.d</span></span><br><span class=\"line\">    <span class=\"attr\">environment:</span></span><br><span class=\"line\">      <span class=\"attr\">TIME_ZONE:</span> <span class=\"string\">Asia/Shanghai</span></span><br><span class=\"line\">      <span class=\"attr\">MYSQL_ROOT_PASSWORD:</span> <span class=\"number\">2333</span></span><br></pre></td></tr></table></figure>\n<p>进此配置目录执行 <code>docker-compose up</code>, <a href=\"https://github.com/Weidows-projects/Keeper/blob/main/scripts/docker/docker-compose.yml\">-&gt;最新文件地址&lt;-</a></p>\n</li>\n</ul>\n<hr>\n<h3 id=\"docker-osx\">docker-osx</h3>\n<p>记一下我做的配置更改, 备忘</p>\n<ol>\n<li>设置-网络-代理\n<ol>\n<li>host.docker.internal:7890</li>\n</ol>\n</li>\n<li>修改 /etc/hosts\n<ol>\n<li>github520</li>\n</ol>\n</li>\n<li>安装 homebrew</li>\n</ol>\n<script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kity@2.0.4/dist/kity.min.js\"></script><script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js\"></script><script defer=\"true\" type=\"text&#x2F;javascript\" src=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js\"></script><link rel=\"stylesheet\" type=\"text&#x2F;css\" href=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css\">",
            "tags": [
                "Docker"
            ]
        },
        {
            "id": "https://blog.weidows.tech/post/system/Windows/",
            "url": "https://blog.weidows.tech/post/system/Windows/",
            "title": "💢Windows-一些奇怪逸事",
            "date_published": "2020-12-28T05:49:19.000Z",
            "content_html": "<h1>Windows-一些奇怪逸事</h1>\n<!--\n * @?: *********************************************************************\n * @Author: Weidows\n * @Date: 2020-12-28 13:49:19\n * @LastEditors: Weidows\n * @LastEditTime: 2024-08-17 23:11:57\n * @FilePath: \\Blog-private\\source\\_posts\\system\\Windows.md\n * @Description:\n * @!: *********************************************************************\n-->\n<blockquote class=\"pullquote mindmap mindmap-md\"><ul>\n<li><a href=\"#windows-%E4%B8%80%E4%BA%9B%E5%A5%87%E6%80%AA%E9%80%B8%E4%BA%8B\">Windows-一些奇怪逸事</a>\n<ul>\n<li><a href=\"#%E7%BB%88%E7%AB%AF\">终端</a>\n<ul>\n<li><a href=\"#%E6%89%93%E5%BC%80%E6%96%B9%E5%BC%8F\">打开方式</a>\n<ul>\n<li><a href=\"#%E6%96%B9%E6%B3%95%E4%B8%80\">方法一</a></li>\n<li><a href=\"#%E6%96%B9%E6%B3%95%E4%BA%8C\">方法二</a></li>\n<li><a href=\"#%E6%96%B9%E6%B3%95%E4%B8%89\">方法三</a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%88%87%E6%8D%A2%E8%B7%AF%E5%BE%84\">切换路径</a></li>\n<li><a href=\"#%E6%97%A0%E6%B3%95%E7%BB%93%E6%9D%9F%E7%A8%8B%E5%BA%8F\">无法结束程序</a></li>\n</ul>\n</li>\n<li><a href=\"#office-%E5%A5%97%E4%BB%B6\">office-套件</a>\n<ul>\n<li><a href=\"#diff-office2019-office365\">diff-office2019-office365</a></li>\n<li><a href=\"#%E7%BD%91%E9%A1%B5%E7%89%88-office\">网页版-office</a></li>\n<li><a href=\"#%E4%B8%BE%E6%A0%97%E4%B8%8E%E6%8E%A8%E8%8D%90\">举栗与推荐</a></li>\n<li><a href=\"#onedrive\">OneDrive</a>\n<ul>\n<li><a href=\"#%E6%89%93%E4%B8%8D%E5%BC%80\">打不开</a></li>\n<li><a href=\"#%E7%A1%AC%E7%9B%98%E9%94%99%E8%AF%AF\">硬盘错误</a></li>\n<li><a href=\"#%E6%97%A0%E6%B3%95%E7%99%BB%E9%99%86\">无法登陆</a></li>\n</ul>\n</li>\n<li><a href=\"#onenote\">OneNote</a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%85%B6%E4%BB%96%E8%BD%AF%E4%BB%B6%E9%97%AE%E9%A2%98\">其他软件问题</a>\n<ul>\n<li><a href=\"#utools-%E5%89%AA%E5%88%87%E6%9D%BF%E6%89%93%E4%B8%8D%E5%BC%80\">utools-剪切板打不开</a></li>\n<li><a href=\"#%E5%8E%8B%E7%BC%A9%E5%8C%85%E5%86%85%E5%AE%B9%E5%BC%82%E5%B8%B8\">压缩包内容异常</a></li>\n<li><a href=\"#%E4%BA%BA%E5%B7%A5%E6%A1%8C%E9%9D%A2-%E9%B9%BF%E9%B8%A3-%E5%8D%A1%E9%A1%BF\">人工桌面-鹿鸣-卡顿</a></li>\n<li><a href=\"#%E8%99%9A%E6%8B%9F%E6%9C%BA%E4%BB%A3%E7%90%86%E4%B8%8D%E9%80%9A\">虚拟机代理不通</a></li>\n<li><a href=\"#%E6%89%93%E5%AD%97%E9%A6%96%E5%AD%97%E6%AF%8D%E5%8F%98%E8%8B%B1%E6%96%87\">打字首字母变英文</a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%90%84%E7%A7%8D%E8%B7%AF%E5%BE%84\">各种路径</a></li>\n<li><a href=\"#%E5%A3%B0%E9%9F%B3%E9%85%8D%E7%BD%AE\">声音配置</a>\n<ul>\n<li><a href=\"#%E9%A9%B1%E5%8A%A8\">驱动</a></li>\n<li><a href=\"#%E9%85%B7%E7%8B%97\">酷狗</a></li>\n<li><a href=\"#%E7%B3%BB%E7%BB%9F%E8%AE%BE%E7%BD%AE\">系统设置</a></li>\n</ul>\n</li>\n<li><a href=\"#windows-%E9%98%B2%E7%81%AB%E5%A2%99%E9%80%9A%E7%9F%A5\">windows-防火墙通知</a></li>\n<li><a href=\"#%E7%B3%BB%E7%BB%9F-%E9%A9%B1%E5%8A%A8%E9%97%AE%E9%A2%98\">系统-驱动问题</a>\n<ul>\n<li><a href=\"#%E7%AA%97%E5%8F%A3%E9%80%B8%E5%87%BA\">窗口逸出</a></li>\n<li><a href=\"#usb-%E8%87%AA%E5%8A%A8%E6%8E%89%E8%AE%BE%E5%A4%87\">USB-自动掉设备</a>\n<ul>\n<li><a href=\"#%E5%A4%96%E6%8E%A5%E7%A1%AC%E7%9B%98%E7%9B%92%E9%A2%91%E7%B9%81%E8%87%AA%E5%8A%A8%E6%96%AD%E7%94%B5\">外接硬盘盒频繁自动断电</a></li>\n</ul>\n</li>\n<li><a href=\"#%E6%98%BE%E5%8D%A1%E9%97%AE%E9%A2%98\">显卡问题</a>\n<ul>\n<li><a href=\"#%E9%A2%9C%E8%89%B2%E9%85%8D%E7%BD%AE\">颜色配置</a>\n<ul>\n<li><a href=\"#nvidia\">NVIDIA</a></li>\n<li><a href=\"#amd\">AMD</a></li>\n</ul>\n</li>\n<li><a href=\"#system-%E8%BF%9B%E7%A8%8B%E5%8D%A0%E7%94%A8%E9%AB%98%E9%97%AE%E9%A2%98\">system-进程占用高问题</a></li>\n<li><a href=\"#amd-%E9%A9%B1%E5%8A%A8%E9%80%82%E9%85%8D%E9%97%AE%E9%A2%98\">AMD-驱动适配问题</a></li>\n</ul>\n</li>\n<li><a href=\"#%E6%89%8B%E6%9C%BA%E7%83%AD%E7%82%B9%E7%94%B5%E8%84%91%E5%BC%80%E9%9D%99%E6%80%81-ip\">手机热点电脑开静态 ip</a></li>\n<li><a href=\"#%E6%95%B0%E6%8D%AE%E8%BF%81%E7%A7%BB\">数据迁移</a></li>\n<li><a href=\"#%E6%97%A0%E6%B3%95%E7%9D%A1%E7%9C%A0\">无法睡眠</a></li>\n<li><a href=\"#amd-1\">AMD</a>\n<ul>\n<li><a href=\"#%E8%8A%AF%E7%89%87%E7%BB%84%E9%A9%B1%E5%8A%A8%E9%97%AE%E9%A2%98\">芯片组驱动问题</a></li>\n<li><a href=\"#%E7%9C%8B%E7%BD%91%E9%A1%B5%E8%A7%86%E9%A2%91%E5%B0%B1%E6%8E%89%E9%A2%91\">看网页视频就掉频</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"#%E5%86%85%E5%AD%98%E9%97%AE%E9%A2%98\">内存问题</a></li>\n<li><a href=\"#%E5%80%9F%E7%89%A9%E8%A1%A8\">借物表</a></li>\n</ul>\n</li>\n</ul>\n</blockquote>\n<h2 id=\"终端\">终端</h2>\n<h3 id=\"打开方式\">打开方式</h3>\n<h4 id=\"方法一\">方法一</h4>\n<p><code>Windows + R</code>,输入 cmd,回车就出来了.</p>\n<h4 id=\"方法二\">方法二</h4>\n<p>在文件夹空白处按住<code>shift + 右键</code>,会出来<code>在此处打开PowerShell窗口</code></p>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GVP1ID.png\" alt=\"20210103142309\" />\n<h4 id=\"方法三\">方法三</h4>\n<p>直接在路径栏中输入 cmd 回车.</p>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GVAaGn.png\" alt=\"20210103142458\" />\n<hr>\n<h3 id=\"切换路径\">切换路径</h3>\n<ul>\n<li>\n<p>秃然一天,发现 cmd 路径无法切换??!!</p>\n<blockquote>\n<p>百度了一下找到了原因: <a href=\"https://blog.csdn.net/weixin_38089515/article/details/76339030\">cmd 下无法切换路径问题</a></p>\n</blockquote>\n<p>如下,需要先切换一下盘符…</p>\n<figure class=\"highlight cmd\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\">C:\\<span class=\"title\">Users</span>\\29845&gt;<span class=\"title\">cd</span> <span class=\"title\">D</span>:\\<span class=\"title\">Game</span>\\<span class=\"title\">Github</span>\\<span class=\"title\">Programming</span>-<span class=\"title\">Configuration</span>\\<span class=\"title\">lists</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">C</span>:\\<span class=\"title\">Users</span>\\29845&gt;</span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">C</span>:\\<span class=\"title\">Users</span>\\29845&gt;<span class=\"title\">cd</span> <span class=\"title\">D</span>:</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">D</span>:\\</span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">C</span>:\\<span class=\"title\">Users</span>\\29845&gt;<span class=\"title\">d</span>:</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">D</span>:\\&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>再次找了一下,发现 powershell 不会遇到这问题,cmd 有另一个方法: 加上 <code>/d</code></p>\n<figure class=\"highlight livescript\"><table><tr><td class=\"code\"><pre><span class=\"line\">D:<span class=\"string\">\\Game\\Github\\Blog-private&gt;cd</span> /d C:<span class=\"string\">\\Users</span></span><br><span class=\"line\">C:<span class=\"string\">\\Users&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<h3 id=\"无法结束程序\">无法结束程序</h3>\n<blockquote>\n<p>windows 无法结束这个程序，要完成操作可能需要更多时间 <br>\n无法结束程序 armoury socket server<br>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/1723886660866.png\" alt=\"\"></p>\n</blockquote>\n<p>在关机时或者关闭带有终端的程序时(terminal, vscode…) 会遇到这个问题, 具体为啥我也不清楚, 更新 windows11 后总是出现(推测是 windows 与 OEM 软件的冲突)</p>\n<ul>\n<li>\n<p>先说个网上找到的对我无效的解决办法:</p>\n<p>组策略 -&gt; 管理模板 -&gt; 系统 -&gt; 关机选项 -&gt; 关闭会阻止或取消关机的应用程序的目动终止功能 -&gt; 启用</p>\n</li>\n<li>\n<p>有效的:</p>\n<p>下载 windows10 manager -&gt; 优化器 -&gt; 系统速度 -&gt; 关机 -&gt; 如下勾上</p>\n<p><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/oqQWp1.png\" alt=\"\"></p>\n</li>\n</ul>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"office-套件\">office-套件</h2>\n<h3 id=\"diff-office2019-office365\">diff-office2019-office365</h3>\n<ol>\n<li>\n<p>像是 office2015,office2017,office2019 这种的一般是买电脑时就预装在电脑里的</p>\n<p>这种是一次性购买激活码(算在买电脑的钱里了),是正版的话可以登录微软账号,把 office2019 绑定到账号上.</p>\n<p>会更新修复一些 bug 但并不会更新功能,简单讲就是随着电脑购买这个 office 也是买死的.</p>\n</li>\n<li>\n<p>office365 是按年续订购买的套餐</p>\n<p>分为家庭版/个人版/商业版/教育版(需要学校购买),不同版本其中还含有不同价位的套餐</p>\n<p>根据版本和套餐的不同,office 提供不同的服务(比如 office 桌面应用使用权,5T OneDrive 空间等等)</p>\n</li>\n<li>\n<p>服务性的差别:</p>\n<p>office2019 锁死在一台电脑上,只有 word,Excel,PowerPoint 等桌面软件的永久使用权,没有云服务.</p>\n<p>office365 使用权限有订阅期,可提供的权限比 office2019 更多; 根据订阅套餐不同,有的不如 office2019,有的远超 office2019</p>\n</li>\n</ol>\n<hr>\n<h3 id=\"网页版-office\">网页版-office</h3>\n<p>网页版 office 任何 Microsoft 账号都可以免费使用,域名也一样: <code>www.office.com</code> ,但是分为 office 和 office365 两种界面</p>\n<ul>\n<li>\n<p>如下图是 office: <a href=\"https://www.office.com/?auth=1\">https://www.office.com/?auth=1</a></p>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GVALAT.png\" alt=\"20210704100501\" />\n</li>\n<li>\n<p>office365: <a href=\"https://www.office.com/?auth=2\">https://www.office.com/?auth=2</a></p>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GVAobP.png\" alt=\"20210704100827\" />\n</li>\n</ul>\n<hr>\n<h3 id=\"举栗与推荐\">举栗与推荐</h3>\n<ul>\n<li>\n<p>我的一个微软账号订阅是 <code>Microsoft Office365 A1</code> ,就是最普通的教育版,学校通过申请但没购买更高级的服务.</p>\n<ol>\n<li>\n<p>并没有桌面 office 使用权,只能用上图那种网页版的 (A1 pro 可以用桌面版)</p>\n</li>\n<li>\n<p>有 1~5T OneDrive 空间(具体多大没试过),上面有管理员管着,账号好坏存亡得看管理员和母账号是否安稳.</p>\n</li>\n</ol>\n</li>\n</ul>\n<blockquote>\n<p><a href=\"https://baijiahao.baidu.com/s?id=1629077774897211140&amp;wfr=spider&amp;for=pc\">Office2019 与 office365 有什么区别？有些人还蒙在鼓里！</a></p>\n</blockquote>\n<blockquote>\n<p><a href=\"https://shikey.com/2019/12/24/office365-versions-a1-a1p-e3-etc.html\">OFFICE365 各版本、A1、A1P、E3、E5 等版本科普</a></p>\n</blockquote>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h3 id=\"OneDrive\">OneDrive</h3>\n<blockquote>\n<p>官网下载: <a href=\"https://www.microsoft.com/zh-cn/microsoft-365/onedrive/download\">https://www.microsoft.com/zh-cn/microsoft-365/onedrive/download</a></p>\n</blockquote>\n<h4 id=\"打不开\">打不开</h4>\n<blockquote>\n<p><a href=\"https://zhuanlan.zhihu.com/p/343335173\">OneDrive 无法打开的原因</a></p>\n</blockquote>\n<hr>\n<h4 id=\"硬盘错误\">硬盘错误</h4>\n<blockquote>\n<p>在重分析点缓冲区中的标记无效 0x80071129</p>\n</blockquote>\n<ul>\n<li>\n<p>在 OneDrive 同步时网咯出了问题,然后这个文件夹就卡 bug 了,尝试过一下方法删除:</p>\n<ul>\n<li>\n<p>直接删</p>\n</li>\n<li>\n<p>垃圾清理</p>\n</li>\n<li>\n<p>各种解除占用,文件夹粉碎</p>\n</li>\n<li>\n<p>右键硬盘 -&gt; 属性 -&gt; 工具 -&gt; 查错 -&gt; 重启 (<a href=\"https://blog.csdn.net/COCO56/article/details/108634554\">win10 系统在重分析点缓冲区中的标记无效 的解决方法</a>)</p>\n</li>\n<li>\n<p>进安全模式删除</p>\n</li>\n<li>\n<p>进 PE 删除</p>\n</li>\n<li>\n<p>修复模式命令行删除</p>\n</li>\n</ul>\n<hr>\n</li>\n<li>\n<p>通通不行,后来发现 Windows 有自带修复命令,试了试:</p>\n<blockquote>\n<p><a href=\"https://www.disktool.cn/content-center/command-prompt-check-disk-6540.html\">在 Windows 中使用磁盘修复命令 CHKDSK 检查并修复磁盘错误</a></p>\n</blockquote>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">chkdsk E: /f</span><br></pre></td></tr></table></figure>\n<p>然后会问占用问题,直接输 Y,很快就好了!</p>\n</li>\n</ul>\n<hr>\n<h4 id=\"无法登陆\">无法登陆</h4>\n<blockquote>\n<p>我们无法连接你。我们似乎无法立即连接到其中一项服务。请稍后再试<br>\nOneDrive 请检查你的网络设置 [2603] 0x8004e4c3</p>\n</blockquote>\n<blockquote>\n<p>只要 <a href=\"http://login.microsoftonline.com\">login.microsoftonline.com</a> 经过代理软件了，无论是直连 还是走代理，都会出错 <sup id='cite_ref-1'><a href=\"#cite_note-1\">[1]</a></sup></p>\n</blockquote>\n<p>里面所说的修改注册表/TLS/重装重置之类的都无效, 亲测有效的是关掉代理软件或者在绕过列表里添加此域名:</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">bypass:</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"string\">&quot;login.microsoftonline.com&quot;</span></span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"OneNote\">OneNote</h3>\n<blockquote>\n<p>官网下载: <a href=\"https://www.onenote.com/download?omkt=zh-CN\">https://www.onenote.com/download?omkt=zh-CN</a></p>\n</blockquote>\n<p>单独安装的, 不会装上 office 全家桶.</p>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"其他软件问题\">其他软件问题</h2>\n<h3 id=\"utools-剪切板打不开\">utools-剪切板打不开</h3>\n<p>个人是在重装系统后,恢复数据遇到的此问题</p>\n<p>删掉里面所欲东西 <code>$env:APPDATA\\uTools\\clipboard-data\\</code></p>\n<hr>\n<h3 id=\"压缩包内容异常\">压缩包内容异常</h3>\n<ul>\n<li>\n<p>今天下载了一个压缩包(原本大小 163M,带密码),打开之后是这样：</p>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GVAmah.png\" alt=\"20210627201846\" />\n</li>\n<li>\n<p>尝试解压,没问我密码,解压出来也是长这样的,我以为是下载时数据传输错误,重新下载了一遍,结果仍然是这样…</p>\n</li>\n<li>\n<p>于是尝试换软件打开压缩包 -&gt; <code>7z</code>,太对了,正常打开了!(所以应该是系统自带的解压功能有问题)</p>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GVm5Kt.png\" alt=\"20210627202415\" />\n</li>\n</ul>\n<hr>\n<h3 id=\"人工桌面-鹿鸣-卡顿\">人工桌面-鹿鸣-卡顿</h3>\n<p>时不时导致整个系统和所有软件异常卡顿, 而 CPU 占用也并不高</p>\n<p>大概率是 ms 运行库有问题, 安装里面自带的 VC_redist.x64 和 vcredist2013_x64, 安装后还是不行的话再试试 <a href=\"https://www.ghxi.com/yxkhj.html\">果壳剥壳的</a></p>\n<hr>\n<h3 id=\"虚拟机代理不通\">虚拟机代理不通</h3>\n<ul>\n<li>\n<p>win 下开了个虚拟机,本想着让本机代理虚拟机网络,结果不知为什么一直不通:</p>\n<p>本机能连到虚拟机,但是虚拟机连不到本机,一直 ping 不通</p>\n</li>\n<li>\n<p>那么,有可能是下面这个问题:</p>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GVAUuz.png\" alt=\"20210805182546\" />\n</li>\n<li>\n<p>坑了好久啊!!!</p>\n</li>\n</ul>\n<hr>\n<h3 id=\"打字首字母变英文\">打字首字母变英文</h3>\n<blockquote>\n<p>windows 打字总吞字母/会把后面的字吃掉/首个字母被额外作为英文直接输出/默认中文输入法打字第一个字首字母会以英文形式出现</p>\n</blockquote>\n<p>直接卸载搜狗输入法, 数据全清掉然后重启, 用微软输入法就没这个问题了</p>\n<p>不知道后面再重新装上会不会再复现</p>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"各种路径\">各种路径</h2>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">名称</th>\n<th style=\"text-align:center\">路径</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">字体</td>\n<td style=\"text-align:center\"><code>~\\AppData\\Local\\Microsoft\\Windows\\Fonts</code></td>\n</tr>\n<tr>\n<td style=\"text-align:center\">壁纸/主题</td>\n<td style=\"text-align:center\"><code>~\\AppData\\Local\\Microsoft\\Windows\\Themes</code></td>\n</tr>\n<tr>\n<td style=\"text-align:center\">开始菜单</td>\n<td style=\"text-align:center\"><code>C:\\ProgramData\\Microsoft\\Windows\\Start Menu\\Programs</code></td>\n</tr>\n<tr>\n<td style=\"text-align:center\">默认应用-卸载残留</td>\n<td style=\"text-align:center\"><code>regedit://HKEY_LOCAL_MACHINE\\SOFTWARE\\RegisteredApplications</code></td>\n</tr>\n</tbody>\n</table>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"声音配置\">声音配置</h2>\n<p>关于如何获得动听的声音…</p>\n<h3 id=\"驱动\">驱动</h3>\n<ul>\n<li>\n<p>如果你更新了一下驱动或者换了个耳机后,音效不堪入耳,那么检查一下这里是不是 <code>耳机</code></p>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GVP93A.png\" alt=\"20211126204114\" />\n</li>\n</ul>\n<h3 id=\"酷狗\">酷狗</h3>\n<ul>\n<li>\n<p>这个品牌当然会有很多诟病的地方,但是它的音效增强是在是强,尤其可以全局</p>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GV4RzT.png\" alt=\"20211126204303\" />\n</li>\n</ul>\n<h3 id=\"系统设置\">系统设置</h3>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GVLzdK.png\" alt=\"20211126204420\" />\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"windows-防火墙通知\">windows-防火墙通知</h2>\n<ul>\n<li>\n<p>关掉防火墙后总是弹出通知让我打开它,没完没了</p>\n<p>下面两方法亲测无效… 可惜还没找到可行的方法.</p>\n<p><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/RFnI9E.png\" alt=\"RFnI9E.png\"><br>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GhEgqX.png\" alt=\"\"><br>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GhEYPP.png\" alt=\"\"></p>\n<hr>\n<p><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GhJ9bP.png\" alt=\"\"></p>\n</li>\n</ul>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"系统-驱动问题\">系统-驱动问题</h2>\n<h3 id=\"窗口逸出\">窗口逸出</h3>\n<ul>\n<li>\n<p>之前弄了个副屏,有些应用窗口在副屏中打开</p>\n</li>\n<li>\n<p>于是,在不装副屏时,那些窗口打开时还是在那个位置,而且摸不到他们没法拖过来…</p>\n</li>\n<li>\n<p>解决方案</p>\n<ol>\n<li>\n<p><kbd>alt</kbd> + <kbd>Tab</kbd> 切换到那个窗口.</p>\n</li>\n<li>\n<p><kbd>alt</kbd> + <kbd>space</kbd> 切出窗口菜单,选择最大化</p>\n</li>\n<li>\n<p>=&gt; <code>解决</code>!</p>\n</li>\n</ol>\n</li>\n</ul>\n<hr>\n<h3 id=\"USB-自动掉设备\">USB-自动掉设备</h3>\n<blockquote>\n<p>由于部分或不明确的设备匹配，无法从以前的 OS 安装迁移 USB\\VID_05E3&amp;PID_0616\\6&amp;292c134&amp;0&amp;6 的设备设置。 <br>\n已删除设备 USB\\VID_05E3&amp;PID_0616\\6&amp;292C134&amp;0&amp;6。 <br>\n由于该设备有问题，Windows 已将其停止。 (代码 43) <br>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/oxmo55.png\" alt=\"\"></p>\n</blockquote>\n<p>大概情况就是我有个外接 USB 硬盘盒, 但是它总是会自己断开, 卸载设备/更新驱动/重新插拔也没效果</p>\n<p>显然是 windows 自动装的驱动有问题, 我个人使用的情况是: USB 硬盘盒 -&gt; USB 拓展坞 -&gt; 电脑 USB 接口</p>\n<p>通过拓展坞中介后安装的硬盘盒驱动不对, 我给它直接插到电脑 USB 接口上让 windows 重装驱动后, 再给插回到拓展坞上就好了</p>\n<hr>\n<h4 id=\"外接硬盘盒频繁自动断电\">外接硬盘盒频繁自动断电</h4>\n<p><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/oxmaVh.png\" alt=\"\"></p>\n<p>同样在设备管理器也能设置, 还以为是硬盘盒本身问题…</p>\n<p>关掉前是闲置 1 分钟左右就会断, 关掉后大概是 5~10 分钟断</p>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h3 id=\"显卡问题\">显卡问题</h3>\n<h4 id=\"颜色配置\">颜色配置</h4>\n<p>LSP mode : on</p>\n<p>改进多次的色板 (HDR:OFF，开了的话色彩很怪</p>\n<p>离人类默认视角越来越远了。。</p>\n<h5 id=\"NVIDIA\">NVIDIA</h5>\n<ul>\n<li>\n<details>\n  <summary> 前后对比一下 </summary>\n<hr>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GVaEim.png\" alt=\"1633272756273\" />\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GV3431.png\" alt=\"1633272761799\" />\n</details>\n</li>\n<li>\n<p>面板</p>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GVJ43Q.png\" alt=\"1633272772176\" />\n</li>\n</ul>\n<h5 id=\"AMD\">AMD</h5>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GVLhYY.png\" alt=\"20220126193700\" />\n<hr>\n<h4 id=\"system-进程占用高问题\">system-进程占用高问题</h4>\n<p><code>NVIDIA FrameView SDK service</code>这个坑服务, 会导致 system 进程出现一个占用 CPU 特别高的线程 <sup id='cite_ref-3'><a href=\"#cite_note-3\">[3]</a></sup></p>\n<p>禁用就对了, 没影响</p>\n<h4 id=\"AMD-驱动适配问题\">AMD-驱动适配问题</h4>\n<blockquote>\n<p>whql-amd-software-adrenalin-edition-23.9.2-win10-win11-sep19-vega-polaris.exe</p>\n</blockquote>\n<p>警记-这个歇逼驱动不适配系统-会在开机后才启动-导致系统和软件延迟加载</p>\n<p>要装 ASUS 给的 Graphic_DriverOnly_ROG_AMD_Z_V30.0.14018.15002_27955_3.exe</p>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h3 id=\"手机热点电脑开静态-ip\">手机热点电脑开静态 ip</h3>\n<ul>\n<li>\n<p>用 ipconfig 拿到地址</p>\n<figure class=\"highlight nestedtext\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">无线局域网适配器 WLAN</span><span class=\"punctuation\">:</span></span><br><span class=\"line\"><span class=\"punctuation\"></span></span><br><span class=\"line\">  <span class=\"attribute\">连接特定的 DNS 后缀 . . . . . . . </span><span class=\"punctuation\">:</span></span><br><span class=\"line\">  <span class=\"attribute\">IPv4 地址 . . . . . . . . . . . .</span><span class=\"punctuation\"> :</span> <span class=\"string\">192.168.43.1</span></span><br><span class=\"line\">  <span class=\"attribute\">子网掩码  . . . . . . . . . . . .</span><span class=\"punctuation\"> :</span> <span class=\"string\">255.255.255.0</span></span><br><span class=\"line\">  <span class=\"attribute\">默认网关. . . . . . . . . . . . .</span><span class=\"punctuation\"> :</span> <span class=\"string\">192.168.43.72</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/oJbLjQ.png\" alt=\"\"></p>\n<p>注意可能会因为 DNS 问题出现一些网页无法访问</p>\n<hr>\n<h3 id=\"数据迁移\">数据迁移</h3>\n<ul>\n<li>\n<p>想把电脑里的歌复制进手机里,拿数据线连上了之后复制</p>\n<p>总是会卡死在某个进度,还得重新开始</p>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GVLQ5T.png\" alt=\"20211012102328\" />\n<p>一番查找发现是因为歌名有的含有特殊字符</p>\n<p>在<code>跨设备迁移</code>或者<code>压缩(Win自带)</code>时文件名无法被正常解析</p>\n<hr>\n</li>\n<li>\n<p>这样的话可以试试换个压缩软件 (7z)</p>\n<p>在电脑上压缩后复制到手机,然后手机解压就可以获取到这种怪名文件了.</p>\n<p>或者使用一些支持的软件,比如用 Anlink 传输</p>\n</li>\n</ul>\n<hr>\n<h3 id=\"无法睡眠\">无法睡眠</h3>\n<figure class=\"highlight apache\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">powercfg</span> -a</span><br><span class=\"line\"><span class=\"attribute\">powercfg</span> /devicequery wake_armed</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attribute\">powercfg</span> -h <span class=\"literal\">on</span></span><br><span class=\"line\"><span class=\"attribute\">powercfg</span> /h /size <span class=\"number\">50</span></span><br><span class=\"line\"><span class=\"attribute\">powercfg</span> -attributes SUB_SLEEP <span class=\"number\">25</span>DFA149-<span class=\"number\">5</span>DD1-<span class=\"number\">4736</span>-B5AB-E8A37B5B8187 -ATTRIB_HIDE</span><br></pre></td></tr></table></figure>\n<p>假装睡眠 (就只是黑屏, 实际还是一直运行, 系统固件不支持此待机状态) -&gt; Windows 本身 bug</p>\n<p>我用 <code>Mydock Finder 的睡眠键</code> 就可以进入睡眠 (s3 除了内存全都停止运行, 而且 s123 都不支持, 只开启了休眠)</p>\n<h3 id=\"AMD-2\">AMD</h3>\n<h4 id=\"芯片组驱动问题\">芯片组驱动问题</h4>\n<p>系统启动后延迟加载，影响其他驱动在进系统后都还没加载，包括 USB</p>\n<p>之前怀疑了好几个月扩展坞/奥创/ASUS 管家/AMD 显卡驱动(芯片组驱动确实是显驱附带更新的)</p>\n<p>卸载途径也藏得深，DDU 卸不掉这个，控制面板里也没这个，得去设备管理器找</p>\n<p>卸载完让 Windows 更新安装默认的旧版本就好了</p>\n<p><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/oDhYg0.png\" alt=\"oDhYg0.png\"></p>\n<hr>\n<h4 id=\"看网页视频就掉频\">看网页视频就掉频</h4>\n<p>打开网页的视频 (B 站 / YouTube), 直接掉频到 0.4GHz, 卡到树莓派都不如的样子</p>\n<p>用 CPU-Z 看了下, 是 CPU 电压在打开视频后掉到了 0.7V 左右</p>\n<p><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/cpuz_x64_1fAasu6LOR.png\" alt=\"\"></p>\n<p>看网上没人提这个, 我实际查到的原因是 <code>CPU 睿频</code> 导致的</p>\n<p>使用什么办法关掉都行, 我用的是 G-helper</p>\n<p>关掉后立竿见影, 频率稳得一批, 实际感受起来: 虽然频率显示上比睿频低, 但更流畅了</p>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"内存问题\">内存问题</h2>\n<p><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/oI6yxh.png\" alt=\"oI6yxh.png\"></p>\n<p>这内存炸的着实逆天, 关于要不要继续使用 <code>Mem Reduct</code> 这种内存清理软件, 学习分析了下, 记一下经验</p>\n<p>先上总结: <code>停止一切清内存的软件</code>, 不仅不加速还天天折磨 SSD 寿命</p>\n<p>目前的内存清理, 一般逻辑是 malloc 一下, 使系统进行压缩内存/转到虚拟内存(下称 Swap), 扩出来更多物理内存空间 (另外各种 xxx 管家也有白名单式杀流氓进程的做法, emmm 一般用不到)</p>\n<p>这种做法对于还没打开的程序, 有大量闲置物理空间可以直接用, 显然是启动速度快了些(运行速度基本无差别)</p>\n<p>但是对于正在运行/后台挂着的程序, 被压缩/转进 Swap 后再转回来运行的 IO 压力和延迟都非常非常大</p>\n<p>这也就导致了, 让人明显感知到: 明明内存还剩一大截呢, CPU 也不高, 怎么这么卡/经典的程序无响应/一开新软件就爆内存</p>\n<ol>\n<li>有的软件吃物理内存狠, 比如 steam/qq/微信, 但不怎么吃 Swap\n<ol>\n<li>其实这种后台挂机类型的软件这么干并不厚道, 通称占茅坑不拉屎的 app</li>\n</ol>\n</li>\n<li>有的软件吃 Swap 非常狠, 典型的是 Chromium 内核的所有程序\n<ol>\n<li>浏览器/Vscode 以及 Jetbrains 全家桶, 通称 Swap 炸弹</li>\n<li>(无论你物理内存多大, 我都要啃你一口 Swap)</li>\n</ol>\n</li>\n<li>还有类最坑的老赖, 来的时候签下 1G 的借条, 走了甩下 10G 的账\n<ol>\n<li>(内存泄露导致, 这种老赖也基本都是 Swap 炸弹, 带有插件/Mod 功能的程序一般都是)</li>\n<li>日常使用时系统会被动地把泄露的垃圾内存处理到 Swap, 一旦 Swap 快堆满了我们就会觉得卡爆了</li>\n</ol>\n</li>\n<li>对于游戏来说, 因为性能压力很大, 所以厂商一般对内存泄漏严格测试管控 (也有例外: 老滚 Mod/城市天际线/I 社), 而微信 QQ 这种占用压力不高的 吃起内存来就不太讲究了</li>\n</ol>\n<p>mac 总体来说内存管理比 win 强在对一三的控制好, 能更合理些的把不拉屎的赶到 Swap, 语言生态发展晚 内存泄露也更少些 (跨平台的 App 其实一个德行, 比如 Docker/Edge/Vscode)</p>\n<p>Swap 空间要开多大够用:</p>\n<ol>\n<li>win: 物理内存大小的 100~200%\n<ol>\n<li>至少 1 倍留给那些 Swap 炸弹以及一些游戏, 不然它们真打不开</li>\n<li>2 倍空间是预留给内存泄露的, 免得天天重启也怪麻烦</li>\n<li>更大的话没必要了, 还没用到那时候早就觉得卡爆重启了</li>\n</ol>\n</li>\n<li>Android: 现在主流手机也支持 Swap 内存了, 不建议开启或者开最小的\n<ol>\n<li>手机还不至于因为内存不足而卡顿, 主要是 CPU 顶不住</li>\n<li>因为有一层 JVM 架着, GC 机制很成熟, 厂商也会定制自动清后台机制, 用个几十天不重启毫无问题</li>\n</ol>\n</li>\n</ol>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"借物表\">借物表</h2>\n<p><a name='cite_note-1' href='#cite_ref-1'>[1]</a>: <a href=\"https://github.com/Fndroid/clash_for_windows_pkg/issues/2876\">[Bug]: 开启 clash 后无法登录 onedrive #2876</a></p>\n<p><a name='cite_note-3' href='#cite_ref-3'>[3]</a>: <a href=\"https://zhuanlan.zhihu.com/p/349104738\">win10 20H2 版本，system 异常占用 CPU 问题的解决！</a></p>\n<script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kity@2.0.4/dist/kity.min.js\"></script><script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js\"></script><script defer=\"true\" type=\"text&#x2F;javascript\" src=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js\"></script><link rel=\"stylesheet\" type=\"text&#x2F;css\" href=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css\">",
            "tags": [
                "操作系统",
                "Windows",
                "office"
            ]
        },
        {
            "id": "https://blog.weidows.tech/post/system/system_variable/",
            "url": "https://blog.weidows.tech/post/system/system_variable/",
            "title": "💥系统开发环境配置",
            "date_published": "2020-12-04T03:38:58.000Z",
            "content_html": "<!--\n * @Author: Weidows\n * @Date: 2020-12-04 11:38:58\n * @LastEditors: Weidows\n * @LastEditTime: 2023-04-20 18:36:56\n * @FilePath: \\Blog-private\\source\\_posts\\system\\system_variable.md\n * @Description:\n-->\n<blockquote class=\"pullquote mindmap mindmap-md\"><ul>\n<li><a href=\"#%E6%B7%B1%E5%85%A5%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F\">深入环境变量</a>\n<ul>\n<li><a href=\"#%E5%90%AB%E4%B9%89\">含义</a></li>\n<li><a href=\"#%E7%B3%BB%E7%BB%9F%E7%94%A8%E6%88%B7%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F\">系统/用户环境变量</a></li>\n<li><a href=\"#%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E4%B8%8E-path\">环境变量与 Path</a></li>\n<li><a href=\"#%E4%B8%BE%E4%BE%8B\">举例</a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%90%84%E7%A7%8D%E9%85%8D%E7%BD%AE\">各种配置</a></li>\n</ul>\n</blockquote>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"深入环境变量\">深入环境变量</h2>\n<h3 id=\"含义\">含义</h3>\n<ul>\n<li>\n<p>理解含义很大程度上就能明白自己到底错在哪里,有些问题靠百度很难搜出来,但是真正解决需要的时间可能<code>远小于百度搜的时间</code></p>\n</li>\n<li>\n<p>Windows 系统上一般使用的终端 console 是 cmd(虽然很辣鸡但还是得用它)</p>\n<ul>\n<li>\n<p>这个终端可以直接调用启动<code>.cmd</code>/<code>.bat</code>/<code>.exe</code>这种后缀名的文件</p>\n<ul>\n<li>(你可以在你配置的语言\\bin\\目录下轻易找到 XXX.exe 等等这种文件)</li>\n</ul>\n</li>\n<li>\n<p>如果不输入这种文件的具体路径,终端没法找到这个文件到底在哪里</p>\n</li>\n<li>\n<p>于是环境变量就相当于在 cmd 上登了记,不写路径直接写名字就能启动,比如环境变量设置为<code>你的JDK\\bin\\</code>,然后在 cmd 输入<code>java</code>,cmd 就是去找这个目录下有没有<code>java.exe</code>这种文件,有的话,你就配置成功了!</p>\n</li>\n</ul>\n</li>\n</ul>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h3 id=\"系统-用户环境变量\">系统/用户环境变量</h3>\n<ul>\n<li>\n<p>这个区别在于你的电脑是否是<code>多用户</code></p>\n<ul>\n<li>如果你在用户环境变量配置好了编程环境,那么在 Windows 的另一个用户上无效</li>\n</ul>\n</li>\n<li>\n<p>所以,看个人选择,一般来说是在<code>用户区</code>添加.</p>\n<ul>\n<li>系统环境变量配置好之后需要<code>重启电脑生效</code>.</li>\n</ul>\n</li>\n</ul>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h3 id=\"环境变量与-Path\">环境变量与 Path</h3>\n<ul>\n<li>这个是引用关系,比如 Path 里面的<code>%JAVA_HOME%</code>会引用名为<code>JAVA_HOME</code>的环境变量值</li>\n<li>Path 里面从上到下为优先级,上面的优先级高.</li>\n</ul>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h3 id=\"举例\">举例</h3>\n<ul>\n<li>\n<p>这是华为的 DevEco,安装时会询问是否添加至环境变量,那,添加到环境变量有什么用呢?<br>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GVsqxD.png\" alt=\"20210307160552\" /></p>\n</li>\n<li>\n<p>比如我安装了 VScode,并把 vscode 安装目录它添加环境变量,我们打开一个终端</p>\n<ul>\n<li>\n<p>终端打开的路径是 <code>D:\\Desktop\\</code> ,在这里执行<code>code</code> 指令,终端首先去找 <code>D:\\Desktop\\</code> 这个目录下有没有叫 <code>Code</code>的程序,没有的话再去环境变量的路径找,直到找到箭头所指的 VScode 程序本体</p>\n</li>\n<li>\n<p>命令后面可以跟一些参数,比如<code>code .</code>就是让 VScode 打开当前路径(就是划红线的<code>D:\\Desktop\\</code>)</p>\n</li>\n</ul>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GVsmaQ.png\" alt=\"20210307161139\" />\n</li>\n</ul>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"各种配置\">各种配置</h2>\n<div class=\"tabs\" id=\"node.js\"><ul class=\"nav-tabs\"><li class=\"tab active\"><button type=\"button\" data-href=\"#node.js-1\">Scoop</button></li><li class=\"tab\"><button type=\"button\" data-href=\"#node.js-2\">Node.js</button></li><li class=\"tab\"><button type=\"button\" data-href=\"#node.js-3\">Python</button></li><li class=\"tab\"><button type=\"button\" data-href=\"#node.js-4\">Git</button></li><li class=\"tab\"><button type=\"button\" data-href=\"#node.js-5\">Maven</button></li><li class=\"tab\"><button type=\"button\" data-href=\"#node.js-6\">JDK</button></li></ul><div class=\"tab-contents\"><div class=\"tab-item-content active\" id=\"node.js-1\"><blockquote>\n<p>详见<a href=\"../../tools/Scoop\">🙌Windows 平台软件包管理器选择-Scoop</a></p>\n</blockquote><button type=\"button\" class=\"tab-to-top\" aria-label=\"scroll to top\"><i class=\"fas fa-arrow-up\"></i></button></div><div class=\"tab-item-content\" id=\"node.js-2\"><blockquote>\n<p>详见<a href=\"../../Web/Node/node\">⬆ Node.js 环境配置 &amp;&amp; 使用</a></p>\n</blockquote><button type=\"button\" class=\"tab-to-top\" aria-label=\"scroll to top\"><i class=\"fas fa-arrow-up\"></i></button></div><div class=\"tab-item-content\" id=\"node.js-3\"><ul>\n<li>\n<p>Path 中+</p>\n<figure class=\"highlight moonscript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"name\">D</span>:\\Game\\Scoop\\apps\\python</span><br><span class=\"line\"><span class=\"name\">D</span>:\\Game\\Scoop\\apps\\python\\Scripts\\</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<ul>\n<li>\n<p>建议通过 Scoop 安装 Anaconda, 然后用 Anaconda 安装有关 Python 的所有编程环境.</p>\n<blockquote>\n<p><a href=\"../../others/python/anaconda\">👍Anaconda-Python-水漂浅探池深浅.</a></p>\n</blockquote>\n</li>\n</ul><button type=\"button\" class=\"tab-to-top\" aria-label=\"scroll to top\"><i class=\"fas fa-arrow-up\"></i></button></div><div class=\"tab-item-content\" id=\"node.js-4\"><blockquote>\n<p>用 Scoop 安装自带环境变量,不用配置.</p>\n</blockquote><button type=\"button\" class=\"tab-to-top\" aria-label=\"scroll to top\"><i class=\"fas fa-arrow-up\"></i></button></div><div class=\"tab-item-content\" id=\"node.js-5\"><blockquote>\n<p>内部修改耦合 <a href=\"../../tools/IDEA/Modification#maven\">🎉IDEA 魔改记录.</a></p>\n</blockquote>\n<ul>\n<li>\n<p>环境变量: 用 Scoop 安装不需要手动配置!</p>\n</li>\n<li>\n<p>检查</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">mvn -v</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>VScode 中设置:</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">&quot;java.configuration.maven.globalSettings&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;D:/Game/Scoop/persist/maven/conf/settings.xml&quot;</span><span class=\"punctuation\">,</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>IDEA 中设置也需要覆盖</p>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GVshlQ.png\" alt=\"20210325105220\" />\n</li>\n</ul><button type=\"button\" class=\"tab-to-top\" aria-label=\"scroll to top\"><i class=\"fas fa-arrow-up\"></i></button></div><div class=\"tab-item-content\" id=\"node.js-6\"><blockquote>\n<p>通过 Scoop 安装会自动设置</p>\n</blockquote>\n<ul>\n<li>\n<p>新建<code>JAVA_HOME</code>环境变量值: <code>D:\\Game\\Demo\\AdoptOpenJDK\\</code></p>\n</li>\n<li>\n<p>Path 里面添加: <code>%JAVA_HOME%\\bin</code></p>\n</li>\n<li>\n<p>JDK 创建 jre: 进入 JDK 根目录管理员模式输入(正常 JDK 自带)</p>\n<figure class=\"highlight stylus\"><table><tr><td class=\"code\"><pre><span class=\"line\">bin\\jlink<span class=\"selector-class\">.exe</span> <span class=\"attr\">--module-path</span> jmods <span class=\"attr\">--add-modules</span> java<span class=\"selector-class\">.desktop</span> <span class=\"attr\">--output</span> jre</span><br></pre></td></tr></table></figure>\n</li>\n</ul><button type=\"button\" class=\"tab-to-top\" aria-label=\"scroll to top\"><i class=\"fas fa-arrow-up\"></i></button></div></div></div>\n<script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kity@2.0.4/dist/kity.min.js\"></script><script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js\"></script><script defer=\"true\" type=\"text&#x2F;javascript\" src=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js\"></script><link rel=\"stylesheet\" type=\"text&#x2F;css\" href=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css\">",
            "tags": [
                "备忘录",
                "Python",
                "操作系统",
                "Scoop",
                "Maven",
                "Git",
                "nodejs"
            ]
        },
        {
            "id": "https://blog.weidows.tech/post/system/RaspberryPi/",
            "url": "https://blog.weidows.tech/post/system/RaspberryPi/",
            "title": "树莓派酱の吃灰日常",
            "date_published": "2020-12-03T02:44:06.000Z",
            "content_html": "<h1>树莓派酱の吃灰日常</h1>\n<!--\n * @Author: Weidows\n * @Date: 2020-12-03 10:44:06\n * @LastEditors: Weidows\n * @LastEditTime: 2025-02-12 12:26:04\n * @FilePath: \\Blog-private\\source\\_posts\\system\\RaspberryPi.md\n * @Description:\n-->\n<blockquote class=\"pullquote mindmap mindmap-md\"><ul>\n<li><a href=\"#%E6%A0%91%E8%8E%93%E6%B4%BE%E9%85%B1%E3%81%AE%E5%90%83%E7%81%B0%E6%97%A5%E5%B8%B8\">树莓派酱の吃灰日常</a>\n<ul>\n<li><a href=\"#%E6%97%A0%E5%B1%8F%E5%B9%95%E8%BF%9E%E6%8E%A5\">无屏幕连接</a>\n<ul>\n<li><a href=\"#ssh-%E8%BF%9E%E6%8E%A5\">SSH 连接</a></li>\n<li><a href=\"#vnc-%E8%BF%9E%E6%8E%A5\">VNC 连接</a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%B8%B8%E7%94%A8%E9%85%8D%E7%BD%AE\">常用配置</a>\n<ul>\n<li><a href=\"#screenfetch\">Screenfetch</a></li>\n<li><a href=\"#apt-%E6%8D%A2%E6%BA%90\">apt-换源</a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%86%85%E7%BD%91%E4%BD%BF%E7%94%A8\">内网使用</a>\n<ul>\n<li><a href=\"#smb-%E5%86%85%E7%BD%91%E6%96%87%E4%BB%B6%E5%85%B1%E4%BA%AB\">smb-内网文件共享</a>\n<ul>\n<li><a href=\"#%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE\">安装配置</a></li>\n</ul>\n</li>\n<li><a href=\"#%E8%BF%9E%E6%8E%A5\">连接</a></li>\n<li><a href=\"#%E5%B1%80%E5%9F%9F%E7%BD%91-%E7%BD%91%E7%BA%BF%E8%BF%9E%E6%8E%A5\">局域网-网线连接</a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%BD%A9%E8%89%B2%E7%81%AF%E5%B8%A6\">彩色灯带</a>\n<ul>\n<li><a href=\"#%E7%A1%AC%E4%BB%B6%E8%BF%9E%E6%8E%A5\">硬件连接</a></li>\n<li><a href=\"#%E5%AE%89%E8%A3%85%E5%B7%A5%E5%85%B7%E9%93%BE\">安装工具链</a></li>\n<li><a href=\"#%E5%AE%89%E8%A3%85%E9%A9%B1%E5%8A%A8\">安装驱动</a></li>\n<li><a href=\"#%E4%BF%AE%E6%94%B9%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6\">修改配置文件</a></li>\n<li><a href=\"#%E6%B5%8B%E8%AF%95%E8%BF%90%E8%A1%8C\">测试运行</a></li>\n<li><a href=\"#%E5%A2%9E%E5%BC%BA-%E9%9F%B3%E4%B9%90%E9%A2%91%E8%B0%B1\">增强-音乐频谱</a>\n<ul>\n<li><a href=\"#%E8%A3%85%E7%8E%AF%E5%A2%83\">装环境</a></li>\n<li><a href=\"#%E6%B5%8B%E8%AF%95%E8%BF%90%E8%A1%8C-1\">测试运行</a></li>\n</ul>\n</li>\n<li><a href=\"#%E7%81%AF%E5%B8%A6%E6%A3%80%E6%B5%8B\">灯带检测</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</blockquote>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"无屏幕连接\">无屏幕连接</h2>\n<ul>\n<li>\n<p>刚到手的树莓派裸机没屏幕和 Mini-HDMI 线,用 ssh 连接.</p>\n</li>\n<li>\n<p>首先,用手机或者电脑开热点 (注意只能连 2.4G 频段)</p>\n</li>\n<li>\n<p>然后在桌面新建文件夹<code>树莓派</code>,存放今后需要的数据文件.</p>\n<ul>\n<li>新建文件命名为<code>ssh</code>,注意它没有后缀名和文件数据.</li>\n<li>新建文件命名为 <code>wpa_supplicant.conf</code> ,文件数据如下:</li>\n</ul>\n<figure class=\"highlight abnf\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">country</span><span class=\"operator\">=</span>GB</span><br><span class=\"line\">ctrl_interface<span class=\"operator\">=</span>DIR<span class=\"operator\">=/</span>var/run/wpa_supplicant GROUP<span class=\"operator\">=</span>netdev</span><br><span class=\"line\">update_config<span class=\"operator\">=</span><span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"attribute\">network</span><span class=\"operator\">=</span>&#123;</span><br><span class=\"line\">    ssid<span class=\"operator\">=</span><span class=\"string\">&quot;你的Wifi名称，注意大小写&quot;</span></span><br><span class=\"line\">    psk<span class=\"operator\">=</span><span class=\"string\">&quot;你的Wifi密码&quot;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><a href=\"https://github.com/Weidows/Programming-Configuration/tree/master/others/raspberryPi/boot\">文件链接</a></p>\n</blockquote>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GVAZaM.png\" alt=\"20201203110651\" />\n</li>\n<li>\n<p>用读卡器把树莓派系统 TF 卡插进电脑,把这两个文件复制进内存卡里名叫 <code>boot</code> 的盘符根目录里.</p>\n</li>\n<li>\n<p>开鸡,等会应该就会发现电脑或者手机连接上了,如下:</p>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GV4wUh.png\" alt=\"20201203110842\" />\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GVEkEg.png\" alt=\"Screenshot20201203112505\" width=\"50%\" />\n</li>\n<li>\n<p>然后就可以用 ssh 连接这个 IP 地址了.</p>\n</li>\n</ul>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h3 id=\"SSH-连接\">SSH 连接</h3>\n<ul>\n<li>\n<p>连接三要素是<code>IP地址 + 用户名 + 密码</code></p>\n</li>\n<li>\n<p>树莓派系统默认账号是 <code>pi</code>，密码是 <code>raspberry</code></p>\n</li>\n</ul>\n<blockquote>\n<p>可参照 <a href=\"../../experience/SSH#%E8%87%AA%E5%8A%A8%E6%8C%A1\">✨SSH 远程连接.</a> <br>\n连接后记得改下密码: <a href=\"../../lang/shell/shell#%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86\">💧 一些常用终端命令</a></p>\n</blockquote>\n<hr>\n<h3 id=\"VNC-连接\">VNC 连接</h3>\n<ul>\n<li>没屏幕或者没 Mini-HDMI 线时最佳方案.</li>\n<li>首先<a href=\"https://www.realvnc.com/en/connect/download/viewer\">下载 VNC 软件</a></li>\n<li>安装后打开搜索树莓派的内网 ip,输入用户名连接<br>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GVLgiQ.png\" alt=\"20201204103758\" /><br>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GV4eUC.png\" alt=\"20201204103843\" /></li>\n</ul>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"常用配置\">常用配置</h2>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">树莓派系统设置</span></span><br><span class=\"line\">sudo raspi-config</span><br></pre></td></tr></table></figure>\n<h3 id=\"Screenfetch\">Screenfetch</h3>\n<ul>\n<li>显示系统、主题信息<figure class=\"highlight mipsasm\"><table><tr><td class=\"code\"><pre><span class=\"line\">sudo apt <span class=\"keyword\">install </span><span class=\"keyword\">screenfetch</span></span><br><span class=\"line\"><span class=\"keyword\"></span><span class=\"keyword\">screenfetch</span></span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>这里不用 Neofetch 是因为树莓派 Debian8 系统的 repo 地址需要更新,安装还需要其他操作,怪麻烦~</p>\n</blockquote>\n</li>\n<li>显示 Linux 系统及版本信息,如下:<br>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GVSdqY.png\" alt=\"20201205143342\" /><br>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GVAC9X.png\" alt=\"20201203115807\" /></li>\n</ul>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h3 id=\"apt-换源\">apt-换源</h3>\n<p>sudo nano /etc/apt/sources.list</p>\n<figure class=\"highlight clean\"><table><tr><td class=\"code\"><pre><span class=\"line\">deb http:<span class=\"comment\">//mirrors.ustc.edu.cn/debian bookworm main contrib non-free non-free-firmware</span></span><br><span class=\"line\">deb http:<span class=\"comment\">//mirrors.ustc.edu.cn/debian-security/ bookworm-security main contrib non-free non-free-firmware</span></span><br><span class=\"line\">deb http:<span class=\"comment\">//mirrors.ustc.edu.cn/debian bookworm-updates main contrib non-free non-free-firmware</span></span><br><span class=\"line\"></span><br><span class=\"line\"># Uncomment deb-src lines below then <span class=\"string\">&#x27;apt-get update&#x27;</span> to enable <span class=\"string\">&#x27;apt-get source&#x27;</span></span><br><span class=\"line\">#deb-src http:<span class=\"comment\">//mirrors.ustc.edu.cn/debian bookworm main contrib non-free non-free-firmware</span></span><br><span class=\"line\">#deb-src http:<span class=\"comment\">//mirrors.ustc.edu.cn/debian-security/ bookworm-security main contrib non-free non-free-firmware</span></span><br><span class=\"line\">#deb-src http:<span class=\"comment\">//mirrors.ustc.edu.cn/debian bookworm-updates main contrib non-free non-free-firmware</span></span><br></pre></td></tr></table></figure>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"内网使用\">内网使用</h2>\n<h3 id=\"smb-内网文件共享\">smb-内网文件共享</h3>\n<h4 id=\"安装配置\">安装配置</h4>\n<figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\">sudo apt update &amp;&amp; sudo apt install exfat-fuse exfatprogs ntfs-3g samba samba-common-bin</span><br><span class=\"line\"></span><br><span class=\"line\">dpkg -l | grep -E &quot;exfat|ntfs&quot;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>\n<p>sudo nano /etc/fstab</p>\n<figure class=\"highlight apache\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">UUID</span>=<span class=\"number\">749</span>C-<span class=\"number\">1</span>C4F /mnt/storage exfat defaults,auto,users,rw,nofail,uid=<span class=\"number\">1000</span>,gid=<span class=\"number\">1000</span> <span class=\"number\">0</span> <span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"attribute\">UUID</span>=<span class=\"number\">026815</span>AC5FEFC0F7 /mnt/stack ntfs defaults,auto,users,rw,nofail,uid=<span class=\"number\">1000</span>,gid=<span class=\"number\">1000</span> <span class=\"number\">0</span> <span class=\"number\">0</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>sudo nano /etc/samba/smb.conf</p>\n<figure class=\"highlight pgsql\"><table><tr><td class=\"code\"><pre><span class=\"line\"># 共享 exFAT 硬盘（/dev/sdb1）</span><br><span class=\"line\">[<span class=\"keyword\">storage</span>]</span><br><span class=\"line\"><span class=\"type\">path</span> = /mnt/<span class=\"keyword\">storage</span></span><br><span class=\"line\">browseable = yes</span><br><span class=\"line\"><span class=\"keyword\">read</span> <span class=\"keyword\">only</span> = <span class=\"keyword\">no</span></span><br><span class=\"line\"><span class=\"keyword\">valid</span> users = weidows</span><br><span class=\"line\"><span class=\"keyword\">create</span> mask = <span class=\"number\">0775</span></span><br><span class=\"line\">directory mask = <span class=\"number\">0775</span></span><br><span class=\"line\"></span><br><span class=\"line\"># 共享 NTFS 硬盘（/dev/sda1）</span><br><span class=\"line\">[stack]</span><br><span class=\"line\"><span class=\"type\">path</span> = /mnt/stack</span><br><span class=\"line\">browseable = yes</span><br><span class=\"line\"><span class=\"keyword\">read</span> <span class=\"keyword\">only</span> = <span class=\"keyword\">no</span></span><br><span class=\"line\"><span class=\"keyword\">valid</span> users = weidows</span><br><span class=\"line\"><span class=\"keyword\">create</span> mask = <span class=\"number\">0775</span></span><br><span class=\"line\">directory mask = <span class=\"number\">0775</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> smbpasswd -a weidows</span><br><span class=\"line\"><span class=\"built_in\">sudo</span> systemctl restart smbd</span><br></pre></td></tr></table></figure>\n<h3 id=\"连接\">连接</h3>\n<p>windows 直接在资源管理器输入内网地址 <code>\\\\192.168.xxx.xxx</code>, 不建议用 mac 连, 会出现很多.DS_Store 文件</p>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h3 id=\"局域网-网线连接\">局域网-网线连接</h3>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> apt update</span><br><span class=\"line\"><span class=\"built_in\">sudo</span> apt install dhcpcd5</span><br><span class=\"line\"><span class=\"built_in\">sudo</span> systemctl <span class=\"built_in\">enable</span> dhcpcd</span><br><span class=\"line\"><span class=\"built_in\">sudo</span> systemctl start dhcpcd</span><br><span class=\"line\"><span class=\"built_in\">sudo</span> systemctl restart dhcpcd</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 在电脑上看好DHCP掩码网段, 一般是255.255.0.0, 所以前两位需要跟电脑上显示一致</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">sudo</span> nano /etc/dhcpcd.conf</span><br><span class=\"line\"></span><br><span class=\"line\">interface enxb827ebeb0a18</span><br><span class=\"line\">static ip_address=169.254.135.223/16</span><br><span class=\"line\">nohook wpa_supplicant</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">sudo</span> nano /etc/sysctl.conf</span><br><span class=\"line\">net.ipv4.ip_forward=1</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">sudo</span> sysctl -p</span><br></pre></td></tr></table></figure>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"分割线\"></a></p>\n<h2 id=\"彩色灯带\">彩色灯带</h2>\n<h3 id=\"硬件连接\">硬件连接</h3>\n<p>本人用的 pi 3B/4B, WS2812B 型号灯带, 分三根线(颜色可能并不一致,红黑绿白)</p>\n<p>淘宝买条杜邦共对母口线, 直接拿小刀豁开绝缘皮插也行</p>\n<ul>\n<li>\n<p>这里只是做的临时序号,GPIO 并不是这么排的, <code>此处只用第一行</code></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">_____________________</span><br><span class=\"line\">| 1 2 3 4 5 6 7 ....</span><br><span class=\"line\">| 1 2 3 4 5 6 7 ....</span><br><span class=\"line\">|</span><br><span class=\"line\">|        CPU</span><br><span class=\"line\">|</span><br><span class=\"line\">_____________________</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>接线</p>\n<p>一般都有红线,+5V, 接 2</p>\n<p>中间的线是信号线,接 6</p>\n<p>另一根是 GND,接 3</p>\n</li>\n</ul>\n<hr>\n<h3 id=\"安装工具链\">安装工具链</h3>\n<figure class=\"highlight mipsasm\"><table><tr><td class=\"code\"><pre><span class=\"line\">sudo apt-get -y <span class=\"keyword\">install </span>python3-pip git</span><br><span class=\"line\">sudo pip <span class=\"keyword\">install </span>rpi-ws281x --<span class=\"keyword\">break-system-packages</span></span><br><span class=\"line\"><span class=\"keyword\"></span></span><br><span class=\"line\">sudo apt -y <span class=\"keyword\">install </span><span class=\"keyword\">scons </span><span class=\"keyword\">swig</span></span><br><span class=\"line\"><span class=\"keyword\"></span></span><br></pre></td></tr></table></figure>\n<h3 id=\"安装驱动\">安装驱动</h3>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> pip install rpi-ws281x</span><br></pre></td></tr></table></figure>\n<ul>\n<li>\n<p>很有可能并不能生效 (ModuleNotFoundError: No module named ‘rpi_ws281x’),需要下载编译源码</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">git <span class=\"built_in\">clone</span> https://github.com/jgarff/rpi_ws281x.git</span><br><span class=\"line\"><span class=\"built_in\">cd</span> rpi_ws281x</span><br><span class=\"line\">scons</span><br><span class=\"line\"><span class=\"built_in\">cd</span> ./python/</span><br><span class=\"line\"><span class=\"built_in\">sudo</span> python3 ./setup.py install</span><br></pre></td></tr></table></figure>\n<hr>\n<ul>\n<li>\n<p>上面不要这样写,会报错 : <s>sudo python ./python/setup.py install</s></p>\n<figure class=\"highlight vim\"><table><tr><td class=\"code\"><pre><span class=\"line\">running install</span><br><span class=\"line\">running bdist_egg</span><br><span class=\"line\">running egg_info</span><br><span class=\"line\">creating rpi_ws281x.egg-info</span><br><span class=\"line\">writing rpi_ws281x.egg-info/PKG-INFO</span><br><span class=\"line\">writing top-level names <span class=\"keyword\">to</span> rpi_ws281x.egg-info/top_level.txt</span><br><span class=\"line\">writing dependency_links <span class=\"keyword\">to</span> rpi_ws281x.egg-info/dependency_links.txt</span><br><span class=\"line\">writing manifest <span class=\"keyword\">file</span> <span class=\"string\">&#x27;rpi_ws281x.egg-info/SOURCES.txt&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">file</span> neopixel.<span class=\"keyword\">py</span> (<span class=\"keyword\">for</span> module neopixel) not found</span><br><span class=\"line\">reading manifest <span class=\"keyword\">file</span> <span class=\"string\">&#x27;rpi_ws281x.egg-info/SOURCES.txt&#x27;</span></span><br><span class=\"line\">writing manifest <span class=\"keyword\">file</span> <span class=\"string\">&#x27;rpi_ws281x.egg-info/SOURCES.txt&#x27;</span></span><br><span class=\"line\">installing library code <span class=\"keyword\">to</span> build/bdist.linux-armv7l/egg</span><br><span class=\"line\">running install_lib</span><br><span class=\"line\">running build_py</span><br><span class=\"line\"><span class=\"keyword\">file</span> neopixel.<span class=\"keyword\">py</span> (<span class=\"keyword\">for</span> module neopixel) not found</span><br><span class=\"line\"><span class=\"keyword\">file</span> neopixel.<span class=\"keyword\">py</span> (<span class=\"keyword\">for</span> module neopixel) not found</span><br><span class=\"line\">running build_ext</span><br><span class=\"line\">building <span class=\"string\">&#x27;_rpi_ws281x&#x27;</span> extension</span><br><span class=\"line\">swigging rpi_ws281x.i <span class=\"keyword\">to</span> rpi_ws281x_wrap.<span class=\"keyword\">c</span></span><br><span class=\"line\">swig -<span class=\"keyword\">python</span> -<span class=\"keyword\">o</span> rpi_ws281x_wrap.<span class=\"keyword\">c</span> rpi_ws281x.i</span><br><span class=\"line\">Unable <span class=\"keyword\">to</span> <span class=\"keyword\">find</span> <span class=\"keyword\">file</span> <span class=\"string\">&#x27;rpi_ws281x.i&#x27;</span>.</span><br><span class=\"line\">error: <span class=\"keyword\">command</span> <span class=\"string\">&#x27;swig&#x27;</span> failed with <span class=\"keyword\">exit</span> status <span class=\"number\">1</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h3 id=\"修改配置文件\">修改配置文件</h3>\n<ul>\n<li>\n<p>用 nano/vim 或者 Kate 打开修改</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> nano ./examples/strandtest.py</span><br></pre></td></tr></table></figure>\n<p>需要改两处:</p>\n<ol>\n<li>依赖 import 处添加</li>\n</ol>\n<figure class=\"highlight angelscript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> neopixel <span class=\"keyword\">import</span> *</span><br></pre></td></tr></table></figure>\n<ol start=\"2\">\n<li>LED 灯珠数(根据灯带实际数量)</li>\n</ol>\n<hr>\n</li>\n<li>\n<p>把这个文件复制出来 (不然不能运行)</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> <span class=\"built_in\">cp</span> ./examples/strandtest.py .</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h3 id=\"测试运行\">测试运行</h3>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> python3 ./strandtest.py</span><br></pre></td></tr></table></figure>\n<ul>\n<li>\n<p>在公司第一次跑起来的样子</p>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/GV3c6Y.png\" alt=\"1632587136736\" />\n</li>\n</ul>\n<hr>\n<h3 id=\"增强-音乐频谱\">增强-音乐频谱</h3>\n<p>首先搞一下硬件: 树莓派没有板载输入声卡,<code>需要 USB 免驱声卡 + 3.5mm有线可录音耳机</code> (调查了一番没有替代方案)</p>\n<p>可以去买一个拓展坞,有的会附带 (当时我都缺,正好可以一刀切)</p>\n<h4 id=\"装环境\">装环境</h4>\n<figure class=\"highlight q\"><table><tr><td class=\"code\"><pre><span class=\"line\">sudo apt-<span class=\"built_in\">get</span> install portaudio19-<span class=\"built_in\">dev</span> libatlas-base-<span class=\"built_in\">dev</span></span><br><span class=\"line\"><span class=\"comment\">// 一定注意是pip3安装! 不是pip; 运行时也必须是 python3</span></span><br><span class=\"line\">sudo pip3 install numpy scipy pyqtgraph pyaudio</span><br></pre></td></tr></table></figure>\n<h4 id=\"测试运行-2\">测试运行</h4>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">git <span class=\"built_in\">clone</span> https://github.com/scottlawsonbc/audio-reactive-led-strip.git</span><br><span class=\"line\"><span class=\"built_in\">sudo</span> python3 audio-reactive-led-strip/python/visualization.py</span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"灯带检测\">灯带检测</h3>\n<p>灯带是否损坏可以一头接上+5V + GND, 在另一头短接试试</p>\n<p>如果树莓派重启,则说明灯带电源没问题,要是不能亮的话就是信号线有问题或者电压不足</p>\n<script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kity@2.0.4/dist/kity.min.js\"></script><script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js\"></script><script defer=\"true\" type=\"text&#x2F;javascript\" src=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js\"></script><link rel=\"stylesheet\" type=\"text&#x2F;css\" href=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css\">",
            "tags": [
                "树莓派",
                "服务器"
            ]
        },
        {
            "id": "https://blog.weidows.tech/post/system/about_system/",
            "url": "https://blog.weidows.tech/post/system/about_system/",
            "title": "关于安装系统硬盘&引导那些事",
            "date_published": "2020-08-23T12:49:52.000Z",
            "content_html": "<!--\n * @Author: Weidows\n * @Date: 2020-08-23 20:49:52\n * @LastEditors: Weidows\n * @LastEditTime: 2021-02-13 17:18:53\n * @FilePath: \\Weidowsd:\\Game\\Github\\Blog-private\\source\\_posts\\system\\about_system.md\n-->\n<ul>\n<li><a href=\"#%E5%89%8D%E8%A8%80\">前言</a></li>\n<li><a href=\"#%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C\">准备工作</a></li>\n<li><a href=\"#%E5%A4%87%E4%BB%BD%E5%B7%A5%E4%BD%9C\">备份工作</a></li>\n<li><a href=\"#%E4%B8%A4%E7%A7%8D%E5%90%AF%E5%8A%A8%E6%96%B9%E5%BC%8F\">两种启动方式</a>\n<ul>\n<li><a href=\"#%E4%BC%A0%E7%BB%9F-bios-%E5%90%AF%E5%8A%A8legacy-%E5%90%AF%E5%8A%A8\">传统 Bios 启动(legacy 启动)</a></li>\n<li><a href=\"#uefi-%E6%A8%A1%E5%BC%8F%E5%90%AF%E5%8A%A8efi-%E5%90%AF%E5%8A%A8\">UEFI 模式启动(EFI 启动)</a></li>\n</ul>\n</li>\n<li><a href=\"#%E7%A1%AC%E7%9B%98%E6%A0%BC%E5%BC%8F%E7%AE%80%E4%BB%8B\">硬盘格式简介</a></li>\n<li><a href=\"#%E4%B8%A4%E7%A7%8D%E7%A1%AC%E7%9B%98%E6%A0%BC%E5%BC%8F\">两种硬盘格式</a>\n<ul>\n<li><a href=\"#gpt-%E6%A0%BC%E5%BC%8F\">GPT 格式</a></li>\n<li><a href=\"#mbr-%E6%A0%BC%E5%BC%8F\">MBR 格式</a></li>\n</ul>\n</li>\n<li><a href=\"#%E4%B8%8A%E6%9C%BA%E6%93%8D%E4%BD%9C\">上机操作</a></li>\n<li><a href=\"#%E9%97%B2%E6%9D%82%E9%97%AE%E9%A2%98\">闲杂问题</a></li>\n</ul>\n<h2 id=\"前言\">前言</h2>\n<ul>\n<li>此文不太适合纯小白,对电脑系统方面一无所知的请及时退出</li>\n<li>最好准备好充足时间来看这篇文章,此篇文章会给你带来重启电脑至少 100 次的经验;</li>\n</ul>\n<hr>\n<h2 id=\"准备工作\">准备工作</h2>\n<ul>\n<li>硬件设备:\n<ul>\n<li>电脑,一个 U 盘(8G 完全够用,也可以用读卡器+SD 卡替代)</li>\n</ul>\n</li>\n<li>软件:\n<ol>\n<li>rufus(制作启动盘用,这个 win 和 linux 都支持)</li>\n<li>分区助手或 diskgenius(分盘符用)</li>\n<li>自己准备安装的系统的镜像文件(ISO 格式,其他格式的需要特定的安装器安装,自行百度,在此不一一赘述)</li>\n</ol>\n</li>\n</ul>\n<hr>\n<h2 id=\"备份工作\">备份工作</h2>\n<p><strong>把自己所有盘里的重要资料尽量备份,一定要做好背水一战的觉悟</strong></p>\n<hr>\n<h2 id=\"两种启动方式\">两种启动方式</h2>\n<h3 id=\"传统-Bios-启动-legacy-启动\">传统 Bios 启动(legacy 启动)</h3>\n<ul>\n<li>\n<p>硬盘分区简单明确,只要分出来足够大的分区(如 C 盘,D 盘…),用安装器把系统安装进去,基本就完成安装了,安装时会自动在这个硬盘的某个[神秘]的地方添加一条引导记录(如果记录被改或删的话,就算系统完好也不会启动)</p>\n</li>\n<li>\n<p>如果 MBR 硬盘下的 Windows 系统无法启动,且不想重装系统,用 NTBOOTautofix</p>\n</li>\n<li>\n<p>另外,对于 Windows,网上有 UEFI+Bios 引导修复工具,可以通用</p>\n</li>\n</ul>\n<h3 id=\"UEFI-模式启动-EFI-启动\">UEFI 模式启动(EFI 启动)</h3>\n<ul>\n<li>\n<p>当前&quot;高新&quot;电脑普遍使用的模式,特点是开机时按某个键(不同电脑不一样)进入 bios 界面很好看(从 2012 年以后的主板都支持 UEFI 了,只不过这种&quot;高新&quot;的默认就是 UEFI);</p>\n</li>\n<li>\n<p>当前来说主板都支持 UEFI,可以通过 Bios 界面 Boot&gt;&gt;Launch CSM 的开关来改变启动方式</p>\n<ul>\n<li>这里不懂的可以百度关键词&quot;Bios 修改启动模式&quot;</li>\n</ul>\n</li>\n<li>\n<p>这里 CSM 设置为 enable 就是开启的意思,兼容传统 Bios 启动和 UEFI 启动(你硬盘里是什么方式的他就用什么);设为 disable 就是关闭,只用 UEFI 模式启动(此模式下硬盘必须是 GPT,系统的启动模式必须是 UEFI,否则无法启动)</p>\n</li>\n<li>\n<p>在此附上开机时进入 bios 的按键</p>\n<p><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://img-blog.csdnimg.cn/20200307195931138.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM5ODIzMjk1,size_16,color_FFFFFF,t_70\" alt=\"在这里插入图片描述\"></p>\n</li>\n</ul>\n<h2 id=\"硬盘格式简介\">硬盘格式简介</h2>\n<ul>\n<li><strong>1.硬盘格式与分区格式(NTFS,FAT32…)是两回事</strong>\n<ul>\n<li>硬盘格式主流就两种,<code>GPT</code> 和 <code>MBR</code>.</li>\n<li>硬盘格式主要影响引导方式,其查看和更改可以借助两个常用的硬盘工具&quot;分区助手&quot;和&quot;DiskGenius&quot;来查看和更改,更改格式(不出意外的话)不会格式化,但从 MBR 格式变为 GPT 格式会从硬盘的某个分区中抽出一小部分(300MB 左右,可自定义)作为 EFI(ESP)引导分区</li>\n</ul>\n<hr>\n<ul>\n<li><code>此段选择性观看</code>:值得一说的是如果在 Windows 已经安装的情况下安装 linux(Boot/efi 挂载点是那个小的 ESP 分区),那么进入 Windows 系统时无论 ESP 分区还是 linux 系统分区都无法检测出来(分区助手显示他俩是未分配空间),虽然不影响使用,但是如果你想让它出来可以使用&quot;恢复分区&quot;命令,让 ESP 分区可以查看和修改(但会破坏 ESP 分区的挂载状态,使用 UEfix 挂载那个 ESP 分区,一定要!!!,不然全部空大,凉凉…)</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h2 id=\"两种硬盘格式\">两种硬盘格式</h2>\n<h3 id=\"GPT-格式\">GPT 格式</h3>\n<ul>\n<li>以后的主流格式,目前 2020 年还在两种格式的过渡期,此格式硬盘特点是有一块小分区(ESP 引导区)用来存放系统启动的文件,此分区绝对不要动(除非有自信弄懂了,不然有可能所有系统都无法启动);</li>\n<li>此格式硬盘只能用来引导 UEFI 模式启动的系统(不要担心,如果原来是 MBR+传统 BIOS 启动,在硬盘格式从 MBR 到 GPT 转换时 Windows 的启动模式也会自动从 bios 变为 UEFI;但对于 linux 系统,其复杂涉及挂载点和 GRUB2 代码更改,难以操作,最简便的方法是重装系统)</li>\n</ul>\n<h3 id=\"MBR-格式\">MBR 格式</h3>\n<ul>\n<li>\n<p>只能用来引导传统 bios(legacy 启动),目前还常见的格式,特点是在系统分区根目录里会有一个 Boot 文件夹(如 C:\\Boot 但有可能是隐藏的,看不到);</p>\n</li>\n<li>\n<p>电脑商的最爱,对于 Windows 适配好,但是最大的问题是对于 linux 和黑苹果的兼容问题(某些无法安装);</p>\n</li>\n<li>\n<p>虽然 GPT 是最新的格式,但是 MBR 不会差太多(只有开机时速度有丝毫差别)</p>\n</li>\n<li>\n<p>上一张无关紧要的图来点层次感,GPT 和 MBR 同级,我懂你懂你懂我 233<br>\n<img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://img-blog.csdnimg.cn/2020030719535046.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM5ODIzMjk1,size_16,color_FFFFFF,t_70\" alt=\"在这里插入图片描述\"></p>\n</li>\n</ul>\n<hr>\n<h2 id=\"上机操作\">上机操作</h2>\n<p><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://img-blog.csdnimg.cn/20200307201943243.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM5ODIzMjk1,size_16,color_FFFFFF,t_70\" alt=\"在这里插入图片描述\"></p>\n<hr>\n<h2 id=\"闲杂问题\">闲杂问题</h2>\n<ul>\n<li>\n<p>装好系统后系统的睡眠模式无法使用(装睡问题)</p>\n<ul>\n<li>有可能是 bios 里的启动方式不兼容问题,如果是 EFI 启动可以尝试打开 CSM</li>\n<li>另一种可能是引导出问题了(仅限 EFI 模式),去 EFI 引导盘查看并尝试修复</li>\n</ul>\n</li>\n<li>\n<p>manjaro 安装完成后如果只能进入一次系统,再次进黑屏无响应问题</p>\n<ul>\n<li>\n<p>尝试更换下启动模式,从 UEFI 换为传统 bios 启动,就是把 Launch CSM 开启</p>\n</li>\n<li>\n<p>显卡 BIOS 兼容性问题.</p>\n<p><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://img-blog.csdnimg.cn/20200307200147476.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM5ODIzMjk1,size_16,color_FFFFFF,t_70\" alt=\"在这里插入图片描述\"></p>\n</li>\n</ul>\n</li>\n</ul>\n<blockquote>\n<p>在此感谢我看过的文章的写者,帮了我很多,谢谢!</p>\n</blockquote>\n<script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kity@2.0.4/dist/kity.min.js\"></script><script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js\"></script><script defer=\"true\" type=\"text&#x2F;javascript\" src=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js\"></script><link rel=\"stylesheet\" type=\"text&#x2F;css\" href=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css\">",
            "tags": [
                "操作系统"
            ]
        }
    ]
}