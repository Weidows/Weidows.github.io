{
    "version": "https://jsonfeed.org/version/1",
    "title": "â­ï¸é½ä¸‹æ— è´°â­ï¸ â€¢ All posts by \"ts\" category",
    "description": "May all the beauty be bless.âœ¨",
    "home_page_url": "https://blog.weidows.tech",
    "items": [
        {
            "id": "https://blog.weidows.tech/post/lang/ts/issues/",
            "url": "https://blog.weidows.tech/post/lang/ts/issues/",
            "title": "ğŸ¤—å·¥ä½œä¸­é‡åˆ°çš„å‰ç«¯é—®é¢˜å’Œåœºæ™¯",
            "date_published": "2024-08-21T19:39:52.000Z",
            "content_html": "<h1>å·¥ä½œä¸­é‡åˆ°çš„å‰ç«¯é—®é¢˜å’Œåœºæ™¯</h1>\n<!--\n * @?: *********************************************************************\n * @Author: Weidows\n * @LastEditors: Weidows\n * @LastEditTime: 2024-10-26 22:38:08\n * @FilePath: \\Blog-private\\source\\_posts\\lang\\ts\\issues.md\n * @Description:\n * @:\n * â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¡â »â£„\n * â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢€â£€â£€â£€â£€â£€â£€â €â €â €â €â €â£€â¡¾â €â €â£¿\n * â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢€â£ â¡¶â Ÿâ ›â ‰â ‰â €â €â €â €â €â €â ‰â ‰â ›â »â ¿â£¤â£€â£ â¡´â ‹\n * â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢€â£´â Ÿâ ‰â €â €â €â €â €â €â €â €â €â£¤â ‚â €â €â €â €â €â €â €â €â ™â¢¶â£€\n * â €â €â €â €â €â €â €â €â €â €â €â €â¢€â¡¾â ‰â €â €â €â €â €â €â¡´â â €â €â €â¡â €â €â €â €â €â €â €â €â €â €â €â €â ˆâ ³â£„\n * â €â €â €â €â €â €â €â €â €â €â €â£´â ‹â €â €â €â €â €â €â¢ â â €â €â €â €â¡¾â €â €â €â €â €â €â €â €â¢°â €â €â €â €â €â €â ˆâ¢·â¡€\n * â €â €â €â €â €â €â €â €â €â €â¡¿â €â €â €â €â €â €â €â£ â ƒâ €â €â €â €â¢°â â €â €â €â €â €â €â €â €â €â¢¿â €â €â €â €â €â €â €â ™â£„\n * â €â €â €â €â €â €â €â €â €â¡¿â €â €â €â €â €â €â €â €â£¿â €â €â €â €â£€â£¿â¢ â €â €â €â €â €â €â €â €â£¶â €â£§â €â €â €â €â €â €â €â ˆâ£†\n * â €â €â €â €â €â €â €â €â£¼â â €â£°â €â €â €â €â£¾â¢¸â£¿â£€â£¤â£¶â¡›â â£¿â ˜â¡„â €â €â €â €â¢€â €â €â£¿â €â¢»â €â €â €â €â €â €â €â €â ¸\n * â €â €â €â €â €â €â €â €â£¿â €â €â¡Ÿâ €â €â €â €â£¿â¡ˆâ¡â €â €â €â €â ™â¡œâ¡„â¢¿â €â €â €â €â£¾â£§â£¾â¢¸â €â¢¸â €â €â¡‡â €â €â €â €â €â €â¡‡\n * â €â €â €â €â €â €â €â¢€â¡‡â €â €â£‡â €â €â €â €â£·â£¿â£¿â£¶â£¦â£€â €â €â €â ¹â¡˜â£¿â¡€â €â €â¢¹â£¿â ƒâ¢¸â €â£¿â €â¢ â£¿â €â €â €â €â €â£„â£§\n * â €â €â €â €â €â €â €â£¼â €â €â €â£¿â €â €â €â €â¢¿â ‰â ‰â ‰â »â£¿â£·â¡€â €â €â ˆâ â ™â¢¦â£€â£¸â ‹â ˆâ£¸â£¼â¢»â €â£¾â¡¿â €â €â €â €â¢¸â¢¸â£¿\n * â €â €â €â €â €â €â €â£¿â €â£¿â €â ¸â¡„â£¤â €â €â €â£§â €â €â €â €â ‰â â €â €â €â €â €â €â €â €â €â €â ‰â €â €â£¿â£¿â ‡â €â €â €â €â£¾â¢¸â£¿\n * â €â €â €â €â €â €â¢°â¡‡â €â£¿â €â €â ™â ¿â£¿â ›â ’â ›â â €â €â €â €â €â €â €â €â €â €â €â €â£¾â£¿â£¿â£¿â£¿â£¦â¡€â¡¿â €â €â €â €â €â£¿â£¿â£¿\n * â €â €â €â €â €â €â£¿â €â£´â ‹â ™â£¦â €â €â €â£‡â €â €â €â €â €â €â£¼â ‰â ™â ³â ¦â£¤â¡€â €â €â €â €â €â €â ˆâ »â¡¿â €â €â €â €â €â €â£¿â£¿â£¿\n * â €â €â €â €â €â €â£¿â¢¤â ‡â£€â¡€â£¼â €â €â €â¢¹â €â €â €â €â €â¢¸â â €â €â €â €â¢°â â €â €â €â €â €â €â£ â Ÿâ €â €â €â €â €â €â¢ â£¯â£¿â£¿\n * â €â €â €â €â£ â ‹â£ â Ÿâ â €â ˆâ ›â£„â €â €â €â£‡â €â €â €â €â¢¹â €â €â €â €â¢€â Ÿâ €â €â €â €â €â €â¢¾â£â €â €â €â €â¢€â£¾â£¤â¡â ‰â ‰â£¿\n * â €â €â¢€â£â ¤â£´â â €â €â €â €â €â €â£§â €â €â¢¿â ‰â ³â£¤â¡€â €â â €â  â ¶â â €â €â €â €â €â €â €â €â €â ‰â §â£´â£¾â£¿â£¿â Ÿâ¡‡â €â €â¢¸\n * â£ â šâ â¢€â â£¿â €â €â €â €â €â €â €â ¸â¡€â €â ˆâ¡â ›â ¶â£¤â¡‰â ›â ¶â¢¤â£¤â£€â¡€â €â €â €â €â €â €â €â£€â¡´â£¿â£¿â Ÿâ â €â €â¡‡â €â €â¢¸\n * â €â €â €â¢¸â €â ˜â¡„â €â €â €â €â €â¢¹â €â¡¿â¡„â €â£¿â €â €â €â €â ™â ²â£¤â¡€â ™â¢¦â ‰â ‰â ‰â ‰â ‰â ‰â â €â €â£¿â €â €â €â €â €â¡‡â €â €â¢¸\n * â €â €â €â ˜â¡„â €â£¿â €â €â €â €â €â£¸â ›â¡„â¢»â €â ¸â¡€â €â €â €â €â €â €â ˆâ ›â¢¦â¡‰â¢¦â¡€â €â €â €â €â €â €â£¿â €â €â €â €â¢°â ‡â €â €â¢¸\n * â €â €â €â €â¢¿â €â ˆâ ™â¢¦â£„â£ â ´â ƒâ¢ â ƒâ €â¡‡â €â£‡â €â €â €â €â €â €â €â €â €â €â ™â¢¾â£¦â €â €â €â €â €â£¿â €â €â €â €â£¼â €â €â €â €â¡‡\n * â €â €â €â €â €â ™â¢¤â €â €â €â €â €â¡´â ‹â €â €â¡‡â €â¢¿â¡€â €â €â €â €â €â €â €â €â €â €â €â ˆâ ³â£„â €â €â €â¡¿â €â €â €â €â¡¿â €â €â €â €â¡‡\n * â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢€â¡‡â €â ˜â£¿â£¿â£„â¡€â €â €â €â €â €â €â €â €â €â €â €â ³â €â €â¡‡â €â €â €â¢°â â €â €â €â €â¡‡\n * â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¡¾â €â €â €â£¿â£¿â£¿â£¿â£·â£¶â£¶â£¤â£„â €â €â €â €â €â €â €â €â¢¸â â €â €â €â¡¿â €â €â €â €â €â£·\n *\n * @!: *********************************************************************\n-->\n<blockquote class=\"pullquote mindmap mindmap-sm\"><ul>\n<li><a href=\"#%E5%B7%A5%E4%BD%9C%E4%B8%AD%E9%81%87%E5%88%B0%E7%9A%84%E5%89%8D%E7%AB%AF%E9%97%AE%E9%A2%98%E5%92%8C%E5%9C%BA%E6%99%AF\">å·¥ä½œä¸­é‡åˆ°çš„å‰ç«¯é—®é¢˜å’Œåœºæ™¯</a>\n<ul>\n<li><a href=\"#%E9%80%9A%E4%BF%A1\">é€šä¿¡</a>\n<ul>\n<li><a href=\"#buffer-vs-stream\">Buffer-vs-Stream</a></li>\n</ul>\n</li>\n<li><a href=\"#style-css\">Style-css</a>\n<ul>\n<li><a href=\"#%E5%B8%83%E5%B1%80-tailwind\">å¸ƒå±€-tailwind</a>\n<ul>\n<li><a href=\"#flex-%E5%B8%B8%E7%94%A8%E5%B1%85%E4%B8%AD%E6%93%8D%E4%BD%9C\">flex-å¸¸ç”¨å±…ä¸­æ“ä½œ</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"#nodejs\">nodejs</a>\n<ul>\n<li><a href=\"#version-issues\">version-issues</a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%80%9F%E7%89%A9%E8%A1%A8\">å€Ÿç‰©è¡¨</a></li>\n</ul>\n</li>\n</ul>\n</blockquote>\n<h2 id=\"é€šä¿¡\">é€šä¿¡</h2>\n<h3 id=\"Buffer-vs-Stream\">Buffer-vs-Stream</h3>\n<ul>\n<li>\n<p><strong>Buffer</strong> æ˜¯ä¸€ç§æš‚æ—¶å­˜å‚¨äºŒè¿›åˆ¶æ•°æ®çš„æ–¹å¼ã€‚åœ¨æ–‡ä»¶å¤„ç†è¿‡ç¨‹ä¸­ï¼Œæ•´ä¸ªæ–‡ä»¶ä¼šå…ˆè¢«åŠ è½½åˆ°å†…å­˜ä¸­å½¢æˆä¸€ä¸ª Bufferï¼Œç„¶åå¯ä»¥åœ¨å†…å­˜ä¸­å¯¹å…¶è¿›è¡Œæ“ä½œï¼Œå†å°†å…¶å‘é€åˆ°ç›®æ ‡ä½ç½®ã€‚Buffer æ›´åƒæ˜¯ä¸€æ¬¡æ€§è¯»å…¥çš„æ–¹å¼ï¼Œé€‚ç”¨äºå¤„ç†è¾ƒå°æ–‡ä»¶æˆ–éœ€è¦å®Œæ•´æ–‡ä»¶å†…å®¹çš„åœºæ™¯ã€‚</p>\n<ul>\n<li><strong>å®Œæ•´æ–‡ä»¶çš„è®¿é—®å’Œæ“ä½œ</strong>ï¼šå¦‚æœä½ éœ€è¦åœ¨ä¸Šä¼ ä¹‹å‰å¯¹æ–‡ä»¶è¿›è¡ŒæŸäº›æ“ä½œï¼ˆä¾‹å¦‚å›¾åƒå¤„ç†ã€å‹ç¼©ã€åŠ å¯†ç­‰ï¼‰ï¼ŒBuffer æ˜¯æ›´åˆé€‚çš„é€‰æ‹©ï¼Œå› ä¸ºå®ƒå…è®¸ä½ åœ¨å†…å­˜ä¸­å®Œæ•´åœ°è®¿é—®æ–‡ä»¶å†…å®¹ã€‚</li>\n<li><strong>å°æ–‡ä»¶ä¸Šä¼ </strong>ï¼šå¯¹äºå°ºå¯¸è¾ƒå°çš„æ–‡ä»¶ï¼ˆä¾‹å¦‚å‡  MB ä»¥å†…çš„æ–‡ä»¶ï¼‰ï¼ŒBuffer å¤„ç†ä¸ä¼šå¯¹å†…å­˜é€ æˆå¤ªå¤§è´Ÿæ‹…ï¼Œå› æ­¤å¯ä»¥è€ƒè™‘ä½¿ç”¨ Buffer è¿›è¡Œä¸Šä¼ ã€‚è¿™æ ·å¯ä»¥ç®€åŒ–ç¼–ç è¿‡ç¨‹ï¼Œå¹¶ä¸”æœ‰åŠ©äºåœ¨åç»­æ“ä½œä¸­å¯¹æ–‡ä»¶æ•°æ®è¿›è¡Œæ›´æ–¹ä¾¿çš„å¤„ç†ã€‚</li>\n<li><strong>ç®€ä¾¿æ€§</strong>ï¼šBuffer æ›´æ˜“äºç†è§£å’Œå®ç°ï¼Œå°¤å…¶æ˜¯åœ¨å¼€å‘è¿‡ç¨‹ä¸­ã€‚å¦‚æœåº”ç”¨åœºæ™¯å¯¹å†…å­˜è¦æ±‚ä¸é«˜ï¼Œä½¿ç”¨ Buffer å¯ä»¥ç®€åŒ–æ–‡ä»¶ä¸Šä¼ çš„å®ç°ã€‚</li>\n</ul>\n</li>\n<li>\n<p><strong>Stream</strong> æ˜¯ä¸€ç§é€å—ï¼ˆchunkï¼‰å¤„ç†æ•°æ®çš„æ–¹å¼ã€‚æ•°æ®åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­ä¼šåˆ†æˆè‹¥å¹²å°å—ï¼Œåç«¯ä¼šé€æ­¥æ¥æ”¶å¹¶å¤„ç†è¿™äº›æ•°æ®å—ï¼Œè€Œä¸éœ€è¦ç­‰å¾…æ•´ä¸ªæ–‡ä»¶è¢«å®Œå…¨åŠ è½½åˆ°å†…å­˜ä¸­ã€‚Stream æ›´åƒæ˜¯ä¸€ä¸ªæŒç»­çš„ã€åˆ†æ®µçš„æ•°æ®æµï¼Œé€‚ç”¨äºå¤„ç†å¤§å‹æ–‡ä»¶æˆ–éœ€è¦èŠ‚çœå†…å­˜èµ„æºçš„åœºæ™¯ã€‚</p>\n<ul>\n<li>\n<p><strong>å¤§æ–‡ä»¶ä¸Šä¼ </strong>ï¼šå½“å¤„ç†è¾ƒå¤§çš„æ–‡ä»¶æ—¶ï¼Œä½¿ç”¨ Stream å¯ä»¥æ˜¾è‘—å‡å°‘å†…å­˜å ç”¨ï¼Œå› ä¸º Stream å¤„ç†åªéœ€åŠ è½½æ•°æ®çš„ä¸€éƒ¨åˆ†ï¼ˆå—ï¼‰åˆ°å†…å­˜ä¸­ï¼Œè€Œä¸å¿…åŠ è½½æ•´ä¸ªæ–‡ä»¶ã€‚è¿™æ ·èƒ½æœ‰æ•ˆé˜²æ­¢å†…å­˜æ³„æ¼æˆ–å†…å­˜ä¸è¶³ç­‰é—®é¢˜ã€‚</p>\n</li>\n<li>\n<p><strong>é«˜å¹¶å‘è¯·æ±‚</strong>ï¼šåœ¨é«˜å¹¶å‘çš„åº”ç”¨åœºæ™¯ä¸­ï¼ŒStream å¯ä»¥å‡å°‘æ¯ä¸ªè¯·æ±‚çš„å†…å­˜æ¶ˆè€—ï¼Œä»è€Œæå‡æœåŠ¡å™¨çš„æ•´ä½“æ€§èƒ½ï¼Œé™ä½èµ„æºå ç”¨ã€‚</p>\n</li>\n<li>\n<p><strong>é•¿æ—¶é—´è¿è¡Œçš„ä»»åŠ¡</strong>ï¼šå¯¹äºéœ€è¦é•¿æ—¶é—´ä¼ è¾“æ•°æ®çš„ä»»åŠ¡ï¼ˆå¦‚å®æ—¶éŸ³è§†é¢‘ä¼ è¾“ï¼‰ï¼ŒStream æ˜¯æœ€ä½³é€‰æ‹©ï¼Œå› ä¸ºå®ƒæ”¯æŒæ•°æ®çš„åˆ†å—å¤„ç†å’Œå®æ—¶ä¼ è¾“ã€‚</p>\n</li>\n</ul>\n</li>\n</ul>\n<blockquote>\n<p>ç®€å•æ¥è¯´, å›¾ç‰‡ç”¨ Buffer, è§†é¢‘ç”¨ Stream</p>\n</blockquote>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"Style-css\">Style-css</h2>\n<h3 id=\"å¸ƒå±€-tailwind\">å¸ƒå±€-tailwind</h3>\n<h4 id=\"flex-å¸¸ç”¨å±…ä¸­æ“ä½œ\">flex-å¸¸ç”¨å±…ä¸­æ“ä½œ</h4>\n<p><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/blog/1725380017502.png\" alt=\"\"></p>\n<p>å¦‚ä¸Šå›¾è¿™ç§å¸ƒå±€, å¯ä»¥è¿™æ ·</p>\n<figure class=\"highlight tsx\"><table><tr><td class=\"code\"><pre><span class=\"line\">&lt;div className=<span class=\"string\">&quot;flex justify-center p-2&quot;</span>&gt;</span><br><span class=\"line\">  <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">className</span>=<span class=\"string\">&quot;h-full&quot;</span>&gt;</span>A<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\">  <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">className</span>=<span class=\"string\">&quot;h-full items-center space-y-2&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span>B<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span>C<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\">&lt;/div&gt;</span><br></pre></td></tr></table></figure>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"nodejs\">nodejs</h2>\n<h3 id=\"version-issues\">version-issues</h3>\n<p>ä¸‹é¢çš„ä»£ç å¯ä»¥åœ¨ <code>node&lt;=22</code> ç‰ˆæœ¬ä¸­è¯•è¯•, ä¼šæœ‰æ³¨é‡Šä¸­çš„é—®é¢˜, <code>&gt; 23</code> ç‰ˆæœ¬å°±ä¿®å¤äº†</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> &#123; dirname &#125; = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;path&quot;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> &#123; mkdirSync &#125; = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;fs&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> destPath = [</span><br><span class=\"line\">  <span class=\"comment\">// ok.</span></span><br><span class=\"line\">  <span class=\"comment\">// &quot;D:/test/CalienteTools/BodySlide/ShapeData/[SunJeong] Kitsune Miko Lower - CBBE 3BA/SunJeong.txt&quot;,</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// not working, exit with no error.</span></span><br><span class=\"line\">  <span class=\"comment\">// &quot;D:/test/ã€æœè£…æ¨¡ç»„ã€‘000å·«å¥³æœ/CalienteTools/BodySlide/ShapeData/[SunJeong] Kitsune Miko Lower - CBBE 3BA/SunJeong.txt&quot;,</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// not working, exit with no error.</span></span><br><span class=\"line\">  <span class=\"string\">&quot;D:/test/å·«å¥³æœ/SunJeong.txt&quot;</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// will create &#x27;test&#x27; folder, and get stuck</span></span><br><span class=\"line\">  <span class=\"string\">&quot;D:/test/å·«å¥³æœ/CalienteTools/BodySlide/ShapeData/[SunJeong] Kitsune Miko Lower - CBBE 3BA/SunJeong.txt&quot;</span>,</span><br><span class=\"line\">];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">  destPath.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">path</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"title function_\">mkdirSync</span>(<span class=\"title function_\">dirname</span>(path), &#123; <span class=\"attr\">recursive</span>: <span class=\"literal\">true</span> &#125;);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125; <span class=\"keyword\">catch</span> (error) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">error</span>(<span class=\"string\">&quot;Error creating directory:&quot;</span>, error);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"å€Ÿç‰©è¡¨\">å€Ÿç‰©è¡¨</h2>\n<p>æš‚æ— .</p>\n<script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kity@2.0.4/dist/kity.min.js\"></script><script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js\"></script><script defer=\"true\" type=\"text&#x2F;javascript\" src=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js\"></script><link rel=\"stylesheet\" type=\"text&#x2F;css\" href=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css\">",
            "tags": [
                "nodejs",
                "é¢è¯•",
                "å‰ç«¯",
                "css"
            ]
        },
        {
            "id": "https://blog.weidows.tech/post/lang/ts/nextjs/",
            "url": "https://blog.weidows.tech/post/lang/ts/nextjs/",
            "title": "fullstack-matters-next-å…¨æ ˆæ¡†æ¶æ­å»ºè¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜è®°å½•",
            "date_published": "2024-08-21T16:53:57.000Z",
            "content_html": "<h1>fullstack-matters-next-å…¨æ ˆæ¡†æ¶æ­å»ºè¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜è®°å½•</h1>\n<!--\n * @?: *********************************************************************\n * @Author: Weidows\n * @LastEditors: Weidows\n * @LastEditTime: 2024-10-22 08:19:23\n * @FilePath: \\Blog-private\\source\\_posts\\lang\\ts\\nextjs.md\n * @Description:\n * @:\n * â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¡â »â£„\n * â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢€â£€â£€â£€â£€â£€â£€â €â €â €â €â €â£€â¡¾â €â €â£¿\n * â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢€â£ â¡¶â Ÿâ ›â ‰â ‰â €â €â €â €â €â €â ‰â ‰â ›â »â ¿â£¤â£€â£ â¡´â ‹\n * â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢€â£´â Ÿâ ‰â €â €â €â €â €â €â €â €â €â£¤â ‚â €â €â €â €â €â €â €â €â ™â¢¶â£€\n * â €â €â €â €â €â €â €â €â €â €â €â €â¢€â¡¾â ‰â €â €â €â €â €â €â¡´â â €â €â €â¡â €â €â €â €â €â €â €â €â €â €â €â €â ˆâ ³â£„\n * â €â €â €â €â €â €â €â €â €â €â €â£´â ‹â €â €â €â €â €â €â¢ â â €â €â €â €â¡¾â €â €â €â €â €â €â €â €â¢°â €â €â €â €â €â €â ˆâ¢·â¡€\n * â €â €â €â €â €â €â €â €â €â €â¡¿â €â €â €â €â €â €â €â£ â ƒâ €â €â €â €â¢°â â €â €â €â €â €â €â €â €â €â¢¿â €â €â €â €â €â €â €â ™â£„\n * â €â €â €â €â €â €â €â €â €â¡¿â €â €â €â €â €â €â €â €â£¿â €â €â €â €â£€â£¿â¢ â €â €â €â €â €â €â €â €â£¶â €â£§â €â €â €â €â €â €â €â ˆâ£†\n * â €â €â €â €â €â €â €â €â£¼â â €â£°â €â €â €â €â£¾â¢¸â£¿â£€â£¤â£¶â¡›â â£¿â ˜â¡„â €â €â €â €â¢€â €â €â£¿â €â¢»â €â €â €â €â €â €â €â €â ¸\n * â €â €â €â €â €â €â €â €â£¿â €â €â¡Ÿâ €â €â €â €â£¿â¡ˆâ¡â €â €â €â €â ™â¡œâ¡„â¢¿â €â €â €â €â£¾â£§â£¾â¢¸â €â¢¸â €â €â¡‡â €â €â €â €â €â €â¡‡\n * â €â €â €â €â €â €â €â¢€â¡‡â €â €â£‡â €â €â €â €â£·â£¿â£¿â£¶â£¦â£€â €â €â €â ¹â¡˜â£¿â¡€â €â €â¢¹â£¿â ƒâ¢¸â €â£¿â €â¢ â£¿â €â €â €â €â €â£„â£§\n * â €â €â €â €â €â €â €â£¼â €â €â €â£¿â €â €â €â €â¢¿â ‰â ‰â ‰â »â£¿â£·â¡€â €â €â ˆâ â ™â¢¦â£€â£¸â ‹â ˆâ£¸â£¼â¢»â €â£¾â¡¿â €â €â €â €â¢¸â¢¸â£¿\n * â €â €â €â €â €â €â €â£¿â €â£¿â €â ¸â¡„â£¤â €â €â €â£§â €â €â €â €â ‰â â €â €â €â €â €â €â €â €â €â €â ‰â €â €â£¿â£¿â ‡â €â €â €â €â£¾â¢¸â£¿\n * â €â €â €â €â €â €â¢°â¡‡â €â£¿â €â €â ™â ¿â£¿â ›â ’â ›â â €â €â €â €â €â €â €â €â €â €â €â €â£¾â£¿â£¿â£¿â£¿â£¦â¡€â¡¿â €â €â €â €â €â£¿â£¿â£¿\n * â €â €â €â €â €â €â£¿â €â£´â ‹â ™â£¦â €â €â €â£‡â €â €â €â €â €â €â£¼â ‰â ™â ³â ¦â£¤â¡€â €â €â €â €â €â €â ˆâ »â¡¿â €â €â €â €â €â €â£¿â£¿â£¿\n * â €â €â €â €â €â €â£¿â¢¤â ‡â£€â¡€â£¼â €â €â €â¢¹â €â €â €â €â €â¢¸â â €â €â €â €â¢°â â €â €â €â €â €â €â£ â Ÿâ €â €â €â €â €â €â¢ â£¯â£¿â£¿\n * â €â €â €â €â£ â ‹â£ â Ÿâ â €â ˆâ ›â£„â €â €â €â£‡â €â €â €â €â¢¹â €â €â €â €â¢€â Ÿâ €â €â €â €â €â €â¢¾â£â €â €â €â €â¢€â£¾â£¤â¡â ‰â ‰â£¿\n * â €â €â¢€â£â ¤â£´â â €â €â €â €â €â €â£§â €â €â¢¿â ‰â ³â£¤â¡€â €â â €â  â ¶â â €â €â €â €â €â €â €â €â €â ‰â §â£´â£¾â£¿â£¿â Ÿâ¡‡â €â €â¢¸\n * â£ â šâ â¢€â â£¿â €â €â €â €â €â €â €â ¸â¡€â €â ˆâ¡â ›â ¶â£¤â¡‰â ›â ¶â¢¤â£¤â£€â¡€â €â €â €â €â €â €â €â£€â¡´â£¿â£¿â Ÿâ â €â €â¡‡â €â €â¢¸\n * â €â €â €â¢¸â €â ˜â¡„â €â €â €â €â €â¢¹â €â¡¿â¡„â €â£¿â €â €â €â €â ™â ²â£¤â¡€â ™â¢¦â ‰â ‰â ‰â ‰â ‰â ‰â â €â €â£¿â €â €â €â €â €â¡‡â €â €â¢¸\n * â €â €â €â ˜â¡„â €â£¿â €â €â €â €â €â£¸â ›â¡„â¢»â €â ¸â¡€â €â €â €â €â €â €â ˆâ ›â¢¦â¡‰â¢¦â¡€â €â €â €â €â €â €â£¿â €â €â €â €â¢°â ‡â €â €â¢¸\n * â €â €â €â €â¢¿â €â ˆâ ™â¢¦â£„â£ â ´â ƒâ¢ â ƒâ €â¡‡â €â£‡â €â €â €â €â €â €â €â €â €â €â ™â¢¾â£¦â €â €â €â €â €â£¿â €â €â €â €â£¼â €â €â €â €â¡‡\n * â €â €â €â €â €â ™â¢¤â €â €â €â €â €â¡´â ‹â €â €â¡‡â €â¢¿â¡€â €â €â €â €â €â €â €â €â €â €â €â ˆâ ³â£„â €â €â €â¡¿â €â €â €â €â¡¿â €â €â €â €â¡‡\n * â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢€â¡‡â €â ˜â£¿â£¿â£„â¡€â €â €â €â €â €â €â €â €â €â €â €â ³â €â €â¡‡â €â €â €â¢°â â €â €â €â €â¡‡\n * â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¡¾â €â €â €â£¿â£¿â£¿â£¿â£·â£¶â£¶â£¤â£„â €â €â €â €â €â €â €â €â¢¸â â €â €â €â¡¿â €â €â €â €â €â£·\n *\n * @!: *********************************************************************\n-->\n<blockquote class=\"pullquote mindmap mindmap-sm\"><ul>\n<li><a href=\"#fullstack-matters-next-%E5%85%A8%E6%A0%88%E6%A1%86%E6%9E%B6%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B%E4%B8%AD%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95\">fullstack-matters-next-å…¨æ ˆæ¡†æ¶æ­å»ºè¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜è®°å½•</a>\n<ul>\n<li><a href=\"#config\">config</a>\n<ul>\n<li><a href=\"#image\">Image</a></li>\n<li><a href=\"#next-auth\">next-auth</a>\n<ul>\n<li><a href=\"#google-timeout\">google-timeout</a></li>\n<li><a href=\"#secret-missing\">secret-missing</a></li>\n</ul>\n</li>\n<li><a href=\"#prisma\">prisma</a>\n<ul>\n<li><a href=\"#client-deps-error\">client-deps-error</a></li>\n<li><a href=\"#table-does-not-exist\">table-does-not-exist</a></li>\n<li><a href=\"#nextauth-mysql\">nextauth-mysql</a></li>\n<li><a href=\"#too-lang\">too-lang</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"#usage\">usage</a>\n<ul>\n<li><a href=\"#%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0-upload-file-image\">æ–‡ä»¶ä¸Šä¼ -upload-file-image</a>\n<ul>\n<li><a href=\"#form-data-parse\">form-data-parse</a></li>\n<li><a href=\"#image-to-buffer2string\">image-to-Buffer2string</a></li>\n</ul>\n</li>\n<li><a href=\"#next-router-%E5%A4%9A%E9%A1%B5%E9%9D%A2%E8%B7%AF%E7%94%B1\">next-router-å¤šé¡µé¢è·¯ç”±</a></li>\n<li><a href=\"#payment-stripe\">payment-stripe</a></li>\n</ul>\n</li>\n<li><a href=\"#deployments\">deployments</a>\n<ul>\n<li><a href=\"#vercel-file-read-write\">vercel-file-read-write</a>\n<ul>\n<li><a href=\"#jimp-watermark-%E6%B7%BB%E5%8A%A0%E6%B0%B4%E5%8D%B0\">Jimp-watermark-æ·»åŠ æ°´å°</a></li>\n<li><a href=\"#vercel-rewrites\">vercel-rewrites</a></li>\n</ul>\n</li>\n<li><a href=\"#aliyun-%E7%99%BE%E7%82%BC%E6%8D%A2%E8%A3%85\">aliyun-ç™¾ç‚¼æ¢è£…</a></li>\n<li><a href=\"#centos7-%E5%AE%9D%E5%A1%94-docker-cicd\">centos7-å®å¡”-docker-CICD</a>\n<ul>\n<li><a href=\"#%E5%AE%9E%E8%B7%B5-cicd-nextjs-docker-dotenv\">å®è·µ-CICD-nextjs-docker-dotenv</a></li>\n<li><a href=\"#%E5%8F%8C%E5%BC%95%E5%8F%B7%E9%97%AE%E9%A2%98\">åŒå¼•å·é—®é¢˜</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"#%E5%80%9F%E7%89%A9%E8%A1%A8\">å€Ÿç‰©è¡¨</a></li>\n</ul>\n</li>\n</ul>\n</blockquote>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"config\">config</h2>\n<h3 id=\"Image\">Image</h3>\n<blockquote>\n<p>âš  The â€œimages.domainsâ€ configuration is deprecated. Please use â€œimages.remotePatternsâ€ configuration instead.</p>\n</blockquote>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">const config = <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  webpack<span class=\"punctuation\">:</span> (config<span class=\"punctuation\">,</span> <span class=\"punctuation\">&#123;</span> isServer <span class=\"punctuation\">&#125;</span>) =&gt; <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// https://nextjs.org/docs/messages/next-image-unconfigured-host</span></span><br><span class=\"line\">  <span class=\"comment\">// https://stackoverflow.com/questions/71235874/how-to-allow-all-domains-for-image-nextjs-config</span></span><br><span class=\"line\">  images<span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    remotePatterns<span class=\"punctuation\">:</span> <span class=\"punctuation\">[</span></span><br><span class=\"line\">      <span class=\"punctuation\">&#123;</span> protocol<span class=\"punctuation\">:</span> <span class=\"string\">&quot;https&quot;</span><span class=\"punctuation\">,</span> hostname<span class=\"punctuation\">:</span> <span class=\"string\">&quot;**&quot;</span> <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      <span class=\"punctuation\">&#123;</span> protocol<span class=\"punctuation\">:</span> <span class=\"string\">&quot;https&quot;</span><span class=\"punctuation\">,</span> hostname<span class=\"punctuation\">:</span> <span class=\"string\">&quot;xxx.com&quot;</span> <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"punctuation\">]</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// deprecated</span></span><br><span class=\"line\">    <span class=\"comment\">// domains: [&quot;&quot;],</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span>;</span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"next-auth\">next-auth</h3>\n<h4 id=\"google-timeout\">google-timeout</h4>\n<figure class=\"highlight ts\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"title class_\">GoogleProvider</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">clientId</span>: env.<span class=\"property\">GOOGLE_ID</span>,</span><br><span class=\"line\">  <span class=\"attr\">clientSecret</span>: env.<span class=\"property\">GOOGLE_SECRET</span>,</span><br><span class=\"line\">  <span class=\"attr\">httpOptions</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">timeout</span>: <span class=\"number\">40000</span>,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;),</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight console\"><table><tr><td class=\"code\"><pre><span class=\"line\">[next-auth][error][SIGNIN_OAUTH_ERROR]</span><br><span class=\"line\">https://next-auth.js.org/errors#signin_oauth_error outgoing request timed out after 3500ms &#123;</span><br><span class=\"line\">  error: &#123;</span><br><span class=\"line\">    message: &#x27;outgoing request timed out after 3500ms&#x27;,</span><br><span class=\"line\">    stack: &#x27;RPError: outgoing request timed out after 3500ms\\n&#x27; +</span><br><span class=\"line\">      &#x27;    at eval (webpack-internal:///(rsc)/./node_modules/.pnpm/openid-client@5.6.5/node_modules/openid-client/lib/helpers/request.js:140:13)\\n&#x27; +</span><br><span class=\"line\">      ...</span><br><span class=\"line\">      &#x27;    at async Server.requestListener (D:\\\\Repos\\\\AI-MOBI\\\\Dress\\\\ChatUp-AI-Dress-fullstack\\\\node_modules\\\\.pnpm\\\\next@14.2.5_react-dom@18.3.1_react@18.3.1__react@18.3.1\\\\node_modules\\\\next\\\\dist\\\\server\\\\lib\\\\start-server.js:141:13)&#x27;,</span><br><span class=\"line\">    name: &#x27;RPError&#x27;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  providerId: &#x27;google&#x27;,</span><br><span class=\"line\">  message: &#x27;outgoing request timed out after 3500ms&#x27;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">https://next-auth.js.org/errors#signin_oauth_error  &#123;</span><br><span class=\"line\">  error: &#123;</span><br><span class=\"line\">    message: &#x27;&#x27;,</span><br><span class=\"line\">    stack: &#x27;AggregateError\\n&#x27; +</span><br><span class=\"line\">      &#x27;    at internalConnectMultiple (node:net:1114:18)\\n&#x27; +</span><br><span class=\"line\">      &#x27;    at afterConnectMultiple (node:net:1667:5)\\n&#x27; +</span><br><span class=\"line\">      &#x27;    at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)&#x27;,</span><br><span class=\"line\">    name: &#x27;AggregateError&#x27;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  providerId: &#x27;google&#x27;,</span><br><span class=\"line\">  message: &#x27;&#x27;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>è¿™æ˜¯å› ä¸º auth èµ°çš„æ˜¯åç«¯è€Œä¸æ˜¯å‰ç«¯æµè§ˆå™¨, next dev è·‘çš„æœåŠ¡æ²¡èµ°ç½‘ç»œä»£ç†, æ‰“å¼€ tun æ¨¡å¼å°±è¡Œäº†</p>\n<hr>\n<h4 id=\"secret-missing\">secret-missing</h4>\n<blockquote>\n<p>Please define a <code>secret</code> in production</p>\n</blockquote>\n<figure class=\"highlight ts\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">providers</span>: [</span><br><span class=\"line\">  <span class=\"title class_\">GoogleProvider</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">clientId</span>: env.<span class=\"property\">GOOGLE_ID</span>,</span><br><span class=\"line\">    <span class=\"attr\">clientSecret</span>: env.<span class=\"property\">GOOGLE_SECRET</span>,</span><br><span class=\"line\">    <span class=\"attr\">httpOptions</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">timeout</span>: <span class=\"number\">40000</span>,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  &#125;),</span><br><span class=\"line\">],</span><br><span class=\"line\"><span class=\"comment\">// add this</span></span><br><span class=\"line\"><span class=\"attr\">secret</span>: env.<span class=\"property\">NEXTAUTH_SECRET</span>,</span><br></pre></td></tr></table></figure>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h3 id=\"prisma\">prisma</h3>\n<h4 id=\"client-deps-error\">client-deps-error</h4>\n<blockquote>\n<p>Prisma Client was generated for â€œlinux-musl-openssl-3.0.xâ€, but the actual deployment required â€œdebian-openssl-3.0.xâ€</p>\n</blockquote>\n<p>å¦‚ä¸‹åŠ ä¸Š <sup id='cite_ref-3'><a href=\"#cite_note-3\">[3]</a></sup></p>\n<figure class=\"highlight axapta\"><table><tr><td class=\"code\"><pre><span class=\"line\">generator <span class=\"keyword\">client</span> &#123;</span><br><span class=\"line\">    provider = <span class=\"string\">&quot;prisma-client-js&quot;</span></span><br><span class=\"line\">    <span class=\"comment\">// for dockerfile doploy</span></span><br><span class=\"line\">    binaryTargets = [<span class=\"string\">&quot;native&quot;</span>, <span class=\"string\">&quot;debian-openssl-3.0.x&quot;</span>]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"table-does-not-exist\">table-does-not-exist</h4>\n<blockquote>\n<p>The table <code>main.account</code> does not exist in the current database.</p>\n</blockquote>\n<p>ç±»ä¼¼çš„é—®é¢˜å…ˆç›´æ¥è¯•ä¸€ä¸‹ <code>prisma db push</code> æ›´æ–°ä¸‹æ•°æ®åº“ç»“æ„</p>\n<hr>\n<h4 id=\"nextauth-mysql\">nextauth-mysql</h4>\n<blockquote>\n<p>Try signing in with a different account. <br>\nnext auth google login failed | prisma | mysql</p>\n</blockquote>\n<p>éå¸¸å‘çš„é—®é¢˜, è¯´æ˜¯æ— æ³•ç™»å½•, å®é™…æ˜¯æ— æ³•åœ¨ db ä¸­æ’å…¥æ•°æ®, åŠ¡å¿…åˆ åº“é‡æ–°å»ºä¸€ä¸ªè¯•è¯•!!</p>\n<h4 id=\"too-lang\">too-lang</h4>\n<blockquote>\n<p>NextAuth With Prisma for mysql specified key is too long</p>\n</blockquote>\n<p>å­—æ®µåŠ ä¸Š <code>@db.Text</code></p>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"usage\">usage</h2>\n<h3 id=\"æ–‡ä»¶ä¸Šä¼ -upload-file-image\">æ–‡ä»¶ä¸Šä¼ -upload-file-image</h3>\n<p>å¦‚ä½•å®ç°å›¾ç‰‡/æ–‡ä»¶ä¸Šä¼ æ“ä½œ</p>\n<p>ä½¿ç”¨ t3app åˆ›å»ºçš„é¡¹ç›®, å…¶ä¸­ç”¨åˆ°äº† tRPC, ä½†å¾ˆéš¾å—çš„æ˜¯å®ƒå¯¹æ–‡ä»¶ä¼ è¾“ä¸æ”¯æŒ</p>\n<p>åªèƒ½ç”¨ next åŸç”Ÿ API router å»å†™ RESTFUL <sup id='cite_ref-1'><a href=\"#cite_note-1\">[1]</a></sup></p>\n<h4 id=\"form-data-parse\">form-data-parse</h4>\n<p>next åç«¯å¦‚ä½•è§£æ form æ ¼å¼å¸¦æ–‡ä»¶çš„è¯·æ±‚</p>\n<p>ä¸€å¼€å§‹æ˜¯æƒ³ç”¨ form ç›´æ¥ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶, ä½†æ˜¯è§£æè¿‡ç¨‹ä¸­æœ‰é—®é¢˜ (ç”¨åˆ°çš„æ˜¯ formidable )</p>\n<p>ä¸çŸ¥é“å“ªé‡Œçš„é—®é¢˜, è§£æå‡ºæ¥çš„æ–‡ä»¶ä¼šåœ¨ fields é‡Œ (string å½¢å¼, å¾ˆå¥‡æ€ª), files ä¸ºç©º</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> config = &#123;</span><br><span class=\"line\">  <span class=\"attr\">api</span>: &#123;</span><br><span class=\"line\">    <span class=\"comment\">// éœ€è¦ç¦ç”¨é»˜è®¤çš„</span></span><br><span class=\"line\">    <span class=\"attr\">bodyParser</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å°† form.parse å°è£…åœ¨ä¸€ä¸ª Promise ä¸­</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">parseForm</span>(<span class=\"params\"></span></span><br><span class=\"line\"><span class=\"params\">  <span class=\"attr\">req</span>: <span class=\"title class_\">NextApiRequest</span></span></span><br><span class=\"line\"><span class=\"params\"></span>): <span class=\"title class_\">Promise</span>&lt;&#123; <span class=\"attr\">fields</span>: <span class=\"title class_\">Fields</span>; <span class=\"attr\">files</span>: <span class=\"title class_\">Files</span> &#125;&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> form = <span class=\"keyword\">new</span> <span class=\"title class_\">IncomingForm</span>(&#123;</span><br><span class=\"line\">      <span class=\"attr\">allowEmptyFiles</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">      <span class=\"attr\">multiples</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">      <span class=\"attr\">maxFileSize</span>: <span class=\"number\">50</span> * <span class=\"number\">1024</span> * <span class=\"number\">1024</span>, <span class=\"comment\">// å¢åŠ æ–‡ä»¶å¤§å°é™åˆ¶, å•ä½ä¸ºå­—èŠ‚</span></span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">    form.<span class=\"title function_\">parse</span>(req, <span class=\"function\">(<span class=\"params\">err, fields, files</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (err) &#123;</span><br><span class=\"line\">        <span class=\"title function_\">reject</span>(err); <span class=\"comment\">// å¦‚æœè§£æå‡ºé”™ï¼Œreject è¿™ä¸ª promise</span></span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"title function_\">resolve</span>(&#123; fields, files &#125;); <span class=\"comment\">// å¦‚æœæˆåŠŸï¼Œresolve è¿™ä¸ª promiseï¼Œè¿”å›è§£æåçš„æ•°æ®</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h4 id=\"image-to-Buffer2string\">image-to-Buffer2string</h4>\n<p>è½¬ä¸ºä½¿ç”¨ string å»ä¼ é€’å›¾ç‰‡</p>\n<p>å‰ç«¯, å…ˆä»äº‹ä»¶æ‹¿åˆ° File å¯¹è±¡, è½¬ä¸º ArrayBuffer, å†è½¬ä¸º binary æ ¼å¼çš„ Buffer</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">handleImageChange</span> = (<span class=\"params\"><span class=\"attr\">event</span>: <span class=\"title class_\">React</span>.<span class=\"title class_\">ChangeEvent</span>&lt;<span class=\"title class_\">HTMLInputElement</span>&gt;</span>) =&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> file = event.<span class=\"property\">target</span>.<span class=\"property\">files</span>?.[<span class=\"number\">0</span>];</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (!file) <span class=\"keyword\">return</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  file</span><br><span class=\"line\">    .<span class=\"title function_\">arrayBuffer</span>()</span><br><span class=\"line\">    .<span class=\"title function_\">then</span>(<span class=\"function\">(<span class=\"params\">data</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> textData = <span class=\"title class_\">Buffer</span>.<span class=\"title function_\">from</span>(data).<span class=\"title function_\">toString</span>(<span class=\"string\">&quot;binary&quot;</span>);</span><br></pre></td></tr></table></figure>\n<p>åç«¯:</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">interface</span> <span class=\"title class_\">ResData</span> &#123;</span><br><span class=\"line\">  <span class=\"attr\">file</span>: <span class=\"built_in\">string</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// APIè·¯ç”±å¤„ç†ç¨‹åº</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"keyword\">async</span> <span class=\"keyword\">function</span> <span class=\"title function_\">handler</span>(<span class=\"params\"></span></span><br><span class=\"line\"><span class=\"params\">  <span class=\"attr\">req</span>: <span class=\"title class_\">NextApiRequest</span>,</span></span><br><span class=\"line\"><span class=\"params\">  <span class=\"attr\">res</span>: <span class=\"title class_\">NextApiResponse</span></span></span><br><span class=\"line\"><span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (req.<span class=\"property\">method</span> !== <span class=\"string\">&quot;POST&quot;</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res.<span class=\"title function_\">status</span>(<span class=\"number\">405</span>).<span class=\"title function_\">json</span>(&#123; <span class=\"attr\">error</span>: <span class=\"string\">&quot;Method not allowed&quot;</span> &#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> data = <span class=\"title class_\">JSON</span>.<span class=\"title function_\">parse</span>(req.<span class=\"property\">body</span> <span class=\"keyword\">as</span> <span class=\"built_in\">string</span>) <span class=\"keyword\">as</span> <span class=\"title class_\">ResData</span>;</span><br><span class=\"line\">    <span class=\"comment\">// console.log(data);</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// å°†æ¥æ”¶åˆ°çš„å­—ç¬¦ä¸²è½¬ä¸º Buffer</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> buffer = <span class=\"title class_\">Buffer</span>.<span class=\"title function_\">from</span>(data.<span class=\"property\">file</span>, <span class=\"string\">&quot;binary&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// <span class=\"doctag\">TODO:</span> ä¿å­˜æˆ–è€…å¤„ç† Buffer</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> res.<span class=\"title function_\">status</span>(<span class=\"number\">200</span>).<span class=\"title function_\">json</span>(&#123; <span class=\"attr\">status</span>: <span class=\"string\">&quot;ok&quot;</span> &#125;);</span><br><span class=\"line\">  &#125; <span class=\"keyword\">catch</span> (err) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// æ•è·è§£æè¿‡ç¨‹ä¸­å¯èƒ½å‘ç”Ÿçš„é”™è¯¯</span></span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">error</span>(err);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res.<span class=\"title function_\">status</span>(<span class=\"number\">500</span>).<span class=\"title function_\">json</span>(&#123; <span class=\"attr\">error</span>: <span class=\"string\">&quot;Error parsing form data&quot;</span> &#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"next-router-å¤šé¡µé¢è·¯ç”±\">next-router-å¤šé¡µé¢è·¯ç”±</h3>\n<p>ä½¿ç”¨ t3app åˆ›å»ºçš„é¡¹ç›®ä¸€èˆ¬ä¼šå¸¦æœ‰ layout.tsx å’Œ page.tsx, ä½œç”¨æ˜¯è¿™æ ·:</p>\n<figure class=\"highlight awk\"><table><tr><td class=\"code\"><pre><span class=\"line\">- app</span><br><span class=\"line\">  - layout.tsx  <span class=\"regexp\">//</span> æ§åˆ¶ç½‘ç«™æ ¹èŠ‚ç‚¹é¡µé¢å¸ƒå±€</span><br><span class=\"line\">  - page.tsx    <span class=\"regexp\">//</span> æ§åˆ¶ <span class=\"string\">&#x27;/&#x27;</span> é¡µé¢è·¯ç”±</span><br><span class=\"line\">  - login       <span class=\"regexp\">//</span> æ–°å»º <span class=\"string\">&#x27;/login&#x27;</span> é¡µé¢</span><br><span class=\"line\">    - layout.tsx<span class=\"regexp\">//</span> åŒç†, æ ¹èŠ‚ç‚¹å¿…é¡»æœ‰, å­é¡µé¢æ²¡æœ‰ä¹Ÿè¡Œ</span><br><span class=\"line\">    - page.tsx  <span class=\"regexp\">//</span> åŒç†, å­é¡µé¢å¿…é¡»</span><br><span class=\"line\">  - about       <span class=\"regexp\">//</span> æ–°å»º <span class=\"string\">&#x27;/about&#x27;</span> é¡µé¢</span><br><span class=\"line\">    - page.tsx</span><br></pre></td></tr></table></figure>\n<p>å¯ä»¥æ–°å»ºè¿™ä¸ªæ–‡ä»¶, ç„¶åè®¿é—® <code>/login</code> è¯•ä¸€è¯•</p>\n<figure class=\"highlight tsx\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// `app/login/page.tsx` is the UI for the `/login` URL</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"keyword\">function</span> <span class=\"title function_\">Page</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>Hello, login page!<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"payment-stripe\">payment-stripe</h3>\n<blockquote>\n<p>No such price: â€˜price_1PyqB006uMozVQ0qomnghCIoâ€™; a similar object exists in live mode, but a test mode key was used to make this request.</p>\n</blockquote>\n<p>priceId ä¸ stripe secret ä¸åŒ¹é…å¯¼è‡´, æ­£å¼ä¸æµ‹è¯• key ä¸é€šç”¨</p>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"deployments\">deployments</h2>\n<h3 id=\"vercel-file-read-write\">vercel-file-read-write</h3>\n<p>ç”¨äº†ä¹‹åæ‰æ·±åˆ»çŸ¥é“ vercel æ˜¯ä¸ª serverless å¹³å°, ä¹Ÿå°±æ˜¯ä»£ç é‡Œä¸èƒ½ç”¨ â€œfsâ€</p>\n<p>å½“ç„¶ä¹Ÿä¸æ˜¯å®Œå…¨ä¸èƒ½ç”¨, æ˜¯åªè¯»çŠ¶æ€ (ç”³è¯·å†™å…¥ä¼šæŠ¥é”™: <code>EROFS: read-only file system</code>)</p>\n<p>æ–‡ä»¶å¼•å…¥ä¹Ÿæ¯”è¾ƒè‹›åˆ» (é€šè¿‡ <code>../</code> è¿™ç§å¯¼å…¥å¾ˆå®¹æ˜“å‡ºç° file not found) <sup id='cite_ref-2'><a href=\"#cite_note-2\">[2]</a></sup></p>\n<p><a href=\"https://vercel.com/guides/how-can-i-use-files-in-serverless-functions\">æŒ‰å®˜æ–¹å»ºè®®</a> æ˜¯è¿™ç§:</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"code\"><pre><span class=\"line\">path.<span class=\"title function_\">join</span>(process.<span class=\"title function_\">cwd</span>(), <span class=\"string\">&quot;/public/img/xxx.png&quot;</span>);</span><br></pre></td></tr></table></figure>\n<p>å¦‚æœçœŸé‡åˆ°éœ€è¦ <code>ä¸´æ—¶</code> å†™å…¥çš„æƒ…å†µ, å¯ä»¥ç”¨ <code>/tmp</code> è¿™ä¸ªè·¯å¾„</p>\n<blockquote>\n<p><a href=\"https://stackoverflow.com/questions/70924414/vercel-read-only-file-system-chmod\">vercel read-only file system, chmod</a></p>\n</blockquote>\n<p>å¦å¤–æ›´å»ºè®®çš„åšæ³•æ˜¯ç”¨ Buffer ä¼ é€’, ä¸€èˆ¬ä¸»æµç¬¬ä¸‰æ–¹åº“çš„è¾“å…¥è¾“å…¥éƒ½é€‚é…äº† (æ¯”å¦‚æˆ‘ç”¨åˆ°äº† Jimp)</p>\n<h4 id=\"Jimp-watermark-æ·»åŠ æ°´å°\">Jimp-watermark-æ·»åŠ æ°´å°</h4>\n<figure class=\"highlight ts\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> srcImg = <span class=\"keyword\">await</span> <span class=\"title class_\">Jimp</span>.<span class=\"title function_\">read</span>(</span><br><span class=\"line\">  <span class=\"title class_\">Buffer</span>.<span class=\"title function_\">from</span>(<span class=\"title function_\">await</span>(<span class=\"keyword\">await</span> <span class=\"title function_\">fetch</span>(data.<span class=\"property\">output</span>.<span class=\"property\">image_url</span> ?? <span class=\"string\">&quot;&quot;</span>)).<span class=\"title function_\">arrayBuffer</span>())</span><br><span class=\"line\">);</span><br><span class=\"line\"><span class=\"comment\">// æ°´å°åŠ åˆ°å·¦ä¸‹è§’</span></span><br><span class=\"line\">srcImg.<span class=\"title function_\">composite</span>(</span><br><span class=\"line\">  <span class=\"keyword\">await</span> <span class=\"title class_\">Jimp</span>.<span class=\"title function_\">read</span>(path.<span class=\"title function_\">join</span>(process.<span class=\"title function_\">cwd</span>(), <span class=\"string\">&quot;/public/img/watermark.png&quot;</span>)),</span><br><span class=\"line\">  <span class=\"number\">10</span>,</span><br><span class=\"line\">  srcImg.<span class=\"title function_\">getHeight</span>() - <span class=\"number\">100</span>,</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    <span class=\"attr\">mode</span>: <span class=\"title class_\">Jimp</span>.<span class=\"property\">BLEND_SOURCE_OVER</span>,</span><br><span class=\"line\">    <span class=\"attr\">opacitySource</span>: <span class=\"number\">1</span>,</span><br><span class=\"line\">    <span class=\"attr\">opacityDest</span>: <span class=\"number\">0.8</span>,</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> resultBuffer = <span class=\"keyword\">await</span> srcImg.<span class=\"title function_\">getBufferAsync</span>(<span class=\"title class_\">Jimp</span>.<span class=\"property\">MIME_JPEG</span>);</span><br></pre></td></tr></table></figure>\n<hr>\n<h4 id=\"vercel-rewrites\">vercel-rewrites</h4>\n<blockquote>\n<p><a href=\"https://vercel.com/docs/edge-network/rewrites\">https://vercel.com/docs/edge-network/rewrites</a></p>\n</blockquote>\n<p>vercel åœ¨éƒ¨ç½²ä¸€äº› app æ—¶, ä¼šå­˜åœ¨ 404 çš„é—®é¢˜</p>\n<p>å› ä¸º Vercel ä¸­ <code>/xxx/</code> å®é™…è§£æåœ°å€ä¸º <code>xxx/index.html</code></p>\n<p>è€Œä¸æ˜¯ <code>/xxx.html</code>, å¯¼è‡´è§£æé”™è¯¯, å¯ä»¥å‚è€ƒæ–‡æ¡£ä¿®å¤:</p>\n<figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;rewrites&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">[</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#123;</span> <span class=\"attr\">&quot;source&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;/tags/:path(.*(?!/))&quot;</span><span class=\"punctuation\">,</span> <span class=\"attr\">&quot;destination&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;/tags/:path.html&quot;</span> <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">  <span class=\"punctuation\">]</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"aliyun-ç™¾ç‚¼æ¢è£…\">aliyun-ç™¾ç‚¼æ¢è£…</h3>\n<blockquote>\n<p>Download the media resource timed out during the data inspection process.</p>\n</blockquote>\n<p>è¿™é—®é¢˜æ˜¯ç”±äºèµ„æºé“¾æ¥ç¦»ä¸Šæµ·æœ‰ç‚¹è¿œ/å¤ªå¤§, è·å–è¶…æ—¶äº†, æŠŠæ–‡ä»¶æœåŠ¡æ¢åˆ° ap-shanghai</p>\n<hr>\n<h3 id=\"centos7-å®å¡”-docker-CICD\">centos7-å®å¡”-docker-CICD</h3>\n<p>é¦–å…ˆé¢ä¸´çš„é—®é¢˜æ˜¯ centos 7 åœ¨ä¸å‡çº§ç³»ç»Ÿçš„æƒ…å†µä¸‹æ— æ³•ç›´æ¥å®‰è£… nodejs 18 (nextjs æœ€ä½è¦æ±‚)</p>\n<p>æ‰€ä»¥é€‰æ‹©ç”¨ docker éƒ¨ç½², t3app è‡ªå¸¦äº† Dockerfile</p>\n<h4 id=\"å®è·µ-CICD-nextjs-docker-dotenv\">å®è·µ-CICD-nextjs-docker-dotenv</h4>\n<p>ä¸€èˆ¬æƒ…å†µä¸‹å‰ç«¯é¡¹ç›®çš„ç¯å¢ƒå˜é‡ä¸å¤ªä¼šåœ¨ build æ—¶ä½¿ç”¨, å¦‚æœåœ¨ä»£ç é‡Œå†™ç¯å¢ƒå˜é‡åˆ‡æ¢ (JS/TS), ä¼šåœ¨ build æ—¶è¢«ç¼–è¯‘ä¸ºé™æ€çš„, æ— æ³•åœ¨ run çš„æ—¶å€™åŠ¨æ€å˜åŒ–</p>\n<p>æ‰€ä»¥ç”¨ docker ç¼–è¯‘ nextjs é¡¹ç›®æ—¶, dockerfile ä¸ç”¨è€ƒè™‘ .env, ä¹Ÿä¸å»ºè®®å°† .env æ‰“åŒ…åœ¨ docker image ä¸­</p>\n<p>build ä¸ºä¸€ä¸ª docker image, æŠŠ .env å¤åˆ¶åˆ°ä¸åŒç¯å¢ƒå†è¿è¡Œ</p>\n<hr>\n<h4 id=\"åŒå¼•å·é—®é¢˜\">åŒå¼•å·é—®é¢˜</h4>\n<p>.env ä¸­æ­£å¸¸è®¾ç½®äº†: <code>NEXTAUTH_URL=&quot;http://localhost:3000&quot;</code>, ä½†è¿è¡Œæ—¶æŠ¥é”™äº†</p>\n<p>âŒ Invalid environment variables: { NEXTAUTH_URL: [ â€˜Invalid urlâ€™ ] }</p>\n<p>å®é™… .env çš„è§£æä¹Ÿè·Ÿéƒ¨ç½²ç¯å¢ƒæœ‰è”ç³», æˆ‘ç”¨çš„æ˜¯ docker run --env-file .env çš„å½¢å¼æ’å…¥ç¯å¢ƒå˜é‡, docker ä¸­å®é™…æ˜¯è¿™æ ·è§£æçš„</p>\n<figure class=\"highlight awk\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">&quot;25&quot;</span> : <span class=\"string\">&quot;NEXTAUTH_URL=&quot;</span>http:<span class=\"regexp\">//</span>localhost:<span class=\"number\">3000</span><span class=\"string\">&quot;&quot;</span>,</span><br><span class=\"line\"><span class=\"string\">&quot;26&quot;</span> : <span class=\"string\">&quot;NEXT_PUBLIC_NEXTAUTH_URL=&quot;</span>http:<span class=\"regexp\">//</span>localhost:<span class=\"number\">3000</span><span class=\"string\">&quot;&quot;</span>,</span><br><span class=\"line\"><span class=\"string\">&quot;27&quot;</span> : <span class=\"string\">&quot;PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin&quot;</span>,</span><br><span class=\"line\"><span class=\"string\">&quot;28&quot;</span> : <span class=\"string\">&quot;SSL_CERT_FILE=/etc/ssl/certs/ca-certificates.crt&quot;</span>,</span><br><span class=\"line\"><span class=\"string\">&quot;29&quot;</span> : <span class=\"string\">&quot;NEXT_SHARP_PATH=/app/node_modules/sharp&quot;</span></span><br></pre></td></tr></table></figure>\n<p>ä½†å¯è§çš„é—®é¢˜æ˜¯å¼•å·è¢«æå‰æˆªæ­¢, æ‰€ä»¥å¯¼è‡´ç¨‹åºæ— æ³•å¼•åˆ°å˜é‡</p>\n<p><a><img src= \"https://pan.weidows.tech/d/local/img/loading.svg\" data-lazy-src=\"https://pan.weidows.tech/d/local/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"å€Ÿç‰©è¡¨\">å€Ÿç‰©è¡¨</h2>\n<p><a name='cite_note-1' href='#cite_ref-1'>[1]</a>: <a href=\"https://stackoverflow.com/questions/76105855/send-blob-image-from-frontend-to-backend-with-nextjs-and-trpc-t3-stack\">https://stackoverflow.com/questions/76105855/send-blob-image-from-frontend-to-backend-with-nextjs-and-trpc-t3-stack</a></p>\n<p><a name='cite_note-2' href='#cite_ref-2'>[2]</a>: <a href=\"https://medium.com/@nksCodingLearnings/how-to-read-and-write-files-in-next-js-on-a-vercel-deployed-website-c1e9ea606cb6\">How to Read and Write Files in Next.js on a Vercel Deployed Website</a></p>\n<p><a name='cite_note-3' href='#cite_ref-3'>[3]</a>: <a href=\"https://stackoverflow.com/questions/71600978/missingsecret-missingsecreterror-please-define-a-secret-in-production\">MissingSecret [MissingSecretError]: Please define a <code>secret</code> in production</a></p>\n<script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kity@2.0.4/dist/kity.min.js\"></script><script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js\"></script><script defer=\"true\" type=\"text&#x2F;javascript\" src=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js\"></script><link rel=\"stylesheet\" type=\"text&#x2F;css\" href=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css\">",
            "tags": [
                "nextjs",
                "fullstack",
                "vercel",
                "é˜¿é‡Œäº‘",
                "jimp",
                "typescript"
            ]
        }
    ]
}