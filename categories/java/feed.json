{
    "version": "https://jsonfeed.org/version/1",
    "title": "â­ï¸é½ä¸‹æ— è´°â­ï¸ â€¢ All posts by \"java\" category",
    "description": "May all the beauty be bless.âœ¨",
    "home_page_url": "https://weidows.github.io",
    "items": [
        {
            "id": "https://weidows.github.io/post/Java/SQL/sql-problem/",
            "url": "https://weidows.github.io/post/Java/SQL/sql-problem/",
            "title": "ğŸššå¼€å‘ä¹‹æ—…~",
            "date_published": "2021-08-17T09:29:17.000Z",
            "content_html": "<!--\n * @?: *********************************************************************\n * @Author: Weidows\n * @LastEditors: Weidows\n * @LastEditTime: 2021-12-04 08:59:48\n * @FilePath: \\Blog-private\\source\\_posts\\Java\\SQL\\sql-problem.md\n * @Description:\n * @!: *********************************************************************\n-->\n<ul>\n<li><a href=\"#%E7%AE%80%E4%BB%8B\">ç®€ä»‹</a></li>\n<li><a href=\"#%E6%A8%A1%E7%B3%8A%E6%9F%A5%E8%AF%A2\">æ¨¡ç³ŠæŸ¥è¯¢</a></li>\n<li><a href=\"#where\">where</a></li>\n<li><a href=\"#%E5%A4%9A%E7%B4%A2%E5%BC%95%E6%8E%92%E5%BA%8F\">å¤šç´¢å¼•æ’åº</a></li>\n<li><a href=\"#mariadb-%E6%97%A0%E6%B3%95%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5\">Mariadb- æ— æ³•è¿œç¨‹è¿æ¥</a></li>\n<li><a href=\"#%E6%95%B0%E6%8D%AE%E6%BA%90%E8%BF%9E%E6%8E%A5%E4%B8%8D%E4%B8%8A\">æ•°æ®æºè¿æ¥ä¸ä¸Š</a></li>\n<li><a href=\"#docker-databases\">docker-databases</a></li>\n<li><a href=\"#%E6%8E%A5%E5%8F%A3%E6%95%B0%E6%8D%AE%E9%80%9F%E8%A7%88\">æ¥å£æ•°æ®é€Ÿè§ˆ</a></li>\n<li><a href=\"#%E5%A4%96%E9%94%AE-%E6%95%B0%E6%8D%AE-%E5%AF%BC%E5%87%BA%E5%85%A5\">å¤–é”® - æ•°æ® - å¯¼å‡ºå…¥</a></li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"ç®€ä»‹ -8\">ç®€ä»‹</h2>\n<p>ä¸€é¡¿è¯¾ç¨‹ä¸‹æ¥,SQL è¯­æ³•æ˜¯ç†Ÿæ‚‰äº†, ä½†æ˜¯åšåˆ°ä¸šåŠ¡å±‚é¢, ä¸åœ†æ»‘ä¹‹å¤„æš´éœ²å‡ºæ¥æƒ¹.</p>\n<p>ä¸åªæ˜¯ SQL, åŒ…æ‹¬å·¥ä½œä¸­å¸¸ç”¨çš„æŠ€å·§.</p>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"æ¨¡ç³ŠæŸ¥è¯¢ -2\">æ¨¡ç³ŠæŸ¥è¯¢</h2>\n<ul>\n<li>\n<p>åŒ…æ‹¬æ¨¡ç³ŠæŸ¥è¯¢ä¸­æ–‡</p>\n</li>\n<li>\n<p>ç½‘ä¸Šæ–‡ç« :</p>\n<blockquote>\n<p><a href=\"https://www.cnblogs.com/-lin-x-c-/p/10375412.html\">mysql ä¸­æ¨¡ç³ŠæŸ¥è¯¢çš„å››ç§ç”¨æ³•ï¼š</a></p>\n</blockquote>\n<blockquote>\n<p><a href=\"https://www.oschina.net/question/160183_36995\">mybatis æ¨¡ç³ŠæŸ¥è¯¢ ä¸­æ–‡é—®é¢˜</a></p>\n</blockquote>\n</li>\n</ul>\n<hr>\n<ul>\n<li>\n<p>ä¸­ / è‹±éƒ½å¯ä»¥æ­£å¸¸æŸ¥è¯¢:</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">select</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;selectByBean&quot;</span> <span class=\"attr\">resultMap</span>=<span class=\"string\">&quot;BaseResultMap&quot;</span>&gt;</span></span><br><span class=\"line\">  select</span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">include</span> <span class=\"attr\">refid</span>=<span class=\"string\">&quot;Base_Column_List&quot;</span>/&gt;</span></span><br><span class=\"line\">  from test</span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">where</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">if</span> <span class=\"attr\">test</span>=<span class=\"string\">&quot;name != null and name != &#x27;&#x27;&quot;</span>&gt;</span></span><br><span class=\"line\">      and name like concat(&#x27;%&#x27;,#&#123;name&#125;,&#x27;%&#x27;)</span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">if</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">if</span> <span class=\"attr\">test</span>=<span class=\"string\">&quot;url != null and url != &#x27;&#x27;&quot;</span>&gt;</span></span><br><span class=\"line\">      and cut_url like concat(&#x27;%&#x27;,#&#123;url&#125;,&#x27;%&#x27;)</span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">if</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">where</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">select</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"where-2\">where</h2>\n<ul>\n<li>\n<p>å¼€å‘ä¸­å¯èƒ½ç»å¸¸è§åˆ°: <code>where 1 = 1</code> , è¿™æ˜¯å¹²ä»€ä¹ˆç”¨çš„?</p>\n</li>\n<li>\n<p>æ‹¿ä¸Šé¢çš„ä¸¾ä¾‹å­, æŠŠå®ƒå˜æˆä¸‹é¢è¿™æ ·å­:</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">select</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;selectByBean&quot;</span> <span class=\"attr\">resultMap</span>=<span class=\"string\">&quot;BaseResultMap&quot;</span>&gt;</span></span><br><span class=\"line\">  select</span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">include</span> <span class=\"attr\">refid</span>=<span class=\"string\">&quot;Base_Column_List&quot;</span>/&gt;</span></span><br><span class=\"line\">  from test</span><br><span class=\"line\">  where</span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">if</span> <span class=\"attr\">test</span>=<span class=\"string\">&quot;name != null and name != &#x27;&#x27;&quot;</span>&gt;</span></span><br><span class=\"line\">    name like concat(&#x27;%&#x27;,#&#123;name&#125;,&#x27;%&#x27;)</span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">if</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">if</span> <span class=\"attr\">test</span>=<span class=\"string\">&quot;url != null and url != &#x27;&#x27;&quot;</span>&gt;</span></span><br><span class=\"line\">    and cut_url like concat(&#x27;%&#x27;,#&#123;url&#125;,&#x27;%&#x27;)</span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">if</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">select</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>å¦‚æœ name == null, é‚£ä¹ˆ SQL ä¼šæ˜¯è¿™æ ·:</p>\n<p>where and cut_url like concat(â€˜%â€™,#{url},â€˜%â€™)</p>\n<p>è‚¯å®šä¼šæŠ¥é”™</p>\n</li>\n<li>\n<p>æ”¹æˆè¿™æ ·å­å°±æ²¡é—®é¢˜äº†:</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">select</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;selectByBean&quot;</span> <span class=\"attr\">resultMap</span>=<span class=\"string\">&quot;BaseResultMap&quot;</span>&gt;</span></span><br><span class=\"line\">  select</span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">include</span> <span class=\"attr\">refid</span>=<span class=\"string\">&quot;Base_Column_List&quot;</span>/&gt;</span></span><br><span class=\"line\">  from test</span><br><span class=\"line\">  where 1 = 1</span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">if</span> <span class=\"attr\">test</span>=<span class=\"string\">&quot;name != null and name != &#x27;&#x27;&quot;</span>&gt;</span></span><br><span class=\"line\">    name like concat(&#x27;%&#x27;,#&#123;name&#125;,&#x27;%&#x27;)</span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">if</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">if</span> <span class=\"attr\">test</span>=<span class=\"string\">&quot;url != null and url != &#x27;&#x27;&quot;</span>&gt;</span></span><br><span class=\"line\">    and cut_url like concat(&#x27;%&#x27;,#&#123;url&#125;,&#x27;%&#x27;)</span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">if</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">select</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>åœ¨ SQL æ”¯æŒçš„æƒ…å†µä¸‹, è¿˜æ˜¯å¥— <code>&lt;where&gt;</code> æ ‡ç­¾æ›´å¥½, å®ƒèƒ½å¤„ç† <code>where and</code> è¿™ç§æƒ…å†µ.</p>\n</li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"å¤šç´¢å¼•æ’åº\">å¤šç´¢å¼•æ’åº</h2>\n<ul>\n<li>\n<p>æœ‰æ—¶ä¸€ä¸ªè¡¨ä¸­å¤šä¸ªå­—æ®µéœ€è¦åŠ ç´¢å¼•</p>\n<p>ä½†æ˜¯è¿™æ ·å¯¼è‡´æ¯æ¬¡æ·»åŠ  / æ›´æ–°æ•°æ®æ—¶æ’åºéƒ½ä¼šå˜åŒ–</p>\n<p>å‰ç«¯æ¥åˆ°çš„æ•°æ®å¯ä»¥è®¤ä¸ºæ˜¯æ— åºåŒ–çš„, å¦‚ä½•è§£å†³å‘¢?</p>\n</li>\n</ul>\n<hr>\n<ul>\n<li>æŒºç®€å•çš„ <code>order by id</code></li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"Mariadb- æ— æ³•è¿œç¨‹è¿æ¥\">Mariadb- æ— æ³•è¿œç¨‹è¿æ¥</h2>\n<ul>\n<li>\n<p>åœ¨ manjaro è™šæ‹Ÿæœºè£…äº†ä¸ª mariadb</p>\n<p>ä¸»æœºä¸è™šæ‹Ÿæœºå·²ç»è¿é€š, ä½†æ˜¯ mariadb æ— æ³•è¿æ¥ä¸Š (æˆæƒå¤±è´¥)</p>\n<blockquote>\n<p>Host â€˜192.168.114.1â€™ is not allowed to connect to this MariaDB server</p>\n</blockquote>\n<p>å› ä¸º mariadb é»˜è®¤åªå…è®¸ localhost è¿æ¥</p>\n<hr>\n</li>\n<li>\n<p>ç½‘ä¸Šæ‰¾äº†ä¸€å †æ–‡ç« , å¤§å¤šæ˜¯ <code>grant æˆæƒ </code> , <code> æ”¹é…ç½®æ–‡ä»¶</code> ä¹‹ç±»çš„</p>\n<p>è¯•äº†ä¸‹, å„ç§ç¢°å£ , è¿™é‡Œç»™ä¸ªç®€å•æ–¹æ³•</p>\n<hr>\n</li>\n<li>\n<p>ç›´æ¥ <code>æ–°å»ºä¸€ä¸ªç”¨æˆ·</code></p>\n<p>ç”¨æˆ·åéšæ„ , host å¡« <code>%</code> (ä¹Ÿå°±æ˜¯å…è®¸æ‰€æœ‰)</p>\n<p>è¿œç¨‹è¿æ¥æ—¶è¿è¿™ä¸ªç”¨æˆ·å°±è¡Œäº†.</p>\n</li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"æ•°æ®æºè¿æ¥ä¸ä¸Š\">æ•°æ®æºè¿æ¥ä¸ä¸Š</h2>\n<blockquote>\n<p>Failed to bind properties under â€˜â€™ to com.zaxxer.hikari.HikariDataSource</p>\n</blockquote>\n<ul>\n<li>\n<p>è¿™ä¸ªæƒ…å†µå¤§å¤šæ˜¯é…ç½®å±æ€§æ²¡å†™å¯¹, é‡ç‚¹çœ‹ä¸€ä¸‹æ ‡è®°çš„åœ°æ–¹</p>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVAKQR.png\" alt=\"20210925193945\" />\n</li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"docker-databases\">docker-databases</h2>\n<p>ç”¨ docker è·‘æ•°æ®åº“çœŸçš„æ˜¯å¤ª Jier å¥½ä½¿äº†!</p>\n<blockquote>\n<p>åœ¨å¦ä¸€ç¯‡æ–‡ç« : <a href=\"../../system/../docker#%E5%A4%9A%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AE%A1%E7%90%86\">ğŸŒˆ åˆæ¢ Docker.</a></p>\n</blockquote>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"æ¥å£æ•°æ®é€Ÿè§ˆ\">æ¥å£æ•°æ®é€Ÿè§ˆ</h2>\n<ul>\n<li>\n<p>å‰ç«¯æ¥åˆ° JSON æ•°æ®æ€»æ˜¯éœ€è¦çœ‹ä¸€ä¸‹, é€šè¿‡ postman é‚£ç§ä¸æ˜¯å¾ˆä¾¿æ·</p>\n<p>äºæ˜¯ä¹‹å‰æˆ‘ä¸€ç›´æ˜¯æ‰¾åˆ°å“åº” -&gt; å¤åˆ¶ -&gt; ç²˜è´´åˆ° vscode æ ¼å¼åŒ–</p>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVAj6c.png\" alt=\"20211015130205\" />\n</li>\n<li>\n<p>å¶ç„¶å‘ç°æœ‰ä¸ªæ›´æ–¹ä¾¿çš„æ‰‹æ®µ: æµè§ˆå™¨ <code> å‰ç«¯åŠ©æ‰‹æ’ä»¶</code></p>\n<p>å®‰è£…åç›´æ¥åŒå‡»è¯·æ±‚, è·³å‡ºçš„æ–°é¡µé¢å°±æ˜¯å·²ç»æ ¼å¼åŒ–å¥½çš„</p>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVtIXg.png\" alt=\"20211015130109\" />\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVS6hz.png\" alt=\"20211015130815\" />\n</li>\n</ul>\n<hr>\n<h2 id=\"å¤–é”® - æ•°æ® - å¯¼å‡ºå…¥\">å¤–é”® - æ•°æ® - å¯¼å‡ºå…¥</h2>\n<ul>\n<li>\n<p>ç»“ç»„åšæ•°æ®åº“è¯¾è®¾æ—¶å‘ç°, å«æœ‰å¤–é”®çš„è¡¨,create table æ—¶ä¼šæŠ¥é”™.</p>\n<p>è§£å†³åŠæ³•å‘¢, æ¯”å¦‚ä¸‹é¢çš„ä¸‰ä¸ªè¡¨</p>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVA0EY.png\" alt=\"20211204085119\" />\n<p>å…ˆæŠŠ player å’Œ technology ä¸¤ä¸ªè¡¨åˆ›å»ºå¥½, å†åˆ›å»º good_at å°±ä¸ä¼šæŠ¥é”™äº†</p>\n<p>(<code>ä¹Ÿå°±æ˜¯éœ€è¦å…ˆåˆ›å»ºå¤–é”®æŒ‡å‘çš„è¡¨, å†åˆ›å»ºå«æœ‰å¤–é”®çš„è¡¨</code>)</p>\n<hr>\n</li>\n<li>\n<p>insert æ—¶è¿˜æ˜¯ä¼šé‡åˆ°é—®é¢˜, è·Ÿä¸Šé¢ç±»ä¼¼</p>\n<blockquote>\n<p>Error: SQLSTATE[23000]: Integrity constraint violation: 1452 Cannot add or update a child row: a foreign key constraint fails (<code>test</code>.<code>test_user</code>, CONSTRAINT <code>fk_test_user_test_user_id</code> FOREIGN KEY (<code>test_user_id</code>) REFERENCES <code>test_user</code> (<code>id</code>))</p>\n</blockquote>\n<p>å…ˆæ’å…¥ player / technology è¡¨, å†æ’å…¥ good_at è¡¨</p>\n<hr>\n<p>å®åˆ™è¿˜æœ‰ç§å˜ç›¸è§£å†³æ–¹æ³•æ˜¯åœ¨æ’å…¥å‰ foreign_key_checks, æ’å…¥åå†æ‰“å¼€:</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">set</span></span><br><span class=\"line\">  FOREIGN_KEY_CHECKS <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">INSERT</span> <span class=\"keyword\">INTO</span> game(id,name,score,player) <span class=\"keyword\">VALUES</span>(<span class=\"number\">1</span>,<span class=\"string\">&#x27;aggdm&#x27;</span>,<span class=\"number\">0</span>,<span class=\"number\">2</span>),(<span class=\"number\">2</span>,<span class=\"string\">&#x27;cmera&#x27;</span>,<span class=\"number\">10</span>,<span class=\"number\">10</span>),(<span class=\"number\">3</span>,<span class=\"string\">&#x27;hzxgy&#x27;</span>,<span class=\"number\">10</span>,<span class=\"number\">14</span>),(<span class=\"number\">4</span>,<span class=\"string\">&#x27;ihqti&#x27;</span>,<span class=\"number\">5</span>,<span class=\"number\">12</span>),(<span class=\"number\">5</span>,<span class=\"string\">&#x27;hozmy&#x27;</span>,<span class=\"number\">5</span>,<span class=\"number\">6</span>),(<span class=\"number\">6</span>,<span class=\"string\">&#x27;wrcux&#x27;</span>,<span class=\"number\">1</span>,<span class=\"number\">12</span>),(<span class=\"number\">7</span>,<span class=\"string\">&#x27;mlijv&#x27;</span>,<span class=\"number\">1</span>,<span class=\"number\">9</span>),(<span class=\"number\">8</span>,<span class=\"string\">&#x27;qmnij&#x27;</span>,<span class=\"number\">10</span>,<span class=\"number\">11</span>),(<span class=\"number\">9</span>,<span class=\"string\">&#x27;vswdc&#x27;</span>,<span class=\"number\">7</span>,<span class=\"number\">14</span>),(<span class=\"number\">10</span>,<span class=\"string\">&#x27;gebit&#x27;</span>,<span class=\"number\">6</span>,<span class=\"number\">11</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">set</span></span><br><span class=\"line\">  FOREIGN_KEY_CHECKS <span class=\"operator\">=</span> <span class=\"number\">1</span>;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kity@2.0.4/dist/kity.min.js\"></script><script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js\"></script><script defer=\"true\" type=\"text&#x2F;javascript\" src=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js\"></script><link rel=\"stylesheet\" type=\"text&#x2F;css\" href=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css\">",
            "tags": [
                "docker",
                "sql",
                "å‰ç«¯",
                "json"
            ]
        },
        {
            "id": "https://weidows.github.io/post/Java/MyBatis/3/",
            "url": "https://weidows.github.io/post/Java/MyBatis/3/",
            "title": "MyBatis~(è´°)",
            "date_published": "2021-05-16T03:18:27.000Z",
            "content_html": "<!--\n * @?: *********************************************************************\n * @Author: Weidows\n * @LastEditors: Weidows\n * @LastEditTime: 2021-06-23 15:12:45\n * @FilePath: \\Weidowsd:\\Game\\Github\\Blog-private\\source\\_posts\\Java\\MyBatis\\3.md\n * @Description:\n * @!: *********************************************************************\n-->\n<ul>\n<li><a href=\"#%E7%AC%94%E8%AE%B0%E4%BB%A3%E7%A0%81\">ç¬”è®°ä»£ç </a></li>\n<li><a href=\"#%E9%9D%A2%E5%90%91%E6%8E%A5%E5%8F%A3%E7%BC%96%E7%A8%8B\">é¢å‘æ¥å£ç¼–ç¨‹</a></li>\n<li><a href=\"#%E6%B3%A8%E8%A7%A3%E5%BC%80%E5%8F%91\">æ³¨è§£å¼€å‘</a>\n<ul>\n<li><a href=\"#%E7%AE%80%E5%8D%95%E4%B8%8A%E6%89%8B\">ç®€å•ä¸Šæ‰‹</a></li>\n<li><a href=\"#%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90\">åŸç†åˆ†æ</a></li>\n<li><a href=\"#crud\">CRUD</a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%AF%B9%E5%BA%94%E5%85%B3%E7%B3%BB\">å¯¹åº”å…³ç³»</a>\n<ul>\n<li><a href=\"#%E5%A4%9A%E5%AF%B9%E4%B8%80\">å¤šå¯¹ä¸€</a></li>\n</ul>\n</li>\n</ul>\n<h2 id=\"ç¬”è®°ä»£ç  -2\"><a href=\"https://github.com/Weidows/Weidows/blob/09b2ed9b8e2b87709f36228e0ce46fe977534ce9/MyBatis/\">ç¬”è®°ä»£ç </a></h2>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"é¢å‘æ¥å£ç¼–ç¨‹\">é¢å‘æ¥å£ç¼–ç¨‹</h2>\n<ul>\n<li>\n<p>ä¸»è¦ç›®çš„å°±æ˜¯ <code> è§£è€¦</code>, åˆ†å±‚å¼€å‘ä¸­, ä¸Šå±‚ä¸šåŠ¡ä¸ç”¨ç®¡å…·ä½“çš„å®ç°.</p>\n</li>\n<li>\n<p>ä½¿å¾— <code>è§„èŒƒ </code> å’Œ <code> å®ç°</code> ä¸¤éƒ¨åˆ†åˆ†ç¦», æ¥å£ä½œä¸ºé¡¹ç›®éª¨æ¶.</p>\n</li>\n</ul>\n<hr>\n<h2 id=\"æ³¨è§£å¼€å‘\">æ³¨è§£å¼€å‘</h2>\n<h3 id=\"ç®€å•ä¸Šæ‰‹\">ç®€å•ä¸Šæ‰‹</h3>\n<ul>\n<li>\n<p>æ¥å£ä¸Šç›´æ¥æ³¨è§£ SQL è¯­å¥</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">UserMapper</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"meta\">@Select(&quot;select * from mybatis.user&quot;)</span></span><br><span class=\"line\">  <span class=\"function\">List&lt;User&gt; <span class=\"title\">getUsers</span><span class=\"params\">()</span></span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>ç»‘å®šæ¥å£</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">mappers</span>&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- ä¹‹å‰æ˜¯ç”¨ xml ç»‘å®šçš„ --&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">&lt;!--&lt;mapper resource=&quot;Mappers/UserMapper.xml&quot;/&gt;--&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- è¿™é‡Œæ¢æˆç»‘å®šæ¥å£ --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">mapper</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;dao.UserMapper&quot;</span>/&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">mappers</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>å®ç°åŸç†: é€šè¿‡ <code> åå°„æœºåˆ¶ </code> è·å–æ¥å£ä¸­çš„ä¿¡æ¯, ç„¶åç”¨ <code> åŠ¨æ€ä»£ç† </code> å®ç°ä¸šåŠ¡.</p>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GV4Pvb.png\" alt=\"ä»£ç†æ¨¡å¼.drawio\" />\n</li>\n<li>\n<p>è°ƒè¯•</p>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVSSqb.png\" alt=\"20210522000831\" />\n</li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h3 id=\"åŸç†åˆ†æ\">åŸç†åˆ†æ</h3>\n<blockquote>\n<p><a href=\"https://blog.csdn.net/qq_38270106/article/details/93398694\">mybatis çš„æ‰§è¡Œæµç¨‹</a></p>\n</blockquote>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GViQrb.png\" alt=\"MyBatis æµç¨‹.drawio\" />\n<hr>\n<h3 id=\"CRUD\">CRUD</h3>\n<ul>\n<li>\n<p><code>UserMapper</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> dao;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.ibatis.annotations.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> pojo.User;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.List;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.Map;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">UserMapper</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Select(&quot;select * from mybatis.user&quot;)</span></span><br><span class=\"line\">  <span class=\"function\">List&lt;User&gt; <span class=\"title\">getUsers</span><span class=\"params\">()</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">    åŸºæœ¬ç±»å‹çš„å‚æ•°æˆ–è€… String ç±»å‹ï¼Œéœ€è¦åŠ ä¸Š </span></span><br><span class=\"line\"><span class=\"comment\">    å¼•ç”¨ç±»å‹ä¸éœ€è¦åŠ </span></span><br><span class=\"line\"><span class=\"comment\">    å¦‚æœåªæœ‰ä¸€ä¸ªåŸºæœ¬ç±»å‹çš„è¯ï¼Œå¯ä»¥å¿½ç•¥ï¼Œä½†æ˜¯å»ºè®®éƒ½åŠ ä¸Š</span></span><br><span class=\"line\"><span class=\"comment\">    æˆ‘ä»¬åœ¨ SQL ä¸­å¼•ç”¨çš„å°±æ˜¯æˆ‘ä»¬è¿™é‡Œçš„ @Param() ä¸­è®¾å®šçš„å±æ€§å</span></span><br><span class=\"line\"><span class=\"comment\">    é‡è¦: è¿™é‡Œæ–¹æ³•ä¸èƒ½é‡è½½! ä¸¤ä¸ªåŒåæ–¹æ³•ä¼šä½¿ MyBatis è¿è¡ŒæŠ¥é”™(å¼€å‘æ—¶ JDK ä¸ä¼šæŠ¥é”™)</span></span><br><span class=\"line\"><span class=\"comment\">  */</span></span><br><span class=\"line\">  <span class=\"meta\">@Select(&quot;select * from mybatis.user where id = #&#123;id&#125;&quot;)</span></span><br><span class=\"line\">  <span class=\"function\">User <span class=\"title\">getUserById</span><span class=\"params\">(<span class=\"keyword\">int</span> id)</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// å¤šä¸ªå‚æ•°çš„æƒ…å†µä¸‹, å¿…é¡»åŠ ä¸Š @Param æ³¨è§£</span></span><br><span class=\"line\">  <span class=\"meta\">@Select(&quot;select * from mybatis.user where id = #&#123;id&#125; and name = #&#123;name&#125;&quot;)</span></span><br><span class=\"line\">  <span class=\"function\">User <span class=\"title\">getUserByIdAndName</span><span class=\"params\">(<span class=\"meta\">@Param(&quot;id&quot;)</span> <span class=\"keyword\">int</span> id, <span class=\"meta\">@Param(&quot;name&quot;)</span> String name)</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Insert(&quot;insert into mybatis.user(id,name,pwd) values (#&#123;id&#125;,#&#123;name&#125;,#&#123;pwd&#125;)&quot;)</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">addUser</span><span class=\"params\">(User user)</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// æ³¨æ„ SQL æ ¼å¼,set å’Œ where é¡ºåºä¸èƒ½é¢ å€’</span></span><br><span class=\"line\">  <span class=\"meta\">@Update(&quot;update mybatis.user set name = #&#123;name&#125;,pwd = #&#123;pwd&#125; where id = #&#123;id&#125;&quot;)</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">updateUser</span><span class=\"params\">(User user)</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Delete(&quot;delete from mybatis.user where id = #&#123;id&#125;&quot;)</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">deleteUserById</span><span class=\"params\">(<span class=\"keyword\">int</span> id)</span></span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n</li>\n<li>\n<p>test</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> dao;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.ibatis.session.SqlSession;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.junit.Test;</span><br><span class=\"line\"><span class=\"keyword\">import</span> pojo.User;</span><br><span class=\"line\"><span class=\"keyword\">import</span> utils.MyBatisUtils;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.List;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">UserMapperTest</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Test</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">getUsers</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    SqlSession sqlSession = MyBatisUtils.getSqlSession();</span><br><span class=\"line\">    UserMapper userMapper = sqlSession.getMapper(UserMapper.class);</span><br><span class=\"line\">    List&lt;User&gt; userList = userMapper.getUsers();</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (User user : userList) &#123;</span><br><span class=\"line\">      System.out.println(user);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    sqlSession.close();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Test</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">testGetUserById</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    SqlSession sqlSession = MyBatisUtils.getSqlSession();</span><br><span class=\"line\">    UserMapper userMapper = sqlSession.getMapper(UserMapper.class);</span><br><span class=\"line\">    User user = userMapper.getUserById(<span class=\"number\">1</span>);</span><br><span class=\"line\">    System.out.println(user);</span><br><span class=\"line\">    sqlSession.close();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Test</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">getUserById</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    SqlSession sqlSession = MyBatisUtils.getSqlSession();</span><br><span class=\"line\">    UserMapper userMapper = sqlSession.getMapper(UserMapper.class);</span><br><span class=\"line\">    User user = userMapper.getUserByIdAndName(<span class=\"number\">1</span>, <span class=\"string\">&quot; å¼ ä¸‰ &quot;</span>);</span><br><span class=\"line\">    System.out.println(user);</span><br><span class=\"line\">    sqlSession.close();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Test</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">addUser</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    SqlSession sqlSession = MyBatisUtils.getSqlSession();</span><br><span class=\"line\">    UserMapper userMapper = sqlSession.getMapper(UserMapper.class);</span><br><span class=\"line\">    <span class=\"keyword\">int</span> i = userMapper.addUser(<span class=\"keyword\">new</span> User(<span class=\"number\">7</span>, <span class=\"string\">&quot; ä¸ƒä¸ƒ &quot;</span>, <span class=\"string\">&quot;45648&quot;</span>));</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (i &gt; <span class=\"number\">0</span>)</span><br><span class=\"line\">      sqlSession.commit();</span><br><span class=\"line\">    sqlSession.close();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Test</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">updateUser</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    SqlSession sqlSession = MyBatisUtils.getSqlSession();</span><br><span class=\"line\">    UserMapper userMapper = sqlSession.getMapper(UserMapper.class);</span><br><span class=\"line\">    <span class=\"keyword\">int</span> i = userMapper.updateUser(<span class=\"keyword\">new</span> User(<span class=\"number\">7</span>, <span class=\"string\">&quot; ä¸ƒä¸ƒ &quot;</span>, <span class=\"string\">&quot;12345678&quot;</span>));</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (i &gt; <span class=\"number\">0</span>)</span><br><span class=\"line\">      sqlSession.commit();</span><br><span class=\"line\">    sqlSession.close();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Test</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">deleteUserById</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    SqlSession sqlSession = MyBatisUtils.getSqlSession();</span><br><span class=\"line\">    UserMapper userMapper = sqlSession.getMapper(UserMapper.class);</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (userMapper.deleteUserById(<span class=\"number\">7</span>) &gt; <span class=\"number\">0</span>)</span><br><span class=\"line\">      sqlSession.commit();</span><br><span class=\"line\">    sqlSession.close();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"å¯¹åº”å…³ç³»\">å¯¹åº”å…³ç³»</h2>\n<ul>\n<li>SQL åˆå§‹åŒ–:</li>\n</ul>\n<h3 id=\"å¤šå¯¹ä¸€\">å¤šå¯¹ä¸€</h3>\n<script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kity@2.0.4/dist/kity.min.js\"></script><script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js\"></script><script defer=\"true\" type=\"text&#x2F;javascript\" src=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js\"></script><link rel=\"stylesheet\" type=\"text&#x2F;css\" href=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css\">",
            "tags": [
                "java",
                "mybatis",
                "æ•°æ®åº“",
                "æ³¨è§£"
            ]
        },
        {
            "id": "https://weidows.github.io/post/Java/MyBatis/2/",
            "url": "https://weidows.github.io/post/Java/MyBatis/2/",
            "title": "MyBatis~(è´°)",
            "date_published": "2021-05-05T16:04:28.000Z",
            "content_html": "<!--\n * @?: *********************************************************************\n * @Author: Weidows\n * @LastEditors: Weidows\n * @LastEditTime: 2021-05-16 11:19:03\n * @FilePath: \\Weidowsd:\\Game\\Github\\Blog-private\\source\\_posts\\Java\\MyBatis\\2.md\n * @Description:\n * @!: *********************************************************************\n-->\n<ul>\n<li><a href=\"#%E7%AC%94%E8%AE%B0%E4%BB%A3%E7%A0%81\">ç¬”è®°ä»£ç </a></li>\n<li><a href=\"#%E9%85%8D%E7%BD%AE%E8%A7%A3%E6%9E%90\">é…ç½®è§£æ</a>\n<ul>\n<li><a href=\"#environments\">environments</a></li>\n<li><a href=\"#properties\">properties</a></li>\n<li><a href=\"#typealiases\">typeAliases</a></li>\n<li><a href=\"#settings\">Settings</a></li>\n<li><a href=\"#plugins\">plugins</a></li>\n<li><a href=\"#mappers\">mappers</a></li>\n<li><a href=\"#%E4%BD%9C%E7%94%A8%E5%9F%9F%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F\">ä½œç”¨åŸŸ / ç”Ÿå‘½å‘¨æœŸ</a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%B1%9E%E6%80%A7%E5%90%8D%E5%92%8C%E5%AD%97%E6%AE%B5%E5%90%8D%E4%B8%8D%E4%B8%80%E8%87%B4%E7%9A%84%E9%97%AE%E9%A2%98\">å±æ€§åå’Œå­—æ®µåä¸ä¸€è‡´çš„é—®é¢˜</a>\n<ul>\n<li><a href=\"#%E9%97%AE%E9%A2%98%E5%B1%95%E7%A4%BA\">é—®é¢˜å±•ç¤º</a></li>\n<li><a href=\"#%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95\">è§£å†³åŠæ³•</a>\n<ul>\n<li><a href=\"#%E8%B5%B7%E5%88%AB%E5%90%8D\">èµ·åˆ«å</a></li>\n<li><a href=\"#resultmap\">resultMap</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"#%E6%97%A5%E5%BF%97\">æ—¥å¿—</a>\n<ul>\n<li><a href=\"#%E7%AE%80%E4%BB%8B\">ç®€ä»‹</a></li>\n<li><a href=\"#stdout_logging\">STDOUT_LOGGING</a></li>\n<li><a href=\"#log4j\">Log4j</a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%88%86%E9%A1%B5\">åˆ†é¡µ</a></li>\n</ul>\n<h2 id=\"ç¬”è®°ä»£ç \"><a href=\"https://github.com/Weidows/Weidows/blob/09b2ed9b8e2b87709f36228e0ce46fe977534ce9/MyBatis/\">ç¬”è®°ä»£ç </a></h2>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"é…ç½®è§£æ\">é…ç½®è§£æ</h2>\n<p><code>MyBatis-Config.xml</code>è¿™ä¸ªæ–‡ä»¶, é…ç½®å±‚çº§å¦‚ä¸‹</p>\n<ul>\n<li>\n<p>configurationï¼ˆé…ç½®ï¼‰</p>\n<ul>\n<li>propertiesï¼ˆå±æ€§ï¼‰</li>\n<li>settingsï¼ˆè®¾ç½®ï¼‰</li>\n<li>typeAliasesï¼ˆç±»å‹åˆ«åï¼‰</li>\n<li>typeHandlersï¼ˆç±»å‹å¤„ç†å™¨ï¼‰*</li>\n<li>objectFactoryï¼ˆå¯¹è±¡å·¥å‚ï¼‰*</li>\n<li>pluginsï¼ˆæ’ä»¶ï¼‰*</li>\n<li>environmentsï¼ˆç¯å¢ƒé…ç½®ï¼‰\n<ul>\n<li>environmentï¼ˆç¯å¢ƒå˜é‡ï¼‰\n<ul>\n<li>transactionManagerï¼ˆäº‹åŠ¡ç®¡ç†å™¨ï¼‰</li>\n<li>dataSourceï¼ˆæ•°æ®æºï¼‰</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>databaseIdProviderï¼ˆæ•°æ®åº“å‚å•†æ ‡è¯†ï¼‰</li>\n<li>mappersï¼ˆæ˜ å°„å™¨ï¼‰</li>\n</ul>\n</li>\n<li>\n<p>å¸¦ <code>'\\*'</code> çš„æ˜¯äº†è§£å³å¯çš„.</p>\n</li>\n</ul>\n<hr>\n<h3 id=\"environments\">environments</h3>\n<ul>\n<li>\n<p>MyBatis å¯ä»¥é€‚åº”è¿æ¥å¤šä¸ªç¯å¢ƒ, ä½†æ˜¯æ¯ä¸ª SqlSessionFactory åªèƒ½é€‰æ‹©ä¸€ç§ç¯å¢ƒ</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">environments</span> <span class=\"attr\">default</span>=<span class=\"string\">&quot;development&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">environment</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;development&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">transactionManager</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;JDBC&quot;</span>/&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">dataSource</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;POOLED&quot;</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;driver&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;com.mysql.cj.jdbc.Driver&quot;</span>/&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;url&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                <span class=\"attr\">value</span>=<span class=\"string\">&quot;jdbc:mysql://localhost:3306/mybatis?userSSL=true<span class=\"symbol\">&amp;amp;</span>useUnicode=true<span class=\"symbol\">&amp;amp;</span>characterEncoding=UTF-8<span class=\"symbol\">&amp;amp;</span>serverTimezone=UTC&quot;</span>/&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;username&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;root&quot;</span>/&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;password&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;123456&quot;</span>/&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">dataSource</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">environment</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">environment</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;test&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">transactionManager</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;JDBC&quot;</span>/&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">dataSource</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;POOLED&quot;</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;driver&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;com.mysql.cj.jdbc.Driver&quot;</span>/&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;url&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                <span class=\"attr\">value</span>=<span class=\"string\">&quot;jdbc:mysql://localhost:3306/mybatis?userSSL=true<span class=\"symbol\">&amp;amp;</span>useUnicode=true<span class=\"symbol\">&amp;amp;</span>characterEncoding=UTF-8<span class=\"symbol\">&amp;amp;</span>serverTimezone=UTC&quot;</span>/&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;username&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;root&quot;</span>/&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;password&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;123456&quot;</span>/&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">dataSource</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">environment</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">environments</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>MyBatis é»˜è®¤äº‹åŠ¡ç®¡ç†å™¨æ˜¯ JDBC, æ•°æ®æºç±»å‹å¯ç”¨ POOLED/UNPOOLED/JNDI</p>\n<p>å¸¸è§çš„æ•°æ®æº: dbcp, c3p0, druid</p>\n<p><a href=\"https://www.php.cn/mysql-tutorials-378143.html\">æ•°æ®æºæœ‰å“ªå‡ ç§ï¼Ÿ</a></p>\n</li>\n</ul>\n<hr>\n<h3 id=\"properties\">properties</h3>\n<ul>\n<li>\n<p>å¯ä»¥é€šè¿‡ properties å±æ€§æ¥å®ç°å¼•ç”¨é…ç½®æ–‡ä»¶, æ¯”å¦‚æŠŠä¸Šæ–¹çš„ xml é…ç½®æŠ½ç¦»åˆ° <code>db.properties</code></p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;driver&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;com.mysql.cj.jdbc.Driver&quot;</span>/&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;url&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">          <span class=\"attr\">value</span>=<span class=\"string\">&quot;jdbc:mysql://localhost:3306/mybatis?userSSL=true<span class=\"symbol\">&amp;amp;</span>useUnicode=true<span class=\"symbol\">&amp;amp;</span>characterEncoding=UTF-8<span class=\"symbol\">&amp;amp;</span>serverTimezone=UTC&quot;</span>/&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;username&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;root&quot;</span>/&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;password&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;123456&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>\n<hr>\n<figure class=\"highlight properties\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">driver</span>=<span class=\"string\">com.mysql.cj.jdbc.Driver</span></span><br><span class=\"line\"><span class=\"attr\">url</span>=<span class=\"string\">jdbc:mysql://localhost:3306/mybatis?userSSL=true&amp;useUnicode=true&amp;characterEncoding=UTF-8&amp;serverTimezone=UTC</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- å¼•å…¥å¤–éƒ¨é…ç½®æ–‡ä»¶, åŒæ—¶å¢æ·»ä¸€äº›é…ç½® --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">properties</span> <span class=\"attr\">resource</span>=<span class=\"string\">&quot;db.properties&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;username&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;root&quot;</span>/&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;password&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;123456&quot;</span>/&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">properties</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">environments</span> <span class=\"attr\">default</span>=<span class=\"string\">&quot;development&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">environment</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;development&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">transactionManager</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;JDBC&quot;</span>/&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">dataSource</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;POOLED&quot;</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;driver&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;$&#123;driver&#125;&quot;</span>/&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;url&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                <span class=\"attr\">value</span>=<span class=\"string\">&quot;$&#123;url&#125;&quot;</span>/&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;username&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;$&#123;username&#125;&quot;</span>/&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;password&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;$&#123;password&#125;&quot;</span>/&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">dataSource</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">environment</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">environments</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<h3 id=\"typeAliases\">typeAliases</h3>\n<ul>\n<li>\n<p>å¯ä»¥ç»™é…ç½®èµ·ä¸€ä¸ªåˆ«å, æˆ–è€…æ‰«æå¯¼å…¥ pojo åŒ…</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">typeAliases</span>&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- ç›¸å½“äº &lt;typeAlias type=&quot;pojo.User&quot; alias=&quot;user&quot;/&gt;--&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">typeAlias</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;pojo.User&quot;</span>/&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- åœ¨æ²¡æœ‰æ³¨è§£çš„æƒ…å†µä¸‹ï¼Œä¼šä½¿ç”¨ Bean çš„é¦–å­—æ¯å°å†™çš„éé™å®šç±»åæ¥ä½œä¸ºå®ƒçš„åˆ«å. æ¯”å¦‚ pojo.User åˆ«åä¸º user--&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">package</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;pojo&quot;</span>/&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">typeAliases</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>æ³¨è§£æ–¹å¼èµ·åˆ«å</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Alias(&quot;user&quot;)</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">User</span> </span>&#123;</span><br><span class=\"line\">  ...</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>MyBatis è¿˜æœ‰ä¸€äº›é»˜è®¤çš„åˆ«å</p>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GV4QHq.png\" alt=\"20210507212138\" />\n</li>\n</ul>\n<hr>\n<h3 id=\"Settings\">Settings</h3>\n<ul>\n<li>\n<p>ä¼šæ”¹å˜ MyBatis è¿è¡ŒçŠ¶æ€çš„é…ç½®</p>\n</li>\n<li>\n<p>éœ€è¦ä¿®æ”¹æ—¶æ‰¾æ–‡æ¡£å°±è¡Œ.</p>\n</li>\n</ul>\n<hr>\n<h3 id=\"plugins\">plugins</h3>\n<ul>\n<li>mybatis-generator-core</li>\n<li>mybatis-plus</li>\n<li>é€šç”¨ mapper</li>\n</ul>\n<hr>\n<h3 id=\"mappers\">mappers</h3>\n<ul>\n<li>\n<p>æ³¨å†Œç»‘å®šæˆ‘ä»¬çš„ Mapper.xml æ–‡ä»¶, æœ‰ä¸‹é¢ä¸‰ç§æ–¹å¼:</p>\n<p>è¿™ä¸‰ç§ä¸èƒ½åŒæ—¶å¯¼å…¥åŒä¸€ä¸ªèµ„æº, ä¼šå†²çªæŠ¥é”™</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">mappers</span>&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">&lt;!--</span></span><br><span class=\"line\"><span class=\"comment\">    1. (æ¨è)</span></span><br><span class=\"line\"><span class=\"comment\">    æ¯ä¸€ä¸ª Mapper.xml éƒ½éœ€è¦åœ¨ MyBatis æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­æ³¨å†Œ</span></span><br><span class=\"line\"><span class=\"comment\">    --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">mapper</span> <span class=\"attr\">resource</span>=<span class=\"string\">&quot;dao/UserMapper.xml&quot;</span>/&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">&lt;!--</span></span><br><span class=\"line\"><span class=\"comment\">    2.</span></span><br><span class=\"line\"><span class=\"comment\">    ä½¿ç”¨ class æ–‡ä»¶ç»‘å®šæ³¨å†Œ</span></span><br><span class=\"line\"><span class=\"comment\">    æ³¨æ„: æ¥å£å’Œä»–çš„ Mapper é…ç½®æ–‡ä»¶å¿…é¡»åŒåä¸”åœ¨åŒä¸€ä¸ªåŒ…ä¸‹</span></span><br><span class=\"line\"><span class=\"comment\">  --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">mapper</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;dao.UserMapper&quot;</span>/&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">&lt;!--</span></span><br><span class=\"line\"><span class=\"comment\">    3.</span></span><br><span class=\"line\"><span class=\"comment\">    ä½¿ç”¨åŒ…æ‰«æè¿›è¡Œæ³¨å…¥</span></span><br><span class=\"line\"><span class=\"comment\">  --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">package</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;dao&quot;</span>/&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">mappers</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<h3 id=\"ä½œç”¨åŸŸ - ç”Ÿå‘½å‘¨æœŸ\">ä½œç”¨åŸŸ / ç”Ÿå‘½å‘¨æœŸ</h3>\n<blockquote>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GV4bPP.png\" alt=\"20210508000956\" />\n<img src=\"https://www.helloimg.com/images/2022/02/27/GV4p7r.png\" alt=\"20210508000002\" />\n</blockquote>\n<ul>\n<li>\n<p>SqlSessionFactoryBuilder: åˆ›å»º SqlSessionFactory ä¹‹åå°±è¢«æ¶ˆé™¤çš„å±€éƒ¨å˜é‡</p>\n</li>\n<li>\n<p>SqlSessionFactory</p>\n<p>å¯ä»¥æƒ³è±¡ä¸ºï¼š<code>æ•°æ®åº“è¿æ¥æ± </code></p>\n<p>è¢«åˆ›å»ºä¹‹ååœ¨åº”ç”¨è¿è¡ŒæœŸé—´ <code> ä¸€ç›´å­˜åœ¨</code></p>\n<p><code>åº”ç”¨ä½œç”¨åŸŸ </code>, ä½¿ç”¨(é™æ€)<code> å•ä¾‹æ¨¡å¼</code></p>\n<hr>\n</li>\n<li>\n<p>SqlSession</p>\n<p>è¿æ¥åˆ°è¿æ¥æ± çš„ä¸€ä¸ªè¯·æ±‚</p>\n<p><code>çº¿ç¨‹ä¸å®‰å…¨</code>, å› æ­¤æ˜¯ä¸èƒ½è¢«å…±äº«çš„ï¼Œæ‰€ä»¥å®ƒçš„æœ€ä½³çš„ä½œç”¨åŸŸæ˜¯è¯·æ±‚æˆ–æ–¹æ³•ä½œç”¨åŸŸã€‚</p>\n<p>ç”¨å®Œå°±éœ€è¦å…³æ‰, å¦åˆ™å ç”¨èµ„æº.</p>\n</li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"å±æ€§åå’Œå­—æ®µåä¸ä¸€è‡´çš„é—®é¢˜\">å±æ€§åå’Œå­—æ®µåä¸ä¸€è‡´çš„é—®é¢˜</h2>\n<h3 id=\"é—®é¢˜å±•ç¤º\">é—®é¢˜å±•ç¤º</h3>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">User</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">int</span> id;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> String name;</span><br><span class=\"line\">  <span class=\"comment\">//password - pwd å±æ€§åå’Œå­—æ®µåä¸ä¸€è‡´</span></span><br><span class=\"line\">  <span class=\"keyword\">private</span> String password;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>\n<p>ç»“æœ: åœ¨æ•°æ®åº“æŸ¥ä¸åˆ°åä¸º &quot;password&quot; çš„å­—æ®µ, æ‰€ä»¥ password æ˜¾ç¤ºä¸º null</p>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">User(<span class=\"attribute\">id</span>=1, <span class=\"attribute\">name</span>= å¼ ä¸‰, <span class=\"attribute\">password</span>=<span class=\"literal\">null</span>)</span><br><span class=\"line\">User(<span class=\"attribute\">id</span>=2, <span class=\"attribute\">name</span>= æå››, <span class=\"attribute\">password</span>=<span class=\"literal\">null</span>)</span><br><span class=\"line\">User(<span class=\"attribute\">id</span>=3, <span class=\"attribute\">name</span>= ç‹äº”, <span class=\"attribute\">password</span>=<span class=\"literal\">null</span>)</span><br><span class=\"line\">User(<span class=\"attribute\">id</span>=4, <span class=\"attribute\">name</span>= èµµå…­, <span class=\"attribute\">password</span>=<span class=\"literal\">null</span>)</span><br><span class=\"line\">User(<span class=\"attribute\">id</span>=6, <span class=\"attribute\">name</span>= ç‹è™, <span class=\"attribute\">password</span>=<span class=\"literal\">null</span>)</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<h3 id=\"è§£å†³åŠæ³•\">è§£å†³åŠæ³•</h3>\n<h4 id=\"èµ·åˆ«å\">èµ·åˆ«å</h4>\n<figure class=\"highlight applescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">select * <span class=\"keyword\">from</span> user <span class=\"keyword\">where</span> <span class=\"built_in\">id</span> = <span class=\"comment\">#&#123;id&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\">select <span class=\"built_in\">id</span>,<span class=\"built_in\">name</span>,pwd <span class=\"keyword\">from</span> user <span class=\"keyword\">where</span> <span class=\"built_in\">id</span> = <span class=\"comment\">#&#123;id&#125;</span></span><br></pre></td></tr></table></figure>\n<hr>\n<h4 id=\"resultMap\">resultMap</h4>\n<blockquote>\n<p>MyBatis ä¸­æœ€é‡è¦æœ€å¼ºå¤§çš„å…ƒç´ ã€‚</p>\n</blockquote>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">resultMap</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;userResultMap&quot;</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;pojo.User&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">&lt;!--</span></span><br><span class=\"line\"><span class=\"comment\">    property: User ä¸­çš„å±æ€§å</span></span><br><span class=\"line\"><span class=\"comment\">    column: æ•°æ®åº“çš„å­—æ®µå</span></span><br><span class=\"line\"><span class=\"comment\">    åªéœ€è¦è®¾ç½®è¿™æ¡åå­—ä¸ä¸€æ ·çš„æ˜ å°„</span></span><br><span class=\"line\"><span class=\"comment\">  --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">result</span> <span class=\"attr\">property</span>=<span class=\"string\">&quot;password&quot;</span> <span class=\"attr\">column</span>=<span class=\"string\">&quot;pwd&quot;</span>/&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">resultMap</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">select</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;getUserList&quot;</span> <span class=\"attr\">resultMap</span>=<span class=\"string\">&quot;userResultMap&quot;</span>&gt;</span></span><br><span class=\"line\">  select *</span><br><span class=\"line\">  from User</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">select</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"æ—¥å¿— -2\">æ—¥å¿—</h2>\n<h3 id=\"ç®€ä»‹ -6\">ç®€ä»‹</h3>\n<ul>\n<li>\n<p>ç”¨æ¥æŸ¥çœ‹è¿è¡ŒçŠ¶æ€,<code>æ’é”™</code>.</p>\n</li>\n<li>\n<p>ä¹‹å‰ç”¨çš„æ˜¯ sout,debug è¿™ç§, ç°åœ¨å‡ºç°äº† <code> æ—¥å¿—å·¥å‚</code>, æ–¹ä¾¿åšæ—¥å¿—</p>\n<ul>\n<li>\n<p>SLF4J</p>\n</li>\n<li>\n<p>LOG4J ã€æŒæ¡ã€‘</p>\n</li>\n<li>\n<p>LOG4J2</p>\n</li>\n<li>\n<p>JDK_LOGGING</p>\n</li>\n<li>\n<p>COMMONS_LOGGING</p>\n</li>\n<li>\n<p>STDOUT_LOGGING ã€æŒæ¡ã€‘</p>\n</li>\n<li>\n<p>NO_LOGGING</p>\n</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h3 id=\"STDOUT-LOGGING\">STDOUT_LOGGING</h3>\n<ul>\n<li>\n<p>åœ¨ MyBatis-config.xml ä¸­å†™å…¥é…ç½® (æ³¨æ„ settings æ ‡ç­¾æ‰€å¤„ä¸Šä¸‹ä½ç½®ä¸è¦é”™)</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">settings</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">setting</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;logImpl&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;STDOUT_LOGGING&quot;</span>/&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">settings</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<hr>\n</li>\n<li>\n<p>è‡ªåŠ¨æ·»åŠ è¿™ç§æ—¥å¿—</p>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Opening JDBC<span class=\"built_in\"> Connection</span></span><br><span class=\"line\"><span class=\"built_in\"></span>Sun May 09 23:57:40 CST 2021 WARN: Establishing SSL<span class=\"built_in\"> connection </span>without server<span class=\"string\">&#x27;s identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn&#x27;</span>t set. <span class=\"keyword\">For</span> compliance with existing applications <span class=\"keyword\">not</span> using SSL the verifyServerCertificate property is <span class=\"builtin-name\">set</span> <span class=\"keyword\">to</span> <span class=\"string\">&#x27;false&#x27;</span>. You need either <span class=\"keyword\">to</span> explicitly <span class=\"builtin-name\">disable</span> SSL by setting <span class=\"attribute\">useSSL</span>=<span class=\"literal\">false</span>, <span class=\"keyword\">or</span> <span class=\"builtin-name\">set</span> <span class=\"attribute\">useSSL</span>=<span class=\"literal\">true</span> <span class=\"keyword\">and</span> provide truststore <span class=\"keyword\">for</span><span class=\"built_in\"> server </span>certificate verification.</span><br><span class=\"line\">Created<span class=\"built_in\"> connection </span>1524305331.</span><br><span class=\"line\">Setting autocommit <span class=\"keyword\">to</span> <span class=\"literal\">false</span> on JDBC<span class=\"built_in\"> Connection </span>[com.mysql.cj.jdbc.ConnectionImpl@5adb0db3]</span><br><span class=\"line\">==&gt;  Preparing: select * <span class=\"keyword\">from</span><span class=\"built_in\"> User</span></span><br><span class=\"line\"><span class=\"built_in\"></span>==&gt; Parameters:</span><br><span class=\"line\">&lt;==    Columns: id, name, pwd</span><br><span class=\"line\">&lt;==        Row: 1, å¼ ä¸‰, 123456</span><br><span class=\"line\">&lt;==        Row: 2, æå››, 123456</span><br><span class=\"line\">&lt;==        Row: 3, ç‹äº”, 123456</span><br><span class=\"line\">&lt;==        Row: 4, èµµå…­, 123456</span><br><span class=\"line\">&lt;==        Row: 6, ç‹è™, 789</span><br><span class=\"line\">&lt;==      Total: 5</span><br><span class=\"line\">User(<span class=\"attribute\">id</span>=1, <span class=\"attribute\">name</span>= å¼ ä¸‰, <span class=\"attribute\">password</span>=123456)</span><br><span class=\"line\">User(<span class=\"attribute\">id</span>=2, <span class=\"attribute\">name</span>= æå››, <span class=\"attribute\">password</span>=123456)</span><br><span class=\"line\">User(<span class=\"attribute\">id</span>=3, <span class=\"attribute\">name</span>= ç‹äº”, <span class=\"attribute\">password</span>=123456)</span><br><span class=\"line\">User(<span class=\"attribute\">id</span>=4, <span class=\"attribute\">name</span>= èµµå…­, <span class=\"attribute\">password</span>=123456)</span><br><span class=\"line\">User(<span class=\"attribute\">id</span>=6, <span class=\"attribute\">name</span>= ç‹è™, <span class=\"attribute\">password</span>=789)</span><br><span class=\"line\">Resetting autocommit <span class=\"keyword\">to</span> <span class=\"literal\">true</span> on JDBC<span class=\"built_in\"> Connection </span>[com.mysql.cj.jdbc.ConnectionImpl@5adb0db3]</span><br><span class=\"line\">Closing JDBC<span class=\"built_in\"> Connection </span>[com.mysql.cj.jdbc.ConnectionImpl@5adb0db3]</span><br><span class=\"line\">Returned<span class=\"built_in\"> connection </span>1524305331 <span class=\"keyword\">to</span> pool.</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<h3 id=\"Log4j\">Log4j</h3>\n<p>æ›´åŠ ç»†åŒ–, é…ç½®åŒ–çš„æ—¥å¿—å·¥å‚</p>\n<ul>\n<li>\n<p>ä¾èµ–:</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>log4j<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>log4j<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>1.2.17<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<hr>\n</li>\n<li>\n<p>é…ç½®æ–‡ä»¶ <code>src/main/resources/log4j.properties</code></p>\n<figure class=\"highlight properties\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># å°†ç­‰çº§ä¸º DEBUG çš„æ—¥å¿—ä¿¡æ¯è¾“å‡ºåˆ° console å’Œ file</span></span><br><span class=\"line\"><span class=\"meta\">log4j.rootLogger</span>=<span class=\"string\">DEBUG,console,file</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\"># æ—¥å¿—è¾“å‡ºçº§åˆ«</span></span><br><span class=\"line\"><span class=\"meta\">log4j.logger.org.mybatis</span>=<span class=\"string\">DEBUG</span></span><br><span class=\"line\"><span class=\"meta\">log4j.logger.java.sql</span>=<span class=\"string\">DEBUG</span></span><br><span class=\"line\"><span class=\"meta\">log4j.logger.java.sql.Statement</span>=<span class=\"string\">DEBUG</span></span><br><span class=\"line\"><span class=\"meta\">log4j.logger.java.sql.ResultSet</span>=<span class=\"string\">DEBUG</span></span><br><span class=\"line\"><span class=\"meta\">log4j.logger.java.sq1.PreparedStatement</span>=<span class=\"string\">DEBUG</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\"># æ§åˆ¶å°è¾“å‡ºçš„ç›¸å…³è®¾ç½®</span></span><br><span class=\"line\"><span class=\"meta\">log4j.appender.console</span> = <span class=\"string\">org.apache.log4j.ConsoleAppender</span></span><br><span class=\"line\"><span class=\"meta\">log4j.appender.console.Target</span> = <span class=\"string\">System.out</span></span><br><span class=\"line\"><span class=\"meta\">log4j.appender.console.Threshold</span>=<span class=\"string\">DEBUG</span></span><br><span class=\"line\"><span class=\"meta\">log4j.appender.console.layout</span> = <span class=\"string\">org.apache.log4j.PatternLayout</span></span><br><span class=\"line\"><span class=\"meta\">log4j.appender.console.layout.ConversionPattern</span>=<span class=\"string\">[%c]-%m%n</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\"># æ–‡ä»¶è¾“å‡ºçš„ç›¸å…³è®¾ç½®</span></span><br><span class=\"line\"><span class=\"meta\">log4j.appender.file</span> = <span class=\"string\">org.apache.log4j.RollingFileAppender</span></span><br><span class=\"line\"><span class=\"comment\"># è¾“å‡ºè·¯å¾„</span></span><br><span class=\"line\"><span class=\"meta\">log4j.appender.file.File</span>=<span class=\"string\">./log/rzp.log</span></span><br><span class=\"line\"><span class=\"meta\">log4j.appender.file.MaxFileSize</span>=<span class=\"string\">10mb</span></span><br><span class=\"line\"><span class=\"meta\">log4j.appender.file.Threshold</span>=<span class=\"string\">DEBUG</span></span><br><span class=\"line\"><span class=\"meta\">log4j.appender.file.layout</span>=<span class=\"string\">org.apache.log4j.PatternLayout</span></span><br><span class=\"line\"><span class=\"meta\">log4j.appender.file.layout.ConversionPattern</span>=<span class=\"string\">[%p][%d&#123;yy-MM-dd&#125;][%c]%m%n</span></span><br></pre></td></tr></table></figure>\n<hr>\n</li>\n<li>\n<p>æµ‹è¯• <code>src/test/java/Log4jTest.java</code></p>\n<p>æ—¥å¿—æœ‰ä¸‰ä¸ªè¾“å‡ºç­‰çº§</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> dao.UserMapperTest;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.junit.Test;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.log4j.Logger;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Log4jTest</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"meta\">@Test</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">test</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    UserMapperTest.getUserList();</span><br><span class=\"line\">    Logger logger = Logger.getLogger(Log4jTest.class);</span><br><span class=\"line\">    logger.info(<span class=\"string\">&quot;info: æµ‹è¯• log4j&quot;</span>);</span><br><span class=\"line\">    logger.debug(<span class=\"string\">&quot;debug: æµ‹è¯• log4j&quot;</span>);</span><br><span class=\"line\">    logger.error(<span class=\"string\">&quot;error: æµ‹è¯• log4j&quot;</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>ç»“æœæ—¥å¿—</p>\n<figure class=\"highlight prolog\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[<span class=\"symbol\">DEBUG</span>][<span class=\"number\">21</span><span class=\"number\">-05</span><span class=\"number\">-11</span>][org.apache.ibatis.logging.<span class=\"symbol\">LogFactory</span>]<span class=\"symbol\">Logging</span> initialized using <span class=\"string\">&#x27;class org.apache.ibatis.logging.log4j.Log4jImpl&#x27;</span> adapter.</span><br><span class=\"line\">[<span class=\"symbol\">DEBUG</span>][<span class=\"number\">21</span><span class=\"number\">-05</span><span class=\"number\">-11</span>][org.apache.ibatis.logging.<span class=\"symbol\">LogFactory</span>]<span class=\"symbol\">Logging</span> initialized using <span class=\"string\">&#x27;class org.apache.ibatis.logging.log4j.Log4jImpl&#x27;</span> adapter.</span><br><span class=\"line\">[<span class=\"symbol\">DEBUG</span>][<span class=\"number\">21</span><span class=\"number\">-05</span><span class=\"number\">-11</span>][org.apache.ibatis.datasource.pooled.<span class=\"symbol\">PooledDataSource</span>]<span class=\"symbol\">PooledDataSource</span> forcefully closed/removed all connections.</span><br><span class=\"line\">[<span class=\"symbol\">DEBUG</span>][<span class=\"number\">21</span><span class=\"number\">-05</span><span class=\"number\">-11</span>][org.apache.ibatis.datasource.pooled.<span class=\"symbol\">PooledDataSource</span>]<span class=\"symbol\">PooledDataSource</span> forcefully closed/removed all connections.</span><br><span class=\"line\">[<span class=\"symbol\">DEBUG</span>][<span class=\"number\">21</span><span class=\"number\">-05</span><span class=\"number\">-11</span>][org.apache.ibatis.datasource.pooled.<span class=\"symbol\">PooledDataSource</span>]<span class=\"symbol\">PooledDataSource</span> forcefully closed/removed all connections.</span><br><span class=\"line\">[<span class=\"symbol\">DEBUG</span>][<span class=\"number\">21</span><span class=\"number\">-05</span><span class=\"number\">-11</span>][org.apache.ibatis.datasource.pooled.<span class=\"symbol\">PooledDataSource</span>]<span class=\"symbol\">PooledDataSource</span> forcefully closed/removed all connections.</span><br><span class=\"line\">[<span class=\"symbol\">DEBUG</span>][<span class=\"number\">21</span><span class=\"number\">-05</span><span class=\"number\">-11</span>][org.apache.ibatis.transaction.jdbc.<span class=\"symbol\">JdbcTransaction</span>]<span class=\"symbol\">Opening</span> <span class=\"symbol\">JDBC</span> <span class=\"symbol\">Connection</span></span><br><span class=\"line\">[<span class=\"symbol\">DEBUG</span>][<span class=\"number\">21</span><span class=\"number\">-05</span><span class=\"number\">-11</span>][org.apache.ibatis.datasource.pooled.<span class=\"symbol\">PooledDataSource</span>]<span class=\"symbol\">Created</span> connection <span class=\"number\">24650043.</span></span><br><span class=\"line\">[<span class=\"symbol\">DEBUG</span>][<span class=\"number\">21</span><span class=\"number\">-05</span><span class=\"number\">-11</span>][org.apache.ibatis.transaction.jdbc.<span class=\"symbol\">JdbcTransaction</span>]<span class=\"symbol\">Setting</span> autocommit to false on <span class=\"symbol\">JDBC</span> <span class=\"symbol\">Connection</span> [com.mysql.cj.jdbc.<span class=\"symbol\">ConnectionImpl</span>@<span class=\"number\">178213</span>b]</span><br><span class=\"line\">[<span class=\"symbol\">DEBUG</span>][<span class=\"number\">21</span><span class=\"number\">-05</span><span class=\"number\">-11</span>][dao.<span class=\"symbol\">UserMapper</span>.getUserList]==&gt;  <span class=\"symbol\">Preparing</span>: select * from <span class=\"symbol\">User</span></span><br><span class=\"line\">[<span class=\"symbol\">DEBUG</span>][<span class=\"number\">21</span><span class=\"number\">-05</span><span class=\"number\">-11</span>][dao.<span class=\"symbol\">UserMapper</span>.getUserList]==&gt; <span class=\"symbol\">Parameters</span>:</span><br><span class=\"line\">[<span class=\"symbol\">DEBUG</span>][<span class=\"number\">21</span><span class=\"number\">-05</span><span class=\"number\">-11</span>][dao.<span class=\"symbol\">UserMapper</span>.getUserList]&lt;==      <span class=\"symbol\">Total</span>: <span class=\"number\">5</span></span><br><span class=\"line\">[<span class=\"symbol\">DEBUG</span>][<span class=\"number\">21</span><span class=\"number\">-05</span><span class=\"number\">-11</span>][org.apache.ibatis.transaction.jdbc.<span class=\"symbol\">JdbcTransaction</span>]<span class=\"symbol\">Resetting</span> autocommit to true on <span class=\"symbol\">JDBC</span> <span class=\"symbol\">Connection</span> [com.mysql.cj.jdbc.<span class=\"symbol\">ConnectionImpl</span>@<span class=\"number\">178213</span>b]</span><br><span class=\"line\">[<span class=\"symbol\">DEBUG</span>][<span class=\"number\">21</span><span class=\"number\">-05</span><span class=\"number\">-11</span>][org.apache.ibatis.transaction.jdbc.<span class=\"symbol\">JdbcTransaction</span>]<span class=\"symbol\">Closing</span> <span class=\"symbol\">JDBC</span> <span class=\"symbol\">Connection</span> [com.mysql.cj.jdbc.<span class=\"symbol\">ConnectionImpl</span>@<span class=\"number\">178213</span>b]</span><br><span class=\"line\">[<span class=\"symbol\">DEBUG</span>][<span class=\"number\">21</span><span class=\"number\">-05</span><span class=\"number\">-11</span>][org.apache.ibatis.datasource.pooled.<span class=\"symbol\">PooledDataSource</span>]<span class=\"symbol\">Returned</span> connection <span class=\"number\">24650043</span> to pool.</span><br><span class=\"line\">[<span class=\"symbol\">INFO</span>][<span class=\"number\">21</span><span class=\"number\">-05</span><span class=\"number\">-11</span>][<span class=\"symbol\">Log4jTest</span>]info: æµ‹è¯• log4j</span><br><span class=\"line\">[<span class=\"symbol\">DEBUG</span>][<span class=\"number\">21</span><span class=\"number\">-05</span><span class=\"number\">-11</span>][<span class=\"symbol\">Log4jTest</span>]debug: æµ‹è¯• log4j</span><br><span class=\"line\">[<span class=\"symbol\">ERROR</span>][<span class=\"number\">21</span><span class=\"number\">-05</span><span class=\"number\">-11</span>][<span class=\"symbol\">Log4jTest</span>]error: æµ‹è¯• log4j</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"åˆ†é¡µ\">åˆ†é¡µ</h2>\n<ul>\n<li>\n<p>ç®€å•çš„åˆ†é¡µæŸ¥è¯¢, å¯èƒ½ä¼šæœ‰æŠ¥é”™, ä½†æ˜¯å¯ä»¥æ­£å¸¸è¿è¡Œ</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\">List&lt;User&gt; <span class=\"title\">getUsersByLimit</span><span class=\"params\">(Map&lt;String, Integer&gt; map)</span></span>;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- åˆ†é¡µæŸ¥è¯¢ --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">select</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;getUsersByLimit&quot;</span> <span class=\"attr\">parameterType</span>=<span class=\"string\">&quot;map&quot;</span> <span class=\"attr\">resultType</span>=<span class=\"string\">&quot;pojo.User&quot;</span>&gt;</span></span><br><span class=\"line\">  select *</span><br><span class=\"line\">  from mybatis.user</span><br><span class=\"line\">  limit #&#123;startIndex&#125;,#&#123;pageSize&#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">select</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Test</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">getUserByLimit</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">  SqlSession sqlSession = MyBatisUtils.getSqlSession();</span><br><span class=\"line\">  UserMapper mapper = sqlSession.getMapper(UserMapper.class);</span><br><span class=\"line\"></span><br><span class=\"line\">  HashMap&lt;String, Integer&gt; map = <span class=\"keyword\">new</span> HashMap&lt;&gt;();</span><br><span class=\"line\">  map.put(<span class=\"string\">&quot;startIndex&quot;</span>, <span class=\"number\">1</span>);</span><br><span class=\"line\">  map.put(<span class=\"string\">&quot;pageSize&quot;</span>, <span class=\"number\">2</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  List&lt;User&gt; list = mapper.getUsersByLimit(map);</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (User user : list) &#123;</span><br><span class=\"line\">    System.out.println(user);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kity@2.0.4/dist/kity.min.js\"></script><script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js\"></script><script defer=\"true\" type=\"text&#x2F;javascript\" src=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js\"></script><link rel=\"stylesheet\" type=\"text&#x2F;css\" href=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css\">",
            "tags": [
                "java",
                "mybatis",
                "map",
                "crud",
                "æ—¥å¿—",
                "åˆ†é¡µ",
                "æ•°æ®åº“"
            ]
        },
        {
            "id": "https://weidows.github.io/post/Java/MyBatis/1/",
            "url": "https://weidows.github.io/post/Java/MyBatis/1/",
            "title": "MyBatis~(å£¹) åˆæ¢.",
            "date_published": "2021-05-02T08:14:02.000Z",
            "content_html": "<!--\n * @?: *********************************************************************\n * @Author: Weidows\n * @LastEditors: Weidows\n * @LastEditTime: 2021-05-22 10:54:52\n * @FilePath: \\Weidowsd:\\Game\\Github\\Blog-private\\source\\_posts\\Java\\MyBatis\\1.md\n * @Description:\n * @!: *********************************************************************\n-->\n<ul>\n<li><a href=\"#%E9%A1%B9%E7%9B%AE%E4%BB%A3%E7%A0%81\">é¡¹ç›®ä»£ç </a></li>\n<li><a href=\"#%E5%8F%82%E7%85%A7\">å‚ç…§</a></li>\n<li><a href=\"#%E7%AE%80%E4%BB%8B\">ç®€ä»‹</a></li>\n<li><a href=\"#hello-mybatis\">Hello-MyBatis</a>\n<ul>\n<li><a href=\"#%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE\">ç¯å¢ƒé…ç½®</a></li>\n<li><a href=\"#%E6%95%B0%E6%8D%AE%E5%BA%93\">æ•°æ®åº“</a></li>\n<li><a href=\"#%E5%B7%A5%E5%85%B7%E7%B1%BB\">å·¥å…·ç±»</a></li>\n<li><a href=\"#dao\">Dao</a></li>\n<li><a href=\"#%E6%B5%8B%E8%AF%95\">æµ‹è¯•</a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%BC%80%E5%A7%8B-crud\">å¼€å§‹ CRUD</a></li>\n<li><a href=\"#%E9%80%9A%E8%BF%87-map-%E4%BC%98%E5%8C%96\">é€šè¿‡ Map ä¼˜åŒ–</a></li>\n</ul>\n<h2 id=\"é¡¹ç›®ä»£ç \"><a href=\"https://github.com/Weidows/Weidows/blob/c0e919f1561aa427bbe159c4583bbdd14f26cc98/MyBatis\">é¡¹ç›®ä»£ç </a></h2>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"å‚ç…§ -7\">å‚ç…§</h2>\n<blockquote>\n<p>åœ¨æ­¤æ–‡ç« è®°å½•äº†: <a href=\"../../../others/LearnWay#mybatis\">ğŸ˜Weidows ã®æˆé•¿è·¯çº¿.#mybatis</a></p>\n</blockquote>\n<hr>\n<h2 id=\"ç®€ä»‹ -5\">ç®€ä»‹</h2>\n<p>MyBatis æ˜¯ä¼˜ç§€çš„æŒä¹…å±‚æ¡†æ¶, ç®€å•æ¥è¯´å°±æ˜¯æ–¹ä¾¿ <code> å­˜ - å–æ•°æ® </code> çš„å·¥å…·.</p>\n<p>æŒä¹…å±‚: Dao å±‚ã€Service å±‚ã€Controller å±‚</p>\n<ul>\n<li>\n<p>ä¹‹å‰å¬è¯´è¿‡ <code>MyBatis-plus</code>, è¿™é‡Œè´´ä¸€ç¯‡äºŒè€…çš„åŒºåˆ«</p>\n<blockquote>\n<p><a href=\"https://www.jianshu.com/p/8556c8468241\">MyBatis ä¸ MyBatis-plus çš„åŒºåˆ«</a></p>\n</blockquote>\n<p>ä¸‹å›¾ä¸­è“è‰²å°é¸Ÿå°±æ˜¯ MyBatis-plus</p>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVSWtu.png\" alt=\"20210503164644\" />\n</li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"Hello-MyBatis\">Hello-MyBatis</h2>\n<h3 id=\"ç¯å¢ƒé…ç½®\">ç¯å¢ƒé…ç½®</h3>\n<ul>\n<li>\n<p>ç”¨ Maven åˆ›å»ºç©ºé¡¹ç›®,<code>å¯¼å…¥ä¾èµ– </code>&amp;<code> è®¾ç½® Maven è¿‡æ»¤å™¨</code>:</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- å¯¼å…¥ä¾èµ– --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependencies</span>&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">&lt;!--mysqlq é©±åŠ¨ --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>mysql<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>mysql-connector-java<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>8.0.12<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">&lt;!--mybatis--&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.mybatis<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>mybatis<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>3.5.4<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">&lt;!--junit--&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>junit<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>junit<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>4.12<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">scope</span>&gt;</span>test<span class=\"tag\">&lt;/<span class=\"name\">scope</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.projectlombok<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>lombok<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>1.18.20<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">dependencies</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">&lt;!--Mapper èµ„æºå¯¼å‡º, ä¸è®¾ç½®çš„è¯ä¼šæŠ¥é”™ --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">build</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">resources</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">resource</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">directory</span>&gt;</span>src/main/resources<span class=\"tag\">&lt;/<span class=\"name\">directory</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">includes</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">include</span>&gt;</span>**/*.properties<span class=\"tag\">&lt;/<span class=\"name\">include</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">include</span>&gt;</span>**/*.xml<span class=\"tag\">&lt;/<span class=\"name\">include</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">includes</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">filtering</span>&gt;</span>true<span class=\"tag\">&lt;/<span class=\"name\">filtering</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">resource</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">resource</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">directory</span>&gt;</span>src/main/java<span class=\"tag\">&lt;/<span class=\"name\">directory</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">includes</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">include</span>&gt;</span>**/*.properties<span class=\"tag\">&lt;/<span class=\"name\">include</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">include</span>&gt;</span>**/*.xml<span class=\"tag\">&lt;/<span class=\"name\">include</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">includes</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">filtering</span>&gt;</span>true<span class=\"tag\">&lt;/<span class=\"name\">filtering</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">resource</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">resources</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">build</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>ç„¶ååˆ›å»ºç©ºçš„å­æ¨¡å—, å­æ¨¡å—ä¸­å¼€å‘å°±ä¸éœ€è¦å†å¯¼å…¥ä¾èµ–äº†,MyBatis éœ€è¦æ·»åŠ ä¸€ä¸ªé…ç½®æ–‡ä»¶: <code>src/main/resources/MyBatis-config.xml</code></p>\n<ul>\n<li>åé¢æ¯å¢åŠ ä¸€ä¸ª Mapper.xml, éƒ½éœ€è¦åœ¨è¿™é‡Œé¢æ·»åŠ  Mapper æ˜ å°„; åé¢ä¼šæåˆ°.</li>\n</ul>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span></span><br><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">configuration</span></span></span><br><span class=\"line\"><span class=\"meta\">    <span class=\"meta-keyword\">PUBLIC</span> <span class=\"meta-string\">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span></span><br><span class=\"line\"><span class=\"meta\">    <span class=\"meta-string\">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!--configuration æ ¸å¿ƒé…ç½®æ–‡ä»¶ --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">configuration</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">environments</span> <span class=\"attr\">default</span>=<span class=\"string\">&quot;development&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">environment</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;development&quot;</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">transactionManager</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;JDBC&quot;</span>/&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">dataSource</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;POOLED&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;driver&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;com.mysql.cj.jdbc.Driver&quot;</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;url&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                  <span class=\"attr\">value</span>=<span class=\"string\">&quot;jdbc:mysql://localhost:3306/mybatis?userSSL=true<span class=\"symbol\">&amp;amp;</span>useUnicode=true<span class=\"symbol\">&amp;amp;</span>characterEncoding=UTF-8<span class=\"symbol\">&amp;amp;</span>serverTimezone=UTC&quot;</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;username&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;root&quot;</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;password&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;123456&quot;</span>/&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">dataSource</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">environment</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">environments</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<h3 id=\"æ•°æ®åº“ -2\">æ•°æ®åº“</h3>\n<ul>\n<li>\n<p>åˆå§‹åŒ–æ•°æ®åº“å’Œ pojo</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">create</span> schema <span class=\"keyword\">User</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">create</span> <span class=\"keyword\">table</span> <span class=\"keyword\">User</span></span><br><span class=\"line\">(</span><br><span class=\"line\">  id   <span class=\"type\">int</span>                      <span class=\"keyword\">not</span> <span class=\"keyword\">null</span>,</span><br><span class=\"line\">  name <span class=\"type\">varchar</span>(<span class=\"number\">30</span>) <span class=\"keyword\">default</span> <span class=\"keyword\">null</span> <span class=\"keyword\">null</span>,</span><br><span class=\"line\">  pwd  <span class=\"type\">varchar</span>(<span class=\"number\">30</span>) <span class=\"keyword\">default</span> <span class=\"keyword\">null</span> <span class=\"keyword\">null</span>,</span><br><span class=\"line\">  <span class=\"keyword\">constraint</span> User_pk</span><br><span class=\"line\">    <span class=\"keyword\">primary</span> key (id)</span><br><span class=\"line\">) ENGINE <span class=\"operator\">=</span> INNODB</span><br><span class=\"line\">  <span class=\"keyword\">DEFAULT</span> <span class=\"type\">CHARACTER</span> <span class=\"keyword\">SET</span> <span class=\"operator\">=</span> utf8;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">insert</span> <span class=\"keyword\">into</span> <span class=\"keyword\">User</span>(id, name, pwd)</span><br><span class=\"line\"><span class=\"keyword\">values</span> (<span class=\"number\">1</span>, <span class=\"string\">&#x27; å¼ ä¸‰ &#x27;</span>, <span class=\"number\">123456</span>),</span><br><span class=\"line\">      (<span class=\"number\">2</span>, <span class=\"string\">&#x27; æå›› &#x27;</span>, <span class=\"number\">123456</span>),</span><br><span class=\"line\">      (<span class=\"number\">3</span>, <span class=\"string\">&#x27; ç‹äº” &#x27;</span>, <span class=\"number\">123456</span>),</span><br><span class=\"line\">      (<span class=\"number\">4</span>, <span class=\"string\">&#x27; èµµå…­ &#x27;</span>, <span class=\"number\">123456</span>)</span><br></pre></td></tr></table></figure>\n<hr>\n<ul>\n<li>\n<p><code>src/main/java/pojo/User.java</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> pojo;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> lombok.AllArgsConstructor;</span><br><span class=\"line\"><span class=\"keyword\">import</span> lombok.Data;</span><br><span class=\"line\"><span class=\"keyword\">import</span> lombok.NoArgsConstructor;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Data</span></span><br><span class=\"line\"><span class=\"meta\">@AllArgsConstructor</span></span><br><span class=\"line\"><span class=\"meta\">@NoArgsConstructor</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">User</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">int</span> id;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> String name;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> String pwd;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n</li>\n</ul>\n<h3 id=\"å·¥å…·ç±» -3\">å·¥å…·ç±»</h3>\n<p><code>src/main/java/utils/MyBatisUtils.java</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> utils;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.ibatis.io.Resources;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.ibatis.session.SqlSession;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.ibatis.session.SqlSessionFactory;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.ibatis.session.SqlSessionFactoryBuilder;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.IOException;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.InputStream;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//sqlSessionFactory --&gt; sqlSession</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MyBatisUtils</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> SqlSessionFactory sqlSessionFactory = <span class=\"keyword\">null</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">static</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">      <span class=\"comment\">// ä½¿ç”¨ Mybatis ç¬¬ä¸€æ­¥ ï¼šè·å– sqlSessionFactory å¯¹è±¡</span></span><br><span class=\"line\">      String resource = <span class=\"string\">&quot;MyBatis-config.xml&quot;</span>;</span><br><span class=\"line\">      InputStream inputStream = Resources.getResourceAsStream(resource);</span><br><span class=\"line\">      sqlSessionFactory = <span class=\"keyword\">new</span> SqlSessionFactoryBuilder().build(inputStream);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">catch</span> (IOException e) &#123;</span><br><span class=\"line\">      e.printStackTrace();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">  * æ—¢ç„¶æœ‰äº† SqlSessionFactoryï¼Œé¡¾åæ€ä¹‰ï¼Œæˆ‘ä»¬å¯ä»¥ä»ä¸­è·å¾— SqlSession çš„å®ä¾‹.</span></span><br><span class=\"line\"><span class=\"comment\">  * SqlSession æä¾›äº†åœ¨æ•°æ®åº“æ‰§è¡Œ SQL å‘½ä»¤æ‰€éœ€çš„æ‰€æœ‰æ–¹æ³•ã€‚</span></span><br><span class=\"line\"><span class=\"comment\">  */</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> SqlSession <span class=\"title\">getSqlSession</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> sqlSessionFactory.openSession();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"Dao\">Dao</h3>\n<ul>\n<li>\n<p>dao ä¸­ç¼–å†™ <code> æ¥å£ </code> å’Œç»‘å®š <code>Mapper.xml</code></p>\n<blockquote>\n<p><a href=\"https://github.com/Weidows/Java/blob/master/MyBatis/1-hello-MyBatis/src/main/java/dao\">https://github.com/Weidows/Java/blob/master/MyBatis/1-hello-MyBatis/src/main/java/dao</a></p>\n</blockquote>\n<ul>\n<li>\n<p>è¿™é‡Œçš„ xml é…ç½®ç»‘å®šå¥½æ¥å£, å°±å¯ä»¥è®© MyBatis è´Ÿè´£ SQL ä»£ç äº†, é¿å…äº† dao å±‚ä¸­ JDBC ä»£ç è¿‡äºç¹æ‚å’Œé‡å¤çš„é—®é¢˜</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF8&quot; ?&gt;</span></span><br><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">mapper</span></span></span><br><span class=\"line\"><span class=\"meta\">    <span class=\"meta-keyword\">PUBLIC</span> <span class=\"meta-string\">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span></span><br><span class=\"line\"><span class=\"meta\">    <span class=\"meta-string\">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">&lt;!--namespace= ç»‘å®šä¸€ä¸ªæŒ‡å®šçš„ Dao/Mapper æ¥å£ --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">mapper</span> <span class=\"attr\">namespace</span>=<span class=\"string\">&quot;dao.UserMapper&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- è¿™é‡Œ id å°±æ˜¯æ–¹æ³•å, ç›¸å½“äºå®ç°æ–¹æ³• --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">select</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;getUserList&quot;</span> <span class=\"attr\">resultType</span>=<span class=\"string\">&quot;pojo.User&quot;</span>&gt;</span></span><br><span class=\"line\">    select *</span><br><span class=\"line\">    from User</span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">select</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n<li>\n<p>Mapper.xml ç»‘å®šçš„æ˜¯ä¸ä¹‹å¯¹åº”çš„æ¥å£, ç„¶åéœ€è¦åœ¨ <code>MyBatis-config.xml</code>ä¸­ç»‘å®šéœ€è¦çš„ <code>Mapper.xml</code></p>\n<p><code>ç»‘å®šå…³ç³»</code>: UserMapper.java -&gt; UserMapper.xml -&gt; MyBatis-config.xml</p>\n<p>æ·»åŠ ç»‘å®šå¦‚ä¸‹:</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF8&quot; ?&gt;</span></span><br><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">configuration</span></span></span><br><span class=\"line\"><span class=\"meta\">    <span class=\"meta-keyword\">PUBLIC</span> <span class=\"meta-string\">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span></span><br><span class=\"line\"><span class=\"meta\">    <span class=\"meta-string\">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!--configuration æ ¸å¿ƒé…ç½®æ–‡ä»¶ --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">configuration</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">environments</span> <span class=\"attr\">default</span>=<span class=\"string\">&quot;development&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">environment</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;development&quot;</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">transactionManager</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;JDBC&quot;</span>/&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">dataSource</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;POOLED&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;driver&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;com.mysql.cj.jdbc.Driver&quot;</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;url&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                  <span class=\"attr\">value</span>=<span class=\"string\">&quot;jdbc:mysql://localhost:3306/mybatis?userSSL=true<span class=\"symbol\">&amp;amp;</span>useUnicode=true<span class=\"symbol\">&amp;amp;</span>characterEncoding=UTF-8<span class=\"symbol\">&amp;amp;</span>serverTimezone=UTC&quot;</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;username&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;root&quot;</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;password&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;123456&quot;</span>/&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">dataSource</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">environment</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">environments</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- ç»‘å®š Mapper.xml--&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">mappers</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">mapper</span> <span class=\"attr\">resource</span>=<span class=\"string\">&quot;dao/UserMapper.xml&quot;</span>/&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">mappers</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">configuration</span>&gt;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<h3 id=\"æµ‹è¯•\">æµ‹è¯•</h3>\n<ul>\n<li>\n<p>æ³¨æ„ test ä¸­å±‚çº§ä¸ main ä¸­å±‚çº§ä¸€ä¸€å¯¹åº”</p>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GV4afo.png\" alt=\"20210504111311\" />\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> dao;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.ibatis.session.SqlSession;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.junit.Test;</span><br><span class=\"line\"><span class=\"keyword\">import</span> pojo.User;</span><br><span class=\"line\"><span class=\"keyword\">import</span> utils.MyBatisUtils;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.List;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">UserMapperTest</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"meta\">@Test</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">test</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//1. è·å– SqlSession å¯¹è±¡</span></span><br><span class=\"line\">    SqlSession sqlSession = MyBatisUtils.getSqlSession();</span><br><span class=\"line\">    <span class=\"comment\">//2. æ‰§è¡Œ SQL</span></span><br><span class=\"line\">    UserMapper userMapper = sqlSession.getMapper(UserMapper.class);</span><br><span class=\"line\">    List&lt;User&gt; userList = userMapper.getUserList();</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (User user : userList) &#123;</span><br><span class=\"line\">      System.out.println(user);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// å…³é—­ sqlSession</span></span><br><span class=\"line\">    sqlSession.close();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Test</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">test1</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//1. è·å– SqlSession å¯¹è±¡</span></span><br><span class=\"line\">    SqlSession sqlSession = MyBatisUtils.getSqlSession();</span><br><span class=\"line\">    <span class=\"comment\">//2. æ‰§è¡Œ SQL</span></span><br><span class=\"line\">    List&lt;User&gt; userList = sqlSession.selectList(<span class=\"string\">&quot;dao.UserMapper.getUserList&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (User user : userList) &#123;</span><br><span class=\"line\">      System.out.println(user);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// å…³é—­ sqlSession</span></span><br><span class=\"line\">    sqlSession.close();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>æ’é”™:</p>\n<ul>\n<li>\n<p><code>org.apache.ibatis.binding.BindingException: Type interface dao.UserDao is not known to the MapperRegistry.</code></p>\n<p>è¿™æ˜¯å› ä¸º Mapper.xml èµ„æºæ²¡æœ‰è¢« Maven å¯¼å‡º, æ‰€ä»¥æ‰¾ä¸åˆ°èµ„æº,<a href=\"#hello-mybatis\">è§£å†³åŠæ³•: èµ„æºå¯¼å‡º</a></p>\n</li>\n<li>\n<p><code>1 å­—èŠ‚çš„ UTF-8 åºåˆ—çš„å­—èŠ‚ 1 æ— æ•ˆçš„é—®é¢˜å¤„ç†</code></p>\n<p>è¿™ä¸ªé—®é¢˜æ ¼å¤– dan ç–¼, æŠŠä¸‹é¢çš„ <code>UTF-8</code> æ”¹ä¸º <code>UTF8</code> è¯•è¯•â€¦</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"å¼€å§‹ -CRUD\">å¼€å§‹ CRUD</h2>\n<ul>\n<li>\n<p>å®Œå–„ CRUD åªéœ€è¦ä¿®æ”¹ä¸‹é¢ä¸‰ä¸ªæ–‡ä»¶:</p>\n</li>\n<li>\n<p><code>src/main/java/dao/UserMapper.java</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> dao;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> pojo.User;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.List;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">UserMapper</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\">List&lt;User&gt; <span class=\"title\">getUserList</span><span class=\"params\">()</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\">User <span class=\"title\">getUserById</span><span class=\"params\">(<span class=\"keyword\">int</span> id)</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">addUser</span><span class=\"params\">(User user)</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">updateUser</span><span class=\"params\">(User user)</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">deleteUser</span><span class=\"params\">(<span class=\"keyword\">int</span> id)</span></span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n</li>\n<li>\n<p><code>src/main/java/dao/UserMapper.xml</code></p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF8&quot; ?&gt;</span></span><br><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">mapper</span></span></span><br><span class=\"line\"><span class=\"meta\">    <span class=\"meta-keyword\">PUBLIC</span> <span class=\"meta-string\">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span></span><br><span class=\"line\"><span class=\"meta\">    <span class=\"meta-string\">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">&lt;!--namespace= ç»‘å®šä¸€ä¸ªæŒ‡å®šçš„ Dao/Mapper æ¥å£ --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">mapper</span> <span class=\"attr\">namespace</span>=<span class=\"string\">&quot;dao.UserMapper&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- è¿™é‡Œ id å°±æ˜¯æ–¹æ³•å, ç›¸å½“äºå®ç°æ–¹æ³• --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">select</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;getUserList&quot;</span> <span class=\"attr\">resultType</span>=<span class=\"string\">&quot;pojo.User&quot;</span>&gt;</span></span><br><span class=\"line\">    select *</span><br><span class=\"line\">    from User</span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">select</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">select</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;getUserById&quot;</span> <span class=\"attr\">resultType</span>=<span class=\"string\">&quot;pojo.User&quot;</span> <span class=\"attr\">parameterType</span>=<span class=\"string\">&quot;int&quot;</span>&gt;</span></span><br><span class=\"line\">    select *</span><br><span class=\"line\">    from mybatis.user</span><br><span class=\"line\">    where id = #&#123;id&#125;</span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">select</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">insert</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;addUser&quot;</span> <span class=\"attr\">parameterType</span>=<span class=\"string\">&quot;pojo.User&quot;</span>&gt;</span></span><br><span class=\"line\">    insert into mybatis.user(id, name, pwd)</span><br><span class=\"line\">    values (#&#123;id&#125;, #&#123;name&#125;, #&#123;pwd&#125;)</span><br><span class=\"line\">    ## å¯¹è±¡ä¸­çš„å±æ€§å¯ä»¥è¢«ç›´æ¥å–å‡ºæ¥(è¿™é‡Œå–å¾—å¯ä»¥æ˜¯ä¼ å…¥çš„å‚æ•°, ä¹Ÿå¯ä»¥æ˜¯ä¼ å…¥å¯¹è±¡çš„å±æ€§)</span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">insert</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">update</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;updateUser&quot;</span> <span class=\"attr\">parameterType</span>=<span class=\"string\">&quot;pojo.User&quot;</span>&gt;</span></span><br><span class=\"line\">    update mybatis.user</span><br><span class=\"line\">    set name =#&#123;name&#125;,</span><br><span class=\"line\">        pwd=#&#123;pwd&#125;</span><br><span class=\"line\">    where id = #&#123;id&#125;</span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">update</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">delete</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;deleteUser&quot;</span> <span class=\"attr\">parameterType</span>=<span class=\"string\">&quot;int&quot;</span>&gt;</span></span><br><span class=\"line\">    delete</span><br><span class=\"line\">    from mybatis.user</span><br><span class=\"line\">    where id = #&#123;id&#125;</span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">delete</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<hr>\n</li>\n<li>\n<p><code>src/test/java/dao/UserMapperTest.java</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> dao;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.ibatis.session.SqlSession;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.junit.Test;</span><br><span class=\"line\"><span class=\"keyword\">import</span> pojo.User;</span><br><span class=\"line\"><span class=\"keyword\">import</span> utils.MyBatisUtils;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.List;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">UserMapperTest</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"meta\">@Test</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">test</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//1. è·å– SqlSession å¯¹è±¡</span></span><br><span class=\"line\">    SqlSession sqlSession = MyBatisUtils.getSqlSession();</span><br><span class=\"line\">    <span class=\"comment\">//2. æ‰§è¡Œ SQL</span></span><br><span class=\"line\">    UserMapper userMapper = sqlSession.getMapper(UserMapper.class);</span><br><span class=\"line\">    List&lt;User&gt; userList = userMapper.getUserList();</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (User user : userList) &#123;</span><br><span class=\"line\">      System.out.println(user);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// å…³é—­ sqlSession</span></span><br><span class=\"line\">    sqlSession.close();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Test</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">test1</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//1. è·å– SqlSession å¯¹è±¡</span></span><br><span class=\"line\">    SqlSession sqlSession = MyBatisUtils.getSqlSession();</span><br><span class=\"line\">    <span class=\"comment\">//2. æ‰§è¡Œ SQL</span></span><br><span class=\"line\">    List&lt;User&gt; userList = sqlSession.selectList(<span class=\"string\">&quot;dao.UserMapper.getUserList&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (User user : userList) &#123;</span><br><span class=\"line\">      System.out.println(user);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// å…³é—­ sqlSession</span></span><br><span class=\"line\">    sqlSession.close();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Test</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">getUserById</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    SqlSession sqlSession = MyBatisUtils.getSqlSession();</span><br><span class=\"line\">    UserMapper mapper = sqlSession.getMapper(UserMapper.class);</span><br><span class=\"line\">    System.out.println(mapper.getUserById(<span class=\"number\">3</span>));</span><br><span class=\"line\">    sqlSession.close();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Test</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">addUser</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    SqlSession sqlSession = MyBatisUtils.getSqlSession();</span><br><span class=\"line\">    UserMapper mapper = sqlSession.getMapper(UserMapper.class);</span><br><span class=\"line\">    <span class=\"keyword\">int</span> i = mapper.addUser(<span class=\"keyword\">new</span> User(<span class=\"number\">5</span>, <span class=\"string\">&quot; äº”å· &quot;</span>, <span class=\"string\">&quot;123456&quot;</span>));</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (i &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// æ³¨æ„ å¢åˆ æ”¹ éœ€è¦æäº¤äº‹åŠ¡</span></span><br><span class=\"line\">      sqlSession.commit();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    sqlSession.close();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Test</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">updateUser</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    SqlSession sqlSession = MyBatisUtils.getSqlSession();</span><br><span class=\"line\">    UserMapper mapper = sqlSession.getMapper(UserMapper.class);</span><br><span class=\"line\">    <span class=\"keyword\">int</span> i = mapper.updateUser(<span class=\"keyword\">new</span> User(<span class=\"number\">5</span>, <span class=\"string\">&quot;â‘¤å· &quot;</span>, <span class=\"string\">&quot;654321&quot;</span>));</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (i &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">      sqlSession.commit();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    sqlSession.close();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Test</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">deleteUser</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    SqlSession sqlSession = MyBatisUtils.getSqlSession();</span><br><span class=\"line\">    UserMapper mapper = sqlSession.getMapper(UserMapper.class);</span><br><span class=\"line\">    <span class=\"keyword\">int</span> i = mapper.deleteUser(<span class=\"number\">5</span>);</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (i &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">      sqlSession.commit();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    sqlSession.close();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"é€šè¿‡ -Map- ä¼˜åŒ–\">é€šè¿‡ Map ä¼˜åŒ–</h2>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// ç”¨ Map æ’å…¥ç”¨æˆ·</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">addUser2</span><span class=\"params\">(Map&lt;String, Object&gt; map)</span></span>;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- é€šè¿‡ USer ä¼ å‚çš„è¯, å¿…é¡»ç”¨ User çš„å±æ€§åå–å‡º; è€Œé€šè¿‡ map ä¼ å‚çš„è¯, å±æ€§åå¯ä»¥ä»»æ„ --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">insert</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;addUser2&quot;</span> <span class=\"attr\">parameterType</span>=<span class=\"string\">&quot;Map&quot;</span>&gt;</span></span><br><span class=\"line\">  insert into mybatis.user(id, name, pwd)</span><br><span class=\"line\">  values (#&#123;userid&#125;, #&#123;username&#125;, #&#123;userpassword&#125;)</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">insert</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@Test</span><br><span class=\"line\">public void addUser2() &#123;</span><br><span class=\"line\">  SqlSession sqlSession = MyBatisUtils.getSqlSession();</span><br><span class=\"line\">  UserMapper mapper = sqlSession.getMapper(UserMapper.class);</span><br><span class=\"line\"></span><br><span class=\"line\">  HashMap&lt;String, Object&gt; map = new HashMap<span class=\"tag\">&lt;&gt;</span>();</span><br><span class=\"line\">  map.put(&quot;userid&quot;, 6);</span><br><span class=\"line\">  map.put(&quot;username&quot;, &quot; ç‹è™ &quot;);</span><br><span class=\"line\">  map.put(&quot;userpassword&quot;, 789);</span><br><span class=\"line\"></span><br><span class=\"line\">  int i = mapper.addUser2(map);</span><br><span class=\"line\">  if (i &gt; 0) sqlSession.commit();</span><br><span class=\"line\">  sqlSession.close();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kity@2.0.4/dist/kity.min.js\"></script><script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js\"></script><script defer=\"true\" type=\"text&#x2F;javascript\" src=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js\"></script><link rel=\"stylesheet\" type=\"text&#x2F;css\" href=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css\">",
            "tags": [
                "java",
                "mybatis",
                "map",
                "crud"
            ]
        },
        {
            "id": "https://weidows.github.io/post/Java/Web/7/",
            "url": "https://weidows.github.io/post/Java/Web/7/",
            "title": "ğŸ¥¼JavaWeb~(æŸ’) æ–‡ä»¶ / é‚®ä»¶ä¼ è¾“.",
            "date_published": "2021-04-30T16:20:54.000Z",
            "content_html": "<!--\n * @?: *********************************************************************\n * @Author: Weidows\n * @LastEditors: Weidows\n * @LastEditTime: 2021-05-02 15:29:43\n * @FilePath: \\Weidowsd:\\Game\\Github\\Blog-private\\source\\_posts\\Java\\Web\\7.md\n * @Description:\n * @!: *********************************************************************\n-->\n<ul>\n<li><a href=\"#%E7%AC%94%E8%AE%B0%E4%BB%A3%E7%A0%81\">ç¬”è®°ä»£ç </a></li>\n<li><a href=\"#%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93\">æ–‡ä»¶ä¼ è¾“</a></li>\n<li><a href=\"#%E9%82%AE%E4%BB%B6%E5%8F%91%E9%80%81\">é‚®ä»¶å‘é€</a>\n<ul>\n<li><a href=\"#%E7%AE%80%E5%8D%95%E9%82%AE%E4%BB%B6\">ç®€å•é‚®ä»¶</a></li>\n<li><a href=\"#%E5%A4%8D%E6%9D%82%E9%82%AE%E4%BB%B6\">å¤æ‚é‚®ä»¶</a></li>\n</ul>\n</li>\n<li><a href=\"#lombok\">Lombok</a></li>\n<li><a href=\"#%E6%B3%A8%E5%86%8C-%E5%8F%91%E9%80%81%E9%82%AE%E4%BB%B6-demo\">æ³¨å†Œ - å‘é€é‚®ä»¶ demo</a></li>\n</ul>\n<h2 id=\"ç¬”è®°ä»£ç  -8\"><a href=\"https://github.com/Weidows/Weidows/blob/060600b2a9e13afa7c2f0e5d887d98b5d59318ce/JavaWeb/Last\">ç¬”è®°ä»£ç </a></h2>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"æ–‡ä»¶ä¼ è¾“\">æ–‡ä»¶ä¼ è¾“</h2>\n<blockquote>\n<p><a href=\"https://www.cnblogs.com/melodyjerry/p/13549108.html\">å‚è€ƒ: ã€ç‹‚ç¥è¯´ Javaã€‘JavaWeb- æ–‡ä»¶ä¸Šä¼ </a></p>\n</blockquote>\n<ul>\n<li>\n<p>åˆ©ç”¨åˆ°äº† Commons-io, é€šè¿‡ http å’Œ servlet ä¼ è¾“æµæ–‡ä»¶.</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> org.apache.commons.fileupload.FileItem;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.commons.fileupload.FileUploadException;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.commons.fileupload.disk.DiskFileItemFactory;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.commons.fileupload.servlet.ServletFileUpload;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.ServletException;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpServlet;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.File;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.FileOutputStream;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.IOException;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.InputStream;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.List;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.UUID;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">* Servlet implementation class FileServlet</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">FileServlet</span> <span class=\"keyword\">extends</span> <span class=\"title\">HttpServlet</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> <span class=\"keyword\">long</span> serialVersionUID = <span class=\"number\">1L</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Override</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">doGet</span><span class=\"params\">(HttpServletRequest req, HttpServletResponse resp)</span> <span class=\"keyword\">throws</span> ServletException, IOException </span>&#123;</span><br><span class=\"line\">    doPost(req, resp);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">  * <span class=\"doctag\">@see</span> HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)</span></span><br><span class=\"line\"><span class=\"comment\">  */</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">doPost</span><span class=\"params\">(HttpServletRequest request, HttpServletResponse response)</span></span></span><br><span class=\"line\"><span class=\"function\">      <span class=\"keyword\">throws</span> ServletException, IOException </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// åˆ¤æ–­ä¸Šä¼ çš„æ–‡ä»¶æ™®é€šè¡¨å•è¿˜æ˜¯å¸¦æ–‡ä»¶çš„è¡¨å•</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!ServletFileUpload.isMultipartContent(request)) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span>;<span class=\"comment\">// ç»ˆæ­¢æ–¹æ³•è¿è¡Œ, è¯´æ˜è¿™æ˜¯ä¸€ä¸ªæ™®é€šçš„è¡¨å•, ç›´æ¥è¿”å›</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// åˆ›å»ºä¸Šä¼ æ–‡ä»¶çš„ä¿å­˜è·¯å¾„ï¼Œå»ºè®®åœ¨ WEB-INF è·¯å¾„ä¸‹ï¼Œå®‰å…¨ï¼Œç”¨æˆ·æ— æ³•ç›´æ¥è®¿é—®ä¸Šä¼ çš„æ–‡ä»¶</span></span><br><span class=\"line\">    String tmpPath = <span class=\"keyword\">this</span>.getServletContext().getRealPath(<span class=\"string\">&quot;/WEB-INF/tmp&quot;</span>);</span><br><span class=\"line\">    File tempFile = <span class=\"keyword\">new</span> File(tmpPath);</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!tempFile.exists()) &#123;</span><br><span class=\"line\">      tempFile.mkdir();<span class=\"comment\">// åˆ›å»ºä¸´æ—¶ç›®å½•</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// åˆ›å»ºä¸Šä¼ æ–‡ä»¶çš„ä¿å­˜è·¯å¾„, å»ºè®®åœ¨ WEB-INF è·¯å¾„ä¸‹, å®‰å…¨, ç”¨æˆ·æ— æ³•ç›´æ¥è®¿é—´ä¸Šä¼ çš„æ–‡ä»¶;</span></span><br><span class=\"line\">    String uploadPath = <span class=\"keyword\">this</span>.getServletContext().getRealPath(<span class=\"string\">&quot;/WEB-INF/upload&quot;</span>);</span><br><span class=\"line\">    File uploadFile = <span class=\"keyword\">new</span> File(uploadPath);</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!uploadFile.exists()) &#123;</span><br><span class=\"line\">      uploadFile.mkdir(); <span class=\"comment\">// åˆ›å»ºè¿™ä¸ªæœˆå½•</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">      å¤„ç†ä¸Šä¼ çš„æ–‡ä»¶, ä¸€èˆ¬éƒ½éœ€è¦é€šè¿‡æµæ¥è·å–, æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ request.getInputStream(), åŸç”Ÿæ€çš„æ–‡ä»¶ä¸Šä¼ æµè·å–, ååˆ†éº»çƒ¦</span></span><br><span class=\"line\"><span class=\"comment\">      å»ºè®®ä½¿ç”¨ Apache çš„æ–‡ä»¶ä¸Šä¼ ç»„ä»¶æ¥å®ç°, common-fileUpload, å®ƒéœ€è¦ commons-io ç»„ä»¶</span></span><br><span class=\"line\"><span class=\"comment\">    */</span></span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">      <span class=\"comment\">// è·å– ServletFileUpload</span></span><br><span class=\"line\">      ServletFileUpload fileUpload = getServletFileUpload(tempFile);</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// å¤„ç†ä¸Šä¼ æ–‡ä»¶</span></span><br><span class=\"line\">      <span class=\"comment\">// æŠŠå‰ç«¯è¯·æ±‚è§£æï¼Œå°è£…æˆ FileItem å¯¹è±¡ï¼Œéœ€è¦ä» ServletFileUpload å¯¹è±¡ä¸­è·å–</span></span><br><span class=\"line\">      <span class=\"keyword\">boolean</span> flag = uploadParseRequest(fileUpload, request, uploadPath);</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// Servlet è¯·æ±‚è½¬å‘æ¶ˆæ¯</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (flag) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// Servlet è¯·æ±‚è½¬å‘æ¶ˆæ¯</span></span><br><span class=\"line\">        request.setAttribute(<span class=\"string\">&quot;flag&quot;</span>, <span class=\"keyword\">true</span>);</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        request.setAttribute(<span class=\"string\">&quot;flag&quot;</span>, <span class=\"keyword\">false</span>);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      request.getRequestDispatcher(<span class=\"string\">&quot;info.jsp&quot;</span>).forward(request, response);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">catch</span> (FileUploadException e) &#123;</span><br><span class=\"line\">      e.printStackTrace();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> ServletFileUpload <span class=\"title\">getServletFileUpload</span><span class=\"params\">(File tempFile)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// åˆ›å»º DiskFileItemFactory å¯¹è±¡ï¼Œå¤„ç†æ–‡ä»¶è·¯å¾„æˆ–è€…å¤§å°é™åˆ¶</span></span><br><span class=\"line\">    DiskFileItemFactory factory = <span class=\"keyword\">new</span> DiskFileItemFactory();</span><br><span class=\"line\">    <span class=\"comment\">// é€šè¿‡è¿™ä¸ªå·¥å‚è®¾ç½®ä¸€ä¸ªç¼“å†²åŒº, å½“ä¸Šä¼ çš„æ–‡ä»¶å¤§äºè¿™ä¸ªç¼“å†²åŒºçš„æ—¶å€™, å°†ä»–æ”¾åˆ°ä¸´æ—¶æ–‡ä»¶ä¸­;</span></span><br><span class=\"line\">    factory.setSizeThreshold((<span class=\"keyword\">int</span>) <span class=\"number\">2e20</span>);<span class=\"comment\">// ç¼“å†²åŒºå¤§å°ä¸º 1M</span></span><br><span class=\"line\">    factory.setRepository(tempFile);<span class=\"comment\">// ä¸´æ—¶ç›®å½•çš„ä¿å­˜ç›®å½•, éœ€è¦ä¸€ä¸ª file</span></span><br><span class=\"line\"></span><br><span class=\"line\">    ServletFileUpload servletFileUpload = <span class=\"keyword\">new</span> ServletFileUpload(factory);</span><br><span class=\"line\">    <span class=\"comment\">// å¤„ç†ä¹±ç é—®é¢˜</span></span><br><span class=\"line\">    servletFileUpload.setHeaderEncoding(<span class=\"string\">&quot;UTF-8&quot;</span>);</span><br><span class=\"line\">    <span class=\"comment\">// è®¾ç½®æ€»å…±èƒ½å¤Ÿä¸Šä¼ æ–‡ä»¶çš„å¤§å° 10M</span></span><br><span class=\"line\">    servletFileUpload.setFileSizeMax((<span class=\"keyword\">long</span>) <span class=\"number\">2e21</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">      ç›‘å¬é•¿ä¼ è¿›åº¦</span></span><br><span class=\"line\"><span class=\"comment\">        pBytesRead: å·²è¯»å–åˆ°çš„æ–‡ä»¶å¤§å°</span></span><br><span class=\"line\"><span class=\"comment\">        pContextLength: æ–‡ä»¶å¤§å°</span></span><br><span class=\"line\"><span class=\"comment\">    */</span></span><br><span class=\"line\">    servletFileUpload.setProgressListener((<span class=\"keyword\">long</span> pBytesRead, <span class=\"keyword\">long</span> pContentLength, <span class=\"keyword\">int</span> pItems) -&gt; System.out.println(<span class=\"string\">&quot; å·²ä¸Šä¼ ï¼š&quot;</span> + pBytesRead + <span class=\"string\">&quot;\\n æ€»å¤§å°ï¼š&quot;</span> + pContentLength));</span><br><span class=\"line\">    <span class=\"keyword\">return</span> servletFileUpload;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">boolean</span> <span class=\"title\">uploadParseRequest</span><span class=\"params\">(ServletFileUpload upload, HttpServletRequest request, String uploadPath)</span></span></span><br><span class=\"line\"><span class=\"function\">      <span class=\"keyword\">throws</span> FileUploadException, IOException </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">boolean</span> flag = <span class=\"keyword\">false</span>; <span class=\"comment\">// æ˜¯å¦æˆåŠŸ</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// æŠŠå‰ç«¯è¯·æ±‚è§£æï¼Œå°è£…æˆ FileItem å¯¹è±¡</span></span><br><span class=\"line\">    List&lt;FileItem&gt; fileItems = upload.parseRequest(request);</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (FileItem fileItem : fileItems) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// åˆ¤æ–­ä¸Šä¼ çš„æ–‡ä»¶æ˜¯æ™®é€šçš„è¡¨å•è¿˜æ˜¯å¸¦æ–‡ä»¶çš„è¡¨å•</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (fileItem.isFormField()) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// getFieldName æŒ‡çš„æ˜¯å‰ç«¯è¡¨å•æ§ä»¶çš„ name;</span></span><br><span class=\"line\">        String name = fileItem.getFieldName();</span><br><span class=\"line\">        String value = fileItem.getString(<span class=\"string\">&quot;UTF-8&quot;</span>); <span class=\"comment\">// å¤„ç†ä¹±ç </span></span><br><span class=\"line\">        System.out.println(name + <span class=\"string\">&quot;: &quot;</span> + value);</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// ============ å¤„ç†æ–‡ä»¶ ==============</span></span><br><span class=\"line\">        <span class=\"comment\">// æ‹¿åˆ°æ–‡ä»¶å</span></span><br><span class=\"line\">        String uploadFileName = fileItem.getName();</span><br><span class=\"line\">        <span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">          .trim() åˆ é™¤å‰åç©ºæ ¼</span></span><br><span class=\"line\"><span class=\"comment\">          ä¸‹é¢çš„å†™æ³•ä¼šå¯¼è‡´ &quot;uploadFileName == null&quot; ä¸€ç›´åˆ¤å®šä¸º false :</span></span><br><span class=\"line\"><span class=\"comment\">            uploadFileName.trim().equals(&quot;&quot;) || uploadFileName == null</span></span><br><span class=\"line\"><span class=\"comment\">            åè¿‡æ¥å°±å¥½äº†, åŸå› æ˜¯å­—ç¬¦ä¸²å¯¹è±¡å¼•ç”¨æ”¹å˜äº†</span></span><br><span class=\"line\"><span class=\"comment\">        */</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (uploadFileName == <span class=\"keyword\">null</span> || uploadFileName.trim().equals(<span class=\"string\">&quot;&quot;</span>)) &#123;</span><br><span class=\"line\">          <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// è·å¾—ä¸Šä¼ çš„æ–‡ä»¶å</span></span><br><span class=\"line\">        String fileName = uploadFileName.substring(uploadFileName.lastIndexOf(<span class=\"string\">&quot;/&quot;</span>) + <span class=\"number\">1</span>);</span><br><span class=\"line\">        <span class=\"comment\">// è·å¾—æ–‡ä»¶çš„åç¼€å, å¦‚æœæ–‡ä»¶åç¼€å fileExtName ä¸æ˜¯æˆ‘ä»¬æ‰€éœ€è¦çš„ å°±ç›´æŒ‰ return. ä¸å¤„ç†, å‘Šè¯‰ç”¨æˆ·æ–‡ä»¶ç±»å‹ä¸å¯¹ã€‚</span></span><br><span class=\"line\">        String fileExtName = uploadFileName.substring(uploadFileName.lastIndexOf(<span class=\"string\">&quot;.&quot;</span>) + <span class=\"number\">1</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot; æ–‡ä»¶å: &quot;</span> + fileName + <span class=\"string\">&quot;\\n åç¼€å &quot;</span> + fileExtName);</span><br><span class=\"line\">        <span class=\"comment\">// ================ å¤„ç†æ–‡ä»¶å®Œæ¯• ==============</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">          UUID.randomUUID(), éšæœºç”Ÿä¸€ä¸ªå”¯ä¸€è¯†åˆ«çš„é€šç”¨ç , ä¿è¯æ–‡ä»¶å¤¹åå”¯ä¸€</span></span><br><span class=\"line\"><span class=\"comment\">          æ–‡ä»¶çœŸå®å­˜åœ¨çš„è·¯å¾„ realPath</span></span><br><span class=\"line\"><span class=\"comment\">        */</span></span><br><span class=\"line\">        String realPath = uploadPath + <span class=\"string\">&quot;/&quot;</span> + UUID.randomUUID();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// ç»™æ¯ä¸ªæ–‡ä»¶åˆ›å»ºä¸€ä¸ªå¯¹åº”çš„æ–‡ä»¶å¤¹</span></span><br><span class=\"line\">        File realPathFile = <span class=\"keyword\">new</span> File(realPath);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!realPathFile.exists()) &#123;</span><br><span class=\"line\">          realPathFile.mkdir();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// ============== å­˜æ”¾åœ°å€å®Œæ¯• ==============</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// è·å¾—æ–‡ä»¶ä¸Šä¼ çš„æµ</span></span><br><span class=\"line\">        InputStream inputStream = fileItem.getInputStream();</span><br><span class=\"line\">        <span class=\"comment\">// åˆ›å»ºä¸€ä¸ªæ–‡ä»¶è¾“å‡ºæµ</span></span><br><span class=\"line\">        FileOutputStream fileOutputStream = <span class=\"keyword\">new</span> FileOutputStream(realPath + <span class=\"string\">&quot;/&quot;</span> + fileName);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// åˆ›å»ºä¸€ä¸ªç¼“å†²åŒº</span></span><br><span class=\"line\">        <span class=\"keyword\">byte</span>[] buffer = <span class=\"keyword\">new</span> <span class=\"keyword\">byte</span>[(<span class=\"keyword\">int</span>) <span class=\"number\">2e20</span>]; <span class=\"comment\">// 1M</span></span><br><span class=\"line\">        <span class=\"keyword\">int</span> len;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> ((len = inputStream.read(buffer)) &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">          fileOutputStream.write(buffer, <span class=\"number\">0</span>, len);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// å…³é—­æµ</span></span><br><span class=\"line\">        fileOutputStream.close();</span><br><span class=\"line\">        inputStream.close();</span><br><span class=\"line\"></span><br><span class=\"line\">        flag = <span class=\"keyword\">true</span>;</span><br><span class=\"line\">        <span class=\"comment\">// ä¸Šä¼ æˆåŠŸ, æ¸…é™¤ä¸´æ—¶æ–‡ä»¶</span></span><br><span class=\"line\">        fileItem.delete();</span><br><span class=\"line\">        <span class=\"comment\">//============= æ–‡ä»¶ä¼ è¾“å®Œæˆ =============</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> flag;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>é¡¹ç›®åœ°å€</p>\n<p>åŒ…å«ç”¨åˆ°çš„ JSP é¡µé¢å’Œ xml é…ç½®æ–‡ä»¶</p>\n<blockquote>\n<p><a href=\"https://github.com/Weidows/Java/tree/master/JavaWeb/Last\">https://github.com/Weidows/Java/tree/master/JavaWeb/Last</a></p>\n</blockquote>\n</li>\n<li>\n<p>é—®é¢˜: å¦‚æœ Tomcat æ˜¯ 10 ç‰ˆæœ¬çš„, è¿è¡Œæ—¶ä¼šå‡ºç° 500</p>\n<blockquote>\n<p><a href=\"https://blog.csdn.net/m0_50905990/article/details/115339679\">servlet é…ç½®ç›¸å…³ï¼šHTTP çŠ¶æ€ 500 - å†…éƒ¨æœåŠ¡å™¨é”™è¯¯é—®é¢˜</a></p>\n</blockquote>\n</li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"é‚®ä»¶å‘é€\">é‚®ä»¶å‘é€</h2>\n<ul>\n<li>\n<p>åŸç†å›¾:</p>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVSoBn.png\" alt=\"é‚®ä»¶ä¼ è¾“åŸç†.drawio\" />\n</li>\n<li>\n<p>ä¾èµ–</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>javax.activation<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>activation<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>1.1.1<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- https://mvnrepository.com/artifact/javax.mail/mail --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>javax.mail<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>mail<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>1.4.7<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<hr>\n</li>\n</ul>\n<hr>\n<h3 id=\"ç®€å•é‚®ä»¶\">ç®€å•é‚®ä»¶</h3>\n<ul>\n<li>\n<p>ä»£ç :</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> com.sun.mail.util.MailSSLSocketFactory;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.mail.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.mail.internet.InternetAddress;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.mail.internet.MimeMessage;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.security.GeneralSecurityException;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.Properties;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MailDemo1</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> String fromEmailAddress = <span class=\"string\">&quot;utsuko27@qq.com&quot;</span>;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> String toEmailAddress = <span class=\"string\">&quot;utsuko27@163.com&quot;</span>;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> String password = <span class=\"string\">&quot; è¿™é‡Œå¡«æˆæƒç  &quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> <span class=\"keyword\">throws</span> Exception </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//0. è®¾ç½®è¿æ¥é…ç½®</span></span><br><span class=\"line\">    Properties properties = getProperties();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//1. åˆ›å»ºå®šä¹‰æ•´ä¸ªåº”ç”¨ç¨‹åºæ‰€éœ€è¦çš„ç¯å¢ƒä¿¡æ¯çš„ session å¯¹è±¡</span></span><br><span class=\"line\">    Session session = Session.getDefaultInstance(properties, <span class=\"keyword\">new</span> Authenticator() &#123;</span><br><span class=\"line\">      <span class=\"meta\">@Override</span></span><br><span class=\"line\">      <span class=\"function\"><span class=\"keyword\">protected</span> PasswordAuthentication <span class=\"title\">getPasswordAuthentication</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> PasswordAuthentication(fromEmailAddress, password);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    <span class=\"comment\">// å¼€å¯ session çš„ debug æ¨¡å¼ï¼Œè¿™æ ·å¯ä»¥æŸ¥çœ‹åˆ°ç¨‹åºå‘é€ Email çš„è¿è¡ŒçŠ¶æ€</span></span><br><span class=\"line\">    session.setDebug(<span class=\"keyword\">true</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//2. é€šè¿‡ session å¾—åˆ° transport å¯¹è±¡</span></span><br><span class=\"line\">    Transport transport = session.getTransport();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//3. ä½¿ç”¨é‚®ç®±çš„ç”¨æˆ·åå’Œæˆæƒç è¿ä¸Šé‚®ä»¶æœåŠ¡å™¨</span></span><br><span class=\"line\">    transport.connect(<span class=\"string\">&quot;smtp.qq.com&quot;</span>, fromEmailAddress, password);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//4. åˆ›å»ºé‚®ä»¶ï¼šå†™æ–‡ä»¶</span></span><br><span class=\"line\">    MimeMessage message = getMimeMessage(session);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//5. å‘é€é‚®ä»¶</span></span><br><span class=\"line\">    transport.sendMessage(message, message.getAllRecipients());</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//6. å…³é—­è¿æ¥</span></span><br><span class=\"line\">    transport.close();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> Properties <span class=\"title\">getProperties</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> GeneralSecurityException </span>&#123;</span><br><span class=\"line\">    Properties properties = <span class=\"keyword\">new</span> Properties();</span><br><span class=\"line\">    properties.setProperty(<span class=\"string\">&quot;mail.host&quot;</span>, <span class=\"string\">&quot;smtp.qq.com&quot;</span>);<span class=\"comment\">/// è®¾ç½® QQ é‚®ä»¶æœåŠ¡å™¨</span></span><br><span class=\"line\">    properties.setProperty(<span class=\"string\">&quot;mail.transport.protocol&quot;</span>, <span class=\"string\">&quot;smtp&quot;</span>);<span class=\"comment\">/// é‚®ä»¶å‘é€åè®®</span></span><br><span class=\"line\">    properties.setProperty(<span class=\"string\">&quot;mail.smtp.auth&quot;</span>, <span class=\"string\">&quot;true&quot;</span>);<span class=\"comment\">// éœ€è¦éªŒè¯ç”¨æˆ·å¯†ç </span></span><br><span class=\"line\">    <span class=\"comment\">// è®¾ç½® SSL åŠ å¯†(QQ é‚®ç®±éœ€è¦)</span></span><br><span class=\"line\">    MailSSLSocketFactory mailSSLSocketFactory = <span class=\"keyword\">new</span> MailSSLSocketFactory();</span><br><span class=\"line\">    mailSSLSocketFactory.setTrustAllHosts(<span class=\"keyword\">true</span>);</span><br><span class=\"line\">    properties.put(<span class=\"string\">&quot;mail.smtp.ssl.enable&quot;</span>, <span class=\"string\">&quot;true&quot;</span>);</span><br><span class=\"line\">    properties.put(<span class=\"string\">&quot;mail.smtp.ssl.socketFactory&quot;</span>, mailSSLSocketFactory);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> properties;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> MimeMessage <span class=\"title\">getMimeMessage</span><span class=\"params\">(Session session)</span> <span class=\"keyword\">throws</span> MessagingException </span>&#123;</span><br><span class=\"line\">    MimeMessage message = <span class=\"keyword\">new</span> MimeMessage(session);</span><br><span class=\"line\">    <span class=\"comment\">// æŒ‡æ˜é‚®ä»¶çš„å‘ä»¶äºº</span></span><br><span class=\"line\">    message.setFrom(<span class=\"keyword\">new</span> InternetAddress(fromEmailAddress));</span><br><span class=\"line\">    <span class=\"comment\">// æŒ‡æ˜é‚®ä»¶çš„æ”¶ä»¶äºº</span></span><br><span class=\"line\">    message.setRecipient(Message.RecipientType.TO, <span class=\"keyword\">new</span> InternetAddress(toEmailAddress));</span><br><span class=\"line\">    <span class=\"comment\">// é‚®ä»¶æ ‡é¢˜</span></span><br><span class=\"line\">    message.setSubject(<span class=\"string\">&quot; å‘é€çš„æ ‡é¢˜ &quot;</span>);</span><br><span class=\"line\">    <span class=\"comment\">// é‚®ä»¶çš„æ–‡æœ¬å†…å®¹</span></span><br><span class=\"line\">    message.setContent(<span class=\"string\">&quot; å†…å®¹ &quot;</span>, <span class=\"string\">&quot;text/html;charset=UTF-8&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> message;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n</li>\n<li>\n<details>\n  <summary> -> å¼€å¯ Debug åçš„ä¿¡æ¯ <-</summary>\n<hr>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">DEBUG: setDebug: JavaMail version 1.4.7</span><br><span class=\"line\">DEBUG: getProvider() returning javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle]</span><br><span class=\"line\"><span class=\"builtin-name\">DEBUG</span> SMTP: useEhlo <span class=\"literal\">true</span>, useAuth <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"builtin-name\">DEBUG</span> SMTP: trying <span class=\"keyword\">to</span> connect <span class=\"keyword\">to</span> host <span class=\"string\">&quot;smtp.qq.com&quot;</span>,<span class=\"built_in\"> port </span>465, isSSL <span class=\"literal\">true</span></span><br><span class=\"line\">220 newxmesmtplogicsvrsza8.qq.com XMail Esmtp QQ Mail Server.</span><br><span class=\"line\"><span class=\"builtin-name\">DEBUG</span> SMTP: connected <span class=\"keyword\">to</span> host <span class=\"string\">&quot;smtp.qq.com&quot;</span>, port: 465</span><br><span class=\"line\"></span><br><span class=\"line\">EHLO DESKTOP-CTDDD3K</span><br><span class=\"line\">250-newxmesmtplogicsvrsza8.qq.com</span><br><span class=\"line\">250-PIPELINING</span><br><span class=\"line\">250-SIZE 73400320</span><br><span class=\"line\">250-AUTH LOGIN PLAIN XOAUTH XOAUTH2</span><br><span class=\"line\"><span class=\"attribute\">250-AUTH</span>=LOGIN</span><br><span class=\"line\">250-MAILCOMPRESS</span><br><span class=\"line\">250 8BITMIME</span><br><span class=\"line\"><span class=\"builtin-name\">DEBUG</span> SMTP: Found extension <span class=\"string\">&quot;PIPELINING&quot;</span>, arg <span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\"><span class=\"builtin-name\">DEBUG</span> SMTP: Found extension <span class=\"string\">&quot;SIZE&quot;</span>, arg <span class=\"string\">&quot;73400320&quot;</span></span><br><span class=\"line\"><span class=\"builtin-name\">DEBUG</span> SMTP: Found extension <span class=\"string\">&quot;AUTH&quot;</span>, arg <span class=\"string\">&quot;LOGIN PLAIN XOAUTH XOAUTH2&quot;</span></span><br><span class=\"line\"><span class=\"builtin-name\">DEBUG</span> SMTP: Found extension <span class=\"string\">&quot;AUTH=LOGIN&quot;</span>, arg <span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\"><span class=\"builtin-name\">DEBUG</span> SMTP: Found extension <span class=\"string\">&quot;MAILCOMPRESS&quot;</span>, arg <span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\"><span class=\"builtin-name\">DEBUG</span> SMTP: Found extension <span class=\"string\">&quot;8BITMIME&quot;</span>, arg <span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\"><span class=\"builtin-name\">DEBUG</span> SMTP: Attempt <span class=\"keyword\">to</span> authenticate using mechanisms: LOGIN PLAIN DIGEST-MD5 NTLM</span><br><span class=\"line\"><span class=\"builtin-name\">DEBUG</span> SMTP: AUTH LOGIN command trace suppressed</span><br><span class=\"line\"><span class=\"builtin-name\">DEBUG</span> SMTP: AUTH LOGIN succeeded</span><br><span class=\"line\"><span class=\"builtin-name\">DEBUG</span> SMTP: use8bit <span class=\"literal\">false</span></span><br><span class=\"line\">MAIL <span class=\"keyword\">FROM</span>:&lt;utsuko27@qq.com&gt;</span><br><span class=\"line\">250 OK.</span><br><span class=\"line\">RCPT <span class=\"keyword\">TO</span>:&lt;utsuko27@163.com&gt;</span><br><span class=\"line\">250 OK</span><br><span class=\"line\"><span class=\"builtin-name\">DEBUG</span> SMTP: Verified Addresses</span><br><span class=\"line\"><span class=\"builtin-name\">DEBUG</span> SMTP:   utsuko27@163.com</span><br><span class=\"line\">DATA</span><br><span class=\"line\">354 End data with &lt;CR&gt;&lt;LF&gt;.&lt;CR&gt;&lt;LF&gt;.</span><br><span class=\"line\"><span class=\"keyword\">From</span>: utsuko27@qq.com</span><br><span class=\"line\"><span class=\"keyword\">To</span>: utsuko27@163.com</span><br><span class=\"line\">Message-ID: &lt;825249556.0.1619921529857.JavaMail.29845@smtp.qq.com&gt;</span><br><span class=\"line\">Subject: =?UTF-8?B?5Y+R6YCB55qE5qCH6aKY?=</span><br><span class=\"line\">MIME-Version: 1.0</span><br><span class=\"line\">Content-Type: text/html;<span class=\"attribute\">charset</span>=UTF-8</span><br><span class=\"line\">Content-Transfer-Encoding: base64</span><br><span class=\"line\"></span><br><span class=\"line\">5YaF5a65</span><br><span class=\"line\">.</span><br><span class=\"line\">250 OK: queued as.</span><br><span class=\"line\">QUIT</span><br><span class=\"line\">221 Bye.</span><br></pre></td></tr></table></figure>\n</details>\n</li>\n</ul>\n<hr>\n<h3 id=\"å¤æ‚é‚®ä»¶\">å¤æ‚é‚®ä»¶</h3>\n<ul>\n<li>\n<p>æ¯”å¦‚æ¶‰åŠåˆ°é™„ä»¶æˆ–è€…æ’å…¥å›¾ç‰‡çš„é‚®ä»¶, è¿™ç§é‚®ä»¶å°±éœ€è¦è¿›è¡Œç‰¹æ®ŠåŒ…è£…</p>\n<blockquote>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVAqE5.png\" alt=\"20210502102326\" />\n</blockquote>\n</li>\n<li>\n<p>ä»£ç  (åªéœ€è¦ä¿®æ”¹ getMimeMessage()æ–¹æ³•)</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">* å«å¸¦é™„ä»¶çš„é‚®ä»¶</span></span><br><span class=\"line\"><span class=\"comment\">*</span></span><br><span class=\"line\"><span class=\"comment\">* <span class=\"doctag\">@param</span> session</span></span><br><span class=\"line\"><span class=\"comment\">* <span class=\"doctag\">@return</span></span></span><br><span class=\"line\"><span class=\"comment\">* <span class=\"doctag\">@throws</span> MessagingException</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> MimeMessage <span class=\"title\">getMimeMessage</span><span class=\"params\">(Session session)</span> <span class=\"keyword\">throws</span> MessagingException </span>&#123;</span><br><span class=\"line\">  MimeMessage message = <span class=\"keyword\">new</span> MimeMessage(session);</span><br><span class=\"line\">  <span class=\"comment\">// æŒ‡æ˜é‚®ä»¶çš„å‘ä»¶äºº</span></span><br><span class=\"line\">  message.setFrom(<span class=\"keyword\">new</span> InternetAddress(fromEmailAddress));</span><br><span class=\"line\">  <span class=\"comment\">// æŒ‡æ˜é‚®ä»¶çš„æ”¶ä»¶äºº</span></span><br><span class=\"line\">  message.setRecipient(Message.RecipientType.TO, <span class=\"keyword\">new</span> InternetAddress(toEmailAddress));</span><br><span class=\"line\">  <span class=\"comment\">// é‚®ä»¶æ ‡é¢˜</span></span><br><span class=\"line\">  message.setSubject(<span class=\"string\">&quot; å‘é€çš„æ ‡é¢˜ &quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// é‚®ä»¶çš„æ–‡æœ¬å†…å®¹</span></span><br><span class=\"line\">  <span class=\"comment\">//================================= å‡†å¤‡å›¾ç‰‡æ•°æ®</span></span><br><span class=\"line\">  MimeBodyPart image = <span class=\"keyword\">new</span> MimeBodyPart();</span><br><span class=\"line\">  <span class=\"comment\">// å›¾ç‰‡éœ€è¦ç»è¿‡æ•°æ®åŒ–çš„å¤„ç†</span></span><br><span class=\"line\">  DataHandler dataHandler = <span class=\"keyword\">new</span> DataHandler(<span class=\"keyword\">new</span> FileDataSource(<span class=\"string\">&quot;D:/Game/Weidows/JavaWeb/Last/src/main/java/MailDemo.java&quot;</span>));</span><br><span class=\"line\">  <span class=\"comment\">// åœ¨ part ä¸­æ”¾å…¥è¿™ä¸ªå¤„ç†è¿‡å›¾ç‰‡çš„æ•°æ®</span></span><br><span class=\"line\">  image.setDataHandler(dataHandler);</span><br><span class=\"line\">  <span class=\"comment\">// ç»™è¿™ä¸ª part è®¾ç½®ä¸€ä¸ª ID åå­—</span></span><br><span class=\"line\">  image.setContentID(<span class=\"string\">&quot; åµŒå…¥.png&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">//================================= å‡†å¤‡æ­£æ–‡æ•°æ®</span></span><br><span class=\"line\">  MimeBodyPart text = <span class=\"keyword\">new</span> MimeBodyPart();</span><br><span class=\"line\">  text.setContent(<span class=\"string\">&quot; è¿™æ˜¯ä¸€å¼ æ­£æ–‡ &lt;img src=&#x27; åµŒå…¥.jpg&#x27;&gt;&quot;</span>, <span class=\"string\">&quot;text/html;charset=UTF-8&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">//================================= å‡†å¤‡é™„ä»¶æ•°æ®</span></span><br><span class=\"line\">  MimeBodyPart body = <span class=\"keyword\">new</span> MimeBodyPart();</span><br><span class=\"line\">  body.setDataHandler(<span class=\"keyword\">new</span> DataHandler(<span class=\"keyword\">new</span> FileDataSource(<span class=\"string\">&quot;D:/Game/Weidows/JavaWeb/Last/src/main/java/MailDemo.java&quot;</span>)));</span><br><span class=\"line\">  body.setFileName(<span class=\"string\">&quot; é™„ä»¶.png&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// æè¿°æ•°æ®å…³ç³»</span></span><br><span class=\"line\">  MimeMultipart mimeMultipart = <span class=\"keyword\">new</span> MimeMultipart();</span><br><span class=\"line\">  mimeMultipart.addBodyPart(image);</span><br><span class=\"line\">  mimeMultipart.addBodyPart(text);</span><br><span class=\"line\">  mimeMultipart.addBodyPart(body);</span><br><span class=\"line\">  mimeMultipart.setSubType(<span class=\"string\">&quot;mixed&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// è®¾ç½®åˆ°æ¶ˆæ¯ä¸­ï¼Œä¿å­˜ä¿®æ”¹</span></span><br><span class=\"line\">  message.setContent(mimeMultipart);</span><br><span class=\"line\">  message.saveChanges();</span><br><span class=\"line\">  <span class=\"keyword\">return</span> message;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>æµ‹è¯•è¿‡é‚®ä»¶å‘é€æ²¡æœ‰é—®é¢˜, ä½†æ˜¯å¾ˆæœ‰å¯èƒ½å› ä¸ºåŒ…è£…é—®é¢˜å¯¼è‡´å›¾ç‰‡æˆ–è€…æ–‡ä»¶å‡ºç°ç¼–ç è§£æé”™è¯¯é—®é¢˜</p>\n</li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"Lombok\">Lombok</h2>\n<ul>\n<li>\n<p>é€šè¿‡æ³¨è§£å¿«é€Ÿç”Ÿæˆä»£ç </p>\n</li>\n<li>\n<p>éœ€è¦ <code> å®‰è£…æ’ä»¶ </code> å’Œ<code>å¯¼å…¥ä¾èµ–</code></p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.projectlombok<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>lombok<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>1.18.20<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>æ•ˆæœå¦‚å›¾:</p>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVAz1g.png\" alt=\"20210502141126\" />\n</li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"æ³¨å†Œ - å‘é€é‚®ä»¶ -demo\">æ³¨å†Œ - å‘é€é‚®ä»¶ demo</h2>\n<blockquote>\n<p>å…¶ä»–èµ„æºå¯ä»¥å»è¿™é‡Œæ‰¾: <a href=\"https://github.com/Weidows/Java/blob/master/JavaWeb/Last/src/main/java/demo\">ä»£ç </a></p>\n</blockquote>\n<ul>\n<li>\n<p>é€šè¿‡ JSP è·å–è¡¨å•ä¸­ç”¨æˆ·å, å¯†ç å’Œ email, ç„¶åç”¨ Servlet è·å–, å¹¶å¼€å¯é‚®ä»¶å‘é€çº¿ç¨‹é€šçŸ¥ç”¨æˆ·.</p>\n</li>\n<li>\n<p>å‘é€é‚®ä»¶çš„ç±»</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> demo;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> com.sun.mail.util.MailSSLSocketFactory;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.mail.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.mail.internet.InternetAddress;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.mail.internet.MimeMessage;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.security.GeneralSecurityException;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.Properties;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">SendMail</span> <span class=\"keyword\">extends</span> <span class=\"title\">Thread</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> String fromEmailAddress = <span class=\"string\">&quot;utsuko27@qq.com&quot;</span>;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> String toEmailAddress = <span class=\"string\">&quot;utsuko27@163.com&quot;</span>;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> String password = <span class=\"string\">&quot; æˆæƒç  &quot;</span>;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">final</span> User user;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">SendMail</span><span class=\"params\">(User user)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.user = user;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Override</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">run</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">      Session session = Session.getDefaultInstance(getProperties(), <span class=\"keyword\">new</span> Authenticator() &#123;</span><br><span class=\"line\">        <span class=\"meta\">@Override</span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">protected</span> PasswordAuthentication <span class=\"title\">getPasswordAuthentication</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">          <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> PasswordAuthentication(fromEmailAddress, password);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\">      session.setDebug(<span class=\"keyword\">true</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">      MimeMessage message = getMimeMessage(session);</span><br><span class=\"line\"></span><br><span class=\"line\">      send(session, message);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">catch</span> (Exception e) &#123;</span><br><span class=\"line\">      System.out.println(e);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">private</span> Properties <span class=\"title\">getProperties</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> GeneralSecurityException </span>&#123;</span><br><span class=\"line\">    Properties prop = <span class=\"keyword\">new</span> Properties();</span><br><span class=\"line\">    prop.setProperty(<span class=\"string\">&quot;mail.host&quot;</span>, <span class=\"string\">&quot;smtp.qq.com&quot;</span>);<span class=\"comment\">/// è®¾ç½® QQ é‚®ä»¶æœåŠ¡å™¨ </span></span><br><span class=\"line\">    prop.setProperty(<span class=\"string\">&quot;mail.transport.protocol&quot;</span>, <span class=\"string\">&quot;smtp&quot;</span>);<span class=\"comment\">/// é‚®ä»¶å‘é€åè®®</span></span><br><span class=\"line\">    prop.setProperty(<span class=\"string\">&quot;mail.smtp.auth&quot;</span>, <span class=\"string\">&quot;true&quot;</span>);<span class=\"comment\">// éœ€è¦éªŒè¯ç”¨æˆ·å¯†ç </span></span><br><span class=\"line\">    <span class=\"comment\">//QQ é‚®ç®±éœ€è¦è®¾ç½® SSL åŠ å¯†</span></span><br><span class=\"line\">    MailSSLSocketFactory sf = <span class=\"keyword\">new</span> MailSSLSocketFactory();</span><br><span class=\"line\">    sf.setTrustAllHosts(<span class=\"keyword\">true</span>);</span><br><span class=\"line\">    prop.put(<span class=\"string\">&quot;mail.smtp.ssl.enable&quot;</span>, <span class=\"string\">&quot;true&quot;</span>);</span><br><span class=\"line\">    prop.put(<span class=\"string\">&quot;mail.smtp.ssl.socketFactory&quot;</span>, sf);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> prop;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">private</span> MimeMessage <span class=\"title\">getMimeMessage</span><span class=\"params\">(Session session)</span> <span class=\"keyword\">throws</span> MessagingException </span>&#123;</span><br><span class=\"line\">    MimeMessage message = <span class=\"keyword\">new</span> MimeMessage(session);</span><br><span class=\"line\">    <span class=\"comment\">// æŒ‡æ˜é‚®ä»¶çš„å‘ä»¶äºº</span></span><br><span class=\"line\">    message.setFrom(<span class=\"keyword\">new</span> InternetAddress(fromEmailAddress));</span><br><span class=\"line\">    <span class=\"comment\">// æŒ‡æ˜é‚®ä»¶çš„æ”¶ä»¶äºº</span></span><br><span class=\"line\">    message.setRecipient(Message.RecipientType.TO, <span class=\"keyword\">new</span> InternetAddress(toEmailAddress));</span><br><span class=\"line\">    <span class=\"comment\">// é‚®ä»¶æ ‡é¢˜</span></span><br><span class=\"line\">    message.setSubject(<span class=\"string\">&quot; æ³¨å†Œé€šçŸ¥ &quot;</span>);</span><br><span class=\"line\">    <span class=\"comment\">// é‚®ä»¶çš„æ–‡æœ¬å†…å®¹</span></span><br><span class=\"line\">    message.setContent((<span class=\"string\">&quot; æ­å–œä½ (&quot;</span> + user.getUserName() + <span class=\"string\">&quot;) æˆåŠŸæ³¨å†Œï¼&quot;</span> + <span class=\"string\">&quot; å¯†ç ï¼š&quot;</span> + user.getPassword())</span><br><span class=\"line\">        , <span class=\"string\">&quot;text/html;charset=UTF-8&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> message;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title\">send</span><span class=\"params\">(Session session, MimeMessage message)</span> <span class=\"keyword\">throws</span> MessagingException </span>&#123;</span><br><span class=\"line\">    Transport transport = session.getTransport();</span><br><span class=\"line\">    transport.connect(<span class=\"string\">&quot;smtp.qq.com&quot;</span>, fromEmailAddress, password);</span><br><span class=\"line\">    transport.sendMessage(message, message.getAllRecipients());</span><br><span class=\"line\">    transport.close();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n</li>\n<li>\n<p>Servlet ç±»</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> demo;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.ServletException;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpServlet;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.IOException;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">RegisterServlet</span> <span class=\"keyword\">extends</span> <span class=\"title\">HttpServlet</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"meta\">@Override</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">doPost</span><span class=\"params\">(HttpServletRequest req, HttpServletResponse resp)</span> <span class=\"keyword\">throws</span> ServletException, IOException </span>&#123;</span><br><span class=\"line\">    String username = req.getParameter(<span class=\"string\">&quot;username&quot;</span>);</span><br><span class=\"line\">    String password = req.getParameter(<span class=\"string\">&quot;pwd&quot;</span>);</span><br><span class=\"line\">    String email = req.getParameter(<span class=\"string\">&quot;email&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    User user = <span class=\"keyword\">new</span> User(username, password, email);</span><br><span class=\"line\">    <span class=\"keyword\">new</span> SendMail(user).start(); <span class=\"comment\">// å¼€å¯çº¿ç¨‹</span></span><br><span class=\"line\">    resp.getWriter().write(<span class=\"string\">&quot; æ­£åœ¨å‘é€é‚®ä»¶....&quot;</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Override</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">doGet</span><span class=\"params\">(HttpServletRequest req, HttpServletResponse resp)</span> <span class=\"keyword\">throws</span> ServletException, IOException </span>&#123;</span><br><span class=\"line\">    doPost(req, resp);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kity@2.0.4/dist/kity.min.js\"></script><script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js\"></script><script defer=\"true\" type=\"text&#x2F;javascript\" src=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js\"></script><link rel=\"stylesheet\" type=\"text&#x2F;css\" href=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css\">",
            "tags": [
                "java",
                "ç¬”è®°",
                "æœåŠ¡å™¨",
                "javaweb"
            ]
        },
        {
            "id": "https://weidows.github.io/post/Java/Web/6/",
            "url": "https://weidows.github.io/post/Java/Web/6/",
            "title": "ğŸ¥¼JavaWeb~(é™†)JDBC,JUnit,SMBMS é¡¹ç›®",
            "date_published": "2021-04-15T07:28:45.000Z",
            "content_html": "<!--\n * @?: *********************************************************************\n * @Author: Weidows\n * @LastEditors: Weidows\n * @LastEditTime: 2021-07-23 09:29:11\n * @FilePath: \\Weidowsd:\\Game\\Github\\Blog-private\\source\\_posts\\Java\\Web\\6.md\n * @Description:\n * @!: *********************************************************************\n-->\n<ul>\n<li><a href=\"#jdbc%E5%A4%8D%E4%B9%A0\">JDBC(å¤ä¹ )</a></li>\n<li><a href=\"#junit\">JUnit</a></li>\n<li><a href=\"#smbms\">SMBMS</a>\n<ul>\n<li><a href=\"#%E6%90%AD%E5%BB%BA\">æ­å»º</a></li>\n<li><a href=\"#%E5%90%8E%E7%AB%AF%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84\">åç«¯é¡¹ç›®ç»“æ„</a></li>\n<li><a href=\"#%E8%BF%9E%E6%8E%A5%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6\">è¿æ¥é…ç½®æ–‡ä»¶</a></li>\n<li><a href=\"#orm-%E6%98%A0%E5%B0%84\">ORM æ˜ å°„</a></li>\n<li><a href=\"#%E9%9D%99%E6%80%81%E5%9F%BA%E6%9C%AC%E7%B1%BB\">é™æ€åŸºæœ¬ç±»</a></li>\n<li><a href=\"#%E9%A2%98%E5%A4%96%E8%AF%9D\">é¢˜å¤–è¯</a></li>\n<li><a href=\"#%E5%AE%9E%E7%8E%B0%E7%99%BB%E5%BD%95\">å®ç°ç™»å½•</a></li>\n<li><a href=\"#%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93%E6%9E%84\">é¡¹ç›®æ€»ç»“æ„</a></li>\n</ul>\n</li>\n</ul>\n<h2 id=\"JDBC- å¤ä¹ \">JDBC(å¤ä¹ )</h2>\n<blockquote>\n<p>JDBC è¿æ¥ <a href=\"../../MySQL/4#jdbc\">ğŸš€ è¿›ä¿® MySQL~(è‚†)</a></p>\n</blockquote>\n<blockquote>\n<p>äº‹åŠ¡ <a href=\"../../MySQL/5#ideasql\">ğŸš€ è¿›ä¿® MySQL~(ä¼)</a></p>\n</blockquote>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"JUnit\">JUnit</h2>\n<p>åœ¨ä¸€ä¸ªæ–¹æ³•ä¸Šæ ‡è®° <code>@Test</code> æ³¨è§£å, è¿™ä¸ªæ–¹æ³•å¯ä»¥è„±ç¦» Main ç›´æ¥è¿è¡Œ.</p>\n<ul>\n<li>\n<p>ä¾èµ– (ä¸€èˆ¬åˆ›å»ºé¡¹ç›®æ—¶è‡ªå¸¦)</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- å•å…ƒæµ‹è¯• --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>junit<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>junit<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>4.12<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>ä¾‹å­:</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> org.junit.Test;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">JDBCTest</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"meta\">@Test</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">test</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;123&quot;</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"SMBMS\">SMBMS</h2>\n<blockquote>\n<p>é¡¹ç›®ä»£ç : <a href=\"https://github.com/Weidows/Java/tree/master/JavaWeb/SMBMS\">https://github.com/Weidows/Java/tree/master/JavaWeb/SMBMS</a></p>\n</blockquote>\n<ul>\n<li>\n<p>å¯ä»¥æ‹‰å–ä»£ç ç›´æ¥çœ‹, ä¸‹é¢çš„ç¬”è®°ç€é‡è®² <code> ä»é›¶å¼€å‘çš„æµç¨‹</code></p>\n</li>\n<li>\n<p>æˆ‘çš„è¿™ä¸ªé¡¹ç›®åº”è¯¥æ˜¯è·‘ä¸èµ·æ¥, åœ¨ web,xml ä¸­ filter é‚£é‡Œæœ‰ä¸ª bug, ä¸è¿‡æ— å¤§ç¢, çŸ¥é“æ€ä¹ˆä¸ªåŸç†å°±å¥½.</p>\n</li>\n</ul>\n<hr>\n<h3 id=\"æ­å»º\">æ­å»º</h3>\n<ul>\n<li>\n<p>Maven-webapp é¡¹ç›®, è¡¥å…¨ src/resources, æ·»åŠ ä¾èµ–, è¿æ¥ Tomcat å’Œ MySQL, ä¿®æ”¹ web.xml ç‰ˆæœ¬</p>\n<ul>\n<li>\n<p>ä¾èµ–:</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependencies</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>junit<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>junit<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>4.13.1<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">scope</span>&gt;</span>compile<span class=\"tag\">&lt;/<span class=\"name\">scope</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- servlet ä¾èµ– --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>javax.servlet<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>javax.servlet-api<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>4.0.1<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">scope</span>&gt;</span>provided<span class=\"tag\">&lt;/<span class=\"name\">scope</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- JSP ä¾èµ– --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>javax.servlet.jsp<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>javax.servlet.jsp-api<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>2.3.3<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">scope</span>&gt;</span>provided<span class=\"tag\">&lt;/<span class=\"name\">scope</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- JSTL è¡¨è¾¾å¼ä¾èµ– --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>javax.servlet<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>jstl<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>1.2<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- Standard æ ‡ç­¾åº“ --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>taglibs<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>standard<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>1.1.2<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.apache.tomcat<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>jsp-api<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>6.0.13<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.junit.jupiter<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>junit-jupiter-api<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>$&#123;junit.version&#125;<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">scope</span>&gt;</span>test<span class=\"tag\">&lt;/<span class=\"name\">scope</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.junit.jupiter<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>junit-jupiter-engine<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>$&#123;junit.version&#125;<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">scope</span>&gt;</span>test<span class=\"tag\">&lt;/<span class=\"name\">scope</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>mysql<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>mysql-connector-java<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>8.0.23<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>æ›´æ”¹ç‰ˆæœ¬å·:<code>web.xml</code></p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">web-app</span> <span class=\"attr\">xmlns</span>=<span class=\"string\">&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">xmlns:xsi</span>=<span class=\"string\">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">xsi:schemaLocation</span>=<span class=\"string\">&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">version</span>=<span class=\"string\">&quot;4.0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">metadata-complete</span>=<span class=\"string\">&quot;true&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">display-name</span>&gt;</span>Archetype Created Web Application<span class=\"tag\">&lt;/<span class=\"name\">display-name</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h3 id=\"åç«¯é¡¹ç›®ç»“æ„\">åç«¯é¡¹ç›®ç»“æ„</h3>\n<figure class=\"highlight coq\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">|<span class=\"type\">&gt; src</span>/main</span><br><span class=\"line\">  |<span class=\"type\">&gt; java</span>/com.weidows</span><br><span class=\"line\">    |<span class=\"type\">&gt; dao</span>/mapper           // data access object (å¯¹åº” pojo çš„ CRUD ç±»)</span><br><span class=\"line\">    |<span class=\"type\">&gt; filter</span>               // è¿‡æ»¤å™¨</span><br><span class=\"line\">    |<span class=\"type\">&gt; pojo</span>/entity          // Plain Ordinary Java Object (ORM æ˜ å°„çš„å®ä½“ç±», å†…éƒ¨ä¸€èˆ¬åªæœ‰ getter å’Œ setter)</span><br><span class=\"line\">    |<span class=\"type\">&gt; service</span>              // ä¸šåŠ¡ç±» (æ“ä½œ dao)</span><br><span class=\"line\">    |<span class=\"type\">&gt; servlet</span>/controller   // servlet åç«¯</span><br><span class=\"line\">    |<span class=\"type\">&gt; utils</span>                // å·¥å…·ç±»</span><br><span class=\"line\">    |<span class=\"type\">&gt; bean</span>                 // spring ä¸­ == entity + dao</span><br><span class=\"line\">  |<span class=\"type\">&gt; resources</span>              // èµ„æºæ–‡ä»¶</span><br><span class=\"line\"></span><br><span class=\"line\">-------</span><br><span class=\"line\"></span><br><span class=\"line\">pojo å¯¹åº”æ•°æ®åº“ä¸­æ¯ä¸ªè®°å½•</span><br><span class=\"line\">-&gt; åœ¨ dao ä¸­ç¼–å†™æ“ä½œ pojo çš„ SQL/Java ä»£ç , å®ç° CRUD çš„<span class=\"string\">&quot; æ–¹æ³• &quot;</span></span><br><span class=\"line\">-&gt; åœ¨ service ä¸­é€šè¿‡ Java ç¼–å†™äº‹åŠ¡, å¹¶è°ƒç”¨ dao ä¸­ CRUD æ–¹æ³•å®ç°å¢åˆ æ”¹æŸ¥<span class=\"string\">&quot; åŠŸèƒ½ &quot;</span></span><br><span class=\"line\">-&gt; åœ¨ servlet å°±æ˜¯å¯¹åº”è¯·æ±‚å’Œå“åº”æ¥åšä¸šåŠ¡, è°ƒç”¨ service ä¸­çš„æ–¹æ³•.</span><br><span class=\"line\"></span><br><span class=\"line\">-------</span><br><span class=\"line\"></span><br><span class=\"line\">pojo ä¸ºæœ€åº•å±‚, ä¸æ¶‰åŠå¯¹è±¡å¢åˆ æ“ä½œ</span><br><span class=\"line\">-&gt; dao å±‚</span><br><span class=\"line\">  -&gt; BaseDao å®ç°åˆ›å»º connection/preparedStatement å¯¹è±¡, ä»¥åŠå›æ”¶ connection/preparedStatement/resultSet çš„æ–¹æ³•.</span><br><span class=\"line\">  -&gt; è¿›ä¸€æ­¥çš„ dao ç±»ä¸­è¿›è¡Œåˆ›å»º resultSet å¯¹è±¡, å¹¶å›æ”¶ resultSet/preparedStatement å¯¹è±¡</span><br><span class=\"line\">-&gt; åœ¨ service å±‚è¿›è¡Œ connection çš„å…³é—­, æ•è· dao å±‚æŠ›å‡ºçš„å¼‚å¸¸, ä¸”æ­¤å±‚ä¸å†å‘ä¸ŠæŠ›å‡ºå¼‚å¸¸.</span><br></pre></td></tr></table></figure>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVt9XS.png\" alt=\"20210424112946\" />\n<hr>\n<h3 id=\"è¿æ¥é…ç½®æ–‡ä»¶\">è¿æ¥é…ç½®æ–‡ä»¶</h3>\n<p>(resources/db.properties)</p>\n<figure class=\"highlight properties\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">driverClassName</span>=<span class=\"string\">com.mysql.cj.jdbc.Driver</span></span><br><span class=\"line\"><span class=\"attr\">url</span>=<span class=\"string\">jdbc:mysql://localhost:3306/smbms?useSSL=false&amp;useUnicode=true&amp;characterEncoding=utf-8</span></span><br><span class=\"line\"><span class=\"attr\">user</span>=<span class=\"string\">root</span></span><br><span class=\"line\"><span class=\"attr\">password</span>=<span class=\"string\">123456</span></span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"ORM- æ˜ å°„\">ORM æ˜ å°„</h3>\n<p>(ç¼–å†™ pojo ä¸‹çš„å®ä½“ç±»)</p>\n<blockquote>\n<p>åˆå§‹åŒ– SQL: <a href=\"https://github.com/Weidows/Java/blob/master/JavaWeb/SMBMS/smbms.sql\">https://github.com/Weidows/Java/blob/master/JavaWeb/SMBMS/smbms.sql</a></p>\n</blockquote>\n<blockquote>\n<p>pojo: <a href=\"https://github.com/Weidows/Java/blob/master/JavaWeb/SMBMS/src/main/java/com/weidows/pojo\">https://github.com/Weidows/Java/blob/master/JavaWeb/SMBMS/src/main/java/com/weidows/pojo</a></p>\n</blockquote>\n<hr>\n<h3 id=\"é™æ€åŸºæœ¬ç±»\">é™æ€åŸºæœ¬ç±»</h3>\n<blockquote>\n<p><a href=\"https://github.com/Weidows/Java/blob/master/JavaWeb/SMBMS/src/main/java/dao/BaseDao.java\">https://github.com/Weidows/Java/blob/master/JavaWeb/SMBMS/src/main/java/dao/BaseDao.java</a></p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> com.weidows.dao;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.IOException;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.InputStream;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.sql.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.Properties;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * æ“ä½œæ•°æ®åº“çš„åŸºç±» -- é™æ€ç±»</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">BaseDao</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> String driver;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> String url;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> String username;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> String password;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> Connection connection = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> PreparedStatement preparedStatement = <span class=\"keyword\">null</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// é™æ€ä»£ç å—, åœ¨ç±»åŠ è½½çš„æ—¶å€™æ‰§è¡Œ</span></span><br><span class=\"line\">  <span class=\"keyword\">static</span> &#123;</span><br><span class=\"line\">    String configFile = <span class=\"string\">&quot;db.properties&quot;</span>;</span><br><span class=\"line\">    InputStream inputStream = BaseDao.class.getClassLoader().getResourceAsStream(configFile);</span><br><span class=\"line\">    Properties properties = <span class=\"keyword\">new</span> Properties();</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">      properties.load(inputStream);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">catch</span> (IOException e) &#123;</span><br><span class=\"line\">      e.printStackTrace();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    driver = properties.getProperty(<span class=\"string\">&quot;driver&quot;</span>);</span><br><span class=\"line\">    url = properties.getProperty(<span class=\"string\">&quot;url&quot;</span>);</span><br><span class=\"line\">    username = properties.getProperty(<span class=\"string\">&quot;username&quot;</span>);</span><br><span class=\"line\">    password = properties.getProperty(<span class=\"string\">&quot;password&quot;</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * è·å–æ•°æ®åº“è¿æ¥</span></span><br><span class=\"line\"><span class=\"comment\">   *</span></span><br><span class=\"line\"><span class=\"comment\">   * <span class=\"doctag\">@return</span> connection</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> Connection <span class=\"title\">getConnection</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (connection == <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">        Class.forName(driver);</span><br><span class=\"line\">        connection = DriverManager.getConnection(url, username, password);</span><br><span class=\"line\">      &#125; <span class=\"keyword\">catch</span> (Exception e) &#123;</span><br><span class=\"line\">        e.printStackTrace();</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> connection;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * æŸ¥è¯¢æ•°æ®åº“çš„å…¬å…±æ“ä½œ</span></span><br><span class=\"line\"><span class=\"comment\">   *</span></span><br><span class=\"line\"><span class=\"comment\">   * <span class=\"doctag\">@param</span> connection</span></span><br><span class=\"line\"><span class=\"comment\">   * <span class=\"doctag\">@param</span> rs</span></span><br><span class=\"line\"><span class=\"comment\">   * <span class=\"doctag\">@param</span> sql</span></span><br><span class=\"line\"><span class=\"comment\">   * <span class=\"doctag\">@param</span> params</span></span><br><span class=\"line\"><span class=\"comment\">   * <span class=\"doctag\">@return</span></span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> ResultSet <span class=\"title\">execute</span><span class=\"params\">(Connection connection, ResultSet rs, String sql, Object[] params)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">      preparedStatement = connection.prepareStatement(sql);</span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; params.length; i++) &#123;</span><br><span class=\"line\">        preparedStatement.setObject(i + <span class=\"number\">1</span>, params[i]);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      rs = preparedStatement.executeQuery();</span><br><span class=\"line\">    &#125; <span class=\"keyword\">catch</span> (SQLException throwables) &#123;</span><br><span class=\"line\">      throwables.printStackTrace();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> rs;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * æ›´æ–°æ•°æ®åº“çš„å…¬å…±æ“ä½œ</span></span><br><span class=\"line\"><span class=\"comment\">   *</span></span><br><span class=\"line\"><span class=\"comment\">   * <span class=\"doctag\">@param</span> connection</span></span><br><span class=\"line\"><span class=\"comment\">   * <span class=\"doctag\">@param</span> sql</span></span><br><span class=\"line\"><span class=\"comment\">   * <span class=\"doctag\">@param</span> params</span></span><br><span class=\"line\"><span class=\"comment\">   * <span class=\"doctag\">@return</span></span></span><br><span class=\"line\"><span class=\"comment\">   * <span class=\"doctag\">@throws</span> Exception</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">int</span> <span class=\"title\">execute</span><span class=\"params\">(Connection connection, String sql, Object[] params)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> updateRows = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">      preparedStatement = connection.prepareStatement(sql);</span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; params.length; i++) &#123;</span><br><span class=\"line\">        preparedStatement.setObject(i + <span class=\"number\">1</span>, params[i]);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      updateRows = preparedStatement.executeUpdate();</span><br><span class=\"line\">    &#125; <span class=\"keyword\">catch</span> (SQLException throwables) &#123;</span><br><span class=\"line\">      throwables.printStackTrace();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> updateRows;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * é‡Šæ”¾èµ„æº</span></span><br><span class=\"line\"><span class=\"comment\">   *</span></span><br><span class=\"line\"><span class=\"comment\">   * <span class=\"doctag\">@param</span> connection</span></span><br><span class=\"line\"><span class=\"comment\">   * <span class=\"doctag\">@param</span> pstm</span></span><br><span class=\"line\"><span class=\"comment\">   * <span class=\"doctag\">@param</span> rs</span></span><br><span class=\"line\"><span class=\"comment\">   * <span class=\"doctag\">@return</span></span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">boolean</span> <span class=\"title\">closeResource</span><span class=\"params\">(Connection connection, PreparedStatement pstm, ResultSet rs)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">boolean</span> flag = <span class=\"keyword\">true</span>;</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (rs != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">        rs.close();</span><br><span class=\"line\">        rs = <span class=\"keyword\">null</span>;<span class=\"comment\">//GC å›æ”¶</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (pstm != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">        pstm.close();</span><br><span class=\"line\">        pstm = <span class=\"keyword\">null</span>;<span class=\"comment\">//GC å›æ”¶</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (connection != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">        connection.close();</span><br><span class=\"line\">        connection = <span class=\"keyword\">null</span>;<span class=\"comment\">//GC å›æ”¶</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">catch</span> (SQLException e) &#123;</span><br><span class=\"line\">      e.printStackTrace();</span><br><span class=\"line\">      flag = <span class=\"keyword\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> flag;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"é¢˜å¤–è¯\">é¢˜å¤–è¯</h3>\n<ul>\n<li>\n<p>ä¸€ä¸ªç¼–ç¨‹ä¹¦å†™ä¹ æƒ¯: æ–¹æ³•ä¸­é¦–å…ˆæŠŠéœ€è¦ç”¨åˆ°çš„å˜é‡æå‡º</p>\n<p>å°±åƒè¿™é‡Œçš„ä¸‰ä¸ªå˜é‡, åœ¨ä¸€å¼€å§‹æå‡ºæ¥, å°±åƒæ˜¯ç±»é‡Œé¢çš„ field, ä½¿ç”¨èµ·æ¥æ¯”è¾ƒè§„èŒƒ, å®¹æ˜“æ’æŸ¥</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> User <span class=\"title\">getLoginUser</span><span class=\"params\">(Connection connection, String userCode)</span> </span>&#123;</span><br><span class=\"line\">  PreparedStatement pstm = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">  ResultSet resultSet = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">  User user = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">  <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"keyword\">null</span> != connection) &#123;</span><br><span class=\"line\">      String sql = <span class=\"string\">&quot;select * from smbms_user where userCode=?&quot;</span>;</span><br><span class=\"line\">      Object[] params = &#123;userCode&#125;;</span><br><span class=\"line\">      resultSet = BaseDao.execute(connection, pstm, resultSet, sql, params);</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (resultSet.next()) &#123;</span><br><span class=\"line\">        user = setData(resultSet);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    BaseDao.closeResource(<span class=\"keyword\">null</span>, pstm, resultSet);</span><br><span class=\"line\">  &#125; <span class=\"keyword\">catch</span> (SQLException throwables) &#123;</span><br><span class=\"line\">    throwables.printStackTrace();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> user;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h3 id=\"å®ç°ç™»å½•\">å®ç°ç™»å½•</h3>\n<ul>\n<li>\n<p>åœ¨è¿™é‡Œå¤ç°ä¸€ä¸‹ &quot; ç™»å½• &quot; ä¸šåŠ¡, å…¶ä»–åŠŸèƒ½ä»¥æ­¤ç±»æ¨.</p>\n<p>è¿™é‡Œç€é‡ <code> è¿‡ç¨‹</code>(è‡ªä¸Šè€Œä¸‹), å…·ä½“æ€ä¹ˆå®ç°çš„ä¸šåŠ¡å»ºè®®ç»“åˆæºç æ¥å­¦ä¹ .</p>\n<blockquote>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVtTVD.png\" alt=\"20210422103020\" />\n</blockquote>\n<blockquote>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVtwSu.png\" alt=\"20210425232035\" />\n</blockquote>\n</li>\n</ul>\n<hr>\n<ul>\n<li>\n<p><code>com/weidows/pojo/User.java</code></p>\n<blockquote>\n<p><a href=\"https://github.com/Weidows/Java/blob/master/JavaWeb/SMBMS/src/main/java/com/weidows/pojo/User.java\">https://github.com/Weidows/Java/blob/master/JavaWeb/SMBMS/src/main/java/com/weidows/pojo/User.java</a></p>\n</blockquote>\n</li>\n<li>\n<p><code>com/weidows/dao/user/UserDao.java</code></p>\n<blockquote>\n<p><a href=\"https://github.com/Weidows/Java/blob/master/JavaWeb/SMBMS/src/main/java/com/weidows/dao/user/UserDao.java\">https://github.com/Weidows/Java/blob/master/JavaWeb/SMBMS/src/main/java/com/weidows/dao/user/UserDao.java</a></p>\n</blockquote>\n</li>\n<li>\n<p><code>com/weidows/dao/user/UserDaoImpl.java</code></p>\n<blockquote>\n<p><a href=\"https://github.com/Weidows/Java/blob/master/JavaWeb/SMBMS/src/main/java/com/weidows/dao/user/UserDaoImpl.java\">https://github.com/Weidows/Java/blob/master/JavaWeb/SMBMS/src/main/java/com/weidows/dao/user/UserDaoImpl.java</a></p>\n</blockquote>\n</li>\n<li>\n<p><code>com/weidows/service/user/UserService.java</code></p>\n<blockquote>\n<p><a href=\"https://github.com/Weidows/Java/blob/master/JavaWeb/SMBMS/src/main/java/com/weidows/service/user/UserService.java\">https://github.com/Weidows/Java/blob/master/JavaWeb/SMBMS/src/main/java/com/weidows/service/user/UserService.java</a></p>\n</blockquote>\n</li>\n<li>\n<p><code>com/weidows/service/user/UserServiceImpl.java</code></p>\n<blockquote>\n<p><a href=\"https://github.com/Weidows/Java/blob/master/JavaWeb/SMBMS/src/main/java/com/weidows/service/user/UserServiceImpl.java\">https://github.com/Weidows/Java/blob/master/JavaWeb/SMBMS/src/main/java/com/weidows/service/user/UserServiceImpl.java</a></p>\n</blockquote>\n</li>\n<li>\n<p>å‰ç«¯é¡µé¢</p>\n<blockquote>\n<p><a href=\"https://github.com/Weidows/Java/blob/master/JavaWeb/SMBMS/src/main/webapp/login.jsp\">https://github.com/Weidows/Java/blob/master/JavaWeb/SMBMS/src/main/webapp/login.jsp</a></p>\n</blockquote>\n</li>\n<li>\n<p>å¯¹åº”å‰ç«¯çš„å¸¸é‡ç±»</p>\n<blockquote>\n<p><a href=\"https://github.com/Weidows/Java/blob/master/JavaWeb/SMBMS/src/main/java/com/weidows/util/Constants.java\">https://github.com/Weidows/Java/blob/master/JavaWeb/SMBMS/src/main/java/com/weidows/util/Constants.java</a></p>\n</blockquote>\n</li>\n<li>\n<p>å¯¹åº” User çš„ servlet ç±»</p>\n<blockquote>\n<p><a href=\"https://github.com/Weidows/Java/blob/master/JavaWeb/SMBMS/src/main/java/com/weidows/servlet/user/UserServlet.java\">https://github.com/Weidows/Java/blob/master/JavaWeb/SMBMS/src/main/java/com/weidows/servlet/user/UserServlet.java</a></p>\n</blockquote>\n</li>\n<li>\n<p>ç™»å½• servlet ç±»</p>\n<blockquote>\n<p><a href=\"https://github.com/Weidows/Java/blob/master/JavaWeb/SMBMS/src/main/java/com/weidows/servlet/user/LoginServlet.java\">https://github.com/Weidows/Java/blob/master/JavaWeb/SMBMS/src/main/java/com/weidows/servlet/user/LoginServlet.java</a></p>\n</blockquote>\n</li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h3 id=\"é¡¹ç›®æ€»ç»“æ„\">é¡¹ç›®æ€»ç»“æ„</h3>\n<blockquote>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVtQ5E.png\" alt=\"20210426105422\" />\n</blockquote>\n<script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kity@2.0.4/dist/kity.min.js\"></script><script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js\"></script><script defer=\"true\" type=\"text&#x2F;javascript\" src=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js\"></script><link rel=\"stylesheet\" type=\"text&#x2F;css\" href=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css\">",
            "tags": [
                "java",
                "ç¬”è®°",
                "æœåŠ¡å™¨",
                "jdbc",
                "javaweb"
            ]
        },
        {
            "id": "https://weidows.github.io/post/Java/Web/5/",
            "url": "https://weidows.github.io/post/Java/Web/5/",
            "title": "ğŸ¥¼JavaWeb~(ä¼) æ¶æ„,filter,listener,demo.",
            "date_published": "2021-04-08T15:43:55.000Z",
            "content_html": "<!--\n * @?: *********************************************************************\n * @Author: Weidows\n * @LastEditors: Weidows\n * @LastEditTime: 2021-05-01 00:27:57\n * @FilePath: \\Weidowsd:\\Game\\Github\\Blog-private\\source\\_posts\\Java\\Web\\5.md\n * @Description:\n * @!: *********************************************************************\n-->\n<ul>\n<li><a href=\"#%E7%AC%94%E8%AE%B0%E4%BB%A3%E7%A0%81\">ç¬”è®°ä»£ç </a></li>\n<li><a href=\"#mvc-%E6%9E%B6%E6%9E%84\">MVC æ¶æ„</a></li>\n<li><a href=\"#%E4%B8%AD%E9%97%B4%E5%B1%82%E5%B7%A5%E5%85%B7\">ä¸­é—´å±‚å·¥å…·</a>\n<ul>\n<li><a href=\"#filter-%E8%BF%87%E6%BB%A4%E5%99%A8\">Filter è¿‡æ»¤å™¨</a>\n<ul>\n<li><a href=\"#%E4%BB%8B%E7%BB%8D\">ä»‹ç»</a></li>\n<li><a href=\"#%E5%AF%BC%E5%85%A5%E4%BE%9D%E8%B5%96\">å¯¼å…¥ä¾èµ–</a></li>\n<li><a href=\"#filter-%E4%BE%8B%E5%AD%90\">filter ä¾‹å­</a></li>\n</ul>\n</li>\n<li><a href=\"#%E7%9B%91%E5%90%AC%E5%99%A8\">ç›‘å¬å™¨</a></li>\n<li><a href=\"#gui-%E7%BC%96%E7%A8%8B%E4%BE%8B%E5%AD%90\">GUI ç¼–ç¨‹ä¾‹å­</a></li>\n<li><a href=\"#%E7%99%BB%E5%BD%95%E9%AA%8C%E8%AF%81-demo\">ç™»å½•éªŒè¯ demo</a></li>\n</ul>\n</li>\n</ul>\n<h2 id=\"ç¬”è®°ä»£ç  -7\"><a href=\"https://github.com/Weidows/Java/tree/master/JavaWeb\">ç¬”è®°ä»£ç </a></h2>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"MVC- æ¶æ„\">MVC æ¶æ„</h2>\n<blockquote>\n<p>Model æ¨¡å‹ view è§†å›¾ Controller æ§åˆ¶ ä¸‰æ–¹åˆ†ç¦»çš„æ¶æ„</p>\n</blockquote>\n<ul>\n<li>\n<p>ä¹‹å‰çš„æ¶æ„:</p>\n<ul>\n<li>Servlet ç›´æ¥è¿›è¡Œ CRUD æ“ä½œ, ç¨‹åºæ¯”è¾ƒè‡ƒè‚¿, ä¸åˆ©äºç»´æŠ¤</li>\n</ul>\n<blockquote>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVtL8q.png\" alt=\"20210409093031\" />\n</blockquote>\n<hr>\n</li>\n<li>\n<p>äºæ˜¯, ä¸ºäº†è§£å†³è¿™ç§ä¸ä¾¿åˆ©æ€§, å†åŠ ä¸€å±‚! (æ²¡æœ‰ä»€ä¹ˆæ˜¯åŠ ä¸€å±‚è§£å†³ä¸äº†çš„)</p>\n<blockquote>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVtbyK.png\" alt=\"20210409093440\" />\n</blockquote>\n<hr>\n</li>\n<li>\n<p>å„éƒ¨åˆ†çš„èŒè´£:</p>\n<ul>\n<li>\n<p>Model</p>\n<ul>\n<li>\n<p>ä¸šåŠ¡å¤„ç† ï¼šä¸šåŠ¡é€»è¾‘ï¼ˆServiceï¼‰</p>\n</li>\n<li>\n<p>æ•°æ®æŒä¹…å±‚ï¼šCRUD ï¼ˆDao - æ•°æ®æŒä¹…åŒ–å¯¹è±¡ï¼‰</p>\n</li>\n</ul>\n</li>\n<li>\n<p>View</p>\n<ul>\n<li>\n<p>å±•ç¤ºæ•°æ®</p>\n</li>\n<li>\n<p>æä¾›é“¾æ¥å‘èµ· Servlet è¯·æ±‚ ï¼ˆaï¼Œformï¼Œimgâ€¦ï¼‰</p>\n</li>\n</ul>\n</li>\n<li>\n<p>Controller ï¼ˆServletï¼‰</p>\n<ul>\n<li>\n<p>æ¥æ”¶ç”¨æˆ·çš„è¯·æ±‚ ï¼šï¼ˆreqï¼šè¯·æ±‚å‚æ•°ã€Session ä¿¡æ¯â€¦.ï¼‰</p>\n</li>\n<li>\n<p>äº¤ç»™ä¸šåŠ¡å±‚å¤„ç†å¯¹åº”çš„ä»£ç </p>\n</li>\n<li>\n<p>æ§åˆ¶è§†å›¾çš„è·³è½¬ (è½¬å‘ / é‡å®šå‘)</p>\n</li>\n</ul>\n</li>\n</ul>\n<hr>\n</li>\n<li>\n<p>ä¸€æ¡æµç¨‹:</p>\n<p>View å±‚ç‚¹å‡»ç™»å½• --&gt; æ¥æ”¶ç”¨æˆ·çš„ç™»å½•è¯·æ±‚ --&gt; å¤„ç†ç”¨æˆ·çš„è¯·æ±‚ï¼ˆè·å–ç”¨æˆ·ç™»å½•çš„å‚æ•°ï¼Œusernameï¼Œpasswordï¼‰â€“&gt; äº¤ç»™ä¸šåŠ¡å±‚å¤„ç†ç™»å½•ä¸šåŠ¡ï¼ˆåˆ¤æ–­ç”¨æˆ·åå¯†ç æ˜¯å¦æ­£ç¡®ï¼šæ“ä½œäº‹åŠ¡ï¼‰â€“&gt; Dao å±‚æŸ¥è¯¢ç”¨æˆ·åå’Œå¯†ç æ˜¯å¦æ­£ç¡® --&gt; æ•°æ®åº“</p>\n<p>é¡ºåˆ©æŸ¥è¯¢åˆ°æ•°æ®ä¹‹åå°±æ˜¯åè¿‡æ¥å†è¿›è¡Œæ•°æ®ä¼ é€’</p>\n</li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"ä¸­é—´å±‚å·¥å…·\">ä¸­é—´å±‚å·¥å…·</h2>\n<ul>\n<li>\n<p>å¸¸è§çš„æœ‰ <code> è¿‡æ»¤å™¨ filter</code>,<code>ç›‘å¬å™¨ listener</code>,<code>æ‹¦æˆªå™¨ Interceptor</code></p>\n<blockquote>\n<p><a href=\"https://www.zhihu.com/question/35225845\">è¯·æ•™ä¸€ä¸‹å…³äºè¿‡æ»¤å™¨ï¼Œæ‹¦æˆªå™¨ï¼Œç›‘å¬å™¨å…·ä½“åº”ç”¨ä¸Šçš„åŒºåˆ«ï¼Ÿ</a></p>\n</blockquote>\n</li>\n<li>\n<p>ä¸‹é¢ä»‹ç» filter(é‡ç‚¹) å’Œ listener</p>\n</li>\n</ul>\n<hr>\n<h3 id=\"Filter- è¿‡æ»¤å™¨\">Filter è¿‡æ»¤å™¨</h3>\n<h4 id=\"ä»‹ç» -2\">ä»‹ç»</h4>\n<blockquote>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVtHp1.png\" alt=\"20210409222335\" />\n</blockquote>\n<p>æ¯”å¦‚å¤„ç† <code> ä¸­æ–‡ä¹±ç , æ•æ„Ÿè¯æ±‡, ç™»å½•éªŒè¯</code>â€¦</p>\n<p>ä¾‹å­: æ¯”å¦‚ Shiro å®‰å…¨æ¡†æ¶æŠ€æœ¯å°±æ˜¯ç”¨ Filter æ¥å®ç°çš„</p>\n<hr>\n<h4 id=\"å¯¼å…¥ä¾èµ–\">å¯¼å…¥ä¾èµ–</h4>\n<ul>\n<li>\n<p>è€å››æ ·:</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- servlet ä¾èµ– --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>javax.servlet<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>javax.servlet-api<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>4.0.1<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">scope</span>&gt;</span>provided<span class=\"tag\">&lt;/<span class=\"name\">scope</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- JSP ä¾èµ– --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>javax.servlet.jsp<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>javax.servlet.jsp-api<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>2.3.3<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">scope</span>&gt;</span>provided<span class=\"tag\">&lt;/<span class=\"name\">scope</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- JSTL è¡¨è¾¾å¼ä¾èµ– --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>javax.servlet<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>jstl<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>1.2<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- Standard æ ‡ç­¾åº“ --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>taglibs<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>standard<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>1.1.2<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<hr>\n</li>\n<li>\n<p>ä¹‹åå¥½åƒè¿˜ä¼šç”¨åˆ° SQL é©±åŠ¨ä¾èµ–, åˆ°æ—¶å€™åœ¨è¯´.</p>\n</li>\n</ul>\n<hr>\n<h4 id=\"filter- ä¾‹å­\">filter ä¾‹å­</h4>\n<ul>\n<li>\n<p><code>src/main/java/filter/CharacterEncodingFilter.java</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> filter;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.IOException;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">CharacterEncodingFilter</span> <span class=\"keyword\">implements</span> <span class=\"title\">Filter</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// åˆå§‹åŒ–å¹¶ç­‰å¾…è¿‡æ»¤å¯¹è±¡å‡ºç°</span></span><br><span class=\"line\">  <span class=\"meta\">@Override</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">init</span><span class=\"params\">(FilterConfig filterConfig)</span> <span class=\"keyword\">throws</span> ServletException </span>&#123;</span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;CharacterEncodingFilter åˆå§‹åŒ– &quot;</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">    1. è¿‡æ»¤ä¸­çš„æ‰€æœ‰ä»£ç ï¼Œåœ¨è¿‡æ»¤ç‰¹å®šè¯·æ±‚çš„æ—¶å€™éƒ½ä¼šæ‰§è¡Œ</span></span><br><span class=\"line\"><span class=\"comment\">    2. å¿…é¡»è¦è®©è¿‡æ»¤å™¨ç»§ç»­æ‰§è¡Œ (å› ä¸º filter å¯èƒ½ä¸æ­¢ä¸€ä¸ª, éœ€è¦ä¼ é€’)</span></span><br><span class=\"line\"><span class=\"comment\">      chain.doFilter(request,response);</span></span><br><span class=\"line\"><span class=\"comment\">  */</span></span><br><span class=\"line\">  <span class=\"meta\">@Override</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">doFilter</span><span class=\"params\">(ServletRequest request, ServletResponse response, FilterChain chain)</span> <span class=\"keyword\">throws</span> IOException, ServletException </span>&#123;</span><br><span class=\"line\">    request.setCharacterEncoding(<span class=\"string\">&quot;utf-8&quot;</span>);</span><br><span class=\"line\">    response.setCharacterEncoding(<span class=\"string\">&quot;utf-8&quot;</span>);</span><br><span class=\"line\">    response.setContentType(<span class=\"string\">&quot;text/html&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;CharacterEncodingFilter æ‰§è¡Œå‰....&quot;</span>);</span><br><span class=\"line\">    chain.doFilter(request, response); <span class=\"comment\">// è®©æˆ‘ä»¬çš„è¯·æ±‚ç»§ç»­èµ°ï¼Œå¦‚æœä¸å†™ï¼Œç¨‹åºåˆ°è¿™é‡Œå°±è¢«æ‹¦æˆªåœæ­¢ï¼</span></span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;CharacterEncodingFilter æ‰§è¡Œå....&quot;</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// é”€æ¯ï¼šweb æœåŠ¡å™¨å…³é—­çš„æ—¶å€™ï¼Œè¿‡æ»¤å™¨ä¼šé”€æ¯</span></span><br><span class=\"line\">  <span class=\"meta\">@Override</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">destroy</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;CharacterEncodingFilter é”€æ¯ &quot;</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n</li>\n<li>\n<p><code>src/main/java/servlet/Show.java</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> servlet;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.ServletException;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpServlet;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.IOException;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Show</span> <span class=\"keyword\">extends</span> <span class=\"title\">HttpServlet</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"meta\">@Override</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">doGet</span><span class=\"params\">(HttpServletRequest req, HttpServletResponse resp)</span> <span class=\"keyword\">throws</span> ServletException, IOException </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.doPost(req, resp);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Override</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">doPost</span><span class=\"params\">(HttpServletRequest req, HttpServletResponse resp)</span> <span class=\"keyword\">throws</span> ServletException, IOException </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// é€šè¿‡ filter å®ç°å¤„ç†ä¹±ç </span></span><br><span class=\"line\">    resp.getWriter().write(<span class=\"string\">&quot; ä½ å¥½!&quot;</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n</li>\n<li>\n<p><code>web.xml</code> é…ç½® servlet å’Œ filter</p>\n</li>\n</ul>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">web-app</span> <span class=\"attr\">xmlns</span>=<span class=\"string\">&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">         <span class=\"attr\">xmlns:xsi</span>=<span class=\"string\">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">         <span class=\"attr\">xsi:schemaLocation</span>=<span class=\"string\">&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">         <span class=\"attr\">version</span>=<span class=\"string\">&quot;4.0&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">servlet</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">servlet-name</span>&gt;</span>show<span class=\"tag\">&lt;/<span class=\"name\">servlet-name</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">servlet-class</span>&gt;</span>servlet.Show<span class=\"tag\">&lt;/<span class=\"name\">servlet-class</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">servlet</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">filter</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">filter-name</span>&gt;</span>characterEncodingFilter<span class=\"tag\">&lt;/<span class=\"name\">filter-name</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">filter-class</span>&gt;</span>filter.CharacterEncodingFilter<span class=\"tag\">&lt;/<span class=\"name\">filter-class</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">filter</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- è¿˜æ˜¯ä¹±ç çš„é¡µé¢ --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">servlet-mapping</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">servlet-name</span>&gt;</span>show<span class=\"tag\">&lt;/<span class=\"name\">servlet-name</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">url-pattern</span>&gt;</span>/show<span class=\"tag\">&lt;/<span class=\"name\">url-pattern</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">servlet-mapping</span>&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- é€šè¿‡è¿‡æ»¤å™¨è§£å†³äº†ä¹±ç çš„é¡µé¢ --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">servlet-mapping</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">servlet-name</span>&gt;</span>show<span class=\"tag\">&lt;/<span class=\"name\">servlet-name</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">url-pattern</span>&gt;</span>/servlet/show<span class=\"tag\">&lt;/<span class=\"name\">url-pattern</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">servlet-mapping</span>&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">&lt;!--filter çš„åœ°å€æ˜ å°„ --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">filter-mapping</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">filter-name</span>&gt;</span>characterEncodingFilter<span class=\"tag\">&lt;/<span class=\"name\">filter-name</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">url-pattern</span>&gt;</span>/servlet/*<span class=\"tag\">&lt;/<span class=\"name\">url-pattern</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">filter-mapping</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h3 id=\"ç›‘å¬å™¨\">ç›‘å¬å™¨</h3>\n<blockquote>\n<ul>\n<li>å¯¹åº”ä¸åŒä¸šåŠ¡éœ€æ±‚, å­˜åœ¨ N ä¸­ä¸åŒçš„ç›‘å¬å™¨æ¥å£å¯ä¾›å®ç°.</li>\n<li>ç›‘å¬å™¨ç»å¸¸åœ¨ GUI ç¼–ç¨‹ä¸­ä½¿ç”¨.</li>\n</ul>\n</blockquote>\n<ul>\n<li>\n<p>ä¾‹å­: è®¾ç½® session ç›‘å¬å™¨ç›‘å¬æœ‰å¤šå°‘ session è¿æ¥</p>\n</li>\n<li>\n<p><code>src/main/java/listener/OnlineCountListener.java</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> listener;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.ServletContext;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpSessionEvent;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpSessionListener;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ç»Ÿè®¡ç½‘ç«™åœ¨çº¿äººæ•° -&gt; ç»Ÿè®¡ session</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">OnlineCountListener</span> <span class=\"keyword\">implements</span> <span class=\"title\">HttpSessionListener</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> ServletContext ctx;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> Integer onlineCount;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// ä¸€æ—¦åˆ›å»º Session å°±ä¼šè§¦å‘ä¸€æ¬¡è¿™ä¸ªäº‹ä»¶</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">sessionCreated</span><span class=\"params\">(HttpSessionEvent se)</span> </span>&#123;</span><br><span class=\"line\">    initParam(se);</span><br><span class=\"line\">    ctx.setAttribute(<span class=\"string\">&quot;OnlineCount&quot;</span>, ++onlineCount);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">    ä¸€æ—¦é”€æ¯ Session å°±ä¼šè§¦å‘ä¸€æ¬¡è¿™ä¸ªäº‹ä»¶</span></span><br><span class=\"line\"><span class=\"comment\">    Session é”€æ¯ï¼š</span></span><br><span class=\"line\"><span class=\"comment\">      1. æ‰‹åŠ¨é”€æ¯  getSession().invalidate();</span></span><br><span class=\"line\"><span class=\"comment\">      2. è‡ªåŠ¨é”€æ¯</span></span><br><span class=\"line\"><span class=\"comment\">  */</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">sessionDestroyed</span><span class=\"params\">(HttpSessionEvent se)</span> </span>&#123;</span><br><span class=\"line\">    initParam(se);</span><br><span class=\"line\">    ctx.setAttribute(<span class=\"string\">&quot;OnlineCount&quot;</span>, --onlineCount);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">initParam</span><span class=\"params\">(HttpSessionEvent se)</span> </span>&#123;</span><br><span class=\"line\">    ctx = se.getSession().getServletContext();</span><br><span class=\"line\">    onlineCount = (Integer) ctx.getAttribute(<span class=\"string\">&quot;OnlineCount&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (onlineCount == <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">      ctx.setAttribute(<span class=\"string\">&quot;OnlineCount&quot;</span>, <span class=\"number\">0</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n</li>\n<li>\n<p><code>index.jsp</code></p>\n<figure class=\"highlight jsp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;%@ page contentType=<span class=\"string\">&quot;text/html;charset=UTF-8&quot;</span> language=<span class=\"string\">&quot;java&quot;</span> %&gt;</span><br><span class=\"line\">&lt;html&gt;</span><br><span class=\"line\">&lt;head&gt;</span><br><span class=\"line\">  &lt;title&gt; åœ¨çº¿äººæ•°æµ‹è¯• &lt;/title&gt;</span><br><span class=\"line\">&lt;/head&gt;</span><br><span class=\"line\">&lt;body&gt;</span><br><span class=\"line\">&lt;h1&gt; å½“å‰æœ‰ &lt;span</span><br><span class=\"line\">    style=<span class=\"string\">&quot;color: turquoise;&quot;</span>&gt;&lt;%=<span class=\"keyword\">this</span>.getServletConfig().getServletContext().getAttribute(<span class=\"string\">&quot;OnlineCount&quot;</span>)%&gt;&lt;/span&gt; äººåœ¨çº¿</span><br><span class=\"line\">&lt;/h1&gt;</span><br><span class=\"line\">&lt;/body&gt;</span><br><span class=\"line\">&lt;/html&gt;</span><br></pre></td></tr></table></figure>\n<hr>\n</li>\n<li>\n<p><code>æ³¨å†Œç›‘å¬å™¨</code></p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- æ³¨å†Œç›‘å¬å™¨ --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">listener</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">listener-class</span>&gt;</span>listener.OnlineCountListener<span class=\"tag\">&lt;/<span class=\"name\">listener-class</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">listener</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<h3 id=\"GUI- ç¼–ç¨‹ä¾‹å­\">GUI ç¼–ç¨‹ä¾‹å­</h3>\n<ul>\n<li>\n<p>GUI ç¼–ç¨‹å¸¸ä¼šç”¨åˆ°ç›‘å¬å™¨, è¿™é‡Œç®€å•ä»‹ç»ä¸€ä¸‹ : <code>src/main/java/listener/TestPanel.java</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> listener;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.awt.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.awt.event.WindowAdapter;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.awt.event.WindowEvent;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">TestPanel</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> </span>&#123;</span><br><span class=\"line\">    Frame frame = <span class=\"keyword\">new</span> Frame(<span class=\"string\">&quot;Hello World!&quot;</span>);  <span class=\"comment\">// æ–°å»ºä¸€ä¸ªçª—ä½“</span></span><br><span class=\"line\">    Panel panel = <span class=\"keyword\">new</span> Panel(<span class=\"keyword\">null</span>); <span class=\"comment\">// é¢æ¿</span></span><br><span class=\"line\">    frame.setLayout(<span class=\"keyword\">null</span>); <span class=\"comment\">// è®¾ç½®çª—ä½“çš„å¸ƒå±€</span></span><br><span class=\"line\"></span><br><span class=\"line\">    frame.setBounds(<span class=\"number\">300</span>, <span class=\"number\">300</span>, <span class=\"number\">500</span>, <span class=\"number\">500</span>);</span><br><span class=\"line\">    frame.setBackground(<span class=\"keyword\">new</span> Color(<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">255</span>)); <span class=\"comment\">// è®¾ç½®èƒŒæ™¯é¢œè‰²</span></span><br><span class=\"line\"></span><br><span class=\"line\">    panel.setBounds(<span class=\"number\">50</span>, <span class=\"number\">50</span>, <span class=\"number\">300</span>, <span class=\"number\">300</span>);</span><br><span class=\"line\">    panel.setBackground(<span class=\"keyword\">new</span> Color(<span class=\"number\">0</span>, <span class=\"number\">255</span>, <span class=\"number\">0</span>)); <span class=\"comment\">// è®¾ç½®èƒŒæ™¯é¢œè‰²</span></span><br><span class=\"line\"></span><br><span class=\"line\">    frame.add(panel);</span><br><span class=\"line\"></span><br><span class=\"line\">    frame.setVisible(<span class=\"keyword\">true</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// ç›‘å¬äº‹ä»¶ï¼Œç›‘å¬å…³é—­äº‹ä»¶</span></span><br><span class=\"line\">    frame.addWindowListener(<span class=\"keyword\">new</span> WindowAdapter() &#123;</span><br><span class=\"line\">      <span class=\"meta\">@Override</span></span><br><span class=\"line\">      <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">windowClosing</span><span class=\"params\">(WindowEvent e)</span> </span>&#123;</span><br><span class=\"line\">        System.exit(<span class=\"number\">0</span>);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<h3 id=\"ç™»å½•éªŒè¯ -demo\">ç™»å½•éªŒè¯ demo</h3>\n<ul>\n<li>\n<p>é¡¹ç›®ç»“æ„, å¦‚å›¾:</p>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVtMmb.png\" alt=\"20210411004248\" />\n<hr>\n</li>\n<li>\n<p>JSP é¡µé¢</p>\n<ul>\n<li>\n<p>ä¸»é¡µ(ç™»å½•é¡µé¢): <code>web/demo/index.jsp</code></p>\n<figure class=\"highlight jsp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;%@ page contentType=<span class=\"string\">&quot;text/html;charset=UTF-8&quot;</span> language=<span class=\"string\">&quot;java&quot;</span> %&gt;</span><br><span class=\"line\">&lt;html&gt;</span><br><span class=\"line\">&lt;head&gt;</span><br><span class=\"line\">  &lt;title&gt; ä¸»é¡µ &lt;/title&gt;</span><br><span class=\"line\">&lt;/head&gt;</span><br><span class=\"line\">&lt;body&gt;</span><br><span class=\"line\">&lt;h1&gt; ç™»å½• &lt;/h1&gt;</span><br><span class=\"line\">&lt;form action=<span class=\"string\">&quot;$&#123;pageContext.request.contextPath&#125;/demo/login&quot;</span> method=<span class=\"string\">&quot;post&quot;</span>&gt;</span><br><span class=\"line\">  &lt;label&gt;</span><br><span class=\"line\">    ç”¨æˆ·å:</span><br><span class=\"line\">    &lt;input type=<span class=\"string\">&quot;text&quot;</span> name=<span class=\"string\">&quot;username&quot;</span>/&gt;</span><br><span class=\"line\">  &lt;/label&gt;</span><br><span class=\"line\">  &lt;input type=<span class=\"string\">&quot;submit&quot;</span> value=<span class=\"string\">&quot; ç™»å½• &quot;</span>&gt;</span><br><span class=\"line\">&lt;/form&gt;</span><br><span class=\"line\">&lt;/body&gt;</span><br><span class=\"line\">&lt;/html&gt;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<ul>\n<li>\n<p>ç™»é™†å¤±è´¥: <code>web/demo/failed.jsp</code></p>\n<figure class=\"highlight jsp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;%@ page contentType=<span class=\"string\">&quot;text/html;charset=UTF-8&quot;</span> language=<span class=\"string\">&quot;java&quot;</span> %&gt;</span><br><span class=\"line\">&lt;html&gt;</span><br><span class=\"line\">&lt;head&gt;</span><br><span class=\"line\">  &lt;title&gt; ç™»å½•å¤±è´¥ &lt;/title&gt;</span><br><span class=\"line\">&lt;/head&gt;</span><br><span class=\"line\">&lt;body&gt;</span><br><span class=\"line\">&lt;h1&gt; ç™»å½•å¤±è´¥è¿›å…¥çš„é¡µé¢ &lt;/h1&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;a href=<span class=\"string\">&quot;$&#123;pageContext.request.contextPath&#125;/demo/index.jsp&quot;</span>&gt; è¿”å›ä¸»é¡µ &lt;/a&gt;</span><br><span class=\"line\">&lt;/body&gt;</span><br><span class=\"line\">&lt;/html&gt;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<ul>\n<li>\n<p>ç™»å½•æˆåŠŸ: <code>web/demo/sys/success.jsp</code></p>\n<figure class=\"highlight jsp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;%@ page contentType=<span class=\"string\">&quot;text/html;charset=UTF-8&quot;</span> language=<span class=\"string\">&quot;java&quot;</span> %&gt;</span><br><span class=\"line\">&lt;html&gt;</span><br><span class=\"line\">&lt;head&gt;</span><br><span class=\"line\">  &lt;title&gt; å·²ç™»å½• &lt;/title&gt;</span><br><span class=\"line\">&lt;/head&gt;</span><br><span class=\"line\">&lt;body&gt;</span><br><span class=\"line\">&lt;h1&gt; ç™»å½•æˆåŠŸåè¿›å…¥çš„é¡µé¢ &lt;/h1&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;hr&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;a href=<span class=\"string\">&quot;$&#123;pageContext.request.contextPath&#125;/demo/logout&quot;</span>&gt; æ³¨é”€ &lt;/a&gt;</span><br><span class=\"line\">&lt;/body&gt;</span><br><span class=\"line\">&lt;/html&gt;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n</ul>\n<hr>\n<ul>\n<li>\n<p>Java åç«¯</p>\n<ul>\n<li>\n<p>login: <code>src/main/java/demo/servlet/Login.java</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> demo.servlet;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> demo.utils.Constants;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpServlet;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpSession;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.IOException;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Login</span> <span class=\"keyword\">extends</span> <span class=\"title\">HttpServlet</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"meta\">@Override</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">doGet</span><span class=\"params\">(HttpServletRequest req, HttpServletResponse resp)</span> <span class=\"keyword\">throws</span> IOException </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.doPost(req, resp);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Override</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">doPost</span><span class=\"params\">(HttpServletRequest req, HttpServletResponse resp)</span> <span class=\"keyword\">throws</span> IOException </span>&#123;</span><br><span class=\"line\">    String username = req.getParameter(<span class=\"string\">&quot;username&quot;</span>);</span><br><span class=\"line\">    HttpSession session = req.getSession();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (username.equals(<span class=\"string\">&quot;admin&quot;</span>)) &#123;</span><br><span class=\"line\">      session.setAttribute(Constants.USER_SESSION, session.getId());</span><br><span class=\"line\">      resp.sendRedirect(<span class=\"string\">&quot;/demo/sys/success.jsp&quot;</span>);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      resp.sendRedirect(<span class=\"string\">&quot;/demo/failed.jsp&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<ul>\n<li>\n<p>æ³¨é”€: <code>src/main/java/demo/servlet/Logout.java</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> demo.servlet;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> demo.utils.Constants;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.ServletException;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpServlet;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpSession;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.IOException;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Logout</span> <span class=\"keyword\">extends</span> <span class=\"title\">HttpServlet</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"meta\">@Override</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">doGet</span><span class=\"params\">(HttpServletRequest req, HttpServletResponse resp)</span> <span class=\"keyword\">throws</span> ServletException, IOException </span>&#123;</span><br><span class=\"line\">    doPost(req, resp);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Override</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">doPost</span><span class=\"params\">(HttpServletRequest req, HttpServletResponse resp)</span> <span class=\"keyword\">throws</span> ServletException, IOException </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    HttpSession session = req.getSession();</span><br><span class=\"line\">    Object attribute = session.getAttribute(Constants.USER_SESSION);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">      é¢‘ç¹æ“ä½œ session è¿æ¥ä¼šå½±å“æ€§èƒ½, é€šè¿‡ attribute é—´æ¥éªŒè¯ç™»å½•ä¿¡æ¯</span></span><br><span class=\"line\"><span class=\"comment\">      é€šè¿‡è®¾ç½®æˆ–ç§»é™¤ USER_SESSION å±æ€§æ¥éªŒè¯æ˜¯å¦ç™»å½•</span></span><br><span class=\"line\"><span class=\"comment\">      å­˜åœ¨ä¸€ä¸ª Bug: åœ¨æ³¨é”€çŠ¶æ€é€šè¿‡æµè§ˆå™¨çš„åé€€, å¯ä»¥è¿”å›ç™»é™†æˆåŠŸçš„é¡µé¢(ä¸”ä¸å­˜åœ¨ USER_SESSION)</span></span><br><span class=\"line\"><span class=\"comment\">    */</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (attribute != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">      session.removeAttribute(Constants.USER_SESSION);</span><br><span class=\"line\">      resp.sendRedirect(<span class=\"string\">&quot;/demo/index.jsp&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<ul>\n<li>\n<p>æå–çš„å¸¸é‡å·¥å…·ç±»: <code>src/main/java/demo/utils/Constants.java</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> demo.utils;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">* æ­¤ç±»å†…å®šä¹‰ä¸€äº›å…¶ä»–å„ç§åœ°æ–¹éœ€è¦ç»å¸¸è°ƒç”¨çš„å¸¸é‡</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Constants</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">final</span> <span class=\"keyword\">static</span> String USER_SESSION = <span class=\"string\">&quot;USER_SESSION&quot;</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<ul>\n<li>\n<p>è¿‡æ»¤å™¨ç±»: <code>src/main/java/demo/filter/SysFilter.java</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> demo.filter;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> demo.utils.Constants;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.IOException;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">SysFilter</span> <span class=\"keyword\">implements</span> <span class=\"title\">Filter</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"meta\">@Override</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">init</span><span class=\"params\">(FilterConfig filterConfig)</span> <span class=\"keyword\">throws</span> ServletException </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Override</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">doFilter</span><span class=\"params\">(ServletRequest request, ServletResponse response, FilterChain chain)</span> <span class=\"keyword\">throws</span> IOException, ServletException </span>&#123;</span><br><span class=\"line\">    HttpServletRequest req = (HttpServletRequest) request;</span><br><span class=\"line\">    HttpServletResponse resp = (HttpServletResponse) response;</span><br><span class=\"line\"></span><br><span class=\"line\">    Object attribute = req.getSession().getAttribute(Constants.USER_SESSION);</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (attribute == <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">      resp.sendRedirect(<span class=\"string\">&quot;/demo/failed.jsp&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    chain.doFilter(request, response);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Override</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">destroy</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n</ul>\n<hr>\n<ul>\n<li>\n<p><code>Web.xml</code></p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">servlet</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">servlet-name</span>&gt;</span>login<span class=\"tag\">&lt;/<span class=\"name\">servlet-name</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">servlet-class</span>&gt;</span>demo.servlet.Login<span class=\"tag\">&lt;/<span class=\"name\">servlet-class</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">servlet</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">servlet</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">servlet-name</span>&gt;</span>logout<span class=\"tag\">&lt;/<span class=\"name\">servlet-name</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">servlet-class</span>&gt;</span>demo.servlet.Logout<span class=\"tag\">&lt;/<span class=\"name\">servlet-class</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">servlet</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">filter</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">filter-name</span>&gt;</span>sysFilter<span class=\"tag\">&lt;/<span class=\"name\">filter-name</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">filter-class</span>&gt;</span>demo.filter.SysFilter<span class=\"tag\">&lt;/<span class=\"name\">filter-class</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">filter</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">servlet-mapping</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">servlet-name</span>&gt;</span>login<span class=\"tag\">&lt;/<span class=\"name\">servlet-name</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">url-pattern</span>&gt;</span>/demo/login<span class=\"tag\">&lt;/<span class=\"name\">url-pattern</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">servlet-mapping</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">servlet-mapping</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">servlet-name</span>&gt;</span>logout<span class=\"tag\">&lt;/<span class=\"name\">servlet-name</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">url-pattern</span>&gt;</span>/demo/logout<span class=\"tag\">&lt;/<span class=\"name\">url-pattern</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">servlet-mapping</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">filter-mapping</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">filter-name</span>&gt;</span>sysFilter<span class=\"tag\">&lt;/<span class=\"name\">filter-name</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">url-pattern</span>&gt;</span>/demo/sys/*<span class=\"tag\">&lt;/<span class=\"name\">url-pattern</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">filter-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kity@2.0.4/dist/kity.min.js\"></script><script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js\"></script><script defer=\"true\" type=\"text&#x2F;javascript\" src=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js\"></script><link rel=\"stylesheet\" type=\"text&#x2F;css\" href=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css\">",
            "tags": [
                "java",
                "ç¬”è®°",
                "æœåŠ¡å™¨",
                "javaweb",
                "servlet",
                "filter",
                "æ¶æ„"
            ]
        },
        {
            "id": "https://weidows.github.io/post/Java/Web/4/",
            "url": "https://weidows.github.io/post/Java/Web/4/",
            "title": "ğŸ¥¼JavaWeb~(è‚†) æ‘¸ç´¢ JSP,JavaBean",
            "date_published": "2021-04-06T15:45:19.000Z",
            "content_html": "<!--\n * @?: *********************************************************************\n * @Author: Weidows\n * @LastEditors: Weidows\n * @LastEditTime: 2021-05-01 00:26:52\n\n * @Description:\n * @!: *********************************************************************\n-->\n<ul>\n<li><a href=\"#%E7%AC%94%E8%AE%B0%E4%BB%A3%E7%A0%81\">ç¬”è®°ä»£ç </a></li>\n<li><a href=\"#jsp\">JSP</a>\n<ul>\n<li><a href=\"#%E5%AE%9A%E5%88%B6%E9%94%99%E8%AF%AF%E9%A1%B5%E9%9D%A2\">å®šåˆ¶é”™è¯¯é¡µé¢</a></li>\n<li><a href=\"#%E5%90%88%E5%B9%B6%E9%A1%B5%E9%9D%A2\">åˆå¹¶é¡µé¢</a></li>\n<li><a href=\"#%E5%86%85%E7%BD%AE%E5%AF%B9%E8%B1%A1%E5%8F%8A%E4%BD%9C%E7%94%A8%E5%9F%9F\">å†…ç½®å¯¹è±¡åŠä½œç”¨åŸŸ</a></li>\n<li><a href=\"#jsp-%E6%A0%87%E7%AD%BE\">JSP æ ‡ç­¾</a></li>\n<li><a href=\"#jstl-%E8%A1%A8%E8%BE%BE%E5%BC%8F\">JSTL è¡¨è¾¾å¼</a></li>\n</ul>\n</li>\n<li><a href=\"#javabean\">JavaBean</a></li>\n</ul>\n<h2 id=\"ç¬”è®°ä»£ç  -6\"><a href=\"https://github.com/Weidows/Java/tree/master/JavaWeb\">ç¬”è®°ä»£ç </a></h2>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"JSP-2\">JSP</h2>\n<h3 id=\"å®šåˆ¶é”™è¯¯é¡µé¢\">å®šåˆ¶é”™è¯¯é¡µé¢</h3>\n<ul>\n<li>\n<p>æ–¹æ³•ä¸€: ç›´æ¥åœ¨ jsp é¡µé¢é…ç½® errorPage</p>\n<ul>\n<li>\n<p><code>errors/index.jsp</code></p>\n<figure class=\"highlight jsp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;%@ page contentType=<span class=\"string\">&quot;text/html;charset=UTF-8&quot;</span> language=<span class=\"string\">&quot;java&quot;</span> %&gt;</span><br><span class=\"line\">&lt;%-- æ­¤å¤„å®šåˆ¶é”™è¯¯é¡µé¢æŒ‡å‘ --%&gt;</span><br><span class=\"line\">&lt;%@ page errorPage=<span class=\"string\">&quot;errors/500.jsp&quot;</span> %&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;html&gt;</span><br><span class=\"line\">&lt;head&gt;</span><br><span class=\"line\">  &lt;title&gt; é”™è¯¯é¡µé¢ &lt;/title&gt;</span><br><span class=\"line\">&lt;/head&gt;</span><br><span class=\"line\">&lt;body&gt;</span><br><span class=\"line\">&lt;%</span><br><span class=\"line\">  <span class=\"keyword\">int</span> a = <span class=\"number\">1</span> / <span class=\"number\">0</span>;</span><br><span class=\"line\">%&gt;</span><br><span class=\"line\">&lt;/body&gt;</span><br><span class=\"line\">&lt;/html&gt;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<ul>\n<li>\n<p><code>errors/500.jsp</code></p>\n<figure class=\"highlight jsp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;%@ page contentType=<span class=\"string\">&quot;text/html;charset=UTF-8&quot;</span> language=<span class=\"string\">&quot;java&quot;</span> %&gt;</span><br><span class=\"line\">&lt;html&gt;</span><br><span class=\"line\">&lt;head&gt;</span><br><span class=\"line\">  &lt;title&gt;<span class=\"number\">500</span>é”™è¯¯ &lt;/title&gt;</span><br><span class=\"line\">&lt;/head&gt;</span><br><span class=\"line\">&lt;body&gt;</span><br><span class=\"line\">&lt;h1&gt;<span class=\"number\">500</span>é”™è¯¯é¡µé¢.&lt;/h1&gt;</span><br><span class=\"line\">&lt;/body&gt;</span><br><span class=\"line\">&lt;/html&gt;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n</ul>\n<hr>\n<ul>\n<li>\n<p>æ–¹æ³•äºŒ: åœ¨ web.xml ä¸­é…ç½®</p>\n<ul>\n<li>\n<p>errors/404.jsp</p>\n<figure class=\"highlight jsp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;%@ page contentType=<span class=\"string\">&quot;text/html;charset=UTF-8&quot;</span> language=<span class=\"string\">&quot;java&quot;</span> %&gt;</span><br><span class=\"line\">&lt;html&gt;</span><br><span class=\"line\">&lt;head&gt;</span><br><span class=\"line\">  &lt;title&gt;<span class=\"number\">404</span>é”™è¯¯ &lt;/title&gt;</span><br><span class=\"line\">&lt;/head&gt;</span><br><span class=\"line\">&lt;body&gt;</span><br><span class=\"line\">&lt;h1&gt;<span class=\"number\">404</span>é”™è¯¯é¡µé¢.&lt;/h1&gt;</span><br><span class=\"line\">&lt;/body&gt;</span><br><span class=\"line\">&lt;/html&gt;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<ul>\n<li>\n<p><code>web.xml</code></p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">web-app</span> <span class=\"meta-keyword\">PUBLIC</span></span></span><br><span class=\"line\"><span class=\"meta\">    <span class=\"meta-string\">&quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;</span></span></span><br><span class=\"line\"><span class=\"meta\">    <span class=\"meta-string\">&quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot;</span> &gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">web-app</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">display-name</span>&gt;</span>Archetype Created Web Application<span class=\"tag\">&lt;/<span class=\"name\">display-name</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">error-page</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">error-code</span>&gt;</span>404<span class=\"tag\">&lt;/<span class=\"name\">error-code</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">location</span>&gt;</span>/errors/404.jsp<span class=\"tag\">&lt;/<span class=\"name\">location</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">error-page</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">error-page</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">error-code</span>&gt;</span>500<span class=\"tag\">&lt;/<span class=\"name\">error-code</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">location</span>&gt;</span>/errors/500.jsp<span class=\"tag\">&lt;/<span class=\"name\">location</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">error-page</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h3 id=\"åˆå¹¶é¡µé¢\">åˆå¹¶é¡µé¢</h3>\n<ul>\n<li>\n<p><code>common/header.jsp</code></p>\n<figure class=\"highlight jsp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;%@ page contentType=<span class=\"string\">&quot;text/html;charset=UTF-8&quot;</span> language=<span class=\"string\">&quot;java&quot;</span> %&gt;</span><br><span class=\"line\">&lt;h1&gt; è¿™é‡Œæ˜¯ header&lt;/h1&gt;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<hr>\n</li>\n<li>\n<p><code>common/footer.jsp</code></p>\n<figure class=\"highlight jsp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;%@ page contentType=<span class=\"string\">&quot;text/html;charset=UTF-8&quot;</span> language=<span class=\"string\">&quot;java&quot;</span> %&gt;</span><br><span class=\"line\">&lt;h1&gt; è¿™é‡Œæ˜¯ footer&lt;/h1&gt;</span><br></pre></td></tr></table></figure>\n<hr>\n</li>\n<li>\n<p><code>common/index.jsp</code></p>\n<figure class=\"highlight jsp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;%@ page contentType=<span class=\"string\">&quot;text/html;charset=UTF-8&quot;</span> language=<span class=\"string\">&quot;java&quot;</span> %&gt;</span><br><span class=\"line\">&lt;html&gt;</span><br><span class=\"line\">  &lt;head&gt;</span><br><span class=\"line\">    &lt;title&gt; æµ‹è¯• common&lt;/title&gt;</span><br><span class=\"line\">  &lt;/head&gt;</span><br><span class=\"line\">  &lt;body&gt;</span><br><span class=\"line\">    &lt;!--</span><br><span class=\"line\">      è¿™ç§ä¼šæŠŠ include çš„é¡µé¢å†…å®¹åˆå¹¶è¿›æœ¬é¡µé¢, æœ€åæ˜¯å±•ç¤ºä¸€ä¸ªé¡µé¢</span><br><span class=\"line\">    --&gt;</span><br><span class=\"line\">    &lt;%@ include file=<span class=\"string\">&quot;header.jsp&quot;</span> %&gt;</span><br><span class=\"line\">    &lt;h1&gt; ç½‘é¡µä¸»ä½“ &lt;/h1&gt;</span><br><span class=\"line\">    &lt;%@ include file=<span class=\"string\">&quot;footer.jsp&quot;</span> %&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;HR /&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;!--</span><br><span class=\"line\">      jsp:include æ ‡ç­¾, æœ¬è´¨æ˜¯å¯¼å…¥å…¶ä»–æ–‡ä»¶å†…å®¹, æœ€åæ˜¯å¤šä¸ªæ–‡ä»¶åˆä¸ºä¸€ä¸ªé¡µé¢å±•ç¤º</span><br><span class=\"line\">      (æ›´çµæ´», å»ºè®®ç”¨è¿™ä¸ª)</span><br><span class=\"line\">        ä¸Šé¢æ–¹æ³•çš„å› ä¸ºæ˜¯åˆå¹¶, æ‰€ä»¥å¾ˆæœ‰å¯èƒ½å‡ºç°å˜é‡é‡å, å¹²æ‰°çš„é—®é¢˜</span><br><span class=\"line\">        è¿™ä¸ªæ–¹æ³•ä¸åŒæ–‡ä»¶ä¹‹é—´äº’ä¸å¹²æ‰°</span><br><span class=\"line\">    --&gt;</span><br><span class=\"line\">    &lt;jsp:include page=<span class=\"string\">&quot;/common/header.jsp&quot;</span> /&gt;</span><br><span class=\"line\">    &lt;h1&gt; ç½‘é¡µä¸»ä½“ &lt;/h1&gt;</span><br><span class=\"line\">    &lt;jsp:include page=<span class=\"string\">&quot;/common/footer.jsp&quot;</span> /&gt;</span><br><span class=\"line\">  &lt;/body&gt;</span><br><span class=\"line\">&lt;/html&gt;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<h3 id=\"å†…ç½®å¯¹è±¡åŠä½œç”¨åŸŸ\">å†…ç½®å¯¹è±¡åŠä½œç”¨åŸŸ</h3>\n<ul>\n<li>\n<p>å†…ç½®å¯¹è±¡</p>\n<figure class=\"highlight pgsql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">PageContext å­˜ä¸œè¥¿</span><br><span class=\"line\">Request å­˜ä¸œè¥¿</span><br><span class=\"line\">Response</span><br><span class=\"line\"><span class=\"keyword\">Session</span> å­˜ä¸œè¥¿</span><br><span class=\"line\">Application ã€SerlvetContextã€‘ å­˜ä¸œè¥¿</span><br><span class=\"line\">config ã€SerlvetConfigã€‘</span><br><span class=\"line\"><span class=\"keyword\">out</span></span><br><span class=\"line\">page ï¼Œä¸ç”¨äº†è§£</span><br><span class=\"line\"><span class=\"keyword\">exception</span></span><br></pre></td></tr></table></figure>\n<hr>\n</li>\n<li>\n<p>æ“ä½œå¯¹è±¡ <code>demo/1.jsp</code></p>\n<figure class=\"highlight jsp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!--</span><br><span class=\"line\">* @?: *********************************************************************</span><br><span class=\"line\">* <span class=\"meta\">@Author</span>: Weidows</span><br><span class=\"line\">* <span class=\"meta\">@Date</span>: <span class=\"number\">2021</span>-<span class=\"number\">04</span>-<span class=\"number\">07</span> <span class=\"number\">16</span>:<span class=\"number\">29</span>:<span class=\"number\">42</span></span><br><span class=\"line\">* <span class=\"meta\">@LastEditors</span>: Weidows</span><br><span class=\"line\">* <span class=\"meta\">@LastEditTime</span>: <span class=\"number\">2021</span>-<span class=\"number\">04</span>-<span class=\"number\">07</span> <span class=\"number\">17</span>:<span class=\"number\">29</span>:<span class=\"number\">11</span></span><br><span class=\"line\">* <span class=\"meta\">@FilePath</span>: \\Weidows\\JavaWeb\\JSP\\src\\main\\webapp\\<span class=\"number\">1.</span>jsp</span><br><span class=\"line\">* <span class=\"meta\">@Description</span>:</span><br><span class=\"line\">* @!: *********************************************************************</span><br><span class=\"line\">* servlet <span class=\"number\">2.3</span>é»˜è®¤ä¸æ”¯æŒ EL è¡¨è¾¾å¼, éœ€è¦å¼€å¯.</span><br><span class=\"line\">--&gt;</span><br><span class=\"line\">&lt;%@ page isELIgnored=<span class=\"string\">&quot;false&quot;</span> %&gt;</span><br><span class=\"line\">&lt;%@ page contentType=<span class=\"string\">&quot;text/html;charset=UTF-8&quot;</span> language=<span class=\"string\">&quot;java&quot;</span> %&gt;</span><br><span class=\"line\">&lt;html&gt;</span><br><span class=\"line\">  &lt;head&gt;</span><br><span class=\"line\">    &lt;title&gt;index4&lt;/title&gt;</span><br><span class=\"line\">  &lt;/head&gt;</span><br><span class=\"line\">  &lt;body&gt;</span><br><span class=\"line\">    &lt;%--</span><br><span class=\"line\">      PageContext å­˜ä¸œè¥¿ </span><br><span class=\"line\">      Request å­˜ä¸œè¥¿</span><br><span class=\"line\">      Response</span><br><span class=\"line\">      Session å­˜ä¸œè¥¿</span><br><span class=\"line\">      Application ã€SerlvetContextã€‘ å­˜ä¸œè¥¿</span><br><span class=\"line\">      config ã€SerlvetConfigã€‘</span><br><span class=\"line\">      out</span><br><span class=\"line\">      page ï¼Œä¸ç”¨äº†è§£</span><br><span class=\"line\">      exception</span><br><span class=\"line\">    --%&gt;</span><br><span class=\"line\">    &lt;%</span><br><span class=\"line\">      pageContext.setAttribute(<span class=\"string\">&quot;name1&quot;</span>, <span class=\"string\">&quot; ç§¦ç–† 1 å· &quot;</span>); <span class=\"comment\">// ä¿å­˜çš„æ•°æ®åªåœ¨ä¸€ä¸ªé¡µé¢ä¸­æœ‰æ•ˆ</span></span><br><span class=\"line\">      request.setAttribute(<span class=\"string\">&quot;name2&quot;</span>, <span class=\"string\">&quot; ç§¦ç–† 2 å· &quot;</span>); <span class=\"comment\">// ä¿å­˜çš„æ•°æ®åªåœ¨ä¸€æ¬¡è¯·æ±‚ä¸­æœ‰æ•ˆï¼Œè¯·æ±‚è½¬å‘ä¼šæºå¸¦è¿™ä¸ªæ•°æ®</span></span><br><span class=\"line\">      session.setAttribute(<span class=\"string\">&quot;name3&quot;</span>, <span class=\"string\">&quot; ç§¦ç–† 3 å· &quot;</span>); <span class=\"comment\">// ä¿å­˜çš„æ•°æ®åªåœ¨ä¸€æ¬¡ä¼šè¯ä¸­æœ‰æ•ˆï¼Œä»æ‰“å¼€æµè§ˆå™¨åˆ°å…³é—­æµè§ˆå™¨</span></span><br><span class=\"line\">      application.setAttribute(<span class=\"string\">&quot;name4&quot;</span>, <span class=\"string\">&quot; ç§¦ç–† 4 å· &quot;</span>); <span class=\"comment\">// ä¿å­˜çš„æ•°æ®åªåœ¨æœåŠ¡å™¨ä¸­æœ‰æ•ˆï¼Œä»æ‰“å¼€æœåŠ¡å™¨åˆ°å…³é—­æœåŠ¡å™¨</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// ä½œç”¨åŸŸä»å°åˆ°å¤§</span></span><br><span class=\"line\">      String name1 = (String) pageContext.findAttribute(<span class=\"string\">&quot;name1&quot;</span>);</span><br><span class=\"line\">      String name2 = (String) pageContext.findAttribute(<span class=\"string\">&quot;name2&quot;</span>);</span><br><span class=\"line\">      String name3 = (String) pageContext.findAttribute(<span class=\"string\">&quot;name3&quot;</span>);</span><br><span class=\"line\">      String name4 = (String) pageContext.findAttribute(<span class=\"string\">&quot;name4&quot;</span>);</span><br><span class=\"line\">      String name5 = (String) pageContext.findAttribute(<span class=\"string\">&quot;name5&quot;</span>); <span class=\"comment\">// è¿™ä¸ªä¸å­˜åœ¨</span></span><br><span class=\"line\">    %&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;%--</span><br><span class=\"line\">      EL è¡¨è¾¾å¼</span><br><span class=\"line\">      $&#123; å†…å®¹ &#125; == &lt;%= å†…å®¹ %&gt;</span><br><span class=\"line\">      ç”¨ EL è¡¨è¾¾å¼çš„è¯,<span class=\"keyword\">null</span> å€¼ä¸ä¼šæ˜¾ç¤º, è€Œä½¿ç”¨ JSP è¡¨è¾¾å¼ä¼šæ˜¾ç¤º <span class=\"keyword\">null</span> å€¼</span><br><span class=\"line\">    --%&gt;</span><br><span class=\"line\">    &lt;h1&gt; å–å‡ºçš„å†…å®¹:&lt;/h1&gt;</span><br><span class=\"line\">    &lt;h3&gt;$&#123;name1&#125;&lt;/h3&gt;</span><br><span class=\"line\">    &lt;h3&gt;$&#123;name2&#125;&lt;/h3&gt;</span><br><span class=\"line\">    &lt;h3&gt;$&#123;name3&#125;&lt;/h3&gt;</span><br><span class=\"line\">    &lt;h3&gt;$&#123;name4&#125;&lt;/h3&gt;</span><br><span class=\"line\">    &lt;HR&gt;</span><br><span class=\"line\">    &lt;h3&gt;$&#123;name5&#125;&lt;/h3&gt;</span><br><span class=\"line\">    &lt;h3&gt;&lt;%=name5%&gt;&lt;/h3&gt;</span><br><span class=\"line\">  &lt;/body&gt;</span><br><span class=\"line\">&lt;/html&gt;</span><br></pre></td></tr></table></figure>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVtAMc.png\" alt=\"20210407173249\" />\n<hr>\n</li>\n<li>\n<p>ä½œç”¨åŸŸ</p>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVtiZr.png\" alt=\"20210407175219\" />\n</li>\n</ul>\n<hr>\n<h3 id=\"JSP- æ ‡ç­¾\">JSP æ ‡ç­¾</h3>\n<ul>\n<li>\n<p>ä¾‹å­: ä½¿ç”¨ JSP æ ‡ç­¾è½¬å‘é¡µé¢, è¯»å–å‚æ•°å¹¶æ˜¾ç¤ºå‡ºæ¥.</p>\n</li>\n<li>\n<p><code>src/main/webapp/demo/JSP-label/forward.jsp</code></p>\n<figure class=\"highlight jsp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;%@ page contentType=<span class=\"string\">&quot;text/html;charset=UTF-8&quot;</span> language=<span class=\"string\">&quot;java&quot;</span> %&gt;</span><br><span class=\"line\">&lt;html&gt;</span><br><span class=\"line\">&lt;head&gt;</span><br><span class=\"line\">  &lt;title&gt;JSP-label&lt;/title&gt;</span><br><span class=\"line\">&lt;/head&gt;</span><br><span class=\"line\">&lt;body&gt;</span><br><span class=\"line\">&lt;%-- è½¬å‘ request æºå¸¦çš„å‚æ•°(æ³¨æ„ JSP æ ‡ç­¾å†…ä¸èƒ½æœ‰æ³¨é‡Š, ä¼šæŠ¥é”™<span class=\"number\">500</span>) --%&gt;</span><br><span class=\"line\">&lt;jsp:forward page=<span class=\"string\">&quot;forward.jsp&quot;</span>&gt;</span><br><span class=\"line\">  &lt;jsp:param name=<span class=\"string\">&quot;name&quot;</span> value=<span class=\"string\">&quot;kuangshen&quot;</span>/&gt;</span><br><span class=\"line\">  &lt;jsp:param name=<span class=\"string\">&quot;age&quot;</span> value=<span class=\"string\">&quot;12&quot;</span>/&gt;</span><br><span class=\"line\">&lt;/jsp:forward&gt;</span><br><span class=\"line\">&lt;/body&gt;</span><br><span class=\"line\">&lt;/html&gt;</span><br></pre></td></tr></table></figure>\n<hr>\n</li>\n<li>\n<p><code>src/main/webapp/demo/JSP-label/forward.jsp</code></p>\n<figure class=\"highlight jsp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;%@ page contentType=<span class=\"string\">&quot;text/html;charset=UTF-8&quot;</span> language=<span class=\"string\">&quot;java&quot;</span> %&gt;</span><br><span class=\"line\">&lt;%@ page isELIgnored=<span class=\"string\">&quot;false&quot;</span> %&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;html&gt;</span><br><span class=\"line\">&lt;head&gt;</span><br><span class=\"line\">  &lt;title&gt; è½¬å‘é¡µé¢ &lt;/title&gt;</span><br><span class=\"line\">&lt;/head&gt;</span><br><span class=\"line\">&lt;body&gt;</span><br><span class=\"line\">&lt;%</span><br><span class=\"line\">  pageContext.setAttribute(<span class=\"string\">&quot;name&quot;</span>, request.getParameter(<span class=\"string\">&quot;name&quot;</span>));</span><br><span class=\"line\">  pageContext.setAttribute(<span class=\"string\">&quot;age&quot;</span>, request.getParameter(<span class=\"string\">&quot;age&quot;</span>));</span><br><span class=\"line\"></span><br><span class=\"line\">%&gt;</span><br><span class=\"line\">&lt;h3&gt; å§“å: $&#123;name&#125;&lt;/h3&gt;</span><br><span class=\"line\">&lt;h3&gt; å¹´é¾„: $&#123;age&#125;&lt;/h3&gt;</span><br><span class=\"line\">&lt;/body&gt;</span><br><span class=\"line\">&lt;/html&gt;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<h3 id=\"JSTL- è¡¨è¾¾å¼\">JSTL è¡¨è¾¾å¼</h3>\n<blockquote>\n<p>JSTL æ ‡ç­¾åº“çš„ä½¿ç”¨å°±æ˜¯ä¸ºäº†å¼¥è¡¥ HTML æ ‡ç­¾çš„ä¸è¶³, åŠŸèƒ½ä¸Šä¸ Java ç›¸ä¼¼.</p>\n</blockquote>\n<ul>\n<li>\n<p>åˆ†ç±»</p>\n<ul>\n<li>\n<p>æ ¼å¼åŒ–æ ‡ç­¾</p>\n</li>\n<li>\n<p>SQL æ ‡ç­¾</p>\n</li>\n<li>\n<p>XML æ ‡ç­¾</p>\n</li>\n<li>\n<p>JSTL å‡½æ•°</p>\n</li>\n<li>\n<p>æ ¸å¿ƒæ ‡ç­¾ ï¼ˆæŒæ¡éƒ¨åˆ†ï¼‰</p>\n<blockquote>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVtnST.png\" alt=\"20210407195349\" />\n</blockquote>\n</li>\n</ul>\n</li>\n<li>\n<p>ä½¿ç”¨</p>\n<ul>\n<li>\n<p>åœ¨ pom.xml ä¸­å¯¼å…¥ä¾èµ–</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- JSTL è¡¨è¾¾å¼ä¾èµ– --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>javax.servlet<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>jstl<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>1.2<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- Standard æ ‡ç­¾åº“ --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>taglibs<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>standard<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>1.1.2<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>åœ¨ JSP é¡µé¢è¿˜éœ€è¦å¼•å…¥å¯¹åº”è¦ä½¿ç”¨çš„ taglib, è¿™é‡Œåªç”¨åˆ° core:</p>\n<figure class=\"highlight jsp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;%@ taglib prefix=<span class=\"string\">&quot;c&quot;</span> uri=<span class=\"string\">&quot;http://java.sun.com/jsp/jstl/core&quot;</span> %&gt;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n</ul>\n<hr>\n<ul>\n<li>\n<p>if</p>\n<figure class=\"highlight jsp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;%@ page contentType=<span class=\"string\">&quot;text/html;charset=UTF-8&quot;</span> language=<span class=\"string\">&quot;java&quot;</span> %&gt; &lt;%@ taglib</span><br><span class=\"line\">prefix=<span class=\"string\">&quot;c&quot;</span> uri=<span class=\"string\">&quot;http://java.sun.com/jsp/jstl/core&quot;</span> %&gt; &lt;%@ page</span><br><span class=\"line\">isELIgnored=<span class=\"string\">&quot;false&quot;</span> %&gt;</span><br><span class=\"line\">&lt;html&gt;</span><br><span class=\"line\">  &lt;head&gt;</span><br><span class=\"line\">    &lt;title&gt;<span class=\"keyword\">if</span>æµ‹è¯• &lt;/title&gt;</span><br><span class=\"line\">  &lt;/head&gt;</span><br><span class=\"line\">  &lt;body&gt;</span><br><span class=\"line\">    &lt;%--action æ˜¯ä»£ç æäº¤ä½ç½® --%&gt;</span><br><span class=\"line\">    &lt;form action=<span class=\"string\">&quot;if.jsp&quot;</span> method=<span class=\"string\">&quot;post&quot;</span>&gt;</span><br><span class=\"line\">      &lt;label&gt;</span><br><span class=\"line\">        ç”¨æˆ·å:</span><br><span class=\"line\">        &lt;input type=<span class=\"string\">&quot;text&quot;</span> name=<span class=\"string\">&quot;username&quot;</span> /&gt;</span><br><span class=\"line\">      &lt;/label&gt;</span><br><span class=\"line\">      &lt;input type=<span class=\"string\">&quot;submit&quot;</span> value=<span class=\"string\">&quot; ç™»å½• &quot;</span> /&gt;</span><br><span class=\"line\">    &lt;/form&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;hr /&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;%--</span><br><span class=\"line\">      EL è¡¨è¾¾å¼è·å–è¡¨å•ä¸­çš„æ•°æ® $&#123;param. å‚æ•°å &#125;</span><br><span class=\"line\">      åˆ¤æ–­å¦‚æœæäº¤çš„ç”¨æˆ·åæ˜¯ adminï¼Œåˆ™ç™»å½•æˆåŠŸ, å¹¶æŠŠ isAdmin ç½®ä¸º<span class=\"keyword\">true</span></span><br><span class=\"line\">      --%&gt;</span><br><span class=\"line\">    &lt;c:<span class=\"keyword\">if</span> test=<span class=\"string\">&quot;$&#123;param.username==&#x27;admin&#x27;&#125;&quot;</span> <span class=\"keyword\">var</span>=<span class=\"string\">&quot;isAdmin&quot;</span>&gt;</span><br><span class=\"line\">      &lt;c:out value=<span class=\"string\">&quot; ç®¡ç†å‘˜æ¬¢è¿æ‚¨ï¼&quot;</span> /&gt;</span><br><span class=\"line\">    &lt;/c:<span class=\"keyword\">if</span>&gt;</span><br><span class=\"line\">  &lt;/body&gt;</span><br><span class=\"line\">&lt;/html&gt;</span><br></pre></td></tr></table></figure>\n<hr>\n</li>\n<li>\n<p>choose-when</p>\n<figure class=\"highlight jsp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">&lt;%-- Created by IntelliJ IDEA. User: <span class=\"number\">29845</span> Date: <span class=\"number\">2021</span>/<span class=\"number\">4</span>/<span class=\"number\">8</span> Time: <span class=\"number\">20</span>:<span class=\"number\">38</span> To change</span><br><span class=\"line\"><span class=\"keyword\">this</span> template use File | Settings | File Templates. --%&gt; &lt;%@ page</span><br><span class=\"line\">contentType=<span class=\"string\">&quot;text/html;charset=UTF-8&quot;</span> language=<span class=\"string\">&quot;java&quot;</span> %&gt; &lt;%@ page</span><br><span class=\"line\">isELIgnored=<span class=\"string\">&quot;false&quot;</span> %&gt;</span><br><span class=\"line\">&lt;html&gt;</span><br><span class=\"line\">  &lt;head&gt;</span><br><span class=\"line\">    &lt;title&gt;choose-when æµ‹è¯• &lt;/title&gt;</span><br><span class=\"line\">  &lt;/head&gt;</span><br><span class=\"line\">  &lt;body&gt;</span><br><span class=\"line\">    &lt;form action=<span class=\"string\">&quot;&quot;</span> method=<span class=\"string\">&quot;post&quot;</span>&gt;</span><br><span class=\"line\">      &lt;label&gt;</span><br><span class=\"line\">        &lt;%-- å®šä¹‰ä¸€ä¸ªå˜é‡ score--%&gt;</span><br><span class=\"line\">        &lt;input type=<span class=\"string\">&quot;text&quot;</span> name=<span class=\"string\">&quot;score&quot;</span> /&gt;</span><br><span class=\"line\">      &lt;/label&gt;</span><br><span class=\"line\">      &lt;input type=<span class=\"string\">&quot;submit&quot;</span> name=<span class=\"string\">&quot; æäº¤ &quot;</span> /&gt;</span><br><span class=\"line\">    &lt;/form&gt;</span><br><span class=\"line\">    &lt;c:choose&gt;</span><br><span class=\"line\">      &lt;c:when test=<span class=\"string\">&quot;$&#123;param.score&gt;=90&#125;&quot;</span>&gt; ä½ çš„æˆç»©ä¸ºä¼˜ç§€ &lt;/c:when&gt;</span><br><span class=\"line\">      &lt;c:when test=<span class=\"string\">&quot;$&#123;param.score&gt;=80&#125;&quot;</span>&gt; ä½ çš„æˆç»©ä¸ºä¸€èˆ¬ &lt;/c:when&gt;</span><br><span class=\"line\">      &lt;c:when test=<span class=\"string\">&quot;$&#123;param.score&gt;=70&#125;&quot;</span>&gt; ä½ çš„æˆç»©ä¸ºè‰¯å¥½ &lt;/c:when&gt;</span><br><span class=\"line\">      &lt;c:when test=<span class=\"string\">&quot;$&#123;param.score&lt;=60&#125;&quot;</span>&gt; ä½ çš„æˆç»©ä¸ºä¸åŠæ ¼ &lt;/c:when&gt;</span><br><span class=\"line\">    &lt;/c:choose&gt;</span><br><span class=\"line\">  &lt;/body&gt;</span><br><span class=\"line\">&lt;/html&gt;</span><br></pre></td></tr></table></figure>\n<hr>\n</li>\n<li>\n<p>forEach</p>\n<figure class=\"highlight jsp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;%@ taglib prefix=<span class=\"string\">&quot;c&quot;</span> uri=<span class=\"string\">&quot;http://java.sun.com/jsp/jstl/core&quot;</span> %&gt;</span><br><span class=\"line\">&lt;%@ page <span class=\"keyword\">import</span>=<span class=\"string\">&quot;java.util.ArrayList&quot;</span> %&gt;&lt;%--</span><br><span class=\"line\">  Created by IntelliJ IDEA.</span><br><span class=\"line\">  User: <span class=\"number\">29845</span></span><br><span class=\"line\">  Date: <span class=\"number\">2021</span>/<span class=\"number\">4</span>/<span class=\"number\">8</span></span><br><span class=\"line\">  Time: <span class=\"number\">20</span>:<span class=\"number\">59</span></span><br><span class=\"line\">  To change <span class=\"keyword\">this</span> template use File | Settings | File Templates.</span><br><span class=\"line\">--%&gt;</span><br><span class=\"line\">&lt;%@ page contentType=<span class=\"string\">&quot;text/html;charset=UTF-8&quot;</span> language=<span class=\"string\">&quot;java&quot;</span> %&gt;</span><br><span class=\"line\">&lt;%@ page isELIgnored=<span class=\"string\">&quot;false&quot;</span> %&gt;</span><br><span class=\"line\">&lt;html&gt;</span><br><span class=\"line\">&lt;head&gt;</span><br><span class=\"line\">  &lt;title&gt;forEach&lt;/title&gt;</span><br><span class=\"line\">&lt;/head&gt;</span><br><span class=\"line\">&lt;body&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;%</span><br><span class=\"line\">  ArrayList&lt;String&gt; setPeople = <span class=\"keyword\">new</span> ArrayList&lt;&gt;();</span><br><span class=\"line\">  setPeople.add(<span class=\"number\">0</span>, <span class=\"string\">&quot; å¼ ä¸‰ &quot;</span>);</span><br><span class=\"line\">  setPeople.add(<span class=\"number\">1</span>, <span class=\"string\">&quot; æå›› &quot;</span>);</span><br><span class=\"line\">  setPeople.add(<span class=\"number\">2</span>, <span class=\"string\">&quot; ç‹äº” &quot;</span>);</span><br><span class=\"line\">  setPeople.add(<span class=\"number\">3</span>, <span class=\"string\">&quot; èµµå…­ &quot;</span>);</span><br><span class=\"line\">  setPeople.add(<span class=\"number\">4</span>, <span class=\"string\">&quot; ç”°å…­ &quot;</span>);</span><br><span class=\"line\">  request.setAttribute(<span class=\"string\">&quot;list&quot;</span>, setPeople);</span><br><span class=\"line\">%&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;%--</span><br><span class=\"line\">  <span class=\"keyword\">var</span> , æ¯ä¸€æ¬¡éå†å‡ºæ¥çš„å˜é‡</span><br><span class=\"line\">  items, è¦éå†çš„å¯¹è±¡</span><br><span class=\"line\">  å¯é€‰:</span><br><span class=\"line\">    begin,   å“ªé‡Œå¼€å§‹</span><br><span class=\"line\">    end,     åˆ°å“ªé‡Œ</span><br><span class=\"line\">    step,   æ­¥é•¿</span><br><span class=\"line\">--%&gt;</span><br><span class=\"line\">&lt;c:forEach <span class=\"keyword\">var</span>=<span class=\"string\">&quot;getPeople&quot;</span> items=<span class=\"string\">&quot;$&#123;list&#125;&quot;</span> begin=<span class=\"string\">&quot;1&quot;</span> end=<span class=\"string\">&quot;3&quot;</span> step=<span class=\"string\">&quot;1&quot;</span>&gt;</span><br><span class=\"line\">  &lt;c:out value=<span class=\"string\">&quot;$&#123;getPeople&#125;&quot;</span>/&gt;</span><br><span class=\"line\">  &lt;br/&gt;</span><br><span class=\"line\">&lt;/c:forEach&gt;</span><br><span class=\"line\">&lt;/body&gt;</span><br><span class=\"line\">&lt;/html&gt;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"JavaBean\">JavaBean</h2>\n<ul>\n<li>\n<p>JavaBean(å®ä½“ç±») æœ‰ç‰¹å®šçš„å†™æ³•:</p>\n<ul>\n<li>\n<p>ä¸€ä¸ªæ— å‚æ„é€ </p>\n</li>\n<li>\n<p>å±æ€§å¿…é¡»ç§æœ‰åŒ–</p>\n</li>\n<li>\n<p>å¿…é¡»æœ‰å¯¹åº”çš„ get/set æ–¹æ³•ï¼›</p>\n</li>\n</ul>\n<hr>\n</li>\n<li>\n<p>ä¸€èˆ¬ç”¨æ¥å’Œæ•°æ®åº“çš„å­—æ®µåšæ˜ å°„ ORM(å¯¹è±¡å…³ç³»æ˜ å°„)</p>\n<ul>\n<li>\n<p>è¡¨â€”&gt; ç±»</p>\n</li>\n<li>\n<p>å­—æ®µâ€“&gt; å±æ€§</p>\n</li>\n<li>\n<p>è¡Œè®°å½• ----&gt; å¯¹è±¡</p>\n</li>\n</ul>\n</li>\n</ul>\n<hr>\n<ul>\n<li>\n<p>æ ·ä¾‹ Java ç±»: <code>src/main/java/pojo/People.java</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> pojo;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">People</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">int</span> id;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> String name;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">int</span> age;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> String address;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">People</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">People</span><span class=\"params\">(<span class=\"keyword\">int</span> id, String name, <span class=\"keyword\">int</span> age, String address)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.id = id;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.name = name;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.age = age;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.address = address;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">getId</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> id;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">setId</span><span class=\"params\">(<span class=\"keyword\">int</span> id)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.id = id;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">getName</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> name;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">setName</span><span class=\"params\">(String name)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.name = name;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">getAge</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> age;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">setAge</span><span class=\"params\">(<span class=\"keyword\">int</span> age)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.age = age;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">getAddress</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> address;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">setAddress</span><span class=\"params\">(String address)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.address = address;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Override</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">toString</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&quot;People&#123;&quot;</span> +</span><br><span class=\"line\">        <span class=\"string\">&quot;id=&quot;</span> + id +</span><br><span class=\"line\">        <span class=\"string\">&quot;, name=&#x27;&quot;</span> + name + <span class=\"string\">&#x27;\\&#x27;&#x27;</span> +</span><br><span class=\"line\">        <span class=\"string\">&quot;, age=&quot;</span> + age +</span><br><span class=\"line\">        <span class=\"string\">&quot;, address=&#x27;&quot;</span> + address + <span class=\"string\">&#x27;\\&#x27;&#x27;</span> +</span><br><span class=\"line\">        <span class=\"string\">&#x27;&#125;&#x27;</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">new</span> People(<span class=\"number\">1</span>, <span class=\"string\">&quot; ç§¦ç–† 1 å· &quot;</span>, <span class=\"number\">3</span>, <span class=\"string\">&quot; è¥¿å®‰ &quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">new</span> People(<span class=\"number\">2</span>, <span class=\"string\">&quot; ç§¦ç–† 2 å· &quot;</span>, <span class=\"number\">3</span>, <span class=\"string\">&quot; è¥¿å®‰ &quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">new</span> People(<span class=\"number\">3</span>, <span class=\"string\">&quot; ç§¦ç–† 3 å· &quot;</span>, <span class=\"number\">3</span>, <span class=\"string\">&quot; è¥¿å®‰ &quot;</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n</li>\n<li>\n<p>æ ·ä¾‹ JSP: <code>src/main/webapp/javaBean.jsp</code></p>\n<ul>\n<li>è¿™é‡Œåªæ˜¯ç®€å•ä»‹ç» JavaBean åŠå…¶ä½¿ç”¨, å¹¶ä¸æ¨èç”¨ JSP æ ‡ç­¾æ¥æ“ä½œ JavaBean, è¿˜æ˜¯æ¨èç”¨ Java ä»£ç æ“ä½œå®ä½“ç±»å¯¹è±¡.</li>\n</ul>\n<figure class=\"highlight jsp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;%-- Created by IntelliJ IDEA. User: <span class=\"number\">29845</span> Date: <span class=\"number\">2021</span>/<span class=\"number\">4</span>/<span class=\"number\">8</span> Time: <span class=\"number\">23</span>:<span class=\"number\">32</span> To change</span><br><span class=\"line\"><span class=\"keyword\">this</span> template use File | Settings | File Templates. --%&gt; &lt;%@ page</span><br><span class=\"line\">contentType=<span class=\"string\">&quot;text/html;charset=UTF-8&quot;</span> language=<span class=\"string\">&quot;java&quot;</span> %&gt;</span><br><span class=\"line\">&lt;html&gt;</span><br><span class=\"line\">  &lt;head&gt;</span><br><span class=\"line\">    &lt;title&gt;javaBean æµ‹è¯• &lt;/title&gt;</span><br><span class=\"line\">  &lt;/head&gt;</span><br><span class=\"line\">  &lt;body&gt;</span><br><span class=\"line\">    &lt;jsp:useBean id=<span class=\"string\">&quot;people&quot;</span> <span class=\"class\"><span class=\"keyword\">class</span></span>=<span class=\"string\">&quot;pojo.People&quot;</span> scope=<span class=\"string\">&quot;page&quot;</span> /&gt;</span><br><span class=\"line\">    &lt;jsp:setProperty name=<span class=\"string\">&quot;people&quot;</span> property=<span class=\"string\">&quot;id&quot;</span> value=<span class=\"string\">&quot;1&quot;</span> /&gt;</span><br><span class=\"line\">    &lt;jsp:setProperty name=<span class=\"string\">&quot;people&quot;</span> property=<span class=\"string\">&quot;name&quot;</span> value=<span class=\"string\">&quot; ç‹‚ç¥è¯´ &quot;</span> /&gt;</span><br><span class=\"line\">    &lt;jsp:setProperty name=<span class=\"string\">&quot;people&quot;</span> property=<span class=\"string\">&quot;age&quot;</span> value=<span class=\"string\">&quot;3&quot;</span> /&gt;</span><br><span class=\"line\">    &lt;jsp:setProperty name=<span class=\"string\">&quot;people&quot;</span> property=<span class=\"string\">&quot;address&quot;</span> value=<span class=\"string\">&quot; è¥¿å®‰ &quot;</span> /&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    id:</span><br><span class=\"line\">    &lt;jsp:getProperty name=<span class=\"string\">&quot;people&quot;</span> property=<span class=\"string\">&quot;id&quot;</span> /&gt;</span><br><span class=\"line\">    name:</span><br><span class=\"line\">    &lt;jsp:getProperty name=<span class=\"string\">&quot;people&quot;</span> property=<span class=\"string\">&quot;name&quot;</span> /&gt;</span><br><span class=\"line\">    age:</span><br><span class=\"line\">    &lt;jsp:getProperty name=<span class=\"string\">&quot;people&quot;</span> property=<span class=\"string\">&quot;age&quot;</span> /&gt;</span><br><span class=\"line\">    address:</span><br><span class=\"line\">    &lt;jsp:getProperty name=<span class=\"string\">&quot;people&quot;</span> property=<span class=\"string\">&quot;address&quot;</span> /&gt;</span><br><span class=\"line\">  &lt;/body&gt;</span><br><span class=\"line\">&lt;/html&gt;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kity@2.0.4/dist/kity.min.js\"></script><script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js\"></script><script defer=\"true\" type=\"text&#x2F;javascript\" src=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js\"></script><link rel=\"stylesheet\" type=\"text&#x2F;css\" href=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css\">",
            "tags": [
                "java",
                "ç¬”è®°",
                "æœåŠ¡å™¨",
                "javaweb",
                "servlet",
                "jsp"
            ]
        },
        {
            "id": "https://weidows.github.io/post/Java/Web/3/",
            "url": "https://weidows.github.io/post/Java/Web/3/",
            "title": "ğŸ¥¼JavaWeb~(å)Cookie/Session éªŒè¯,JSP å¼€ç¯‡",
            "date_published": "2021-03-29T10:21:52.000Z",
            "content_html": "<!--\n * @?: *********************************************************************\n * @Author: Weidows\n * @LastEditors: Weidows\n * @LastEditTime: 2021-05-01 00:25:48\n * @FilePath: \\Weidowsd:\\Game\\Github\\Blog-private\\source\\_posts\\Java\\Web\\3.md\n * @Description:\n * @!: *********************************************************************\n-->\n<ul>\n<li><a href=\"#%E7%AC%94%E8%AE%B0%E4%BB%A3%E7%A0%81\"> ç¬”è®°ä»£ç  </a></li>\n<li><a href=\"#servlet\">Servlet</a>\n<ul>\n<li><a href=\"#httpservletrequest\">HttpServletRequest</a></li>\n</ul>\n</li>\n<li><a href=\"#cookiesession\">Cookieã€Session</a>\n<ul>\n<li><a href=\"#cookie\">Cookie</a></li>\n<li><a href=\"#session\">Session</a></li>\n</ul>\n</li>\n<li><a href=\"#jsp\">JSP</a>\n<ul>\n<li><a href=\"#%E4%BB%8B%E7%BB%8D\"> ä»‹ç» </a></li>\n<li><a href=\"#%E4%BE%9D%E8%B5%96%E5%AF%BC%E5%85%A5\"> ä¾èµ–å¯¼å…¥ </a></li>\n<li><a href=\"#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95\"> åŸºæœ¬è¯­æ³• </a></li>\n</ul>\n</li>\n</ul>\n<h2 id=\"ç¬”è®°ä»£ç  -5\"><a href=\"https://github.com/Weidows/Java/tree/master/JavaWeb\"> ç¬”è®°ä»£ç  </a></h2>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"Servlet-3\">Servlet</h2>\n<h3 id=\"HttpServletRequest\">HttpServletRequest</h3>\n<ul>\n<li>\n<p> ä¾‹å­: åœ¨ index.jsp æäº¤è¡¨å•ä¿¡æ¯ç»™ <code>/login</code>, æ­¤ Servlet åç«¯è¯»å–å‘é€æ¥çš„è¡¨å•ä¿¡æ¯å¹¶åœ¨é¡µé¢è¾“å‡ºæ˜¾ç¤º.</p>\n<ul>\n<li>\n<p> åˆ æ‰å¹¶ç”¨ idea é‡å»º index.jsp, ä¼šè¡¥é½ä¸€äº›ç¼–ç ä¿¡æ¯.</p>\n<figure class=\"highlight jsp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;%@ page</span><br><span class=\"line\">    contentType=<span class=\"string\">&quot;text/html;charset=UTF-8&quot;</span> language=<span class=\"string\">&quot;java&quot;</span> %&gt;</span><br><span class=\"line\">&lt;html&gt;</span><br><span class=\"line\">&lt;head&gt;</span><br><span class=\"line\">  &lt;title&gt; ç™»å½•é¡µé¢ &lt;/title&gt;</span><br><span class=\"line\">&lt;/head&gt;</span><br><span class=\"line\">&lt;body&gt;</span><br><span class=\"line\">&lt;h1&gt; ç™»å½• &lt;/h1&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;div style=<span class=\"string\">&quot;text-align: center&quot;</span>&gt;</span><br><span class=\"line\">  &lt;form action=<span class=\"string\">&quot;/login&quot;</span> method=<span class=\"string\">&quot;post&quot;</span>&gt;</span><br><span class=\"line\">    &lt;label&gt;</span><br><span class=\"line\">      ç”¨æˆ·å:</span><br><span class=\"line\">      &lt;input type=<span class=\"string\">&quot;text&quot;</span> name=<span class=\"string\">&quot;username&quot;</span> placeholder=<span class=\"string\">&quot; æ—  &quot;</span>/&gt;&lt;br&gt;</span><br><span class=\"line\">    &lt;/label&gt;</span><br><span class=\"line\">    &lt;label&gt;</span><br><span class=\"line\">      å¯†ç :</span><br><span class=\"line\">      &lt;input type=<span class=\"string\">&quot;password&quot;</span> name=<span class=\"string\">&quot;password&quot;</span> placeholder=<span class=\"string\">&quot;&quot;</span>/&gt;&lt;br&gt;</span><br><span class=\"line\">    &lt;/label&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    çˆ±å¥½:</span><br><span class=\"line\">    &lt;label&gt;&lt;input type=<span class=\"string\">&quot;checkbox&quot;</span> name=<span class=\"string\">&quot;hobbys&quot;</span> value=<span class=\"string\">&quot; å¥³å­© &quot;</span>/&gt; å¥³å­© &lt;/label&gt;</span><br><span class=\"line\">    &lt;label&gt;&lt;input type=<span class=\"string\">&quot;checkbox&quot;</span> name=<span class=\"string\">&quot;hobbys&quot;</span> value=<span class=\"string\">&quot; ä»£ç  &quot;</span>/&gt; ä»£ç  &lt;/label&gt;</span><br><span class=\"line\">    &lt;label&gt;&lt;input type=<span class=\"string\">&quot;checkbox&quot;</span> name=<span class=\"string\">&quot;hobbys&quot;</span> value=<span class=\"string\">&quot; åŠ¨æ¼« &quot;</span>/&gt; åŠ¨æ¼« &lt;/label&gt;</span><br><span class=\"line\">    &lt;label&gt;&lt;input type=<span class=\"string\">&quot;checkbox&quot;</span> name=<span class=\"string\">&quot;hobbys&quot;</span> value=<span class=\"string\">&quot; ç¾é£Ÿ &quot;</span>/&gt; ç¾é£Ÿ &lt;/label&gt;&lt;br&gt;</span><br><span class=\"line\">    &lt;input type=<span class=\"string\">&quot;submit&quot;</span>&gt;</span><br><span class=\"line\">  &lt;/form&gt;</span><br><span class=\"line\">&lt;/div&gt;</span><br><span class=\"line\">&lt;/body&gt;</span><br><span class=\"line\">&lt;/html&gt;</span><br></pre></td></tr></table></figure>\n<hr>\n</li>\n<li>\n<p><code>src/main/java/servlet/Login.java</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.io.IOException;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.PrintWriter;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.Arrays;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.ServletException;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpServlet;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Login</span> <span class=\"keyword\">extends</span> <span class=\"title\">HttpServlet</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">  *</span></span><br><span class=\"line\"><span class=\"comment\">  */</span></span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> <span class=\"keyword\">long</span> serialVersionUID = -<span class=\"number\">7958099474557186407L</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Override</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">doGet</span><span class=\"params\">(HttpServletRequest req, HttpServletResponse resp)</span> <span class=\"keyword\">throws</span> ServletException, IOException </span>&#123;</span><br><span class=\"line\">    req.setCharacterEncoding(<span class=\"string\">&quot;utf8&quot;</span>);</span><br><span class=\"line\">    resp.setContentType(<span class=\"string\">&quot;text/html&quot;</span>);</span><br><span class=\"line\">    resp.setCharacterEncoding(<span class=\"string\">&quot;utf8&quot;</span>);</span><br><span class=\"line\">    PrintWriter writer = resp.getWriter();</span><br><span class=\"line\"></span><br><span class=\"line\">    String username = req.getParameter(<span class=\"string\">&quot;username&quot;</span>);</span><br><span class=\"line\">    String password = req.getParameter(<span class=\"string\">&quot;password&quot;</span>);</span><br><span class=\"line\">    String[] hobbys = req.getParameterValues(<span class=\"string\">&quot;hobbys&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    writer.println(<span class=\"string\">&quot;username: &quot;</span> + username);</span><br><span class=\"line\">    writer.println(<span class=\"string\">&quot;password: &quot;</span> + password);</span><br><span class=\"line\">    writer.println(<span class=\"string\">&quot; çˆ±å¥½: &quot;</span> + Arrays.toString(hobbys));</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Override</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">doPost</span><span class=\"params\">(HttpServletRequest req, HttpServletResponse resp)</span> <span class=\"keyword\">throws</span> ServletException, IOException </span>&#123;</span><br><span class=\"line\">    doGet(req, resp);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n</li>\n<li>\n<p><code>web.xml</code></p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">web-app</span> <span class=\"meta-keyword\">PUBLIC</span></span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-string\">&quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;</span></span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-string\">&quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot;</span> &gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">web-app</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">display-name</span>&gt;</span>Archetype Created Web Application<span class=\"tag\">&lt;/<span class=\"name\">display-name</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">servlet</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">servlet-name</span>&gt;</span>login<span class=\"tag\">&lt;/<span class=\"name\">servlet-name</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">servlet-class</span>&gt;</span>servlet.Login<span class=\"tag\">&lt;/<span class=\"name\">servlet-class</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">servlet</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">servlet-mapping</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">servlet-name</span>&gt;</span>login<span class=\"tag\">&lt;/<span class=\"name\">servlet-name</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">url-pattern</span>&gt;</span>/login<span class=\"tag\">&lt;/<span class=\"name\">url-pattern</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">servlet-mapping</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"Cookieã€Session\">Cookieã€Session</h2>\n<ul>\n<li>\n<p>Cookie æ˜¯æœåŠ¡ç«¯åœ¨å®¢æˆ·ç«¯ä¸Šåšçš„æ ‡è®°, ç”¨è¯·æ±‚å’Œå“åº”è¿›è¡Œä¼ é€’, ç”¨æ¥è®°å½•ç”¨æˆ·çš„è®¿é—®ä¿¡æ¯ (å®¢æˆ·ç«¯æŠ€æœ¯)</p>\n</li>\n<li>\n<p>session æ˜¯åœ¨æœåŠ¡ç«¯ä¸Šä¿å­˜ç”¨æˆ·çš„è®¿é—®ä¿¡æ¯ (æœåŠ¡ç«¯æŠ€æœ¯)</p>\n</li>\n</ul>\n<h3 id=\"Cookie\">Cookie</h3>\n<ul>\n<li>\n<p> ä¾‹å­: è®¿é—® <code>/cookie</code> æ—¶, ä¼šæ˜¾ç¤ºä¸Šä¸€æ¬¡è®¿é—®æ­¤ URL çš„æ—¶é—´ (è¿™ä¸ªæ—¶é—´é€šè¿‡æœåŠ¡ç«¯ä¼ ç»™å®¢æˆ·ç«¯ Cookie æ¥è®°å½•)</p>\n<ul>\n<li>\n<p><code>src/main/java/servlet/HelloCookie.java</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.ServletException;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.Cookie;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpServlet;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.IOException;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.PrintWriter;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">HelloCookie</span> <span class=\"keyword\">extends</span> <span class=\"title\">HttpServlet</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"meta\">@Override</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">doGet</span><span class=\"params\">(HttpServletRequest req, HttpServletResponse resp)</span> <span class=\"keyword\">throws</span> ServletException, IOException </span>&#123;</span><br><span class=\"line\">    req.setCharacterEncoding(<span class=\"string\">&quot;utf-8&quot;</span>);</span><br><span class=\"line\">    resp.setCharacterEncoding(<span class=\"string\">&quot;utf-8&quot;</span>);</span><br><span class=\"line\">    resp.setContentType(<span class=\"string\">&quot;text/html&quot;</span>);</span><br><span class=\"line\">    PrintWriter writer = resp.getWriter();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// è·å–å®¢æˆ·ç«¯è¯·æ±‚ä¸­æºå¸¦çš„ cookie</span></span><br><span class=\"line\">    Cookie[] cookies = req.getCookies();</span><br><span class=\"line\">    <span class=\"keyword\">boolean</span> isFirst = <span class=\"keyword\">true</span>; <span class=\"comment\">// æ ‡å¿—æ˜¯å¦æ˜¯ç¬¬ä¸€æ¬¡è®¿é—® </span></span><br><span class=\"line\"></span><br><span class=\"line\">    writer.println(<span class=\"string\">&quot; ä½ ä¸Šä¸€æ¬¡è®¿é—®æ—¶é—´æ˜¯: &quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (Cookie cookie : cookies) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (cookie.getName().equals(<span class=\"string\">&quot;LastLoginTime&quot;</span>)) &#123;</span><br><span class=\"line\">        isFirst = <span class=\"keyword\">false</span>;</span><br><span class=\"line\">        writer.println(cookie.getValue());</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (isFirst) &#123;</span><br><span class=\"line\">      writer.println(<span class=\"string\">&quot; è¿™æ¬¡æ˜¯ç¬¬ä¸€æ¬¡è®¿é—®.&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// å“åº”æºå¸¦ cookie è¿”å›ç»™å®¢æˆ·ç«¯ </span></span><br><span class=\"line\">    Cookie lastLoginTime = <span class=\"keyword\">new</span> Cookie(<span class=\"string\">&quot;LastLoginTime&quot;</span>, System.currentTimeMillis() + <span class=\"string\">&quot;&quot;</span>);<span class=\"comment\">// éå­—ç¬¦ä¸² +&quot;&quot; = å­—ç¬¦ä¸² </span></span><br><span class=\"line\">    resp.addCookie(lastLoginTime);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Override</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">doPost</span><span class=\"params\">(HttpServletRequest req, HttpServletResponse resp)</span> <span class=\"keyword\">throws</span> ServletException, IOException </span>&#123;</span><br><span class=\"line\">    doGet(req, resp);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<ul>\n<li>\n<p><code>web.xml</code></p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">web-app</span> <span class=\"meta-keyword\">PUBLIC</span></span></span><br><span class=\"line\"><span class=\"meta\">    <span class=\"meta-string\">&quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;</span></span></span><br><span class=\"line\"><span class=\"meta\">    <span class=\"meta-string\">&quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot;</span> &gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">web-app</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">display-name</span>&gt;</span>Archetype Created Web Application<span class=\"tag\">&lt;/<span class=\"name\">display-name</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">servlet</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">servlet-name</span>&gt;</span>cookie<span class=\"tag\">&lt;/<span class=\"name\">servlet-name</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">servlet-class</span>&gt;</span>servlet.HelloCookie<span class=\"tag\">&lt;/<span class=\"name\">servlet-class</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">servlet</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">servlet-mapping</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">servlet-name</span>&gt;</span>cookie<span class=\"tag\">&lt;/<span class=\"name\">servlet-name</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">url-pattern</span>&gt;</span>/cookie<span class=\"tag\">&lt;/<span class=\"name\">url-pattern</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">servlet-mapping</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n</li>\n<li>\n<p> å¸¸ç”¨æ–¹æ³• </p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Cookie[] cookies = req.getCookies(); <span class=\"comment\">// è·å¾— Cookie</span></span><br><span class=\"line\">cookie.getName(); <span class=\"comment\">// è·å¾— cookie ä¸­çš„ key</span></span><br><span class=\"line\">cookie.getValue(); <span class=\"comment\">// è·å¾— cookie ä¸­çš„ vlaue</span></span><br><span class=\"line\"><span class=\"keyword\">new</span> Cookie(<span class=\"string\">&quot;lastLoginTime&quot;</span>, System.currentTimeMillis()+<span class=\"string\">&quot;&quot;</span>); <span class=\"comment\">// æ–°å»ºä¸€ä¸ª cookie</span></span><br><span class=\"line\">cookie.setMaxAge(<span class=\"number\">24</span>*<span class=\"number\">60</span>*<span class=\"number\">60</span>); <span class=\"comment\">// è®¾ç½® cookie çš„æœ‰æ•ˆæœŸ </span></span><br><span class=\"line\">resp.addCookie(cookie); <span class=\"comment\">// å“åº”ç»™å®¢æˆ·ç«¯ä¸€ä¸ª cookie</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p> ä¸€äº›ç»†èŠ‚ </p>\n<ul>\n<li>\n<p>cookie å¤§å°å’Œæ•°é‡ </p>\n<ul>\n<li> ä¸åŒæµè§ˆå™¨æ”¯æŒçš„å¤§å°å’Œæ•°é‡ä¸ä¸€æ ·, å¤§å°éƒ½æ˜¯ 4K å·¦å³, æ•°é‡ä¸ºæ¯åŸŸåå‡ ååˆ°æ— æ•°ä¸ªä¸ç­‰.</li>\n</ul>\n<blockquote>\n<p><a href=\"https://blog.csdn.net/u011127019/article/details/89206016\">cookie å¤§å°é™åˆ¶ </a></p>\n</blockquote>\n</li>\n<li>\n<p> è®¾ç½®å­˜æ´»æœŸ:</p>\n<ul>\n<li>\n<p> ä¸è®¾ç½®: å…³é—­æµè§ˆå™¨è‡ªåŠ¨å¤±æ•ˆ </p>\n</li>\n<li>\n<p> è®¾ç½®ä¸º 0, ç«‹å³å¤±æ•ˆ.</p>\n</li>\n</ul>\n</li>\n<li>\n<p> é‡åˆ°ä¼ è¾“çš„ä¸­æ–‡ä¹±ç é—®é¢˜, å¯ä»¥ç”¨ URLEncoder ç¼–ç  </p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">URLEncoder.encode(<span class=\"string\">&quot; é½ä¸‹æ— è´° &quot;</span>,<span class=\"string\">&quot;utf-8&quot;</span>)</span><br><span class=\"line\">URLDecoder.decode(cookie.getValue(),<span class=\"string\">&quot;UTF-8&quot;</span>)</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h3 id=\"Session\">Session</h3>\n<blockquote>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVt166.png\" alt=\"20210330120835\" />\n</blockquote>\n<ul>\n<li>\n<p>cookie ç”¨æ¥ä¼ è¾“ä¸€äº›å­—ç¬¦ä¸²éªŒè¯ä¿¡æ¯, å¹¶å­˜æ”¾åœ¨å®¢æˆ·ç«¯ä¸­.</p>\n</li>\n<li>\n<p> è€Œ session å¯ä»¥å­˜æ”¾æ›´å®½æ³›çš„æ•°æ® (å¯¹è±¡, æ–‡ä»¶ç­‰ç­‰), å…¶æ•°æ®å­˜æ”¾åœ¨æœåŠ¡ç«¯.</p>\n<ul>\n<li>\n<p> æœåŠ¡ç«¯ä¼ ç»™å®¢æˆ·ç«¯ä¸€ä¸ªåä¸º <code>JSESSIONID</code> çš„ cookie ç”¨æ¥éªŒè¯ session</p>\n</li>\n<li>\n<p> ä¸€ä¸ª Seesion å¯¹è±¡ç‹¬å ä¸€ä¸ªæµè§ˆå™¨, ä¸åŒæµè§ˆå™¨æœ‰ä¸åŒçš„ session</p>\n</li>\n</ul>\n</li>\n</ul>\n<hr>\n<ul>\n<li>\n<p> ä¾‹å­: å¼€å¯æœåŠ¡å™¨å¹¶è®¿é—®ç¬¬ä¸€ä¸ªé¡µé¢ <code>localhost:8080</code> æ—¶,session å°±è¢«åˆ›å»ºäº†, ç„¶åè®¿é—® <code>/setSession</code> è®¾ç½® person ä¿¡æ¯, å†è®¿é—® <code>/getSession</code> ä¼šæ˜¾ç¤º person ä¿¡æ¯.</p>\n<ul>\n<li>\n<p><code>src/main/java/servlet/SetSession.java</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.ServletException;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.IOException;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.PrintWriter;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">SetSession</span> <span class=\"keyword\">extends</span> <span class=\"title\">HttpServlet</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"meta\">@Override</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">doGet</span><span class=\"params\">(HttpServletRequest req, HttpServletResponse resp)</span> <span class=\"keyword\">throws</span> ServletException, IOException </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// è§£å†³ä¹±ç é—®é¢˜ </span></span><br><span class=\"line\">    req.setCharacterEncoding(<span class=\"string\">&quot;UTF-8&quot;</span>);</span><br><span class=\"line\">    resp.setCharacterEncoding(<span class=\"string\">&quot;UTF-8&quot;</span>);</span><br><span class=\"line\">    resp.setContentType(<span class=\"string\">&quot;text/html&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// å¾—åˆ° Session å’Œ writer</span></span><br><span class=\"line\">    HttpSession session = req.getSession();</span><br><span class=\"line\">    PrintWriter writer = resp.getWriter();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// ç»™ Session ä¸­å­˜ä¸œè¥¿ </span></span><br><span class=\"line\">    session.setAttribute(<span class=\"string\">&quot;person&quot;</span>, <span class=\"keyword\">new</span> Person(<span class=\"string\">&quot; é½ä¸‹æ— è´° &quot;</span>, <span class=\"number\">100</span>));</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// è·å– Session çš„ ID</span></span><br><span class=\"line\">    String sessionId = session.getId();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// åˆ¤æ–­ Session æ˜¯ä¸æ˜¯æ–°åˆ›å»º </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (session.isNew()) &#123;</span><br><span class=\"line\">      writer.println(<span class=\"string\">&quot;session åˆ›å»ºæˆåŠŸ,ID: &quot;</span> + sessionId);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      writer.println(<span class=\"string\">&quot;session å·²ç»åœ¨æœåŠ¡å™¨ä¸­å­˜åœ¨äº†,ID: &quot;</span> + sessionId);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Override</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">doPost</span><span class=\"params\">(HttpServletRequest req, HttpServletResponse resp)</span> <span class=\"keyword\">throws</span> ServletException, IOException </span>&#123;</span><br><span class=\"line\">    doGet(req, resp);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Person</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> String name;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">int</span> age;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">Person</span><span class=\"params\">(String name, <span class=\"keyword\">int</span> age)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.name = name;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.age = age;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">setName</span><span class=\"params\">(String name)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.name = name;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">setAge</span><span class=\"params\">(<span class=\"keyword\">int</span> age)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.age = age;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Override</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">toString</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&quot;Person&#123;&quot;</span> +</span><br><span class=\"line\">        <span class=\"string\">&quot;name=&#x27;&quot;</span> + name + <span class=\"string\">&#x27;\\&#x27;&#x27;</span> +</span><br><span class=\"line\">        <span class=\"string\">&quot;, age=&quot;</span> + age +</span><br><span class=\"line\">        <span class=\"string\">&#x27;&#125;&#x27;</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<ul>\n<li>\n<p><code>src/main/java/servlet/GetSession.java</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.ServletException;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpServlet;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpSession;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.IOException;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.PrintWriter;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">GetSession</span> <span class=\"keyword\">extends</span> <span class=\"title\">HttpServlet</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   *</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> <span class=\"keyword\">long</span> serialVersionUID = -<span class=\"number\">4606977948300644893L</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Override</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">doGet</span><span class=\"params\">(HttpServletRequest req, HttpServletResponse resp)</span> <span class=\"keyword\">throws</span> ServletException, IOException </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// è§£å†³ä¹±ç é—®é¢˜ </span></span><br><span class=\"line\">    req.setCharacterEncoding(<span class=\"string\">&quot;UTF-8&quot;</span>);</span><br><span class=\"line\">    resp.setCharacterEncoding(<span class=\"string\">&quot;UTF-8&quot;</span>);</span><br><span class=\"line\">    resp.setContentType(<span class=\"string\">&quot;text/html&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// å¾—åˆ° Session å’Œ writer</span></span><br><span class=\"line\">    HttpSession session = req.getSession();</span><br><span class=\"line\">    PrintWriter writer = resp.getWriter();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// è·å–å±æ€§å¹¶è¾“å‡º </span></span><br><span class=\"line\">    Person person = (Person) session.getAttribute(<span class=\"string\">&quot;person&quot;</span>);</span><br><span class=\"line\">    writer.println(person);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// ç§»é™¤å±æ€§ </span></span><br><span class=\"line\">    session.removeAttribute(<span class=\"string\">&quot;name&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// æ‰‹åŠ¨æ³¨é”€ Session</span></span><br><span class=\"line\">    session.invalidate();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Override</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">doPost</span><span class=\"params\">(HttpServletRequest req, HttpServletResponse resp)</span> <span class=\"keyword\">throws</span> ServletException, IOException </span>&#123;</span><br><span class=\"line\">    doGet(req, resp);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<ul>\n<li>\n<p><code>web.xml</code></p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">web-app</span> <span class=\"meta-keyword\">PUBLIC</span></span></span><br><span class=\"line\"><span class=\"meta\">    <span class=\"meta-string\">&quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;</span></span></span><br><span class=\"line\"><span class=\"meta\">    <span class=\"meta-string\">&quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot;</span> &gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">web-app</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">display-name</span>&gt;</span>Archetype Created Web Application<span class=\"tag\">&lt;/<span class=\"name\">display-name</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">servlet</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">servlet-name</span>&gt;</span>setSession<span class=\"tag\">&lt;/<span class=\"name\">servlet-name</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">servlet-class</span>&gt;</span>servlet.SetSession<span class=\"tag\">&lt;/<span class=\"name\">servlet-class</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">servlet</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">servlet</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">servlet-name</span>&gt;</span>getSession<span class=\"tag\">&lt;/<span class=\"name\">servlet-name</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">servlet-class</span>&gt;</span>servlet.GetSession<span class=\"tag\">&lt;/<span class=\"name\">servlet-class</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">servlet</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">servlet-mapping</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">servlet-name</span>&gt;</span>setSession<span class=\"tag\">&lt;/<span class=\"name\">servlet-name</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">url-pattern</span>&gt;</span>/setSession<span class=\"tag\">&lt;/<span class=\"name\">url-pattern</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">servlet-mapping</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">servlet-mapping</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">servlet-name</span>&gt;</span>getSession<span class=\"tag\">&lt;/<span class=\"name\">servlet-name</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">url-pattern</span>&gt;</span>/getSession<span class=\"tag\">&lt;/<span class=\"name\">url-pattern</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">servlet-mapping</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n</li>\n<li>\n<p>session æœ‰æ•ˆæœŸé—®é¢˜ </p>\n<ul>\n<li>\n<p> é»˜è®¤å¤±æ•ˆæ—¶é—´æ˜¯ 30 åˆ†é’Ÿ </p>\n</li>\n<li>\n<p> æ˜¯ä» session æ–­å¼€è¿æ¥ (æµè§ˆå™¨å…³é—­å¼€å§‹è®¡ç®—çš„), è€Œä¸æ˜¯ä» session è¿æ¥å¼€å§‹è®¡ç®— </p>\n</li>\n<li>\n<p> å¯ä»¥åœ¨ web.xml ä¸­è®¾ç½® </p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">session-config</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">session-timeout</span>&gt;</span>1<span class=\"tag\">&lt;/<span class=\"name\">session-timeout</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">session-config</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<blockquote>\n<p><a href=\"https://blog.csdn.net/fanbingfu/article/details/78318855\"> å…³äº session çš„å¤±æ•ˆæ—¶é—´å’Œè¿‡æœŸ </a></p>\n</blockquote>\n</li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"JSP\">JSP</h2>\n<h3 id=\"ä»‹ç»\"> ä»‹ç» </h3>\n<ul>\n<li>\n<p>JSP (Java Server Pages), å†™æ³•ç±»ä¼¼ HTML çš„åŠ¨æ€ Java é¡µé¢ </p>\n</li>\n<li>\n<p> æœ€ç»ˆ JSP ä¼šè¢«è½¬æ¢ä¸ºä¸€ä¸ª Java ç±», å®é™…ä¸Šæœ¬è´¨å°±æ˜¯ <code>Servlet çš„ç®€åŒ–å®ç° </code>.</p>\n<ul>\n<li>\n<p><code>*.jsp -&gt; *.java -&gt; *.class</code></p>\n<blockquote>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVtmc0.png\" alt=\"20210403111103\" />\n</blockquote>\n</li>\n</ul>\n<hr>\n</li>\n<li>\n<p>jsp è½¬æ¢ä¸ºçš„ java æ–‡ä»¶æ ¸å¿ƒéƒ¨åˆ†:</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// åˆå§‹åŒ– </span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">_jspInit</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// é”€æ¯ </span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">_jspDestroy</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//JSPService</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">_jspService</span><span class=\"params\">(HttpServletRequest request,HttpServletResponse response)</span></span></span><br></pre></td></tr></table></figure>\n<hr>\n</li>\n<li>\n<p>JSPService å†…åˆå§‹åŒ–çš„å¯¹è±¡ </p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">final</span> javax.servlet.jsp.PageContext pageContext;  <span class=\"comment\">// é¡µé¢ä¸Šä¸‹æ–‡ </span></span><br><span class=\"line\">javax.servlet.http.HttpSession session = <span class=\"keyword\">null</span>;    <span class=\"comment\">//session</span></span><br><span class=\"line\"><span class=\"keyword\">final</span> javax.servlet.ServletContext application;   <span class=\"comment\">//Context-&gt;application</span></span><br><span class=\"line\"><span class=\"keyword\">final</span> javax.servlet.ServletConfig config;         <span class=\"comment\">//config</span></span><br><span class=\"line\">javax.servlet.jsp.JspWriter out = <span class=\"keyword\">null</span>;           <span class=\"comment\">//writer-&gt;out</span></span><br><span class=\"line\"><span class=\"keyword\">final</span> java.lang.Object page = <span class=\"keyword\">this</span>;               <span class=\"comment\">// å½“å‰é¡µé¢ -&gt;page</span></span><br><span class=\"line\">HttpServletRequest request                        <span class=\"comment\">// è¯·æ±‚ </span></span><br><span class=\"line\">HttpServletResponse response                      <span class=\"comment\">// å“åº” </span></span><br><span class=\"line\"></span><br><span class=\"line\">response.setContentType(<span class=\"string\">&quot;text/html&quot;</span>);</span><br><span class=\"line\">pageContext = _jspxFactory.getPageContext(<span class=\"keyword\">this</span>, request, response,<span class=\"keyword\">null</span>, <span class=\"keyword\">true</span>, <span class=\"number\">8192</span>, <span class=\"keyword\">true</span>);</span><br><span class=\"line\">_jspx_page_context = pageContext;</span><br><span class=\"line\">application = pageContext.getServletContext();</span><br><span class=\"line\">config = pageContext.getServletConfig();</span><br><span class=\"line\">session = pageContext.getSession();</span><br><span class=\"line\">out = pageContext.getOut();</span><br><span class=\"line\">_jspx_out = out;</span><br></pre></td></tr></table></figure>\n<hr>\n</li>\n<li>\n<p>JSP ä¸­å¯ä»¥å†™ Java ä»£ç ,Java ä»£ç ä¼šåŸå°ä¸åŠ¨çš„æ­£å¸¸æ‰§è¡Œ </p>\n<ul>\n<li>HTML ä»£ç åœ¨ JSP-&gt;Java æ—¶ä¼šè¢«è½¬æ¢æˆ <code>out.write(&quot;&lt;html&gt;\\r\\n&quot;);</code> è¿™ç§å½¢å¼.</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h3 id=\"ä¾èµ–å¯¼å…¥\"> ä¾èµ–å¯¼å…¥ </h3>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- servlet ä¾èµ– --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>javax.servlet<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>javax.servlet-api<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>4.0.1<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">scope</span>&gt;</span>provided<span class=\"tag\">&lt;/<span class=\"name\">scope</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- JSP ä¾èµ– --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>javax.servlet.jsp<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>javax.servlet.jsp-api<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>2.3.3<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">scope</span>&gt;</span>provided<span class=\"tag\">&lt;/<span class=\"name\">scope</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- JSTL è¡¨è¾¾å¼ä¾èµ– --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>javax.servlet<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>jstl<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>1.2<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- Standard æ ‡ç­¾åº“ --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>taglibs<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>standard<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>1.1.2<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"åŸºæœ¬è¯­æ³• -2\"> åŸºæœ¬è¯­æ³• </h3>\n<figure class=\"highlight jsp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;%@ page <span class=\"keyword\">import</span>=<span class=\"string\">&quot;java.util.Date&quot;</span> %&gt;</span><br><span class=\"line\">&lt;%@ page contentType=<span class=\"string\">&quot;text/html;charset=UTF-8&quot;</span> language=<span class=\"string\">&quot;java&quot;</span> %&gt;</span><br><span class=\"line\">&lt;html&gt;</span><br><span class=\"line\">  &lt;head&gt;</span><br><span class=\"line\">    &lt;title&gt; æµ‹è¯• &lt;/title&gt;</span><br><span class=\"line\">  &lt;/head&gt;</span><br><span class=\"line\">  &lt;body&gt;</span><br><span class=\"line\">    &lt;!-- è¿™æ˜¯ HTML çš„æ³¨é‡Š, ä¼šåœ¨å®¢æˆ·ç«¯æ˜¾ç¤º --&gt;</span><br><span class=\"line\">    &lt;%-- è¿™æ˜¯ JSP æ³¨é‡Š, ä¸ä¼šåœ¨å®¢æˆ·ç«¯æ˜¾ç¤º --%&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;!--</span><br><span class=\"line\">      JSP è¡¨è¾¾å¼: ç”¨æ¥å°†ç¨‹åºè¾“å‡ºåˆ°å®¢æˆ·ç«¯ </span><br><span class=\"line\">      &lt;%= <span class=\"string\">&quot; å˜é‡æˆ–è€…è¡¨è¾¾å¼ &quot;</span>%&gt;</span><br><span class=\"line\">    --&gt;</span><br><span class=\"line\">    &lt;%= <span class=\"keyword\">new</span> Date()%&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;!--</span><br><span class=\"line\">      JSP è„šæœ¬ç‰‡æ®µ </span><br><span class=\"line\">      &lt;% jsp è„šæœ¬ç‰‡æ®µ %&gt;</span><br><span class=\"line\">    --&gt;</span><br><span class=\"line\">    &lt;%</span><br><span class=\"line\">      <span class=\"keyword\">int</span> sum = <span class=\"number\">0</span>;</span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">1</span>; i &lt;=<span class=\"number\">100</span> ; i++) &#123; sum+=i; &#125;</span><br><span class=\"line\">      out.println(<span class=\"string\">&quot;&lt;h1&gt;Sum=&quot;</span>+sum+<span class=\"string\">&quot;&lt;/h1&gt;&quot;</span>);</span><br><span class=\"line\">    %&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;!--</span><br><span class=\"line\">      JSP å£°æ˜ </span><br><span class=\"line\">      ä¼šè¢«ç¼–è¯‘åˆ° JSP ç”Ÿæˆ Java çš„ç±»ä¸­ï¼å…¶ä»–çš„ï¼Œå°±ä¼šè¢«ç”Ÿæˆåˆ°_jspService æ–¹æ³•ä¸­ï¼</span><br><span class=\"line\">    --&gt;</span><br><span class=\"line\">    &lt;%!</span><br><span class=\"line\">      <span class=\"keyword\">static</span> &#123;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;Loading Servlet!&quot;</span>);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">private</span> <span class=\"keyword\">int</span> globalVar = <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">kuang</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot; è¿›å…¥äº†æ–¹æ³• Kuangï¼&quot;</span>);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    %&gt;</span><br><span class=\"line\">  &lt;/body&gt;</span><br><span class=\"line\">&lt;/html&gt;</span><br></pre></td></tr></table></figure>\n<hr>\n<script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kity@2.0.4/dist/kity.min.js\"></script><script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js\"></script><script defer=\"true\" type=\"text&#x2F;javascript\" src=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js\"></script><link rel=\"stylesheet\" type=\"text&#x2F;css\" href=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css\">",
            "tags": [
                "java",
                "ç¬”è®°",
                "æœåŠ¡å™¨",
                "javaweb",
                "servlet",
                "cookie",
                "session",
                "jsp"
            ]
        },
        {
            "id": "https://weidows.github.io/post/Java/Web/2/",
            "url": "https://weidows.github.io/post/Java/Web/2/",
            "title": "ğŸ¥¼JavaWeb~(è´°)->Servlet",
            "date_published": "2021-03-29T09:45:58.000Z",
            "content_html": "<!--\n * @?: *********************************************************************\n * @Author: Weidows\n * @LastEditors: Weidows\n * @LastEditTime: 2021-05-01 00:23:51\n * @FilePath: \\Weidowsd:\\Game\\Github\\Blog-private\\source\\_posts\\Java\\Web\\2.md\n * @Description:\n * @!: *********************************************************************\n-->\n<ul>\n<li><a href=\"#%E7%AC%94%E8%AE%B0%E4%BB%A3%E7%A0%81\">ç¬”è®°ä»£ç </a></li>\n<li><a href=\"#servlet\">Servlet</a>\n<ul>\n<li><a href=\"#%E8%AF%B7%E6%B1%82%E8%BD%AC%E5%8F%91\">è¯·æ±‚è½¬å‘</a></li>\n<li><a href=\"#%E8%AF%BB%E5%8F%96-properties\">è¯»å– properties</a></li>\n<li><a href=\"#httpservletresponse\">HttpServletResponse</a>\n<ul>\n<li><a href=\"#%E5%93%8D%E5%BA%94\">å“åº”</a></li>\n<li><a href=\"#%E4%B8%8B%E8%BD%BD%E6%96%87%E4%BB%B6\">ä¸‹è½½æ–‡ä»¶</a></li>\n<li><a href=\"#%E9%AA%8C%E8%AF%81%E7%A0%81\">éªŒè¯ç </a></li>\n<li><a href=\"#%E9%87%8D%E5%AE%9A%E5%90%91\">é‡å®šå‘</a></li>\n<li><a href=\"#%E8%A1%A8%E5%8D%95%E6%8F%90%E4%BA%A4%E5%93%8D%E5%BA%94\">è¡¨å•æäº¤ + å“åº”</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"ç¬”è®°ä»£ç  -4\"><a href=\"https://github.com/Weidows/Java/tree/master/JavaWeb\">ç¬”è®°ä»£ç </a></h2>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"Servlet-2\">Servlet</h2>\n<h3 id=\"è¯·æ±‚è½¬å‘\">è¯·æ±‚è½¬å‘</h3>\n<ul>\n<li>\n<p>æŠŠ <code>/helloParameter</code> è½¬å‘åˆ° <code>/HelloDispatcher</code></p>\n<ul>\n<li>\n<p>è½¬å‘åè¿™ä¸¤ä¸ªåœ°å€éƒ½ä¼šæ˜¾ç¤º <code>/helloParameter</code> çš„å†…å®¹</p>\n</li>\n<li>\n<p>å¦å¤–ä¸€ä¸ªæ‰‹æ®µ: <code>é‡å®šå‘</code> , é‡å®šå‘ä¹‹ååŸåœ°å€å°±ä¸å¯è®¿é—®äº†</p>\n</li>\n</ul>\n<hr>\n</li>\n<li>\n<p><code>src/main/java/com/weidows/HelloDispatcher.java</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.ServletContext;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.ServletException;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpServlet;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.IOException;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">HelloDispatcher</span> <span class=\"keyword\">extends</span> <span class=\"title\">HttpServlet</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"meta\">@Override</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">doGet</span><span class=\"params\">(HttpServletRequest req, HttpServletResponse resp)</span> <span class=\"keyword\">throws</span> ServletException, IOException </span>&#123;</span><br><span class=\"line\">    ServletContext context = <span class=\"keyword\">this</span>.getServletContext();</span><br><span class=\"line\">    context.getRequestDispatcher(<span class=\"string\">&quot;/helloParameter&quot;</span>).forward(req, resp);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n</li>\n<li>\n<p><code>web.xml</code> (åœ¨ä¸Šé¢ <code> åˆå§‹åŒ–å‚æ•° </code> åŸºç¡€ä¸Šæ·»åŠ çš„)</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">web-app</span> <span class=\"meta-keyword\">PUBLIC</span></span></span><br><span class=\"line\"><span class=\"meta\">    <span class=\"meta-string\">&quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;</span></span></span><br><span class=\"line\"><span class=\"meta\">    <span class=\"meta-string\">&quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot;</span> &gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">web-app</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">display-name</span>&gt;</span>Archetype Created Web Application<span class=\"tag\">&lt;/<span class=\"name\">display-name</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">servlet</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">servlet-name</span>&gt;</span>HelloDispatcher<span class=\"tag\">&lt;/<span class=\"name\">servlet-name</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">servlet-class</span>&gt;</span>com.weidows.HelloDispatcher<span class=\"tag\">&lt;/<span class=\"name\">servlet-class</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">servlet</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">servlet-mapping</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">servlet-name</span>&gt;</span>HelloDispatcher<span class=\"tag\">&lt;/<span class=\"name\">servlet-name</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">url-pattern</span>&gt;</span>/HelloDispatcher<span class=\"tag\">&lt;/<span class=\"name\">url-pattern</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">servlet-mapping</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<h3 id=\"è¯»å– -properties\">è¯»å– properties</h3>\n<blockquote>\n<p>æˆ‘ä»¬å¼€å‘çš„é¡¹ç›®éœ€è¦è¿›è¡Œæ‰“åŒ…å¤„ç†, æ‰€ä»¥ä¸èƒ½ç›´æ¥å¼•ç”¨ <code>src/</code> é‡Œé¢çš„èµ„æº, éœ€è¦å¼•ç”¨å¯¹åº” <code>target/</code> å†…éƒ¨çš„.</p>\n</blockquote>\n<ul>\n<li>\n<p>è¿™ç§èµ„æºæ–‡ä»¶ä¸€èˆ¬æ”¾åœ¨ <code>src/main/resources</code> é‡Œé¢, å¦‚æœæ”¾åœ¨ <code>src/main/java</code>é‡Œé¢é»˜è®¤æƒ…å†µä¸‹ä¼šå‡ºç°æ— æ³•è¢« maven å¯¼å‡ºçš„æƒ…å†µ (é€šå¸¸æˆ‘ä»¬ç§° resources å’Œ java ä¸º classpath)</p>\n<ul>\n<li>\n<p><code>src/main/java</code> é‡Œé¢é»˜è®¤æƒ…å†µä¸‹åªä¼šç¼–è¯‘å¹¶å¯¼å‡º <code>*.java</code>, ä¸ä¼šç®¡å…¶ä»–ç±»å‹æ–‡ä»¶, å¯ä»¥ä¿®æ”¹ pom.xml æ¥ä½¿ä¹‹ç”Ÿæ•ˆ:</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">build</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">resources</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">resource</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">directory</span>&gt;</span>src/main/java<span class=\"tag\">&lt;/<span class=\"name\">directory</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">includes</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">include</span>&gt;</span>**/*.properties<span class=\"tag\">&lt;/<span class=\"name\">include</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">include</span>&gt;</span>**/*.xml<span class=\"tag\">&lt;/<span class=\"name\">include</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">includes</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">filtering</span>&gt;</span>true<span class=\"tag\">&lt;/<span class=\"name\">filtering</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">resource</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">resources</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">build</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n</li>\n<li>\n<p>ç”Ÿæˆæ–‡ä»¶è·¯å¾„:</p>\n<ul>\n<li>\n<p>å¦‚æœæ”¾åœ¨ resources ä¸­, å…¶ç”Ÿæˆè·¯å¾„ä¸º <code>target/demo-2/WEB-INF/classes/db.properties</code></p>\n</li>\n<li>\n<p>å¦‚æœæ”¾åœ¨ java ä¸­, ç”Ÿæˆè·¯å¾„ä¸º <code>target/demo-2/WEB-INF/classes/com/weidows/db.properties</code></p>\n</li>\n</ul>\n<hr>\n</li>\n<li>\n<p>ä¾‹å­: è¯»å–æ‰“åŒ…åçš„ properties å¹¶æ˜¾ç¤º.</p>\n<ul>\n<li>\n<p><code>src/main/java/com/weidows/HelloProperties.java</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.io.IOException;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.Properties;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.ServletException;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpServlet;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">HelloProperties</span> <span class=\"keyword\">extends</span> <span class=\"title\">HttpServlet</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   *</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> <span class=\"keyword\">long</span> serialVersionUID = -<span class=\"number\">437042901757770674L</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Override</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">doGet</span><span class=\"params\">(HttpServletRequest req, HttpServletResponse resp)</span> <span class=\"keyword\">throws</span> ServletException, IOException </span>&#123;</span><br><span class=\"line\">    Properties prop = <span class=\"keyword\">new</span> Properties();</span><br><span class=\"line\">    <span class=\"comment\">// ç”Ÿæˆåçš„è·¯å¾„: target/demo-2/WEB-INF/classes/db.properties</span></span><br><span class=\"line\">    prop.load(<span class=\"keyword\">this</span>.getServletContext().getResourceAsStream(<span class=\"string\">&quot;/WEB-INF/classes/db.properties&quot;</span>));</span><br><span class=\"line\"></span><br><span class=\"line\">    String user = prop.getProperty(<span class=\"string\">&quot;username&quot;</span>);</span><br><span class=\"line\">    String pwd = prop.getProperty(<span class=\"string\">&quot;password&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    resp.getWriter().print(<span class=\"string\">&quot;username: &quot;</span> + user + <span class=\"string\">&quot;\\npassword: &quot;</span> + pwd);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<ul>\n<li>\n<p><code>src/main/resources/db.properties</code></p>\n<figure class=\"highlight properties\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">username</span>=<span class=\"string\">root</span></span><br><span class=\"line\"><span class=\"attr\">password</span>=<span class=\"string\">123456</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<ul>\n<li>\n<p><code>web.xml</code></p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">web-app</span> <span class=\"meta-keyword\">PUBLIC</span></span></span><br><span class=\"line\"><span class=\"meta\">    <span class=\"meta-string\">&quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;</span></span></span><br><span class=\"line\"><span class=\"meta\">    <span class=\"meta-string\">&quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot;</span> &gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">web-app</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">display-name</span>&gt;</span>Archetype Created Web Application<span class=\"tag\">&lt;/<span class=\"name\">display-name</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">servlet</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">servlet-name</span>&gt;</span>helloProperties<span class=\"tag\">&lt;/<span class=\"name\">servlet-name</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">servlet-class</span>&gt;</span>com.weidows.HelloProperties<span class=\"tag\">&lt;/<span class=\"name\">servlet-class</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">servlet</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">servlet-mapping</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">servlet-name</span>&gt;</span>helloProperties<span class=\"tag\">&lt;/<span class=\"name\">servlet-name</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">url-pattern</span>&gt;</span>/helloProperties<span class=\"tag\">&lt;/<span class=\"name\">url-pattern</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">servlet-mapping</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h3 id=\"HttpServletResponse\">HttpServletResponse</h3>\n<ul>\n<li>\n<p>Web æœåŠ¡å™¨æ¥æ”¶åˆ° http è¯·æ±‚ä¿¡æ¯, ä¼šåˆ›å»º HttpServletRequest å’Œ HttpServletResponse çš„ä¸¤ä¸ªå¯¹è±¡</p>\n<ul>\n<li>\n<p>å‰è€…è´Ÿè´£å®¢æˆ·ç«¯ä¼ æ¥çš„å‚æ•°</p>\n</li>\n<li>\n<p>åè€…è´Ÿè´£æœåŠ¡ç«¯å“åº”çš„ä¿¡æ¯</p>\n</li>\n</ul>\n<hr>\n</li>\n</ul>\n<h4 id=\"å“åº”\">å“åº”</h4>\n<ul>\n<li>\n<p>å‘æµè§ˆå™¨å‘é€æ•°æ®çš„æ–¹æ³•:</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\">ServletOutputstream <span class=\"title\">getOutputstream</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> IOException</span></span><br><span class=\"line\"><span class=\"function\">Printwriter <span class=\"title\">getwriter</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> IOException</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>è´Ÿè´£å‘æµè§ˆå™¨å‘é€å“åº”å¤´çš„æ–¹æ³•:</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">setCharacterEncoding</span><span class=\"params\">(String var1)</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">setContentLength</span><span class=\"params\">(<span class=\"keyword\">int</span> var1)</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">setContentLengthLong</span><span class=\"params\">(<span class=\"keyword\">long</span> var1)</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">setContentType</span><span class=\"params\">(String var1)</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">setDateHeader</span><span class=\"params\">(String varl,<span class=\"keyword\">long</span> var2)</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">addDateHeader</span><span class=\"params\">(String var1,<span class=\"keyword\">long</span> var2)</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">setHeader</span><span class=\"params\">(String var1,String var2)</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">addHeader</span><span class=\"params\">(String var1,String var2)</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">setIntHeader</span><span class=\"params\">(String var1,<span class=\"keyword\">int</span> var2)</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">addIntHeader</span><span class=\"params\">(String varl,<span class=\"keyword\">int</span> var2)</span></span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<h4 id=\"ä¸‹è½½æ–‡ä»¶\">ä¸‹è½½æ–‡ä»¶</h4>\n<ul>\n<li>\n<p><code>src/main/java/servlet/FileServlet.java</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.io.FileInputStream;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.IOException;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.net.URLEncoder;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.ServletException;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.ServletOutputStream;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpServlet;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">FileServlet</span> <span class=\"keyword\">extends</span> <span class=\"title\">HttpServlet</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   *</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> <span class=\"keyword\">long</span> serialVersionUID = -<span class=\"number\">2643615496012694161L</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Override</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">doGet</span><span class=\"params\">(HttpServletRequest req, HttpServletResponse resp)</span> <span class=\"keyword\">throws</span> ServletException, IOException </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// 1. è¦è·å–ä¸‹è½½æ–‡ä»¶çš„è·¯å¾„ </span></span><br><span class=\"line\">    String realPath = <span class=\"keyword\">this</span>.getServletContext().getRealPath(<span class=\"string\">&quot;/WEB-INF/classes/test.txt&quot;</span>);</span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot; ä¸‹è½½æ–‡ä»¶çš„è·¯å¾„ï¼š&quot;</span> + realPath);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 2. ä¸‹è½½çš„æ–‡ä»¶å</span></span><br><span class=\"line\">    String fileName = realPath.substring(realPath.lastIndexOf(<span class=\"string\">&quot;\\\\&quot;</span>) + <span class=\"number\">1</span>);</span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot; æ–‡ä»¶å: &quot;</span> + fileName);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 3. è®¾ç½®æƒ³åŠæ³•è®©æµè§ˆå™¨èƒ½å¤Ÿæ”¯æŒ(Content-Disposition) ä¸‹è½½æˆ‘ä»¬éœ€è¦çš„ä¸œè¥¿, ä¸­æ–‡æ–‡ä»¶å URLEncoder.encode ç¼–ç ï¼Œå¦åˆ™æœ‰å¯èƒ½ä¹±ç </span></span><br><span class=\"line\">    resp.setHeader(<span class=\"string\">&quot;Content-Disposition&quot;</span>, <span class=\"string\">&quot;attachment;filename=&quot;</span> + URLEncoder.encode(fileName, <span class=\"string\">&quot;UTF-8&quot;</span>));</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 4. è·å–ä¸‹è½½æ–‡ä»¶çš„è¾“å…¥æµ</span></span><br><span class=\"line\">    FileInputStream in = <span class=\"keyword\">new</span> FileInputStream(realPath);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 5. åˆ›å»ºç¼“å†²åŒº</span></span><br><span class=\"line\">    <span class=\"keyword\">int</span> len = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">byte</span>[] buffer = <span class=\"keyword\">new</span> <span class=\"keyword\">byte</span>[<span class=\"number\">1024</span>];</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 6. è·å– OutputStream å¯¹è±¡</span></span><br><span class=\"line\">    ServletOutputStream out = resp.getOutputStream();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 7. å°† FileOutputStream æµå†™å…¥åˆ° buffer ç¼“å†²åŒº, ä½¿ç”¨ OutputStream å°†ç¼“å†²åŒºä¸­çš„æ•°æ®è¾“å‡ºåˆ°å®¢æˆ·ç«¯ï¼</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> ((len = in.read(buffer)) &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">      out.write(buffer, <span class=\"number\">0</span>, len);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 8. å…³é—­è¿æ¥</span></span><br><span class=\"line\">    in.close();</span><br><span class=\"line\">    out.close();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Override</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">doPost</span><span class=\"params\">(HttpServletRequest req, HttpServletResponse resp)</span> <span class=\"keyword\">throws</span> ServletException, IOException </span>&#123;</span><br><span class=\"line\">    doGet(req, resp);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n</li>\n<li>\n<p><code>src/main/resources/test.txt</code></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">æ­¤å¤„å†…å®¹éšæ„, æ¯”å¦‚å†™ä¸ª &quot; æµ‹è¯• &quot;.</span><br></pre></td></tr></table></figure>\n<hr>\n</li>\n<li>\n<p><code>web.xml</code></p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">web-app</span> <span class=\"meta-keyword\">PUBLIC</span></span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-string\">&quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;</span></span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-string\">&quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot;</span> &gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">web-app</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">display-name</span>&gt;</span>Archetype Created Web Application<span class=\"tag\">&lt;/<span class=\"name\">display-name</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">servlet</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">servlet-name</span>&gt;</span>fileServlet<span class=\"tag\">&lt;/<span class=\"name\">servlet-name</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">servlet-class</span>&gt;</span>servlet.FileServlet<span class=\"tag\">&lt;/<span class=\"name\">servlet-class</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">servlet</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">servlet-mapping</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">servlet-name</span>&gt;</span>fileServlet<span class=\"tag\">&lt;/<span class=\"name\">servlet-name</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">url-pattern</span>&gt;</span>/fileServlet<span class=\"tag\">&lt;/<span class=\"name\">url-pattern</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">servlet-mapping</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<h4 id=\"éªŒè¯ç \">éªŒè¯ç </h4>\n<ul>\n<li>\n<p><code>src/main/java/servlet/ImageServlet.java</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> javax.imageio.ImageIO;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.ServletException;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpServlet;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.awt.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.awt.image.BufferedImage;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.IOException;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.Random;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">ImageServlet</span> <span class=\"keyword\">extends</span> <span class=\"title\">HttpServlet</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   *</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> <span class=\"keyword\">long</span> serialVersionUID = <span class=\"number\">4590298452958016399L</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Override</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">doGet</span><span class=\"params\">(HttpServletRequest req, HttpServletResponse resp)</span> <span class=\"keyword\">throws</span> ServletException, IOException </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// å¦‚ä½•è®©æµè§ˆå™¨ 3 ç§’è‡ªåŠ¨åˆ·æ–°ä¸€æ¬¡;</span></span><br><span class=\"line\">    resp.setHeader(<span class=\"string\">&quot;refresh&quot;</span>, <span class=\"string\">&quot;3&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// åœ¨å†…å­˜ä¸­åˆ›å»ºä¸€ä¸ªå›¾ç‰‡</span></span><br><span class=\"line\">    BufferedImage image = <span class=\"keyword\">new</span> BufferedImage(<span class=\"number\">80</span>, <span class=\"number\">20</span>, BufferedImage.TYPE_INT_RGB);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// å¾—åˆ°å›¾ç‰‡</span></span><br><span class=\"line\">    Graphics2D graphics = (Graphics2D) image.getGraphics(); <span class=\"comment\">// ç¬”</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// è®¾ç½®å›¾ç‰‡çš„èƒŒæ™¯é¢œè‰²</span></span><br><span class=\"line\">    graphics.setColor(Color.white);</span><br><span class=\"line\">    graphics.fillRect(<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">80</span>, <span class=\"number\">20</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// ç»™å›¾ç‰‡å†™æ•°æ®</span></span><br><span class=\"line\">    graphics.setColor(Color.BLUE);</span><br><span class=\"line\">    graphics.setFont(<span class=\"keyword\">new</span> Font(<span class=\"keyword\">null</span>, Font.BOLD, <span class=\"number\">20</span>));</span><br><span class=\"line\">    graphics.drawString(makeNum(), <span class=\"number\">0</span>, <span class=\"number\">20</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// å‘Šè¯‰æµè§ˆå™¨ï¼Œè¿™ä¸ªè¯·æ±‚ç”¨å›¾ç‰‡çš„æ–¹å¼æ‰“å¼€</span></span><br><span class=\"line\">    resp.setContentType(<span class=\"string\">&quot;image/jpeg&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// ç½‘ç«™å­˜åœ¨ç¼“å­˜ï¼Œä¸è®©æµè§ˆå™¨ç¼“å­˜</span></span><br><span class=\"line\">    resp.setDateHeader(<span class=\"string\">&quot;expires&quot;</span>, -<span class=\"number\">1</span>);</span><br><span class=\"line\">    resp.setHeader(<span class=\"string\">&quot;Cache-Control&quot;</span>, <span class=\"string\">&quot;no-cache&quot;</span>);</span><br><span class=\"line\">    resp.setHeader(<span class=\"string\">&quot;Pragma&quot;</span>, <span class=\"string\">&quot;no-cache&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// æŠŠå›¾ç‰‡å†™ç»™æµè§ˆå™¨</span></span><br><span class=\"line\">    ImageIO.write(image, <span class=\"string\">&quot;jpg&quot;</span>, resp.getOutputStream());</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// ç”Ÿæˆéšæœºæ•°</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">private</span> String <span class=\"title\">makeNum</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    Random random = <span class=\"keyword\">new</span> Random();</span><br><span class=\"line\">    String num = random.nextInt(<span class=\"number\">9999999</span>) + <span class=\"string\">&quot;&quot;</span>;</span><br><span class=\"line\">    StringBuffer sb = <span class=\"keyword\">new</span> StringBuffer();</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">7</span> - num.length(); i++) &#123;</span><br><span class=\"line\">      sb.append(<span class=\"string\">&quot;0&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    num = sb.toString() + num;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> num;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Override</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">doPost</span><span class=\"params\">(HttpServletRequest req, HttpServletResponse resp)</span> <span class=\"keyword\">throws</span> ServletException, IOException </span>&#123;</span><br><span class=\"line\">    doGet(req, resp);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n</li>\n<li>\n<p><code>web.xml</code></p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">web-app</span> <span class=\"meta-keyword\">PUBLIC</span></span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-string\">&quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;</span></span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-string\">&quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot;</span> &gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">web-app</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">display-name</span>&gt;</span>Archetype Created Web Application<span class=\"tag\">&lt;/<span class=\"name\">display-name</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">servlet</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">servlet-name</span>&gt;</span>imageServlet<span class=\"tag\">&lt;/<span class=\"name\">servlet-name</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">servlet-class</span>&gt;</span>servlet.ImageServlet<span class=\"tag\">&lt;/<span class=\"name\">servlet-class</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">servlet</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">servlet-mapping</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">servlet-name</span>&gt;</span>imageServlet<span class=\"tag\">&lt;/<span class=\"name\">servlet-name</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">url-pattern</span>&gt;</span>/imageServlet<span class=\"tag\">&lt;/<span class=\"name\">url-pattern</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">servlet-mapping</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<h4 id=\"é‡å®šå‘\">é‡å®šå‘</h4>\n<ul>\n<li>\n<p>è®¿é—®ä¸€ä¸ªé¡µé¢æ—¶è·³è½¬åˆ°å¦ä¸€ä¸ªé¡µé¢</p>\n</li>\n<li>\n<p><code>src/main/java/servlet/RedirectServlet.java</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.ServletException;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpServlet;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.IOException;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">RedirectServlet</span> <span class=\"keyword\">extends</span> <span class=\"title\">HttpServlet</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"meta\">@Override</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">doGet</span><span class=\"params\">(HttpServletRequest req, HttpServletResponse resp)</span> <span class=\"keyword\">throws</span> ServletException, IOException </span>&#123;</span><br><span class=\"line\">    resp.sendRedirect(<span class=\"string\">&quot;/&quot;</span>);<span class=\"comment\">// é‡å®šå‘</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Override</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">doPost</span><span class=\"params\">(HttpServletRequest req, HttpServletResponse resp)</span> <span class=\"keyword\">throws</span> ServletException, IOException </span>&#123;</span><br><span class=\"line\">    doGet(req, resp);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n</li>\n<li>\n<p><code>web.xml</code></p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">web-app</span> <span class=\"meta-keyword\">PUBLIC</span></span></span><br><span class=\"line\"><span class=\"meta\">    <span class=\"meta-string\">&quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;</span></span></span><br><span class=\"line\"><span class=\"meta\">    <span class=\"meta-string\">&quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot;</span> &gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">web-app</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">servlet</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">servlet-name</span>&gt;</span>redirect<span class=\"tag\">&lt;/<span class=\"name\">servlet-name</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">servlet-class</span>&gt;</span>servlet.RedirectServlet<span class=\"tag\">&lt;/<span class=\"name\">servlet-class</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">servlet</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">servlet-mapping</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">servlet-name</span>&gt;</span>redirect<span class=\"tag\">&lt;/<span class=\"name\">servlet-name</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">url-pattern</span>&gt;</span>/redirect<span class=\"tag\">&lt;/<span class=\"name\">url-pattern</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">servlet-mapping</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>è½¬å‘ &amp; é‡å®šå‘ ã® åŒºåˆ«</p>\n<ul>\n<li>è½¬å‘ URL ä¸ä¼šå˜åŒ–, é‡å®šå‘ä¼šå˜åŒ–</li>\n<li>è®¿é—®è½¬å‘çš„é¡µé¢æœ‰ä¸€ä¸ªè¯·æ±‚, é‡å®šå‘ä¼šäº§ç”Ÿå‰åä¸¤ä¸ªè¯·æ±‚, ç¬¬ä¸€ä¸ªè¯·æ±‚çŠ¶æ€ç æ˜¯ 302</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h4 id=\"è¡¨å•æäº¤ - å“åº”\">è¡¨å•æäº¤ + å“åº”</h4>\n<blockquote>\n<p><a href=\"https://blog.csdn.net/zhangliangzi/article/details/50131835\">Form è¡¨å•æ•°æ®ä¼ è¾“æ–¹å¼ä¹‹ Get ä¸ Post åŒºåˆ«</a></p>\n</blockquote>\n<ul>\n<li>\n<p>get ä¸ post åŒºåˆ«ä½“ç°åœ¨å®¢æˆ·ç«¯ &lt;â€“&gt; æœåŠ¡ç«¯ä¹‹é—´çš„ä¿¡æ¯ä¼ é€’</p>\n</li>\n<li>\n<p>æˆ‘ä»¬åœ¨ overwrite HttpServlet ç±»çš„ doGet &amp; doPost æ–¹æ³•æ—¶, æ˜¯åœ¨å¤„ç†é€šè¿‡ get/post æ¥æ”¶åˆ°è¯·æ±‚æˆ–ä¿¡æ¯åçš„ä¸šåŠ¡</p>\n</li>\n<li>\n<p>get/post å°±åƒä¸€ä¸ªå±‹å­çš„ä¸¤ä¸ªé—¨, è¿›é—¨çš„æ–¹å¼ä¸ä¸€æ ·, ä½†æ˜¯æ‰€è¿›å…¥çš„å±‹å­æ˜¯ä¸€æ ·çš„ (è®©ä»–ä¿©äº’ç›¸è°ƒç”¨, å¤„ç†ç›¸åŒçš„ä¸šåŠ¡)</p>\n</li>\n</ul>\n<hr>\n<ul>\n<li>\n<p>ä¾‹å­: å¼€å¯ Tomcat åè¿›å…¥ index.jsp é¡µé¢, è¾“å…¥è¡¨å•åæäº¤, ä¿¡æ¯ä»¥ post å½¢å¼ä¼ é€’ç»™ <code>/request</code> åç«¯, è¿™ä¸ªåŠ¨æ€é¡µé¢æ”¶åˆ°æ•°æ®å¹¶åœ¨é¡µé¢è¾“å‡º.</p>\n<ul>\n<li>\n<p><code>index.jsp</code></p>\n<figure class=\"highlight jsp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;html&gt;</span><br><span class=\"line\">&lt;body&gt;</span><br><span class=\"line\">&lt;form action=<span class=\"string\">&quot;/request&quot;</span> method=<span class=\"string\">&quot;post&quot;</span>&gt;</span><br><span class=\"line\">  &lt;label&gt;</span><br><span class=\"line\">    ç”¨æˆ·å:</span><br><span class=\"line\">    &lt;input type=<span class=\"string\">&quot;text&quot;</span> name=<span class=\"string\">&quot;username&quot;</span>/&gt;</span><br><span class=\"line\">  &lt;/label&gt; &lt;br/&gt;</span><br><span class=\"line\">  &lt;label&gt;</span><br><span class=\"line\">    å¯†ç :</span><br><span class=\"line\">    &lt;input type=<span class=\"string\">&quot;password&quot;</span> name=<span class=\"string\">&quot;password&quot;</span>/&gt;</span><br><span class=\"line\">  &lt;/label&gt; &lt;br/&gt;</span><br><span class=\"line\">  &lt;input type=<span class=\"string\">&quot;submit&quot;</span>/&gt;</span><br><span class=\"line\">&lt;/form&gt;</span><br><span class=\"line\">&lt;/body&gt;</span><br><span class=\"line\">&lt;/html&gt;</span><br></pre></td></tr></table></figure>\n<hr>\n</li>\n<li>\n<p><code>src/main/java/servlet/RequestServlet.java</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.ServletException;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpServlet;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.IOException;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.PrintWriter;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">RequestServlet</span> <span class=\"keyword\">extends</span> <span class=\"title\">HttpServlet</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"meta\">@Override</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">doGet</span><span class=\"params\">(HttpServletRequest req, HttpServletResponse resp)</span> <span class=\"keyword\">throws</span> ServletException, IOException </span>&#123;</span><br><span class=\"line\">    doPost(req, resp);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Override</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">doPost</span><span class=\"params\">(HttpServletRequest req, HttpServletResponse resp)</span> <span class=\"keyword\">throws</span> ServletException, IOException </span>&#123;</span><br><span class=\"line\">    String username = req.getParameter(<span class=\"string\">&quot;username&quot;</span>);</span><br><span class=\"line\">    String password = req.getParameter(<span class=\"string\">&quot;password&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    PrintWriter writer = resp.getWriter();</span><br><span class=\"line\">    writer.println(<span class=\"string\">&quot;Success get username &amp; password.&quot;</span>);</span><br><span class=\"line\">    writer.println(<span class=\"string\">&quot;username: &quot;</span> + username);</span><br><span class=\"line\">    writer.println(<span class=\"string\">&quot;password: &quot;</span> + password);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n</li>\n<li>\n<p><code>web.xml</code></p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">web-app</span> <span class=\"meta-keyword\">PUBLIC</span></span></span><br><span class=\"line\"><span class=\"meta\">    <span class=\"meta-string\">&quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;</span></span></span><br><span class=\"line\"><span class=\"meta\">    <span class=\"meta-string\">&quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot;</span> &gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">web-app</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">display-name</span>&gt;</span>Archetype Created Web Application<span class=\"tag\">&lt;/<span class=\"name\">display-name</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">servlet</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">servlet-name</span>&gt;</span>request<span class=\"tag\">&lt;/<span class=\"name\">servlet-name</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">servlet-class</span>&gt;</span>servlet.RequestServlet<span class=\"tag\">&lt;/<span class=\"name\">servlet-class</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">servlet</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">servlet-mapping</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">servlet-name</span>&gt;</span>request<span class=\"tag\">&lt;/<span class=\"name\">servlet-name</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">url-pattern</span>&gt;</span>/request<span class=\"tag\">&lt;/<span class=\"name\">url-pattern</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">servlet-mapping</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n</ul>\n<script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kity@2.0.4/dist/kity.min.js\"></script><script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js\"></script><script defer=\"true\" type=\"text&#x2F;javascript\" src=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js\"></script><link rel=\"stylesheet\" type=\"text&#x2F;css\" href=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css\">",
            "tags": [
                "java",
                "ç¬”è®°",
                "æœåŠ¡å™¨",
                "javaweb",
                "servlet"
            ]
        },
        {
            "id": "https://weidows.github.io/post/Java/Web/1/",
            "url": "https://weidows.github.io/post/Java/Web/1/",
            "title": "ğŸ¥¼JavaWeb~(å£¹) æ¢ç´¢ä¼ è¾“åè®®",
            "date_published": "2021-03-22T01:15:14.000Z",
            "content_html": "<!--\n * @?: *********************************************************************\n * @Author: Weidows\n * @LastEditors: Weidows\n * @LastEditTime: 2021-05-22 10:40:55\n * @FilePath: \\Weidowsd:\\Game\\Github\\Blog-private\\source\\_posts\\Java\\Web\\1.md\n * @Description:\n * @!: *********************************************************************\n-->\n<ul>\n<li><a href=\"#%E7%AC%94%E8%AE%B0%E4%BB%A3%E7%A0%81\">ç¬”è®°ä»£ç </a></li>\n<li><a href=\"#%E5%8F%82%E7%85%A7\">å‚ç…§</a></li>\n<li><a href=\"#%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5\">åŸºæœ¬æ¦‚å¿µ</a>\n<ul>\n<li><a href=\"#%E5%8A%A8%E9%9D%99%E6%80%81-web\">åŠ¨ / é™æ€ Web</a></li>\n<li><a href=\"#%E5%90%8E%E7%AB%AF%E6%8A%80%E6%9C%AF%E5%AF%B9%E6%AF%94\">åç«¯æŠ€æœ¯å¯¹æ¯”</a></li>\n<li><a href=\"#web-%E6%9C%8D%E5%8A%A1%E5%99%A8\">Web æœåŠ¡å™¨</a></li>\n</ul>\n</li>\n<li><a href=\"#http\">HTTP</a>\n<ul>\n<li><a href=\"#%E8%AF%B7%E6%B1%82%E8%A1%8C\">è¯·æ±‚è¡Œ</a></li>\n<li><a href=\"#%E6%B6%88%E6%81%AF%E5%A4%B4\">æ¶ˆæ¯å¤´</a></li>\n<li><a href=\"#%E5%93%8D%E5%BA%94%E4%BD%93\">å“åº”ä½“</a></li>\n<li><a href=\"#%E5%93%8D%E5%BA%94%E7%8A%B6%E6%80%81%E7%A0%81\">å“åº”çŠ¶æ€ç </a></li>\n</ul>\n</li>\n<li><a href=\"#maventomcat\">Maven+Tomcat</a></li>\n<li><a href=\"#servlet\">Servlet</a>\n<ul>\n<li><a href=\"#helloservlet\">HelloServlet</a></li>\n<li><a href=\"#%E6%9E%B6%E6%9E%84%E5%8E%9F%E7%90%86\">æ¶æ„åŸç†</a></li>\n<li><a href=\"#mapping\">Mapping</a></li>\n<li><a href=\"#%E5%88%9D%E5%A7%8B%E5%8C%96%E5%8F%82%E6%95%B0%E4%BA%86%E8%A7%A3\">åˆå§‹åŒ–å‚æ•°(äº†è§£)</a></li>\n</ul>\n</li>\n</ul>\n<h2 id=\"ç¬”è®°ä»£ç  -3\"><a href=\"https://github.com/Weidows/Java/tree/master/JavaWeb\">ç¬”è®°ä»£ç </a></h2>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"å‚ç…§ -8\">å‚ç…§</h2>\n<blockquote>\n<p>åœ¨æ­¤æ–‡ç« è®°å½•äº†: <a href=\"../../../others/LearnWay#javaweb\">ğŸ˜Weidows ã®æˆé•¿è·¯çº¿.#javaweb</a></p>\n</blockquote>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"åŸºæœ¬æ¦‚å¿µ\">åŸºæœ¬æ¦‚å¿µ</h2>\n<h3 id=\"åŠ¨ - é™æ€ -Web\">åŠ¨ / é™æ€ Web</h3>\n<ul>\n<li>\n<p>é™æ€ web</p>\n<ul>\n<li>\n<p>æ¯”å¦‚ hexo å°±æ˜¯é™æ€åšå®¢ç”Ÿæˆå™¨, å…¶ç”Ÿæˆçš„ HTML é¡µé¢æ–‡æ¡£æ ‘ä¸ä¼šå‘ç”Ÿæ”¹å˜</p>\n</li>\n<li>\n<p>ä¼šå› ä¸º js å‘ç”Ÿå†…å®¹æ€§çš„å˜åŒ–, ä½†ä¹Ÿæ˜¯é¢„è®¾æ€§çš„, å¹¶éåŠ¨æ€å˜åŒ–.</p>\n</li>\n<li>\n<p>åªèƒ½å®ç°åŠ¨ç”», ä¸èƒ½å®ç°åŠ¨æ€; æ— åç«¯, ä¹Ÿå°±æ˜¯æ— æ³•ä¸æ•°æ®åº“äº¤äº’, æ•°æ®ä¸èƒ½æŒä¹…åŒ–, æ— æ³•ä¸ç”¨æˆ·è¿›è¡Œä¿¡æ¯äº¤äº’</p>\n</li>\n</ul>\n<hr>\n</li>\n<li>\n<p>åŠ¨æ€ web</p>\n<ul>\n<li>\n<p>æ¯”å¦‚ WordPress, å®¢æˆ·ç«¯åŠ è½½çš„å†…å®¹ä¼šéšç€å®¢æˆ·ç«¯äº¤äº’è€Œäº§ç”Ÿå˜åŒ–</p>\n</li>\n<li>\n<p>æŠ€æœ¯æ ˆ: Java Servlet/JSP,<a href=\"http://ASP.NET\">ASP.NET</a>,PHP,Python,etc.</p>\n</li>\n<li>\n<p>èµ„æºå‡ºç°é—®é¢˜æ—¶å¯ä»¥åœæœºç»´æŠ¤, å¯ä»¥ä¸ç”¨æˆ·äº¤äº’, æ“ä½œæ•°æ®åº“æŒä¹…åŒ–ä¿¡æ¯.</p>\n</li>\n</ul>\n<hr>\n</li>\n<li>\n<p>JavaWeb åº”ç”¨åŒ…å«å¤šä¸ªéƒ¨åˆ†</p>\n<ul>\n<li>\n<p>html,sss,is</p>\n</li>\n<li>\n<p>jsp,servlet</p>\n</li>\n<li>\n<p>Java ç¨‹åº</p>\n</li>\n<li>\n<p>jar åŒ…</p>\n</li>\n<li>\n<p>é…ç½®æ–‡ä»¶ï¼ˆProperties)</p>\n</li>\n</ul>\n<blockquote>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVs8L1.png\" alt=\"20210322100531\" />\n</blockquote>\n</li>\n</ul>\n<hr>\n<h3 id=\"åç«¯æŠ€æœ¯å¯¹æ¯”\">åç«¯æŠ€æœ¯å¯¹æ¯”</h3>\n<ul>\n<li>\n<p>ASP</p>\n<p>å›½å†…æœ€æ—©æµè¡Œ, ä¸šåŠ¡ä»£ç é”™ä¹±, ç»´æŠ¤æˆæœ¬é«˜</p>\n</li>\n<li>\n<p>php</p>\n<p>å¼€å‘é€Ÿåº¦å¾ˆå¿«ï¼ŒåŠŸèƒ½å¼ºå¤§ï¼Œè·¨å¹³å°ï¼Œä»£ç ç®€å•; ä½†æ˜¯æ— æ³•æ‰¿è½½å¤§è®¿é—®é‡çš„æƒ…å†µ</p>\n</li>\n<li>\n<p>JSP/Servlet</p>\n<p>B/S æ¶æ„</p>\n<p>è¯­æ³•åƒ ASPï¼ŒASP+Java-&gt;JSP</p>\n<p>å¯ä»¥æ‰¿è½½ä¸‰é«˜é—®é¢˜å¸¦æ¥çš„å½±å“</p>\n</li>\n</ul>\n<hr>\n<h3 id=\"Web- æœåŠ¡å™¨\">Web æœåŠ¡å™¨</h3>\n<ul>\n<li>\n<p><a href=\"http://ASP.NET\">ASP.NET</a></p>\n<p>Windows ç³»ç»Ÿè‡ªå¸¦</p>\n</li>\n<li>\n<p>Tomcat</p>\n<p>Apache åŸºé‡‘ä¼šçš„é¡¹ç›®, åœ¨ä¸­å°å‹å¹¶å‘é‡åœºæ™¯ä¸‹æ™®éä½¿ç”¨</p>\n<blockquote>\n<p>ä¹‹å‰æœ‰ä¸ªæ–‡ç« ä»‹ç»äº† <a href=\"https://weidows.gitee.io/post/others/IDEs/#Tomcat\">ğŸ˜IDE é€‰ç”¨æŒ‡åŒ—.#Tomcat</a></p>\n</blockquote>\n<blockquote>\n<p>å¦å¤–, æ¨èä¸€ç¯‡æ–‡ç« : <a href=\"https://zhuanlan.zhihu.com/p/54121733\">Tomcat å¤–ä¼ </a></p>\n</blockquote>\n<ul>\n<li>\n<p>Tomcat é¡¹ç›®å±‚çº§ç»“æ„</p>\n<figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"bullet\">-</span> webapps ï¼šTomcat æœåŠ¡å™¨çš„ web ç›®å½•</span><br><span class=\"line\"><span class=\"bullet\">  -</span> ROOT ç½‘ç«™çš„æ ¹ç›®å½•</span><br><span class=\"line\"><span class=\"bullet\">  -</span> kuangstudy ï¼šç½‘ç«™çš„ç›®å½•å</span><br><span class=\"line\"><span class=\"bullet\">    -</span> WEB-INF</span><br><span class=\"line\"><span class=\"bullet\">      -</span> classes : java ç¨‹åº</span><br><span class=\"line\"><span class=\"bullet\">      -</span> lib : web åº”ç”¨æ‰€ä¾èµ–çš„ jar åŒ…</span><br><span class=\"line\"><span class=\"bullet\">      -</span> web.xml : ç½‘ç«™é…ç½®æ–‡ä»¶</span><br><span class=\"line\"><span class=\"bullet\">    -</span> index.html : é»˜è®¤çš„é¦–é¡µ</span><br><span class=\"line\"><span class=\"bullet\">    -</span> static</span><br><span class=\"line\"><span class=\"bullet\">      -</span> css</span><br><span class=\"line\"><span class=\"bullet\">        -</span> style.css</span><br><span class=\"line\"><span class=\"bullet\">      -</span> js</span><br><span class=\"line\"><span class=\"bullet\">      -</span> img</span><br><span class=\"line\"><span class=\"bullet\">    -</span> .....</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>Tomcat å¯ä»¥ run çš„é¡¹ç›®åªèƒ½æ˜¯<code>webapp</code>, å¯ä»¥é€šè¿‡ Maven åˆ›å»ºè¿™ç§é¡¹ç›®</p>\n<ul>\n<li>\n<p>tomcat å¯ä»¥ç›´æ¥è·‘èµ·æ¥ <code>root/src/main/webapp</code>è¿™ä¸ªç›®å½•, æˆ–è€…ç”¨ maven package æ‰“åŒ…åäº§ç”Ÿçš„.war åŒ…</p>\n</li>\n<li>\n<p>å…¶ä»–å½¢å¼çš„éƒ½æ— æ³•ç”¨ tomcat è¿è¡Œ.</p>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"HTTP\">HTTP</h2>\n<p>(è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼‰æ˜¯ä¸€ä¸ªç®€å•çš„è¯·æ±‚ - å“åº”åè®®ï¼Œé€šå¸¸è¿è¡Œåœ¨ TCP ä¹‹ä¸Š.</p>\n<h3 id=\"è¯·æ±‚è¡Œ\">è¯·æ±‚è¡Œ</h3>\n<figure class=\"highlight oxygene\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Request URL:https:<span class=\"comment\">//www.baidu.com/   è¯·æ±‚åœ°å€</span></span><br><span class=\"line\">Request <span class=\"function\"><span class=\"keyword\">Method</span>:</span>GET    get æ–¹æ³• /post æ–¹æ³•</span><br><span class=\"line\">Status Code:<span class=\"number\">200</span> OK    çŠ¶æ€ç ï¼š<span class=\"number\">200</span></span><br><span class=\"line\">Remote Address:<span class=\"number\">14.215</span>.<span class=\"number\">177.39</span>:<span class=\"number\">443</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li>\n<p>è¯·æ±‚æ–¹å¼ï¼šGet,Post,HEAD,DELETE,PUT,TRACT.â€¦</p>\n<ul>\n<li>\n<p>getï¼šè¯·æ±‚èƒ½å¤Ÿæºå¸¦çš„å‚æ•°æ¯”è¾ƒå°‘ï¼Œå¤§å°æœ‰é™åˆ¶ï¼Œä¼šåœ¨æµè§ˆå™¨çš„ URL åœ°å€æ æ˜¾ç¤ºæ•°æ®å†…å®¹ï¼Œä¸å®‰å…¨ï¼Œä½†é«˜æ•ˆ</p>\n</li>\n<li>\n<p>post: è¯·æ±‚èƒ½å¤Ÿæºå¸¦çš„å‚æ•°æ²¡æœ‰é™åˆ¶ï¼Œå¤§å°æ²¡æœ‰é™åˆ¶ï¼Œä¸ä¼šåœ¨æµè§ˆå™¨çš„ URL åœ°å€æ æ˜¾ç¤ºæ•°æ®å†…å®¹ï¼Œå®‰å…¨ï¼Œä½†ä¸é«˜æ•ˆ; åªæœ‰è¡¨å•æ‰èƒ½ä½¿ç”¨.</p>\n</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h3 id=\"æ¶ˆæ¯å¤´\">æ¶ˆæ¯å¤´</h3>\n<figure class=\"highlight sqf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Accept:<span class=\"built_in\">text</span>/html  <span class=\"comment\">// å‘Šè¯‰æµè§ˆå™¨ï¼Œå®ƒæ‰€æ”¯æŒçš„æ•°æ®ç±»å‹</span></span><br><span class=\"line\">Accept-Encoding:gzip, deflate, br  <span class=\"comment\">// æ”¯æŒå“ªç§ç¼–ç æ ¼å¼  GBK   UTF-8   GB2312  ISO8859-1</span></span><br><span class=\"line\">Accept-<span class=\"built_in\">Language</span>:zh-CN,zh;q=<span class=\"number\">0.9</span>    <span class=\"comment\">// å‘Šè¯‰æµè§ˆå™¨ï¼Œå®ƒçš„è¯­è¨€ç¯å¢ƒ</span></span><br><span class=\"line\">Cache-Control:<span class=\"built_in\">max</span>-age=<span class=\"number\">0</span> <span class=\"comment\">// ç¼“å­˜æ§åˆ¶</span></span><br><span class=\"line\">Connection:keep-<span class=\"built_in\">alive</span> <span class=\"comment\">// è¯·æ±‚å®Œæˆæ˜¯æ–­å¼€è¿˜æ˜¯ä¿æŒè¿æ¥</span></span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"å“åº”ä½“\">å“åº”ä½“</h3>\n<figure class=\"highlight node-repl\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">...</span></span><br><span class=\"line\">è·Ÿè¯·æ±‚ç›¸åŒ</span><br><span class=\"line\"><span class=\"meta\">...</span></span><br><span class=\"line\">Refreshï¼šå‘Šè¯‰å®¢æˆ·ç«¯ï¼Œå¤šä¹…åˆ·æ–°ä¸€æ¬¡</span><br><span class=\"line\">Locationï¼šè®©ç½‘é¡µé‡æ–°å®šä½</span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"å“åº”çŠ¶æ€ç \">å“åº”çŠ¶æ€ç </h3>\n<blockquote>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVs6RT.png\" alt=\"20210323084728\" />\n</blockquote>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"Maven-Tomcat\">Maven+Tomcat</h2>\n<blockquote>\n<p><a href=\"../../../tools/Tomcat\">ğŸ±â€ğŸMaven+Tomcat å¼€å‘ webapp.</a></p>\n</blockquote>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"Servlet\">Servlet</h2>\n<ul>\n<li>\n<p>Servlet æ˜¯ sun å…¬å¸å¼€å‘åŠ¨æ€ web çš„ä¸€é—¨æŠ€æœ¯, å¼€å‘ Servlet ç¨‹åºæœ‰ä¸¤ä¸ªæ­¥éª¤:</p>\n<ol>\n<li>\n<p>ç¼–å†™ä¸€ä¸ªç±»ï¼Œå®ç° Serlet æ¥å£</p>\n</li>\n<li>\n<p>æŠŠå¼€å‘å¥½ java ç±»éƒ¨ç½²åˆ° web æœåŠ¡å™¨ä¸­ã€‚</p>\n</li>\n</ol>\n</li>\n<li>\n<p>åˆ©ç”¨ maven åˆ›å»ºä¸€ä¸ªå·¥ç¨‹é¡¹ç›® (project), åœ¨å†…éƒ¨åˆ›å»ºå¤šä¸ªå­æ¨¡å—(module) è¿›è¡Œå­¦ä¹ æµ‹è¯•.</p>\n</li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h3 id=\"HelloServlet\">HelloServlet</h3>\n<ul>\n<li>\n<p>ç°åœ¨, åœ¨ JavaWeb é¡¹ç›®ä¸­å·²ç»åˆ›å»ºå¥½å­æ¨¡å—<code>demo-1</code>, æˆ‘ä»¬åœ¨è¿™ä¸ª demo-1 å†…ç»ƒä¹  HelloServlet, é¡¹ç›®ç»“æ„å¦‚ä¸‹:</p>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVsVrS.png\" alt=\"20210324163957\" />\n</li>\n<li>\n<p>æ–°å»º <code>JavaWeb/demo-1/src/main/java/com/weidows/HelloServlet.java</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> com.weidows;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.IOException;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.PrintWriter;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.ServletException;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpServlet;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">HelloServlet</span> <span class=\"keyword\">extends</span> <span class=\"title\">HttpServlet</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   *</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> <span class=\"keyword\">long</span> serialVersionUID = -<span class=\"number\">6617893791621340358L</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">//get æˆ–è€… post åªæ˜¯è¯·æ±‚å®ç°çš„ä¸åŒçš„æ–¹å¼ï¼Œå¯ä»¥ç›¸äº’è°ƒç”¨ï¼Œä¸šåŠ¡é€»è¾‘éƒ½ä¸€æ ·</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Override</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">doGet</span><span class=\"params\">(HttpServletRequest req, HttpServletResponse resp)</span> <span class=\"keyword\">throws</span> ServletException, IOException </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//ServletOutputStream outputStream = resp.getOutputStream();</span></span><br><span class=\"line\">    PrintWriter writer = resp.getWriter(); <span class=\"comment\">// å“åº”æµ</span></span><br><span class=\"line\">    writer.print(<span class=\"string\">&quot;Hello,Servlet&quot;</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Override</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">doPost</span><span class=\"params\">(HttpServletRequest req, HttpServletResponse resp)</span> <span class=\"keyword\">throws</span> ServletException, IOException </span>&#123;</span><br><span class=\"line\">    doGet(req, resp);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>ä¿®æ”¹ <code>JavaWeb/demo-1/src/main/webapp/WEB-INF/web.xml</code></p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">web-app</span> <span class=\"meta-keyword\">PUBLIC</span></span></span><br><span class=\"line\"><span class=\"meta\">    <span class=\"meta-string\">&quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;</span></span></span><br><span class=\"line\"><span class=\"meta\">    <span class=\"meta-string\">&quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot;</span> &gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">web-app</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">display-name</span>&gt;</span>Archetype Created Web Application<span class=\"tag\">&lt;/<span class=\"name\">display-name</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- æ³¨å†Œ Servlet, ä½¿è¿™ä¸ªç±»å¯ä»¥äº§ç”ŸåŠ¨æ€é¡µé¢ --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">servlet</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">servlet-name</span>&gt;</span>helloServlet<span class=\"tag\">&lt;/<span class=\"name\">servlet-name</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">servlet-class</span>&gt;</span>com.weidows.HelloServlet<span class=\"tag\">&lt;/<span class=\"name\">servlet-class</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">servlet</span>&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">&lt;!--Servlet çš„è¯·æ±‚è·¯å¾„æ˜ å°„, ä½¿è·¯å¾„æ˜ å°„å¯¹åº”ç±» --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">servlet-mapping</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">servlet-name</span>&gt;</span>helloServlet<span class=\"tag\">&lt;/<span class=\"name\">servlet-name</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">url-pattern</span>&gt;</span>/weidows<span class=\"tag\">&lt;/<span class=\"name\">url-pattern</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">servlet-mapping</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>è¿æ¥ Tomcat</p>\n<ul>\n<li>æˆ‘ä»¬ç”¨ tomcat è·‘èµ·æ¥è¿™ä¸ªå­æ¨¡å— (æ³¨æ„è·‘çš„æ˜¯å­æ¨¡å—ä¸æ˜¯æ•´ä¸ªé¡¹ç›®)</li>\n</ul>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVsrOD.png\" alt=\"20210324164515\" />\n</li>\n<li>\n<p>è·‘èµ·æ¥å</p>\n<ul>\n<li>\n<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡<code>http://localhost:8080/demo_1_war/</code> è®¿é—®åˆ° <code>index.jsp</code> è¿™ä¸ªé™æ€é¡µé¢</p>\n</li>\n<li>\n<p>ä¹Ÿå¯ä»¥é€šè¿‡<code>http://localhost:8080/demo_1_war/weidows</code> è®¿é—®åˆ°æˆ‘ä»¬ç”¨ Servlet æ˜ å°„çš„åŠ¨æ€é¡µé¢</p>\n<ul>\n<li>æ³¨æ„æœ«å°¾ä¸èƒ½å¸¦â€™/', <code>http://localhost:8080/demo_1_war/weidows/</code> == <code>http://localhost:8080/demo_1_war/weidows/index.html</code> å› ä¸ºå¹¶æ²¡æœ‰è¿™ä¸ªé™æ€é¡µé¢, ä¼šæŠ¥ 404</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>æ³¨æ„, æ— è®ºæ˜¯åŠ¨æ€é¡µé¢è¿˜æ˜¯é™æ€é¡µé¢, éƒ½å¿…é¡» <code> æŒ‡å®šç¼–ç </code>, å¦åˆ™ä¸­æ–‡ä¼šä¹±ç .</p>\n</li>\n</ul>\n<hr>\n<h3 id=\"æ¶æ„åŸç†\">æ¶æ„åŸç†</h3>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVsj6t.png\" alt=\"20210325090037\" />\n<ul>\n<li>\n<p>Tomcat åšçš„å°±æ˜¯æ¥æ”¶è¯·æ±‚å¹¶å¤„ç†, ç„¶åè¿”å›å“åº”</p>\n</li>\n<li>\n<p>æˆ‘ä»¬éœ€è¦åšçš„æ˜¯å®ç° Servlet æ¥å£, å¤„ç†è¯·æ±‚å’Œå“åº”ä¿¡æ¯</p>\n</li>\n</ul>\n<hr>\n<h3 id=\"Mapping\">Mapping</h3>\n<ul>\n<li>\n<p>ä¸€ä¸ª Servlet å¯ä»¥æ˜ å°„ä¸€ä¸ªæˆ–å¤šä¸ªæˆ–æ­£åˆ™åŒ¹é… url è·¯å¾„</p>\n<ul>\n<li><code>æ˜ å°„å›ºå®šåœ°å€çš„ä¼˜å…ˆçº§æœ€é«˜</code></li>\n</ul>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">servlet-mapping</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">servlet-name</span>&gt;</span>hello<span class=\"tag\">&lt;/<span class=\"name\">servlet-name</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">url-pattern</span>&gt;</span>/hello<span class=\"tag\">&lt;/<span class=\"name\">url-pattern</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">servlet-mapping</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">servlet-mapping</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">servlet-name</span>&gt;</span>hello<span class=\"tag\">&lt;/<span class=\"name\">servlet-name</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">url-pattern</span>&gt;</span>/hello2<span class=\"tag\">&lt;/<span class=\"name\">url-pattern</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">servlet-mapping</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">servlet-mapping</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">servlet-name</span>&gt;</span>hello<span class=\"tag\">&lt;/<span class=\"name\">servlet-name</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">url-pattern</span>&gt;</span>/hello3<span class=\"tag\">&lt;/<span class=\"name\">url-pattern</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<servlet-mapping>\n    <servlet-name>hello</servlet-name>\n    <url-pattern>/hello/*</url-pattern>\n</servlet-mapping>\n<!-- å¯ä»¥è‡ªå®šä¹‰åç¼€å®ç°è¯·æ±‚æ˜ å°„\n    æ³¨æ„,* å‰é¢ä¸èƒ½åŠ é¡¹ç›®æ˜ å°„çš„è·¯å¾„\n    hello/xxx.weidows\n    -->\n<servlet-mapping>\n    <servlet-name>hello</servlet-name>\n    <url-pattern>*.weidows</url-pattern>\n</servlet-mapping>\n<figure class=\"highlight scala\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">---</span><br><span class=\"line\"></span><br><span class=\"line\">- ä¾‹å­: æŠŠ <span class=\"number\">404</span> é¡µé¢æ¢ä¸ºæˆ‘ä»¬è‡ªå®šä¹‰çš„</span><br><span class=\"line\"></span><br><span class=\"line\">  - src/main/java/com/weidows/<span class=\"type\">ErrorServlet</span>.java</span><br><span class=\"line\"></span><br><span class=\"line\">    ```<span class=\"type\">Java</span></span><br><span class=\"line\">    <span class=\"keyword\">import</span> javax.servlet.<span class=\"type\">ServletException</span>;</span><br><span class=\"line\">    <span class=\"keyword\">import</span> javax.servlet.http.<span class=\"type\">HttpServlet</span>;</span><br><span class=\"line\">    <span class=\"keyword\">import</span> javax.servlet.http.<span class=\"type\">HttpServletRequest</span>;</span><br><span class=\"line\">    <span class=\"keyword\">import</span> javax.servlet.http.<span class=\"type\">HttpServletResponse</span>;</span><br><span class=\"line\">    <span class=\"keyword\">import</span> java.io.<span class=\"type\">IOException</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    public <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">ErrorServlet</span> <span class=\"keyword\">extends</span> <span class=\"title\">HttpServlet</span> </span>&#123;</span><br><span class=\"line\">      <span class=\"meta\">@Override</span></span><br><span class=\"line\">      <span class=\"keyword\">protected</span> void doGet(<span class=\"type\">HttpServletRequest</span> req, <span class=\"type\">HttpServletResponse</span> resp) <span class=\"keyword\">throws</span> <span class=\"type\">ServletException</span>, <span class=\"type\">IOException</span> &#123;</span><br><span class=\"line\">        resp.setContentType(<span class=\"string\">&quot;text/html&quot;</span>);</span><br><span class=\"line\">        resp.setCharacterEncoding(<span class=\"string\">&quot;utf8&quot;</span>);</span><br><span class=\"line\">        resp.getWriter().print(<span class=\"string\">&quot;&lt;h1&gt;404&lt;/h1&gt;&quot;</span>);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"meta\">@Override</span></span><br><span class=\"line\">      <span class=\"keyword\">protected</span> void doPost(<span class=\"type\">HttpServletRequest</span> req, <span class=\"type\">HttpServletResponse</span> resp) <span class=\"keyword\">throws</span> <span class=\"type\">ServletException</span>, <span class=\"type\">IOException</span> &#123;</span><br><span class=\"line\">        doGet(req, resp);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">- æ³¨å†Œå¹¶æ˜ å°„ 404 é¡µé¢</span><br><span class=\"line\"></span><br><span class=\"line\">  - (æ³¨æ„ä¸Šä¸‹é¡ºåº: ServletA MappingA ServletB MappingB è¿™æ ·å†™ä¼šæŠ¥é”™)</span><br><span class=\"line\"></span><br><span class=\"line\">  ```xml</span><br><span class=\"line\">  <span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">web-app</span> <span class=\"meta-keyword\">PUBLIC</span></span></span><br><span class=\"line\"><span class=\"meta\">      <span class=\"meta-string\">&quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;</span></span></span><br><span class=\"line\"><span class=\"meta\">      <span class=\"meta-string\">&quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot;</span> &gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">web-app</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">display-name</span>&gt;</span>Archetype Created Web Application<span class=\"tag\">&lt;/<span class=\"name\">display-name</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">&lt;!-- æ³¨å†Œ Servlet--&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">servlet</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">servlet-name</span>&gt;</span>helloServlet<span class=\"tag\">&lt;/<span class=\"name\">servlet-name</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">servlet-class</span>&gt;</span>com.weidows.HelloServlet<span class=\"tag\">&lt;/<span class=\"name\">servlet-class</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">servlet</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">servlet</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">servlet-name</span>&gt;</span>ErrorServlet<span class=\"tag\">&lt;/<span class=\"name\">servlet-name</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">servlet-class</span>&gt;</span>com.weidows.ErrorServlet<span class=\"tag\">&lt;/<span class=\"name\">servlet-class</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">servlet</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<pre><code>&lt;!--Servlet çš„è¯·æ±‚è·¯å¾„ --&gt;\n&lt;servlet-mapping&gt;\n  &lt;servlet-name&gt;helloServlet&lt;/servlet-name&gt;\n  &lt;url-pattern&gt;/weidows&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n&lt;servlet-mapping&gt;\n  &lt;servlet-name&gt;ErrorServlet&lt;/servlet-name&gt;\n  &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n  </web-app>\n  <figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"meta\"></span></span><br><span class=\"line\"><span class=\"comment\">### ServletContext</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"string\">HttpServlet</span> <span class=\"string\">å¯¹è±¡ä¸­å¸¸ç”¨æ–¹æ³•:</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"string\">this.getInitParameter()</span> <span class=\"string\">//</span> <span class=\"string\">åˆå§‹åŒ–å‚æ•° </span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"string\">this.getServletConfig()</span> <span class=\"string\">//</span> <span class=\"string\">Servlet</span> <span class=\"string\"> é…ç½® </span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"string\">this.getServletContext()</span> <span class=\"string\">//</span> <span class=\"string\">Servlet</span> <span class=\"string\"> ä¸Šä¸‹æ–‡, æœ€å¸¸ç”¨, è¿™é‡Œåªä»‹ç»è¿™ä¸ª </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"string\">Web</span> <span class=\"string\"> å®¹å™¨å¯åŠ¨æ—¶, ä¼šåˆ›å»ºå¯¹åº”çš„ </span> <span class=\"string\">ServletContext</span> <span class=\"string\"> å¯¹è±¡, ä»£è¡¨å½“å‰ </span> <span class=\"string\">web</span> <span class=\"string\"> åº”ç”¨,</span> <span class=\"string\">` ä¸åŒ </span> <span class=\"string\">Servlet</span> <span class=\"string\"> ä¹‹é—´å…±äº«è¿™ä¸ª </span> <span class=\"string\">ServletContext</span> <span class=\"string\"> å¯¹è±¡ `</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"meta\"></span></span><br><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"string\">ä¾‹å­:</span> <span class=\"string\">å½“è®¿é—® </span> <span class=\"string\">`/helloServlet`</span> <span class=\"string\"> æ—¶åœ¨ </span> <span class=\"string\">servletContext</span> <span class=\"string\"> å¯¹è±¡ä¸­è®¾ç½® </span> <span class=\"string\">username</span> <span class=\"string\"> å±æ€§, ç„¶åè®¿é—® </span> <span class=\"string\">`/getServlet`</span> <span class=\"string\"> å¯ä»¥æŸ¥çœ‹è®¾ç½®çš„ </span> <span class=\"string\">username</span> <span class=\"string\"> å±æ€§å€¼.</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"string\">`src/main/java/com/weidows/HelloServlet.java`</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"string\">```Java</span></span><br><span class=\"line\">    <span class=\"string\">import</span> <span class=\"string\">java.io.IOException;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"string\">import</span> <span class=\"string\">javax.servlet.ServletContext;</span></span><br><span class=\"line\">    <span class=\"string\">import</span> <span class=\"string\">javax.servlet.ServletException;</span></span><br><span class=\"line\">    <span class=\"string\">import</span> <span class=\"string\">javax.servlet.http.HttpServlet;</span></span><br><span class=\"line\">    <span class=\"string\">import</span> <span class=\"string\">javax.servlet.http.HttpServletRequest;</span></span><br><span class=\"line\">    <span class=\"string\">import</span> <span class=\"string\">javax.servlet.http.HttpServletResponse;</span></span><br></pre></td></tr></table></figure>\n<p>public class HelloServlet extends HttpServlet {<br>\n@Override<br>\nprotected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {<br>\nServletContext context = this.getServletContext();<br>\nString username = â€œé½ä¸‹æ— è´°â€; // æ•°æ®<br>\ncontext.setAttribute(â€œusernameâ€, username); // å°†ä¸€ä¸ªæ•°æ®ä¿å­˜åœ¨äº† ServletContext ä¸­ï¼Œåå­—ä¸ºï¼šusername ã€‚å€¼ username<br>\nSystem.out.println(â€œusername å±æ€§å·²è®¾ç½®.â€);<br>\n}<br>\n}</p>\n  <figure class=\"highlight asciidoc\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"bullet\">***</span></span><br><span class=\"line\"><span class=\"bullet\"></span></span><br></pre></td></tr></table></figure>\n<ul>\n<li>\n<p><code>src/main/java/com/weidows/GetServlet.java</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.ServletException;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpServlet;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.IOException;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">GetServlet</span> <span class=\"keyword\">extends</span> <span class=\"title\">HttpServlet</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"meta\">@Override</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">doPost</span><span class=\"params\">(HttpServletRequest req, HttpServletResponse resp)</span> <span class=\"keyword\">throws</span> ServletException, IOException </span>&#123;</span><br><span class=\"line\">    doGet(req, resp);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Override</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">doGet</span><span class=\"params\">(HttpServletRequest req, HttpServletResponse resp)</span> <span class=\"keyword\">throws</span> ServletException, IOException </span>&#123;</span><br><span class=\"line\">    String username = (String) <span class=\"keyword\">this</span>.getServletContext().getAttribute(<span class=\"string\">&quot;username&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    resp.setContentType(<span class=\"string\">&quot;text/html&quot;</span>);</span><br><span class=\"line\">    resp.setCharacterEncoding(<span class=\"string\">&quot;utf8&quot;</span>);</span><br><span class=\"line\">    resp.getWriter().print(<span class=\"string\">&quot; åå­—: &quot;</span> + username);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n</ul>\n<hr>\n<ul>\n<li>\n<p><code>web.xml</code></p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">web-app</span> <span class=\"meta-keyword\">PUBLIC</span></span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-string\">&quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;</span></span></span><br><span class=\"line\"><span class=\"meta\"><span class=\"meta-string\">&quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot;</span> &gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">web-app</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">display-name</span>&gt;</span>Archetype Created Web Application<span class=\"tag\">&lt;/<span class=\"name\">display-name</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">servlet</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">servlet-name</span>&gt;</span>helloServlet<span class=\"tag\">&lt;/<span class=\"name\">servlet-name</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">servlet-class</span>&gt;</span>com.weidows.HelloServlet<span class=\"tag\">&lt;/<span class=\"name\">servlet-class</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">servlet</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">servlet</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">servlet-name</span>&gt;</span>getServlet<span class=\"tag\">&lt;/<span class=\"name\">servlet-name</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">servlet-class</span>&gt;</span>com.weidows.GetServlet<span class=\"tag\">&lt;/<span class=\"name\">servlet-class</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">servlet</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">servlet-mapping</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">servlet-name</span>&gt;</span>helloServlet<span class=\"tag\">&lt;/<span class=\"name\">servlet-name</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">url-pattern</span>&gt;</span>/helloServlet<span class=\"tag\">&lt;/<span class=\"name\">url-pattern</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">servlet-mapping</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">servlet-mapping</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">servlet-name</span>&gt;</span>getServlet<span class=\"tag\">&lt;/<span class=\"name\">servlet-name</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">url-pattern</span>&gt;</span>/getServlet<span class=\"tag\">&lt;/<span class=\"name\">url-pattern</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">servlet-mapping</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<h3 id=\"åˆå§‹åŒ–å‚æ•° - äº†è§£\">åˆå§‹åŒ–å‚æ•°(äº†è§£)</h3>\n<ul>\n<li>\n<p>åˆå§‹åŒ–å‚æ•°åœ¨ web.xml ä¸­è®¾ç½®, ç”¨ getInitParameter()è·å–</p>\n</li>\n<li>\n<p><code>web.xml</code></p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">web-app</span> <span class=\"meta-keyword\">PUBLIC</span></span></span><br><span class=\"line\"><span class=\"meta\">    <span class=\"meta-string\">&quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;</span></span></span><br><span class=\"line\"><span class=\"meta\">    <span class=\"meta-string\">&quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot;</span> &gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">web-app</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">display-name</span>&gt;</span>Archetype Created Web Application<span class=\"tag\">&lt;/<span class=\"name\">display-name</span>&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- é…ç½®ä¸€äº› web åº”ç”¨åˆå§‹åŒ–å‚æ•° --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">context-param</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">param-name</span>&gt;</span>url<span class=\"tag\">&lt;/<span class=\"name\">param-name</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">param-value</span>&gt;</span>jdbc:mysql://localhost:3306/mybatis<span class=\"tag\">&lt;/<span class=\"name\">param-value</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">context-param</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">servlet</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">servlet-name</span>&gt;</span>helloParameter<span class=\"tag\">&lt;/<span class=\"name\">servlet-name</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">servlet-class</span>&gt;</span>com.weidows.HelloParameter<span class=\"tag\">&lt;/<span class=\"name\">servlet-class</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">servlet</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">servlet-mapping</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">servlet-name</span>&gt;</span>helloParameter<span class=\"tag\">&lt;/<span class=\"name\">servlet-name</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">url-pattern</span>&gt;</span>/helloParameter<span class=\"tag\">&lt;/<span class=\"name\">url-pattern</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">servlet-mapping</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<hr>\n</li>\n<li>\n<p><code>src/main/java/com/weidows/HelloParameter.java</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.ServletContext;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.ServletException;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpServlet;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.IOException;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">HelloParameter</span> <span class=\"keyword\">extends</span> <span class=\"title\">HttpServlet</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"meta\">@Override</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">doGet</span><span class=\"params\">(HttpServletRequest req, HttpServletResponse resp)</span> <span class=\"keyword\">throws</span> ServletException, IOException </span>&#123;</span><br><span class=\"line\">    ServletContext context = <span class=\"keyword\">this</span>.getServletContext();</span><br><span class=\"line\">    String url = context.getInitParameter(<span class=\"string\">&quot;url&quot;</span>);</span><br><span class=\"line\">    resp.getWriter().print(url);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kity@2.0.4/dist/kity.min.js\"></script><script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js\"></script><script defer=\"true\" type=\"text&#x2F;javascript\" src=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js\"></script><link rel=\"stylesheet\" type=\"text&#x2F;css\" href=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css\">",
            "tags": [
                "java",
                "ç¬”è®°",
                "æœåŠ¡å™¨",
                "javaweb"
            ]
        },
        {
            "id": "https://weidows.github.io/post/Java/SQL/5/",
            "url": "https://weidows.github.io/post/Java/SQL/5/",
            "title": "ğŸš€è¿›ä¿® MySQL~(ä¼)",
            "date_published": "2021-03-20T09:31:28.000Z",
            "content_html": "<!--\n * @?: *********************************************************************\n * @Author: Weidows\n * @LastEditors: Weidows\n * @LastEditTime: 2021-09-12 15:44:34\n * @FilePath: \\Blog-private\\source\\_posts\\Java\\SQL\\5.md\n * @Description:\n * @!: *********************************************************************\n-->\n<ul>\n<li><a href=\"#preparedstatement\">PreparedStatement</a>\n<ul>\n<li><a href=\"#sql-%E6%B3%A8%E5%85%A5%E9%97%AE%E9%A2%98\">SQL æ³¨å…¥é—®é¢˜</a></li>\n<li><a href=\"#%E5%8C%BA%E5%88%AB%E7%94%A8%E6%B3%95\">åŒºåˆ«ç”¨æ³•</a></li>\n</ul>\n</li>\n<li><a href=\"#ideasql\">IDEA+SQL</a></li>\n<li><a href=\"#jdbc%E4%BA%8B%E5%8A%A1\">JDBC+ äº‹åŠ¡</a></li>\n<li><a href=\"#%E8%BF%9E%E6%8E%A5%E6%B1%A0\">è¿æ¥æ± </a></li>\n<li><a href=\"#%E5%90%84%E5%90%8D%E8%AF%8D%E5%8C%BA%E5%88%AB\">å„åè¯åŒºåˆ«</a></li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"PreparedStatement\">PreparedStatement</h2>\n<h3 id=\"SQL- æ³¨å…¥é—®é¢˜\">SQL æ³¨å…¥é—®é¢˜</h3>\n<blockquote>\n<p><a href=\"https://blog.csdn.net/rongxiang111/article/details/78228681\">SQL æ³¨å…¥é—®é¢˜åŠè§£å†³</a></p>\n</blockquote>\n<ul>\n<li>\n<p>é€šè¿‡ä¿®æ”¹ SQL æŒ‡ä»¤å­—ç¬¦ä¸², ä½¿ SQL æœåŠ¡å™¨æ‰§è¡Œä¸æ­£è§„æˆ–è€…æ¶æ„çš„ SQL å‘½ä»¤</p>\n</li>\n<li>\n<p>æ¯”å¦‚å®¢æˆ·ç«¯å¯ä»¥é€šè¿‡ä¿®æ”¹ SQL å­—ç¬¦ä¸², å¯ä»¥ä½¿æœåŠ¡å™¨ä¼ å›åŸæœ¬ä¸èƒ½æ˜¾ç¤ºçš„æ•°æ®, æˆ–è€…ä¿®æ”¹éæŒ‡å®šçš„æ•°æ®.</p>\n</li>\n</ul>\n<hr>\n<h3 id=\"åŒºåˆ«ç”¨æ³•\">åŒºåˆ«ç”¨æ³•</h3>\n<blockquote>\n<p>PreparedStatement å¯ä»¥é˜²æ­¢ SQL æ³¨å…¥, è€Œä¸”æ•ˆç‡æ›´é«˜.</p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.sql.Connection;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.sql.Date;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.sql.PreparedStatement;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.sql.ResultSet;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.sql.SQLException;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> twenty_one.jdbc.demo2.utils.JDBCUtils;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">TestPreparedStatement</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> Connection connection = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> PreparedStatement preparedStatement = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> ResultSet resultSet = <span class=\"keyword\">null</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> <span class=\"keyword\">throws</span> SQLException </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// è¿æ¥</span></span><br><span class=\"line\">    connection = JDBCUtils.getConnection();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// ! æ’å…¥</span></span><br><span class=\"line\">    <span class=\"comment\">// é—®å· &#x27;?&#x27; ä¸ºå ä½ç¬¦</span></span><br><span class=\"line\">    String insert = <span class=\"string\">&quot;INSERT INTO jdbcstudy.users(NAME, PASSWORD, email, birthday)  VALUES (?,?,?,?);&quot;</span>;</span><br><span class=\"line\">    <span class=\"comment\">// é¢„ç¼–è¯‘ sql</span></span><br><span class=\"line\">    preparedStatement = connection.prepareStatement(insert);</span><br><span class=\"line\">    <span class=\"comment\">// æ‰‹åŠ¨èµ‹å€¼</span></span><br><span class=\"line\">    preparedStatement.setString(<span class=\"number\">1</span>, <span class=\"string\">&quot;weidows&quot;</span>);</span><br><span class=\"line\">    preparedStatement.setInt(<span class=\"number\">2</span>, <span class=\"number\">123456</span>);</span><br><span class=\"line\">    preparedStatement.setString(<span class=\"number\">3</span>, <span class=\"string\">&quot;utsuko27@qq.com&quot;</span>);</span><br><span class=\"line\">    preparedStatement.setDate(<span class=\"number\">4</span>, <span class=\"keyword\">new</span> Date(<span class=\"keyword\">new</span> java.util.Date().getTime()));</span><br><span class=\"line\">    <span class=\"comment\">// æ‰§è¡Œ</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (preparedStatement.executeUpdate() &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">      System.out.println(<span class=\"string\">&quot; æˆåŠŸ.&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// ! æŸ¥è¯¢</span></span><br><span class=\"line\">    String query = <span class=\"string\">&quot;SELECT * From jdbcstudy.users where name = ?;&quot;</span>;</span><br><span class=\"line\">    preparedStatement = connection.prepareStatement(query);</span><br><span class=\"line\">    preparedStatement.setString(<span class=\"number\">1</span>, <span class=\"string\">&quot;weidows&quot;</span>);</span><br><span class=\"line\">    resultSet = preparedStatement.executeQuery();</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (resultSet.next()) &#123;</span><br><span class=\"line\">      System.out.println(<span class=\"string\">&quot;id = &quot;</span> + resultSet.getObject(<span class=\"string\">&quot;id&quot;</span>));</span><br><span class=\"line\">      System.out.println(<span class=\"string\">&quot;name = &quot;</span> + resultSet.getObject(<span class=\"string\">&quot;NAME&quot;</span>));</span><br><span class=\"line\">      System.out.println(<span class=\"string\">&quot;password = &quot;</span> + resultSet.getObject(<span class=\"string\">&quot;PASSWORD&quot;</span>));</span><br><span class=\"line\">      System.out.println(<span class=\"string\">&quot;email = &quot;</span> + resultSet.getObject(<span class=\"string\">&quot;email&quot;</span>));</span><br><span class=\"line\">      System.out.println(<span class=\"string\">&quot;birthday = &quot;</span> + resultSet.getObject(<span class=\"string\">&quot;birthday&quot;</span>));</span><br><span class=\"line\">      System.out.println(<span class=\"string\">&quot;===============================================================&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// æ–­è¿</span></span><br><span class=\"line\">    JDBCUtils.releaseConnection(connection, preparedStatement, resultSet);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"IDEA-SQL\">IDEA+SQL</h2>\n<ul>\n<li>\n<p>å›¾å½¢åŒ–çš„, æ‘¸ç´¢æ‘¸ç´¢å°±å·®ä¸å¤šä¼šäº†.</p>\n</li>\n<li>\n<p>åœ¨å­¦è¿™ä¸ª SQL è¯¾ç¨‹æ—¶, ä¸ªäººå¼€å§‹ç”¨çš„æ˜¯ sqlyog, åæ¥å¸è½½äº†, ç›´æ¥ç”¨çš„ idea å†…åµŒçš„.</p>\n</li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"JDBC- äº‹åŠ¡\">JDBC+ äº‹åŠ¡</h2>\n<ul>\n<li>\n<p>åˆ›å»ºè¡¨ + æ’å…¥æ•°æ®</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">create</span> <span class=\"keyword\">TABLE</span> jdbcstudy.account</span><br><span class=\"line\">(</span><br><span class=\"line\">  id    <span class=\"type\">int</span> <span class=\"keyword\">primary</span> key auto_increment,</span><br><span class=\"line\">  name  <span class=\"type\">varchar</span>(<span class=\"number\">255</span>),</span><br><span class=\"line\">  money <span class=\"type\">DECIMAL</span></span><br><span class=\"line\">);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">insert</span> <span class=\"keyword\">into</span> jdbcstudy.account(name, money)</span><br><span class=\"line\"><span class=\"keyword\">VALUES</span> (<span class=\"string\">&#x27;A&#x27;</span>, <span class=\"number\">1000</span>),</span><br><span class=\"line\">      (<span class=\"string\">&#x27;B&#x27;</span>, <span class=\"number\">1000</span>),</span><br><span class=\"line\">      (<span class=\"string\">&#x27;C&#x27;</span>, <span class=\"number\">1000</span>);</span><br></pre></td></tr></table></figure>\n<hr>\n</li>\n<li>\n<p>äº‹åŠ¡</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.sql.Connection;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.sql.PreparedStatement;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.sql.ResultSet;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.sql.SQLException;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> twenty_one.jdbc.demo2.utils.JDBCUtils;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">TestTransaction</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> Connection connection = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> PreparedStatement preparedStatement = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> ResultSet resultSet = <span class=\"keyword\">null</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> <span class=\"keyword\">throws</span> SQLException </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">      connection = JDBCUtils.getConnection();</span><br><span class=\"line\">      <span class=\"comment\">// å…³é—­æ•°æ®åº“çš„è‡ªåŠ¨æäº¤åŠŸèƒ½, åŒæ—¶å¼€å¯äº‹åŠ¡</span></span><br><span class=\"line\">      connection.setAutoCommit(<span class=\"keyword\">false</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">      String sql = <span class=\"string\">&quot;update account set money = money-500 where id = 1&quot;</span>;</span><br><span class=\"line\">      preparedStatement = connection.prepareStatement(sql);</span><br><span class=\"line\">      preparedStatement.executeUpdate();</span><br><span class=\"line\"></span><br><span class=\"line\">      String sql2 = <span class=\"string\">&quot;update account set money = money-500 where id = 2&quot;</span>;</span><br><span class=\"line\">      preparedStatement = connection.prepareStatement(sql2);</span><br><span class=\"line\">      preparedStatement.executeUpdate();</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// ä¸šåŠ¡å®Œæ¯•ï¼Œæäº¤äº‹åŠ¡</span></span><br><span class=\"line\">      connection.commit();</span><br><span class=\"line\">      System.out.println(<span class=\"string\">&quot; äº‹åŠ¡æ“ä½œæˆåŠŸ &quot;</span>);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">catch</span> (Exception e) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// å¦‚æœå¤±è´¥ï¼Œé»˜è®¤ä¼šå›æ»š, ä¹Ÿå¯ä»¥åœ¨è¿™é‡Œè‡ªå®šä¹‰</span></span><br><span class=\"line\">      connection.rollback();</span><br><span class=\"line\">      e.printStackTrace();</span><br><span class=\"line\">    &#125; <span class=\"keyword\">finally</span> &#123;</span><br><span class=\"line\">      JDBCUtils.releaseConnection(connection, preparedStatement, resultSet);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"è¿æ¥æ± \">è¿æ¥æ± </h2>\n<ul>\n<li>\n<p>æ¦‚å¿µä¸Šä¸çº¿ç¨‹æ± ç›¸åŒ, å› ä¸ºé¢‘ç¹åˆ›å»ºå’Œæ–­å¼€è¿æ¥è€—è´¹å¤§é‡èµ„æº, åˆ©ç”¨æ± åŒ–æŠ€æœ¯æ¥ <code> å‡è½»èµ„æºæŸè€—.</code></p>\n</li>\n<li>\n<p>æ•°æ®åº“è¿æ¥æ± æ¥å£ <code>DataSource</code> , å¼€æºæ•°æ®æºå®ç°ç±»:</p>\n<ul>\n<li>\n<p>DBCP</p>\n</li>\n<li>\n<p>C3P0</p>\n</li>\n<li>\n<p>Druid: é˜¿é‡Œå·´å·´</p>\n</li>\n</ul>\n<blockquote>\n<p>æ— è®ºä½¿ç”¨ä»€ä¹ˆæ•°æ®æºï¼Œæœ¬è´¨æ˜¯ä¸å˜çš„ï¼ŒDateSource æ¥å£ä¸ä¼šå˜ï¼Œæ–¹æ³•å°±ä¸ä¼šå˜</p>\n</blockquote>\n</li>\n</ul>\n<hr>\n<ul>\n<li>\n<p>ç”¨æ³•åŒºåˆ«å°±æ˜¯ utils ç±»ä¸­, åŠ è½½é©±åŠ¨, è¿æ¥ connection å’Œè¯»å– properties é…ç½®æ–‡ä»¶ä¸éœ€è¦æˆ‘ä»¬è‡ªå·±å†™äº†</p>\n</li>\n<li>\n<p>db.properties</p>\n<figure class=\"highlight properties\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># DBCP çš„è®¾ç½®æ–‡ä»¶, å±æ€§åä¸èƒ½é”™</span></span><br><span class=\"line\"><span class=\"attr\">driverClassName</span>=<span class=\"string\">com.mysql.cj.jdbc.Driver</span></span><br><span class=\"line\"><span class=\"attr\">url</span>=<span class=\"string\">jdbc:mysql://localhost:3306/jdbcStudy?useUnicode = true &amp; characterEncoding = utf8 &amp; useSSL = true</span></span><br><span class=\"line\"><span class=\"attr\">username</span>=<span class=\"string\">root</span></span><br><span class=\"line\"><span class=\"attr\">password</span>=<span class=\"string\">123456</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>utils.DbcpUtils</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.io.FileInputStream;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.sql.Connection;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.sql.ResultSet;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.sql.SQLException;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.sql.Statement;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.Properties;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.sql.DataSource;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.commons.dbcp.BasicDataSourceFactory;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">DbcpUtils</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> Properties properties = <span class=\"keyword\">new</span> Properties();</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> DataSource dataSource = <span class=\"keyword\">null</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">static</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// åŠ è½½è¿æ¥ä¿¡æ¯</span></span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">      properties.load(<span class=\"keyword\">new</span> FileInputStream(<span class=\"string\">&quot;Java/src/main/java/twenty_one/jdbc/demo3/db.properties&quot;</span>));</span><br><span class=\"line\">      dataSource = BasicDataSourceFactory.createDataSource(properties);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">catch</span> (Exception e) &#123;</span><br><span class=\"line\">      e.printStackTrace();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// è·å–è¿æ¥</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> Connection <span class=\"title\">getConnection</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> SQLException </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> dataSource.getConnection();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// é‡Šæ”¾èµ„æº</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">releaseConnection</span><span class=\"params\">(Connection connection, Statement statement, ResultSet resultSet)</span></span></span><br><span class=\"line\"><span class=\"function\">      <span class=\"keyword\">throws</span> SQLException </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (resultSet != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">      resultSet.close();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (statement != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">      statement.close();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (connection != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">      connection.close();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>TestDataSource</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.sql.Connection;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.sql.Date;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.sql.PreparedStatement;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.sql.ResultSet;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.sql.SQLException;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> twenty_one.jdbc.demo3.utils.DbcpUtils;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">TestDataSource</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> Connection connection = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> PreparedStatement preparedStatement = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> ResultSet resultSet = <span class=\"keyword\">null</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> <span class=\"keyword\">throws</span> SQLException </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// è¿æ¥</span></span><br><span class=\"line\">    connection = DbcpUtils.getConnection();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// ! æ’å…¥</span></span><br><span class=\"line\">    <span class=\"comment\">// é—®å· &#x27;?&#x27; ä¸ºå ä½ç¬¦</span></span><br><span class=\"line\">    String insert = <span class=\"string\">&quot;INSERT INTO jdbcstudy.users(NAME, PASSWORD, email, birthday)  VALUES (?,?,?,?);&quot;</span>;</span><br><span class=\"line\">    <span class=\"comment\">// é¢„ç¼–è¯‘ sql</span></span><br><span class=\"line\">    preparedStatement = connection.prepareStatement(insert);</span><br><span class=\"line\">    <span class=\"comment\">// æ‰‹åŠ¨èµ‹å€¼</span></span><br><span class=\"line\">    preparedStatement.setString(<span class=\"number\">1</span>, <span class=\"string\">&quot;weidows&quot;</span>);</span><br><span class=\"line\">    preparedStatement.setInt(<span class=\"number\">2</span>, <span class=\"number\">123456</span>);</span><br><span class=\"line\">    preparedStatement.setString(<span class=\"number\">3</span>, <span class=\"string\">&quot;utsuko27@qq.com&quot;</span>);</span><br><span class=\"line\">    preparedStatement.setDate(<span class=\"number\">4</span>, <span class=\"keyword\">new</span> Date(<span class=\"keyword\">new</span> java.util.Date().getTime()));</span><br><span class=\"line\">    <span class=\"comment\">// æ‰§è¡Œ</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (preparedStatement.executeUpdate() &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">      System.out.println(<span class=\"string\">&quot; æˆåŠŸ.&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// ! æŸ¥è¯¢</span></span><br><span class=\"line\">    String query = <span class=\"string\">&quot;SELECT * From jdbcstudy.users where name = ?;&quot;</span>;</span><br><span class=\"line\">    preparedStatement = connection.prepareStatement(query);</span><br><span class=\"line\">    preparedStatement.setString(<span class=\"number\">1</span>, <span class=\"string\">&quot;weidows&quot;</span>);</span><br><span class=\"line\">    resultSet = preparedStatement.executeQuery();</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (resultSet.next()) &#123;</span><br><span class=\"line\">      System.out.println(<span class=\"string\">&quot;id = &quot;</span> + resultSet.getObject(<span class=\"string\">&quot;id&quot;</span>));</span><br><span class=\"line\">      System.out.println(<span class=\"string\">&quot;name = &quot;</span> + resultSet.getObject(<span class=\"string\">&quot;NAME&quot;</span>));</span><br><span class=\"line\">      System.out.println(<span class=\"string\">&quot;password = &quot;</span> + resultSet.getObject(<span class=\"string\">&quot;PASSWORD&quot;</span>));</span><br><span class=\"line\">      System.out.println(<span class=\"string\">&quot;email = &quot;</span> + resultSet.getObject(<span class=\"string\">&quot;email&quot;</span>));</span><br><span class=\"line\">      System.out.println(<span class=\"string\">&quot;birthday = &quot;</span> + resultSet.getObject(<span class=\"string\">&quot;birthday&quot;</span>));</span><br><span class=\"line\">      System.out.println(<span class=\"string\">&quot;===============================================================&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// æ–­è¿</span></span><br><span class=\"line\">    DbcpUtils.releaseConnection(connection, preparedStatement, resultSet);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"å„åè¯åŒºåˆ«\">å„åè¯åŒºåˆ«</h2>\n<blockquote>\n<p><a href=\"https://blog.csdn.net/u013541707/article/details/113182157\">ç®€å•åˆ†æ jdbcã€datasource æ•°æ®æºã€æ•°æ®åº“é©±åŠ¨ï¼Œè¿æ¥æ± ï¼ŒjdbcTemplateï¼Œmybatisã€JPAã€Hibernate çš„åŒºåˆ«</a></p>\n</blockquote>\n<script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kity@2.0.4/dist/kity.min.js\"></script><script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js\"></script><script defer=\"true\" type=\"text&#x2F;javascript\" src=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js\"></script><link rel=\"stylesheet\" type=\"text&#x2F;css\" href=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css\">",
            "tags": [
                "java",
                "ç¬”è®°",
                "mysql",
                "jdbc"
            ]
        },
        {
            "id": "https://weidows.github.io/post/Java/SQL/4/",
            "url": "https://weidows.github.io/post/Java/SQL/4/",
            "title": "ğŸš€è¿›ä¿® MySQL~(è‚†)",
            "date_published": "2021-03-17T06:41:19.000Z",
            "content_html": "<!--\n * @?: *********************************************************************\n * @Author: Weidows\n * @LastEditors: Weidows\n * @LastEditTime: 2021-03-20 17:34:17\n * @FilePath: \\Weidowsd:\\Game\\Github\\Blog-private\\source\\_posts\\Java\\MySQL\\4.md\n * @Description:\n * @!: *********************************************************************\n-->\n<ul>\n<li><a href=\"#%E7%94%A8%E6%88%B7%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86\">ç”¨æˆ· / æƒé™ç®¡ç†</a>\n<ul>\n<li><a href=\"#%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C\">åŸºæœ¬æ“ä½œ</a></li>\n<li><a href=\"#%E6%9D%83%E9%99%90%E8%A7%A3%E9%87%8A\">æƒé™è§£é‡Š</a></li>\n<li><a href=\"#%E8%A1%A8%E7%BB%B4%E6%8A%A4\">è¡¨ç»´æŠ¤</a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%AF%BC%E5%87%BA%E5%AF%BC%E5%85%A5\">å¯¼å‡º &amp; å¯¼å…¥</a></li>\n<li><a href=\"#%E8%AE%BE%E8%AE%A1%E6%95%B0%E6%8D%AE%E5%BA%93\">è®¾è®¡æ•°æ®åº“</a></li>\n<li><a href=\"#%E4%B8%89%E5%A4%A7%E8%8C%83%E5%BC%8F\">ä¸‰å¤§èŒƒå¼</a>\n<ul>\n<li><a href=\"#%E7%AC%AC%E4%B8%80%E8%8C%83%E5%BC%8F\">ç¬¬ä¸€èŒƒå¼</a></li>\n<li><a href=\"#%E7%AC%AC%E4%BA%8C%E8%8C%83%E5%BC%8F\">ç¬¬äºŒèŒƒå¼</a></li>\n<li><a href=\"#%E7%AC%AC%E4%B8%89%E8%8C%83%E5%BC%8F\">ç¬¬ä¸‰èŒƒå¼</a></li>\n<li><a href=\"#%E6%80%A7%E8%83%BD%E8%80%83%E9%87%8F\">æ€§èƒ½è€ƒé‡</a></li>\n</ul>\n</li>\n<li><a href=\"#jdbc\">JDBC</a>\n<ul>\n<li><a href=\"#helloworld\">HelloWorld</a></li>\n<li><a href=\"#%E5%AF%B9%E8%B1%A1%E6%93%8D%E4%BD%9C\">å¯¹è±¡æ“ä½œ</a></li>\n<li><a href=\"#%E8%A7%A3%E8%80%A6%E6%A1%88%E4%BE%8B\">è§£è€¦æ¡ˆä¾‹</a>\n<ul>\n<li><a href=\"#utils\">Utils</a></li>\n<li><a href=\"#curd\">CRUD</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"ç”¨æˆ· - æƒé™ç®¡ç†\">ç”¨æˆ· / æƒé™ç®¡ç†</h2>\n<h3 id=\"åŸºæœ¬æ“ä½œ\">åŸºæœ¬æ“ä½œ</h3>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">  ç”¨æˆ·ä¿¡æ¯è¡¨ï¼šmysql.user</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- åˆ·æ–°æƒé™</span></span><br><span class=\"line\">FLUSH PRIVILEGES;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">  å¢åŠ ç”¨æˆ·</span></span><br><span class=\"line\"><span class=\"comment\">  å¿…é¡»æ‹¥æœ‰ mysql æ•°æ®åº“çš„å…¨å±€ CREATE USER æƒé™ï¼Œæˆ–æ‹¥æœ‰ INSERT æƒé™ã€‚</span></span><br><span class=\"line\"><span class=\"comment\">  ç”¨æˆ·å / å¯†ç æ³¨æ„åŠ å¼•å·ï¼Œå¦‚ &#x27;user_name&#x27;@&#x27;192.168.1.1&#x27;</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">USER</span> weidows IDENTIFIED <span class=\"keyword\">BY</span> <span class=\"string\">&#x27;123456&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- é‡å‘½åç”¨æˆ·</span></span><br><span class=\"line\">RENAME <span class=\"keyword\">USER</span> weidows <span class=\"keyword\">TO</span> weidows2;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- åˆ é™¤ç”¨æˆ·</span></span><br><span class=\"line\"><span class=\"keyword\">DROP</span> <span class=\"keyword\">USER</span> weidows2;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- è®¾ç½®å¯†ç </span></span><br><span class=\"line\"><span class=\"comment\">-- ä¸ºå½“å‰ç”¨æˆ·è®¾ç½®å¯†ç </span></span><br><span class=\"line\"><span class=\"keyword\">SET</span> PASSWORD <span class=\"operator\">=</span> PASSWORD (<span class=\"string\">&#x27; å¯†ç  &#x27;</span>);</span><br><span class=\"line\"><span class=\"comment\">-- ä¸ºæŒ‡å®šç”¨æˆ·è®¾ç½®å¯†ç </span></span><br><span class=\"line\"><span class=\"keyword\">SET</span> PASSWORD <span class=\"keyword\">FOR</span> ç”¨æˆ·å <span class=\"operator\">=</span> PASSWORD (<span class=\"string\">&#x27; å¯†ç  &#x27;</span>);</span><br><span class=\"line\"><span class=\"comment\">-- ä¸Šé¢ä¸¤ç§æŠ¥é”™çš„è¯</span></span><br><span class=\"line\"><span class=\"keyword\">ALTER</span> <span class=\"keyword\">USER</span> root<span class=\"variable\">@localhost</span> IDENTIFIED <span class=\"keyword\">BY</span> <span class=\"string\">&#x27; å¯†ç  &#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">  æˆäºˆæƒé™</span></span><br><span class=\"line\"><span class=\"comment\">  GRANT æƒé™åˆ—è¡¨ ON è¡¨å TO ç”¨æˆ·å [IDENTIFIED BY [PASSWORD] &#x27;password&#x27;]</span></span><br><span class=\"line\"><span class=\"comment\">    all privileges è¡¨ç¤ºæ‰€æœ‰æƒé™</span></span><br><span class=\"line\"><span class=\"comment\">    *.* è¡¨ç¤ºæ‰€æœ‰åº“çš„æ‰€æœ‰è¡¨</span></span><br><span class=\"line\"><span class=\"comment\">    åº“å. è¡¨å è¡¨ç¤ºæŸåº“ä¸‹é¢çš„æŸè¡¨</span></span><br><span class=\"line\"><span class=\"comment\">  åªæœ‰ root ç”¨æˆ·æ‹¥æœ‰ grant æƒé™, å…¶ä»–ç”¨æˆ·æ— æ³•å¼€å¯.</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\"><span class=\"keyword\">GRANT</span> <span class=\"keyword\">ALL</span> PRIVILEGES <span class=\"keyword\">ON</span> <span class=\"operator\">*</span>.<span class=\"operator\">*</span> <span class=\"keyword\">TO</span> weidows IDENTIFIED <span class=\"keyword\">BY</span> <span class=\"string\">&#x27;123456&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- æŸ¥çœ‹æƒé™</span></span><br><span class=\"line\"><span class=\"keyword\">SHOW</span> GRANTS <span class=\"keyword\">FOR</span> root<span class=\"variable\">@localhost</span>;</span><br><span class=\"line\"><span class=\"comment\">-- æŸ¥çœ‹å½“å‰ç”¨æˆ·æƒé™</span></span><br><span class=\"line\"><span class=\"keyword\">SHOW</span> GRANTS;</span><br><span class=\"line\"><span class=\"keyword\">SHOW</span> GRANTS <span class=\"keyword\">FOR</span> <span class=\"built_in\">CURRENT_USER</span>;</span><br><span class=\"line\"><span class=\"keyword\">SHOW</span> GRANTS <span class=\"keyword\">FOR</span> <span class=\"built_in\">CURRENT_USER</span>();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">  æ’¤æ¶ˆæƒé™</span></span><br><span class=\"line\"><span class=\"comment\">  REVOKE æƒé™åˆ—è¡¨ ON è¡¨å FROM ç”¨æˆ·å</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">REVOKE</span> <span class=\"keyword\">ALL</span> PRIVILEGES <span class=\"keyword\">ON</span> <span class=\"operator\">*</span>.<span class=\"operator\">*</span> <span class=\"keyword\">FROM</span> weidows;</span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"æƒé™è§£é‡Š\">æƒé™è§£é‡Š</h3>\n<ul>\n<li>(æŸ¥è¯¢ç”¨, ä¸ç”¨ç¡¬è®°)</li>\n</ul>\n<figure class=\"highlight pgsql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">ALL</span> [<span class=\"keyword\">PRIVILEGES</span>]    <span class=\"comment\">-- è®¾ç½®é™¤ GRANT OPTION ä¹‹å¤–çš„æ‰€æœ‰ç®€å•æƒé™</span></span><br><span class=\"line\"><span class=\"keyword\">ALTER</span>    <span class=\"comment\">-- å…è®¸ä½¿ç”¨ ALTER TABLE</span></span><br><span class=\"line\"><span class=\"keyword\">ALTER</span> <span class=\"keyword\">ROUTINE</span>    <span class=\"comment\">-- æ›´æ”¹æˆ–å–æ¶ˆå·²å­˜å‚¨çš„å­ç¨‹åº</span></span><br><span class=\"line\"><span class=\"keyword\">CREATE</span>    <span class=\"comment\">-- å…è®¸ä½¿ç”¨ CREATE TABLE</span></span><br><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">ROUTINE</span>    <span class=\"comment\">-- åˆ›å»ºå·²å­˜å‚¨çš„å­ç¨‹åº</span></span><br><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TEMPORARY</span> <span class=\"keyword\">TABLES</span>        <span class=\"comment\">-- å…è®¸ä½¿ç”¨ CREATE TEMPORARY TABLE</span></span><br><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">USER</span>        <span class=\"comment\">-- å…è®¸ä½¿ç”¨ CREATE USER, DROP USER, RENAME USER å’Œ REVOKE ALL PRIVILEGESã€‚</span></span><br><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">VIEW</span>        <span class=\"comment\">-- å…è®¸ä½¿ç”¨ CREATE VIEW</span></span><br><span class=\"line\"><span class=\"keyword\">DELETE</span>    <span class=\"comment\">-- å…è®¸ä½¿ç”¨ DELETE</span></span><br><span class=\"line\"><span class=\"keyword\">DROP</span>    <span class=\"comment\">-- å…è®¸ä½¿ç”¨ DROP TABLE</span></span><br><span class=\"line\"><span class=\"keyword\">EXECUTE</span>        <span class=\"comment\">-- å…è®¸ç”¨æˆ·è¿è¡Œå·²å­˜å‚¨çš„å­ç¨‹åº</span></span><br><span class=\"line\">FILE    <span class=\"comment\">-- å…è®¸ä½¿ç”¨ SELECT...INTO OUTFILE å’Œ LOAD DATA INFILE</span></span><br><span class=\"line\"><span class=\"keyword\">INDEX</span>     <span class=\"comment\">-- å…è®¸ä½¿ç”¨ CREATE INDEX å’Œ DROP INDEX</span></span><br><span class=\"line\"><span class=\"keyword\">INSERT</span>    <span class=\"comment\">-- å…è®¸ä½¿ç”¨ INSERT</span></span><br><span class=\"line\"><span class=\"keyword\">LOCK</span> <span class=\"keyword\">TABLES</span>        <span class=\"comment\">-- å…è®¸å¯¹æ‚¨æ‹¥æœ‰ SELECT æƒé™çš„è¡¨ä½¿ç”¨ LOCK TABLES</span></span><br><span class=\"line\">PROCESS     <span class=\"comment\">-- å…è®¸ä½¿ç”¨ SHOW FULL PROCESSLIST</span></span><br><span class=\"line\"><span class=\"keyword\">REFERENCES</span>    <span class=\"comment\">-- æœªè¢«å®æ–½</span></span><br><span class=\"line\">RELOAD    <span class=\"comment\">-- å…è®¸ä½¿ç”¨ FLUSH</span></span><br><span class=\"line\"><span class=\"keyword\">REPLICATION</span> CLIENT    <span class=\"comment\">-- å…è®¸ç”¨æˆ·è¯¢é—®ä»å±æœåŠ¡å™¨æˆ–ä¸»æœåŠ¡å™¨çš„åœ°å€</span></span><br><span class=\"line\"><span class=\"keyword\">REPLICATION</span> SLAVE    <span class=\"comment\">-- ç”¨äºå¤åˆ¶å‹ä»å±æœåŠ¡å™¨ï¼ˆä»ä¸»æœåŠ¡å™¨ä¸­è¯»å–äºŒè¿›åˆ¶æ—¥å¿—äº‹ä»¶ï¼‰</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span>    <span class=\"comment\">-- å…è®¸ä½¿ç”¨ SELECT</span></span><br><span class=\"line\"><span class=\"keyword\">SHOW</span> DATABASES    <span class=\"comment\">-- æ˜¾ç¤ºæ‰€æœ‰æ•°æ®åº“</span></span><br><span class=\"line\"><span class=\"keyword\">SHOW</span> <span class=\"keyword\">VIEW</span>    <span class=\"comment\">-- å…è®¸ä½¿ç”¨ SHOW CREATE VIEW</span></span><br><span class=\"line\">SHUTDOWN    <span class=\"comment\">-- å…è®¸ä½¿ç”¨ mysqladmin shutdown</span></span><br><span class=\"line\">SUPER    <span class=\"comment\">-- å…è®¸ä½¿ç”¨ CHANGE MASTER, KILL, PURGE MASTER LOGS å’Œ SET GLOBAL è¯­å¥ï¼Œmysqladmin debug å‘½ä»¤ï¼›å…è®¸æ‚¨è¿æ¥ï¼ˆä¸€æ¬¡ï¼‰ï¼Œå³ä½¿å·²è¾¾åˆ° max_connectionsã€‚</span></span><br><span class=\"line\"><span class=\"keyword\">UPDATE</span>    <span class=\"comment\">-- å…è®¸ä½¿ç”¨ UPDATE</span></span><br><span class=\"line\"><span class=\"keyword\">USAGE</span>    <span class=\"comment\">-- â€œæ— æƒé™â€çš„åŒä¹‰è¯</span></span><br><span class=\"line\"><span class=\"keyword\">GRANT</span> <span class=\"keyword\">OPTION</span>    <span class=\"comment\">-- å…è®¸æˆäºˆæƒé™</span></span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"è¡¨ç»´æŠ¤\">è¡¨ç»´æŠ¤</h3>\n<ul>\n<li><code>äº†è§£</code></li>\n</ul>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- åˆ†æå’Œå­˜å‚¨è¡¨çš„å…³é”®å­—åˆ†å¸ƒ</span></span><br><span class=\"line\">ANALYZE [<span class=\"keyword\">LOCAL</span> <span class=\"operator\">|</span> NO_WRITE_TO_BINLOG] <span class=\"keyword\">TABLE</span> è¡¨å ...</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- æ£€æŸ¥ä¸€ä¸ªæˆ–å¤šä¸ªè¡¨æ˜¯å¦æœ‰é”™è¯¯</span></span><br><span class=\"line\"><span class=\"keyword\">CHECK</span> <span class=\"keyword\">TABLE</span> tbl_name [, tbl_name] ... [option] ...</span><br><span class=\"line\">option <span class=\"operator\">=</span> &#123;QUICK <span class=\"operator\">|</span> FAST <span class=\"operator\">|</span> MEDIUM <span class=\"operator\">|</span> EXTENDED <span class=\"operator\">|</span> CHANGED&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- æ•´ç†æ•°æ®æ–‡ä»¶çš„ç¢ç‰‡</span></span><br><span class=\"line\">OPTIMIZE [<span class=\"keyword\">LOCAL</span> <span class=\"operator\">|</span> NO_WRITE_TO_BINLOG] <span class=\"keyword\">TABLE</span> tbl_name [, tbl_name] ...</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"å¯¼å‡º - å¯¼å…¥\">å¯¼å‡º &amp; å¯¼å…¥</h2>\n<ul>\n<li>\n<p>å¯ä»¥ç”¨ SQL GUI ç¨‹åºæ“ä½œ, ä¸‹é¢ä»‹ç»å‘½ä»¤è¡Œæ“ä½œ</p>\n</li>\n<li>\n<p>å¯¼å‡º</p>\n<ul>\n<li>å¯ä»¥åŠ ä¸Š -w æºå¸¦å¤‡ä»½æ¡ä»¶</li>\n<li>-xxx åé¢ä¸åŠ ç©ºæ ¼, ç›´æ¥å¸¦ä¸Šå‚æ•°</li>\n</ul>\n<hr>\n<ol>\n<li>å¯¼å‡ºä¸€å¼ è¡¨ mysqldump -u ç”¨æˆ·å -p å¯†ç  åº“å è¡¨å &gt; æ–‡ä»¶å(D:/a.sql)</li>\n</ol>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">mysqldump</span> -uroot -p<span class=\"number\">123456</span> school student &gt;D:/a.sql</span><br></pre></td></tr></table></figure>\n<ol start=\"2\">\n<li>å¯¼å‡ºå¤šå¼ è¡¨ mysqldump -u ç”¨æˆ·å -p å¯†ç  åº“å è¡¨ 1 è¡¨ 2 è¡¨ 3 &gt; æ–‡ä»¶å(D:/a.sql)</li>\n</ol>\n<figure class=\"highlight livecodeserver\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysqldump -uroot -p123456 school student <span class=\"built_in\">result</span> &gt;D:/<span class=\"keyword\">a</span>.sql</span><br></pre></td></tr></table></figure>\n<ol start=\"3\">\n<li>å¯¼å‡ºæ‰€æœ‰è¡¨ mysqldump -u ç”¨æˆ·å -p å¯†ç  åº“å &gt; æ–‡ä»¶å(D:/a.sql)</li>\n</ol>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">mysqldump</span> -uroot -p<span class=\"number\">123456</span> school &gt;D:/a.sql</span><br></pre></td></tr></table></figure>\n<ol start=\"4\">\n<li>å¯¼å‡ºä¸€ä¸ªåº“ mysqldump -u ç”¨æˆ·å -p å¯†ç  -B åº“å &gt; æ–‡ä»¶å(D:/a.sql)</li>\n</ol>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">mysqldump</span> -uroot -p<span class=\"number\">123456</span> -B school &gt;D:/a.sql</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<ul>\n<li>\n<p>å¯¼å…¥</p>\n<ol>\n<li>åœ¨å·²ç»ç™»å½• mysql, åˆ‡æ¢åˆ°æŒ‡å®šæ•°æ®åº“çš„æƒ…å†µä¸‹: source å¤‡ä»½æ–‡ä»¶</li>\n</ol>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">source</span> D:/a.sql</span><br></pre></td></tr></table></figure>\n<ol start=\"2\">\n<li>åœ¨ä¸ç™»å½•çš„æƒ…å†µä¸‹: mysql -u ç”¨æˆ·å -p å¯†ç  [åº“å] &lt; å¤‡ä»½æ–‡ä»¶ (å¦‚æœå¯¼å…¥ä¸€ä¸ªåº“çš„è¯å°±ä¸åŠ åº“å)</li>\n</ol>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">mysql</span> -uroot -p<span class=\"number\">123456</span> school &lt;D:/a.sql</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"è®¾è®¡æ•°æ®åº“\">è®¾è®¡æ•°æ®åº“</h2>\n<ul>\n<li>\n<p>ç›®çš„:</p>\n<ol>\n<li>èŠ‚çœæ•°æ®å­˜å‚¨ç©ºé—´</li>\n<li>ä¿è¯æ•°æ®çš„å®Œæ•´æ€§</li>\n<li>æ–¹ä¾¿è¿›è¡Œæ•°æ®åº“åº”ç”¨ç³»ç»Ÿçš„å¼€å‘</li>\n</ol>\n<hr>\n</li>\n<li>\n<p>é˜¶æ®µè®¾è®¡</p>\n<ol>\n<li>\n<p>éœ€æ±‚åˆ†æ: åˆ†æå®¢æˆ·çš„ä¸šåŠ¡å’Œæ•°æ®å¤„ç†éœ€æ±‚</p>\n</li>\n<li>\n<p>æ¦‚è¦è®¾è®¡: è®¾è®¡æ•°æ®åº“çš„ E-R æ¨¡å‹å›¾ , ç¡®è®¤éœ€æ±‚ä¿¡æ¯çš„æ­£ç¡®å’Œå®Œæ•´.</p>\n</li>\n<li>\n<p>æ”¶é›†ä¿¡æ¯: æœé›†ä¸éœ€æ±‚ç›¸å…³çš„ä¿¡æ¯éœ€æ±‚.</p>\n<ol>\n<li>é¡µé¢ A</li>\n<li>åŠŸèƒ½ B</li>\n<li>ç‰¹æ®Šéœ€æ±‚ C</li>\n<li>è‡ªå®šä¹‰ D</li>\n<li>â€¦</li>\n</ol>\n</li>\n<li>\n<p>æ ‡è¯†å®ä½“: æ ‡è¯†æ•°æ®åº“æ‰€è¦ç®¡ç†çš„å¯¹è±¡, è¯¦ç»†ä¿¡æ¯ (Attribute) ä»¥åŠå…³ç³»(Relationship)</p>\n<ol>\n<li>å†™åšå®¢ user -&gt; blog</li>\n<li>åˆ†ç±» blog -&gt; category</li>\n<li>è¯„è®º user(ä½œè€…) -&gt; user(è¯„è®ºè€…) -&gt; blog(åšå®¢é¡µé¢)</li>\n<li>â€¦</li>\n</ol>\n</li>\n</ol>\n</li>\n</ul>\n<hr>\n<h2 id=\"ä¸‰å¤§èŒƒå¼\">ä¸‰å¤§èŒƒå¼</h2>\n<blockquote>\n<p><a href=\"https://blog.csdn.net/scarecrow_fly/article/details/102170042\">æ•°æ®åº“è®¾è®¡çš„ä¸‰å¤§èŒƒå¼é€šä¿—è®²è§£</a></p>\n</blockquote>\n<ul>\n<li>\n<p>ä¸‰å¤§èŒƒå¼å‡ºç°ä¸ºäº†è§£å†³ä¸€ä¸‹å››ç§é—®é¢˜</p>\n<ul>\n<li>\n<p>ä¿¡æ¯é‡å¤</p>\n</li>\n<li>\n<p>æ›´æ–°å¼‚å¸¸</p>\n</li>\n<li>\n<p>æ’å…¥å¼‚å¸¸</p>\n</li>\n<li>\n<p>åˆ é™¤å¼‚å¸¸</p>\n</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h3 id=\"ç¬¬ä¸€èŒƒå¼\">ç¬¬ä¸€èŒƒå¼</h3>\n<blockquote>\n<p>ç¡®ä¿æ¯åˆ—çš„ <code> åŸå­æ€§</code>, æ¯åˆ—éƒ½æ˜¯ä¸å¯å†åˆ†çš„æœ€å°æ•°æ®å•å…ƒ</p>\n</blockquote>\n<blockquote>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVsdNA.png\" alt=\"20210317202650\" />\n</blockquote>\n<ul>\n<li>ä¸Šé¢å®¶åº­ä¿¡æ¯å’Œå­¦æ ¡ä¿¡æ¯éƒ½å¯ä»¥å†æ‹†åˆ†ä¸ºä¸¤åˆ—</li>\n</ul>\n<hr>\n<h3 id=\"ç¬¬äºŒèŒƒå¼\">ç¬¬äºŒèŒƒå¼</h3>\n<blockquote>\n<p>å¿…é¡»åœ¨æ»¡è¶³ç¬¬ä¸€èŒƒå¼çš„æ¡ä»¶ä¸‹: æ¯ä¸ªè¡¨åªåšä¸€ä»¶äº‹ (<code> æ¯è¡Œæœ‰å”¯ä¸€æ ‡è¯†</code>, å…¶ä»–æ•°æ®åªä¾èµ–äºæ­¤æ ‡è¯†åˆ—)</p>\n</blockquote>\n<blockquote>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVsvu5.png\" alt=\"20210317203230\" />\n</blockquote>\n<ul>\n<li>\n<p>ç®€å•æ¥è®²å°±æ˜¯æ ‡è¯†åˆ—å’Œå…¶ä»–åˆ—æœ‰å…±åŒé‡å¤æ•°æ®è¡Œ, é‚£ä¹ˆ <code> æ ‡è¯†åˆ— </code> å’Œ<code>æœ‰é‡å¤æ•°æ®çš„åˆ— </code> å¯ä»¥åˆ†åˆ°å¦ä¸€ä¸ªè¡¨</p>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVsNOm.png\" alt=\"20210317203601\" />\n</li>\n</ul>\n<hr>\n<h3 id=\"ç¬¬ä¸‰èŒƒå¼\">ç¬¬ä¸‰èŒƒå¼</h3>\n<blockquote>\n<p>åœ¨ç¬¬äºŒèŒƒå¼åŸºç¡€ä¸Š, å…¶ä»–åˆ—æ•°æ®å¿…é¡»ä¸æ ‡è¯†åˆ—æ•°æ®æœ‰ç›´æ¥å…³ç³»</p>\n</blockquote>\n<blockquote>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVsQkh.png\" alt=\"20210317204105\" />\n</blockquote>\n<ul>\n<li>\n<p>ä¹Ÿå°±æ˜¯è¯´ä¸å­˜åœ¨æ ‡è¯†åˆ—ä¸å…¶ä»–åˆ—å…±åŒé‡å¤äº†, ä½†è¿˜æ˜¯å¯èƒ½å­˜åœ¨å¤šä¸ªå…¶ä»–åˆ—æœ‰å…±åŒé‡å¤(ç­ä¸»ä»»çš„é‚£ä¸‰åˆ—æœ‰å…±åŒé‡å¤æ•°æ®)</p>\n</li>\n<li>\n<p>æŠŠç­ä¸»ä»»åˆ†å‡ºå»</p>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVs7lq.png\" alt=\"20210317204341\" />\n</li>\n</ul>\n<hr>\n<h3 id=\"æ€§èƒ½è€ƒé‡\">æ€§èƒ½è€ƒé‡</h3>\n<blockquote>\n<p><code>å…³è”æŸ¥è¯¢ä¸èƒ½è¶…è¿‡ä¸‰å¼ è¡¨</code>.</p>\n</blockquote>\n<ul>\n<li>\n<p>å®é™…åº”ç”¨ä¸­éœ€è¦è€ƒè™‘å¤šè¡¨çš„é¢å¤–å¼€é”€</p>\n</li>\n<li>\n<p>å¦‚æœä¸è§„èŒƒç¨‹åº¦ä½, è€Œä¸”æ€§èƒ½éœ€æ±‚é«˜çš„åœºæ™¯, åˆ™éœ€è¦è€ƒè™‘æ˜¯å¦éµå¾ªèŒƒå¼.</p>\n</li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"JDBC\">JDBC</h2>\n<h3 id=\"HelloWorld\">HelloWorld</h3>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVsz1c.png\" alt=\"20210319102812\" />\n<ul>\n<li>\n<p>å·¥å…·ç±» (Java è‡ªå¸¦)</p>\n<ul>\n<li>java.sql</li>\n<li>javax.sql</li>\n</ul>\n</li>\n<li>\n<p>SQL é©±åŠ¨éœ€è¦å¯¼å…¥(åœ¨ pom.xml ä¸­)</p>\n<ul>\n<li>mysql-connector-java- ç‰ˆæœ¬å· jar</li>\n</ul>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>mysql<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>mysql-connector-java<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>8.0.23<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<ul>\n<li>\n<p>åˆ›å»ºæ•°æ®åº“</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">CREATE</span> DATABASE jdbcStudy <span class=\"type\">CHARACTER</span> <span class=\"keyword\">SET</span> utf8 <span class=\"keyword\">COLLATE</span> utf8_general_ci;</span><br><span class=\"line\"></span><br><span class=\"line\">USE jdbcStudy;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> `users`</span><br><span class=\"line\">(</span><br><span class=\"line\">  id       <span class=\"type\">INT</span> <span class=\"keyword\">PRIMARY</span> KEY,</span><br><span class=\"line\">  NAME     <span class=\"type\">VARCHAR</span>(<span class=\"number\">40</span>),</span><br><span class=\"line\">  PASSWORD <span class=\"type\">VARCHAR</span>(<span class=\"number\">40</span>),</span><br><span class=\"line\">  email    <span class=\"type\">VARCHAR</span>(<span class=\"number\">60</span>),</span><br><span class=\"line\">  birthday <span class=\"type\">DATE</span></span><br><span class=\"line\">);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">INSERT</span> <span class=\"keyword\">INTO</span> `users`(id, NAME, PASSWORD, email, birthday)</span><br><span class=\"line\"><span class=\"keyword\">VALUES</span> (<span class=\"number\">1</span>, <span class=\"string\">&#x27;zhansan&#x27;</span>, <span class=\"string\">&#x27;123456&#x27;</span>, <span class=\"string\">&#x27;zs@sina.com&#x27;</span>, <span class=\"string\">&#x27;1980-12-04&#x27;</span>),</span><br><span class=\"line\">      (<span class=\"number\">2</span>, <span class=\"string\">&#x27;lisi&#x27;</span>, <span class=\"string\">&#x27;123456&#x27;</span>, <span class=\"string\">&#x27;lisi@sina.com&#x27;</span>, <span class=\"string\">&#x27;1981-12-04&#x27;</span>),</span><br><span class=\"line\">      (<span class=\"number\">3</span>, <span class=\"string\">&#x27;wangwu&#x27;</span>, <span class=\"string\">&#x27;123456&#x27;</span>, <span class=\"string\">&#x27;wangwu@sina.com&#x27;</span>, <span class=\"string\">&#x27;1979-12-04&#x27;</span>);</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>è¿æ¥,helloworld</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.sql.Connection;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.sql.DriverManager;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.sql.ResultSet;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.sql.SQLException;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.sql.Statement;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> com.mysql.cj.jdbc.Driver;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">JDBCFirstDemo</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> <span class=\"keyword\">throws</span> ClassNotFoundException, SQLException </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 1. è®¾ç½®ç”¨æˆ·ä¿¡æ¯</span></span><br><span class=\"line\"><span class=\"comment\">        useUnicode = true æ”¯æŒä¸­æ–‡ç¼–ç </span></span><br><span class=\"line\"><span class=\"comment\">        characterEncoding = utf8 è®¾å®šå­—ç¬¦é›†</span></span><br><span class=\"line\"><span class=\"comment\">        useSSL = true å®‰å…¨è¿æ¥</span></span><br><span class=\"line\"><span class=\"comment\">    */</span></span><br><span class=\"line\">    String url = <span class=\"string\">&quot;jdbc:mysql://localhost:3306/jdbcStudy?useUnicode = true &amp; characterEncoding = utf8 &amp; useSSL = true&quot;</span>;</span><br><span class=\"line\">    String user = <span class=\"string\">&quot;root&quot;</span>;</span><br><span class=\"line\">    String password = <span class=\"string\">&quot;123456&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//2. åŠ è½½é©±åŠ¨(å›ºå®šå†™æ³•, äºŒé€‰ä¸€)</span></span><br><span class=\"line\">    <span class=\"comment\">// Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);</span></span><br><span class=\"line\">    DriverManager.registerDriver(<span class=\"keyword\">new</span> Driver());</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 3. è¿æ¥ï¼Œæ•°æ®åº“å¯¹è±¡ Connection ä»£è¡¨æ•°æ®åº“</span></span><br><span class=\"line\"><span class=\"comment\">        // äº‹åŠ¡æäº¤</span></span><br><span class=\"line\"><span class=\"comment\">        connection.commit();</span></span><br><span class=\"line\"><span class=\"comment\">        // äº‹åŠ¡å›æ»š</span></span><br><span class=\"line\"><span class=\"comment\">        connection.rollback();</span></span><br><span class=\"line\"><span class=\"comment\">        // æ•°æ®åº“è®¾ç½®è‡ªåŠ¨æäº¤</span></span><br><span class=\"line\"><span class=\"comment\">        connection.setAutoCommit(true);</span></span><br><span class=\"line\"><span class=\"comment\">    */</span></span><br><span class=\"line\">    Connection connection = DriverManager.getConnection(url, user, password);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//4. åˆ›å»º SQL çš„å¯¹è±¡</span></span><br><span class=\"line\">    Statement statement = connection.createStatement();</span><br><span class=\"line\">    String sql = <span class=\"string\">&quot;SELECT * FROM users&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//5. æ‰§è¡Œ SQL çš„å¯¹è±¡, æŸ¥çœ‹è¿”å›ç»“æœ</span></span><br><span class=\"line\">    ResultSet resultSet = statement.executeQuery(sql); <span class=\"comment\">// è¿”å›çš„ç»“æœé›†</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> (resultSet.next()) &#123;</span><br><span class=\"line\">      System.out.println(<span class=\"string\">&quot;id = &quot;</span> + resultSet.getObject(<span class=\"string\">&quot;id&quot;</span>));</span><br><span class=\"line\">      System.out.println(<span class=\"string\">&quot;name = &quot;</span> + resultSet.getObject(<span class=\"string\">&quot;NAME&quot;</span>));</span><br><span class=\"line\">      System.out.println(<span class=\"string\">&quot;password = &quot;</span> + resultSet.getObject(<span class=\"string\">&quot;PASSWORD&quot;</span>));</span><br><span class=\"line\">      System.out.println(<span class=\"string\">&quot;email = &quot;</span> + resultSet.getObject(<span class=\"string\">&quot;email&quot;</span>));</span><br><span class=\"line\">      System.out.println(<span class=\"string\">&quot;birthday = &quot;</span> + resultSet.getObject(<span class=\"string\">&quot;birthday&quot;</span>));</span><br><span class=\"line\">      System.out.println(<span class=\"string\">&quot;===============================================================&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//6. é‡Šæ”¾è¿æ¥</span></span><br><span class=\"line\">    resultSet.close();</span><br><span class=\"line\">    statement.close();</span><br><span class=\"line\">    connection.close();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n</li>\n<li>\n<p>æ‰§è¡Œç»“æœ</p>\n<figure class=\"highlight asciidoc\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">id = 1</span><br><span class=\"line\">name = zhansan</span><br><span class=\"line\">password = 123456</span><br><span class=\"line\">email = zs@sina.com</span><br><span class=\"line\"><span class=\"section\">birthday = 1980-12-04</span></span><br><span class=\"line\"><span class=\"section\">===============================================================</span></span><br><span class=\"line\">id = 2</span><br><span class=\"line\">name = lisi</span><br><span class=\"line\">password = 123456</span><br><span class=\"line\">email = lisi@sina.com</span><br><span class=\"line\"><span class=\"section\">birthday = 1981-12-04</span></span><br><span class=\"line\"><span class=\"section\">===============================================================</span></span><br><span class=\"line\">id = 3</span><br><span class=\"line\">name = wangwu</span><br><span class=\"line\">password = 123456</span><br><span class=\"line\">email = wangwu@sina.com</span><br><span class=\"line\"><span class=\"section\">birthday = 1979-12-04</span></span><br><span class=\"line\"><span class=\"section\">===============================================================</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h3 id=\"å¯¹è±¡æ“ä½œ\">å¯¹è±¡æ“ä½œ</h3>\n<ul>\n<li>\n<p>connection</p>\n<ul>\n<li>connection.rollback();</li>\n<li>connection.commit();</li>\n<li>connection.setAutoCommit();</li>\n</ul>\n</li>\n</ul>\n<hr>\n<ul>\n<li>\n<p>statement</p>\n<ul>\n<li>statement.executeQuery(); æ‰§è¡ŒæŸ¥è¯¢ SQL</li>\n<li>statement.execute(); å¯ä»¥æ‰§è¡Œä»»ä½• SQL æŒ‡ä»¤</li>\n<li>statement.executeUpdate(); æ›´æ–°ï¼Œæ’å…¥ï¼Œåˆ é™¤ï¼Œè¿”å›å—å½±å“çš„è¡Œæ•°</li>\n<li>statement.executeBatch(); æ‰§è¡Œä¸€ç»„ SQL</li>\n</ul>\n</li>\n</ul>\n<hr>\n<ul>\n<li>\n<p>ResultSet</p>\n<ul>\n<li>resultSet.getObject(); åœ¨ä¸çŸ¥é“åˆ—ç±»å‹ä¸‹ä½¿ç”¨</li>\n<li>resultSet.getString(); å¦‚æœçŸ¥é“åˆ™æŒ‡å®šä½¿ç”¨</li>\n<li>resultSet.getInt();</li>\n<li>â€¦</li>\n</ul>\n<hr>\n<ul>\n<li>resultSet.next(); ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ª</li>\n<li>resultSet.previous(); ç§»åŠ¨åˆ°ä¸Šä¸€ä¸ª</li>\n<li>resultSet.beforeFirst(); ç§»åŠ¨åˆ°æœ€å‰</li>\n<li>resultSet.afterLast(); ç§»åŠ¨åˆ°æœ€å</li>\n<li>resultSet.absolute(row); ç§»åŠ¨åˆ°æŒ‡å®šè¡Œ</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h3 id=\"è§£è€¦æ¡ˆä¾‹\">è§£è€¦æ¡ˆä¾‹</h3>\n<ul>\n<li>\n<p>ä¸Šé¢çš„ JDBC åŒ…æ‹¬åŠ è½½è¿æ¥, ä¸šåŠ¡é€»è¾‘, çŠ¶æ€è½¬åŒ–éƒ½å†™åˆ°ä¸€ä¸ªç±»ä¸­, å¯¼è‡´æ‰©å±•æ—¶å¾ˆä¸æ–¹ä¾¿, éœ€è¦ <code>è§£è€¦</code></p>\n</li>\n<li>\n<p>æŠŠåŠ è½½è¿æ¥åˆ†ç¦»åˆ° <code>db.properties</code></p>\n<figure class=\"highlight properties\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">driver</span>=<span class=\"string\">com.mysql.cj.jdbc.Driver</span></span><br><span class=\"line\"><span class=\"attr\">url</span>=<span class=\"string\">jdbc:mysql://localhost:3306/jdbcStudy?useUnicode = true &amp; characterEncoding = utf8 &amp; useSSL = true</span></span><br><span class=\"line\"><span class=\"attr\">username</span>=<span class=\"string\">root</span></span><br><span class=\"line\"><span class=\"attr\">password</span>=<span class=\"string\">123456</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h4 id=\"Utils\">Utils</h4>\n<ul>\n<li>\n<p>æŠŠ SQL connect å’Œ release åˆ†ç¦»åˆ° <code>utils.JDBCUtils</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.io.FileInputStream;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.IOException;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.sql.Connection;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.sql.DriverManager;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.sql.ResultSet;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.sql.SQLException;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.sql.Statement;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.Properties;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">JDBCUtils</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> String driver = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> String url = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> String username = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> String password = <span class=\"keyword\">null</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">static</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// åŠ è½½è¿æ¥ä¿¡æ¯</span></span><br><span class=\"line\">    Properties properties = <span class=\"keyword\">new</span> Properties();</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">      properties.load(<span class=\"keyword\">new</span> FileInputStream(<span class=\"string\">&quot;Java/src/main/java/twenty_one/jdbc/demo2/db.properties&quot;</span>));</span><br><span class=\"line\"></span><br><span class=\"line\">      driver = properties.getProperty(<span class=\"string\">&quot;driver&quot;</span>);</span><br><span class=\"line\">      url = properties.getProperty(<span class=\"string\">&quot;url&quot;</span>);</span><br><span class=\"line\">      username = properties.getProperty(<span class=\"string\">&quot;username&quot;</span>);</span><br><span class=\"line\">      password = properties.getProperty(<span class=\"string\">&quot;password&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">      Class.forName(driver);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">catch</span> (IOException | ClassNotFoundException e) &#123;</span><br><span class=\"line\">      e.printStackTrace();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// è·å–è¿æ¥</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> Connection <span class=\"title\">getConnection</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> SQLException </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> DriverManager.getConnection(url, username, password);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// é‡Šæ”¾èµ„æº</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">releaseConnection</span><span class=\"params\">(Connection connection,Statement statement,ResultSet resultSet)</span> <span class=\"keyword\">throws</span> SQLException </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (resultSet != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">      resultSet.close();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (statement != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">      statement.close();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (connection != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">      connection.close();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h4 id=\"CRUD-2\">CRUD</h4>\n<ul>\n<li>\n<p>ä¸šåŠ¡ç±»: æµ‹è¯•å¢åˆ æ”¹æŸ¥(CRUD)</p>\n<ul>\n<li>å¢åˆ æ”¹ç”¨<code>.executeUpdate()</code>, æŸ¥ç”¨<code>.executeQuery()</code></li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.sql.Connection;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.sql.ResultSet;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.sql.SQLException;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.sql.Statement;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> twenty_one.jdbc.demo2.utils.JDBCUtils;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Test</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> Connection connection = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> Statement statement = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> ResultSet resultSet = <span class=\"keyword\">null</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> <span class=\"keyword\">throws</span> SQLException </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// è¿æ¥</span></span><br><span class=\"line\">    connection = JDBCUtils.getConnection();</span><br><span class=\"line\">    statement = connection.createStatement();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// å¢</span></span><br><span class=\"line\">    String insert = <span class=\"string\">&quot;INSERT INTO jdbcstudy.users(NAME, PASSWORD, email, birthday)  VALUES (&#x27;weidows&#x27;, 123456, &#x27;utsuko27@qq.com&#x27;, &#x27;2020-07-28&#x27;);&quot;</span>;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (statement.executeUpdate(insert) &gt; <span class=\"number\">0</span>) &#123; <span class=\"comment\">// è¿”å› int: å—å½±å“çš„è¡Œæ•°</span></span><br><span class=\"line\">      System.out.println(<span class=\"string\">&quot; æ’å…¥æˆåŠŸ. insert -&gt; weidows&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// æ”¹</span></span><br><span class=\"line\">    String update = <span class=\"string\">&quot;update jdbcstudy.users set password =654321 where name = &#x27;weidows&#x27;;&quot;</span>;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (statement.executeUpdate(update) &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">      System.out.println(<span class=\"string\">&quot; ä¿®æ”¹æˆåŠŸ. weidows.password -&gt; 654321&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// æŸ¥</span></span><br><span class=\"line\">    String query = <span class=\"string\">&quot;SELECT * From jdbcstudy.users;&quot;</span>;</span><br><span class=\"line\">    resultSet = statement.executeQuery(query);</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (resultSet.next()) &#123;</span><br><span class=\"line\">      System.out.println(<span class=\"string\">&quot;id = &quot;</span> + resultSet.getObject(<span class=\"string\">&quot;id&quot;</span>));</span><br><span class=\"line\">      System.out.println(<span class=\"string\">&quot;name = &quot;</span> + resultSet.getObject(<span class=\"string\">&quot;NAME&quot;</span>));</span><br><span class=\"line\">      System.out.println(<span class=\"string\">&quot;password = &quot;</span> + resultSet.getObject(<span class=\"string\">&quot;PASSWORD&quot;</span>));</span><br><span class=\"line\">      System.out.println(<span class=\"string\">&quot;email = &quot;</span> + resultSet.getObject(<span class=\"string\">&quot;email&quot;</span>));</span><br><span class=\"line\">      System.out.println(<span class=\"string\">&quot;birthday = &quot;</span> + resultSet.getObject(<span class=\"string\">&quot;birthday&quot;</span>));</span><br><span class=\"line\">      System.out.println(<span class=\"string\">&quot;===============================================================&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// åˆ </span></span><br><span class=\"line\">    String delete = <span class=\"string\">&quot;delete from jdbcstudy.users where name = &#x27;weidows&#x27;;&quot;</span>;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (statement.executeUpdate(delete) &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">      System.out.println(<span class=\"string\">&quot; åˆ é™¤æˆåŠŸ.&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// æ–­è¿</span></span><br><span class=\"line\">    JDBCUtils.releaseConnection(connection, statement, resultSet);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<ul>\n<li>\n<p>æ‰§è¡Œç»“æœ</p>\n<figure class=\"highlight asciidoc\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">æ’å…¥æˆåŠŸ. insert -&gt; weidows</span><br><span class=\"line\">ä¿®æ”¹æˆåŠŸ. weidows.password -&gt; 654321</span><br><span class=\"line\">id = 1</span><br><span class=\"line\">name = zhansan</span><br><span class=\"line\">password = 123456</span><br><span class=\"line\">email = zs@sina.com</span><br><span class=\"line\"><span class=\"section\">birthday = 1980-12-04</span></span><br><span class=\"line\"><span class=\"section\">===============================================================</span></span><br><span class=\"line\">id = 2</span><br><span class=\"line\">name = lisi</span><br><span class=\"line\">password = 123456</span><br><span class=\"line\">email = lisi@sina.com</span><br><span class=\"line\"><span class=\"section\">birthday = 1981-12-04</span></span><br><span class=\"line\"><span class=\"section\">===============================================================</span></span><br><span class=\"line\">id = 3</span><br><span class=\"line\">name = wangwu</span><br><span class=\"line\">password = 123456</span><br><span class=\"line\">email = wangwu@sina.com</span><br><span class=\"line\"><span class=\"section\">birthday = 1979-12-04</span></span><br><span class=\"line\"><span class=\"section\">===============================================================</span></span><br><span class=\"line\">id = 9</span><br><span class=\"line\">name = weidows</span><br><span class=\"line\">password = 654321</span><br><span class=\"line\">email = utsuko27@qq.com</span><br><span class=\"line\"><span class=\"section\">birthday = 2020-07-28</span></span><br><span class=\"line\"><span class=\"section\">===============================================================</span></span><br><span class=\"line\">åˆ é™¤æˆåŠŸ.</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kity@2.0.4/dist/kity.min.js\"></script><script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js\"></script><script defer=\"true\" type=\"text&#x2F;javascript\" src=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js\"></script><link rel=\"stylesheet\" type=\"text&#x2F;css\" href=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css\">",
            "tags": [
                "java",
                "ç¬”è®°",
                "mysql",
                "jdbc"
            ]
        },
        {
            "id": "https://weidows.github.io/post/Java/SQL/3/",
            "url": "https://weidows.github.io/post/Java/SQL/3/",
            "title": "ğŸš€è¿›ä¿® MySQL~(å)",
            "date_published": "2021-03-15T14:45:58.000Z",
            "content_html": "<!--\n * @?: *********************************************************************\n * @Author: Weidows\n * @LastEditors: Weidows\n * @LastEditTime: 2021-03-21 10:58:41\n * @FilePath: \\Weidowsd:\\Game\\Github\\Blog-private\\source\\_posts\\Java\\MySQL\\3.md\n * @Description:\n * @!: *********************************************************************\n-->\n<ul>\n<li><a href=\"#%E5%87%BD%E6%95%B0\">å‡½æ•°</a>\n<ul>\n<li><a href=\"#%E6%95%B0%E6%8D%AE%E5%87%BD%E6%95%B0\">æ•°æ®å‡½æ•°</a>\n<ul>\n<li><a href=\"#%E4%BD%9C%E7%94%A8%E4%BA%8E%E8%AE%B0%E5%BD%95\">ä½œç”¨äºè®°å½•</a></li>\n<li><a href=\"#%E4%BD%9C%E7%94%A8%E4%BA%8E%E5%AD%97%E6%AE%B5\">ä½œç”¨äºå­—æ®µ</a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%87%BD%E6%95%B0\">å­—ç¬¦ä¸²å‡½æ•°</a></li>\n<li><a href=\"#%E6%97%B6%E9%97%B4%E5%87%BD%E6%95%B0\">æ—¶é—´å‡½æ•°</a></li>\n<li><a href=\"#%E7%B3%BB%E7%BB%9F%E4%BF%A1%E6%81%AF\">ç³»ç»Ÿä¿¡æ¯</a></li>\n<li><a href=\"#%E5%88%86%E7%BB%84\">åˆ†ç»„</a></li>\n<li><a href=\"#md5-%E5%8A%A0%E5%AF%86\">MD5 åŠ å¯†</a></li>\n</ul>\n</li>\n<li><a href=\"#%E4%BA%8B%E5%8A%A1\">äº‹åŠ¡</a>\n<ul>\n<li><a href=\"#acid-%E5%8E%9F%E5%88%99\">ACID åŸåˆ™</a></li>\n<li><a href=\"#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95\">åŸºæœ¬è¯­æ³•</a></li>\n</ul>\n</li>\n<li><a href=\"#%E7%B4%A2%E5%BC%95\">ç´¢å¼•</a>\n<ul>\n<li><a href=\"#%E5%88%86%E7%B1%BB\">åˆ†ç±»</a></li>\n<li><a href=\"#%E6%B7%BB%E5%8A%A0%E5%88%A0%E9%99%A4%E7%B4%A2%E5%BC%95\">æ·»åŠ  &amp; åˆ é™¤ç´¢å¼•</a></li>\n<li><a href=\"#explain\">EXPLAIN</a></li>\n<li><a href=\"#%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90\">æ€§èƒ½åˆ†æ</a></li>\n<li><a href=\"#%E7%B4%A2%E5%BC%95%E8%A7%84%E7%9F%A9\">ç´¢å¼•è§„çŸ©</a></li>\n</ul>\n</li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"å‡½æ•°\">å‡½æ•°</h2>\n<h3 id=\"æ•°æ®å‡½æ•°\">æ•°æ®å‡½æ•°</h3>\n<h4 id=\"ä½œç”¨äºè®°å½•\">ä½œç”¨äºè®°å½•</h4>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- ç»å¯¹å€¼</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  <span class=\"built_in\">ABS</span>(<span class=\"number\">-8</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- å‘ä¸Šå–æ•´</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  <span class=\"built_in\">CEILING</span>(<span class=\"number\">9.4</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- å‘ä¸‹å–æ•´</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  <span class=\"built_in\">FLOOR</span>(<span class=\"number\">9.4</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- éšæœºæ•°, è¿”å›ä¸€ä¸ª 0-1 ä¹‹é—´çš„éšæœºæ•°</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  RAND();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- ç¬¦å·å‡½æ•°: è´Ÿæ•°è¿”å› -1, æ­£æ•°è¿”å› 1,0 è¿”å› 0</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  SIGN(<span class=\"number\">0</span>);</span><br></pre></td></tr></table></figure>\n<hr>\n<h4 id=\"ä½œç”¨äºå­—æ®µ\">ä½œç”¨äºå­—æ®µ</h4>\n<ul>\n<li>ä¹Ÿå« <code>èšåˆå‡½æ•°</code>(å¸¸ç”¨)</li>\n</ul>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">  ä¸‰ç§ COUNT()ç”¨æ³•åŠåŒºåˆ« </span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">  count(1) å’Œ count(*)éƒ½ä¼šå¯¹å…¨è¡¨è¿›è¡Œæ‰«æï¼Œç»Ÿè®¡æ‰€æœ‰è®°å½•çš„æ¡æ•°ï¼ŒåŒ…æ‹¬é‚£äº›ä¸º null çš„è®°å½•ï¼Œå› æ­¤ï¼Œå®ƒä»¬çš„æ•ˆç‡å¯ä»¥è¯´æ˜¯ç›¸å·®æ— å‡ ; è€Œ count(å­—æ®µ)åˆ™ä¸å‰ä¸¤è€…ä¸åŒï¼Œå®ƒä¼šç»Ÿè®¡è¯¥å­—æ®µä¸ä¸º null çš„è®°å½•æ¡æ•°ã€‚</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">  1ï¼‰åœ¨è¡¨æ²¡æœ‰ä¸»é”®æ—¶ï¼Œcount(1)æ¯” count(*)å¿« </span></span><br><span class=\"line\"><span class=\"comment\">  2ï¼‰æœ‰ä¸»é”®æ—¶ï¼Œä¸»é”®ä½œä¸ºè®¡ç®—æ¡ä»¶ï¼Œcount(ä¸»é”®) æ•ˆç‡æœ€é«˜ï¼›</span></span><br><span class=\"line\"><span class=\"comment\">  3ï¼‰è‹¥è¡¨æ ¼åªæœ‰ä¸€ä¸ªå­—æ®µï¼Œåˆ™ count(*)æ•ˆç‡è¾ƒé«˜ã€‚</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  <span class=\"built_in\">COUNT</span>(studentname) <span class=\"keyword\">AS</span> ` å­¦ç”Ÿäººæ•° `</span><br><span class=\"line\"><span class=\"keyword\">FROM</span></span><br><span class=\"line\">  student;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  <span class=\"built_in\">COUNT</span>(<span class=\"operator\">*</span>) <span class=\"keyword\">AS</span> ` å­¦ç”Ÿäººæ•° `</span><br><span class=\"line\"><span class=\"keyword\">FROM</span></span><br><span class=\"line\">  student;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  <span class=\"built_in\">COUNT</span>(<span class=\"number\">1</span>) <span class=\"keyword\">AS</span> ` å­¦ç”Ÿäººæ•° `</span><br><span class=\"line\"><span class=\"keyword\">FROM</span></span><br><span class=\"line\">  student;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- å’Œ</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  <span class=\"built_in\">SUM</span>(StudentResult) <span class=\"keyword\">AS</span> ` æ€» å’Œ `</span><br><span class=\"line\"><span class=\"keyword\">FROM</span></span><br><span class=\"line\">  <span class=\"keyword\">result</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- å¹³å‡</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  <span class=\"built_in\">AVG</span>(StudentResult) <span class=\"keyword\">AS</span> ` å¹³ å‡ åˆ† `</span><br><span class=\"line\"><span class=\"keyword\">FROM</span></span><br><span class=\"line\">  <span class=\"keyword\">result</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- æœ€é«˜</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  <span class=\"built_in\">MAX</span>(StudentResult) <span class=\"keyword\">AS</span> ` æœ€ é«˜ åˆ† `</span><br><span class=\"line\"><span class=\"keyword\">FROM</span></span><br><span class=\"line\">  <span class=\"keyword\">result</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- æœ€ä½</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  <span class=\"built_in\">MIN</span>(StudentResult) <span class=\"keyword\">AS</span> ` æœ€ ä½ åˆ† `</span><br><span class=\"line\"><span class=\"keyword\">FROM</span></span><br><span class=\"line\">  <span class=\"keyword\">result</span>;</span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"å­—ç¬¦ä¸²å‡½æ•°\">å­—ç¬¦ä¸²å‡½æ•°</h3>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- è¿”å›å­—ç¬¦ä¸²åŒ…å«çš„å­—ç¬¦æ•°</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  <span class=\"keyword\">CHAR_LENGTH</span>(<span class=\"string\">&#x27; ç‹‚ç¥è¯´åšæŒå°±èƒ½æˆåŠŸ &#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- åˆå¹¶å­—ç¬¦ä¸², å‚æ•°å¯ä»¥æœ‰å¤šä¸ª</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  CONCAT(<span class=\"string\">&#x27; æˆ‘ &#x27;</span>, <span class=\"string\">&#x27; çˆ± &#x27;</span>, <span class=\"string\">&#x27; ç¨‹åº &#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- æ›¿æ¢å­—ç¬¦ä¸², ä»æŸä¸ªä½ç½®å¼€å§‹æ›¿æ¢æŸä¸ªé•¿åº¦</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\"><span class=\"keyword\">INSERT</span>(<span class=\"string\">&#x27; æˆ‘çˆ±ç¼–ç¨‹ helloworld&#x27;</span>, <span class=\"number\">2</span>, <span class=\"number\">1</span>, <span class=\"string\">&#x27; è¶…çº§çƒ­çˆ± &#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- toLowerCase å°å†™</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  <span class=\"built_in\">LOWER</span>(<span class=\"string\">&#x27;KuangShen&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- toUpperCase å¤§å†™</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  <span class=\"built_in\">UPPER</span>(<span class=\"string\">&#x27;KuangShen&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- ä»å·¦è¾¹æˆªå–</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  <span class=\"keyword\">LEFT</span>(<span class=\"string\">&#x27;hello,world&#x27;</span>, <span class=\"number\">5</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- ä»å³è¾¹æˆªå–</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  <span class=\"keyword\">RIGHT</span>(<span class=\"string\">&#x27;hello,world&#x27;</span>, <span class=\"number\">5</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- æ›¿æ¢å­—ç¬¦ä¸²</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  REPLACE(<span class=\"string\">&#x27; ç‹‚ç¥è¯´åšæŒå°±èƒ½æˆåŠŸ &#x27;</span>, <span class=\"string\">&#x27; åšæŒ &#x27;</span>, <span class=\"string\">&#x27; åŠªåŠ› &#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- æˆªå–å­—ç¬¦ä¸², å¼€å§‹å’Œé•¿åº¦</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  SUBSTR(<span class=\"string\">&#x27; ç‹‚ç¥è¯´åšæŒå°±èƒ½æˆåŠŸ &#x27;</span>, <span class=\"number\">4</span>, <span class=\"number\">6</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- åè½¬</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  REVERSE(<span class=\"string\">&#x27; ç‹‚ç¥è¯´åšæŒå°±èƒ½æˆåŠŸ &#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- æŸ¥è¯¢å§“å‘¨çš„åŒå­¦, æ”¹æˆé‚¹ (é‡‡ç”¨å­æŸ¥è¯¢)</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  <span class=\"operator\">*</span></span><br><span class=\"line\"><span class=\"keyword\">FROM</span></span><br><span class=\"line\">  student</span><br><span class=\"line\"><span class=\"keyword\">WHERE</span></span><br><span class=\"line\">  studentname <span class=\"operator\">=</span>(</span><br><span class=\"line\">    <span class=\"keyword\">SELECT</span></span><br><span class=\"line\">      REPLACE(studentname, <span class=\"string\">&#x27; å‘¨ &#x27;</span>, <span class=\"string\">&#x27; é‚¹ &#x27;</span>)</span><br><span class=\"line\">    <span class=\"keyword\">WHERE</span></span><br><span class=\"line\">      studentname <span class=\"keyword\">LIKE</span> <span class=\"string\">&#x27; å‘¨ %&#x27;</span></span><br><span class=\"line\">  );</span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"æ—¶é—´å‡½æ•°\">æ—¶é—´å‡½æ•°</h3>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- è·å–å½“å‰æ—¥æœŸ(ä¸¤ç§ä¸€æ ·)</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  <span class=\"built_in\">CURRENT_DATE</span>();</span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  CRUDATE();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- è·å–å½“å‰æ—¥æœŸå’Œæ—¶é—´(ä¸‰ç§ä¸€æ ·)</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  NOW();</span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  <span class=\"built_in\">LOCALTIME</span>();</span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  SYSDATE();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- è·å–å¹´æœˆæ—¥, æ—¶åˆ†ç§’</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  <span class=\"keyword\">YEAR</span>(NOW());</span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  <span class=\"keyword\">MONTH</span>(NOW());</span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  <span class=\"keyword\">DAY</span>(NOW());</span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  <span class=\"keyword\">HOUR</span>(NOW());</span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  <span class=\"keyword\">MINUTE</span>(NOW());</span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  <span class=\"keyword\">SECOND</span>(NOW());</span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"ç³»ç»Ÿä¿¡æ¯\">ç³»ç»Ÿä¿¡æ¯</h3>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- ç‰ˆæœ¬</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  VERSION();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- ç”¨æˆ·(MySQL çš„ç”¨æˆ·)</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  <span class=\"keyword\">USER</span>();</span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  <span class=\"built_in\">SYSTEM_USER</span>();</span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"åˆ†ç»„\">åˆ†ç»„</h3>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">  æŸ¥è¯¢ ä¸åŒè¯¾ç¨‹ çš„å¹³å‡åˆ†, æœ€é«˜åˆ†, æœ€ä½åˆ† (æ ¹æ®ä¸åŒçš„è¯¾ç¨‹è¿›è¡Œåˆ†ç»„)</span></span><br><span class=\"line\"><span class=\"comment\">  åˆ†ç»„åé¢çš„ç­›é€‰, ä½¿ç”¨ `HAVING`</span></span><br><span class=\"line\"><span class=\"comment\">  having æ˜¯ä»å‰é¢ç­›é€‰çš„å­—æ®µå†ç­›é€‰ï¼Œè€Œ where æ˜¯ä»æ•°æ®è¡¨ä¸­çš„å­—æ®µç›´æ¥è¿›è¡Œçš„ç­›é€‰çš„</span></span><br><span class=\"line\"><span class=\"comment\">  */</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  subjectname,</span><br><span class=\"line\">  <span class=\"built_in\">AVG</span>(studentresult) <span class=\"keyword\">AS</span> ` å¹³ å‡ åˆ† `,</span><br><span class=\"line\">  <span class=\"built_in\">MAX</span>(StudentResult) <span class=\"keyword\">AS</span> ` æœ€ é«˜ åˆ† `,</span><br><span class=\"line\">  <span class=\"built_in\">MIN</span>(StudentResult) <span class=\"keyword\">AS</span> ` æœ€ ä½ åˆ† `</span><br><span class=\"line\"><span class=\"keyword\">FROM</span></span><br><span class=\"line\">  <span class=\"keyword\">result</span> <span class=\"keyword\">AS</span> r</span><br><span class=\"line\">  <span class=\"keyword\">INNER</span> <span class=\"keyword\">JOIN</span> `subject` <span class=\"keyword\">AS</span> s <span class=\"keyword\">ON</span> r.subjectno <span class=\"operator\">=</span> s.subjectno</span><br><span class=\"line\"><span class=\"keyword\">GROUP</span> <span class=\"keyword\">BY</span></span><br><span class=\"line\">  r.subjectno</span><br><span class=\"line\"><span class=\"keyword\">HAVING</span></span><br><span class=\"line\">  ` å¹³ å‡ åˆ† ` <span class=\"operator\">&gt;</span> <span class=\"number\">60</span>;</span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"MD5- åŠ å¯†\">MD5 åŠ å¯†</h3>\n<blockquote>\n<p>Message-Digest Algorithm 5ï¼ˆä¿¡æ¯ - æ‘˜è¦ç®—æ³• 5ï¼‰ï¼Œç”¨äºç¡®ä¿ä¿¡æ¯ä¼ è¾“å®Œæ•´ä¸€è‡´ã€‚æ˜¯è®¡ç®—æœºå¹¿æ³›ä½¿ç”¨çš„æ‚å‡‘ç®—æ³•ï¼ˆæ‘˜è¦ç®—æ³•ã€å“ˆå¸Œç®—æ³•ï¼‰.</p>\n</blockquote>\n<ul>\n<li>\n<p>åˆå§‹åŒ–</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- æ–°å»ºè¡¨</span></span><br><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> `testmd5` (</span><br><span class=\"line\">  `id` <span class=\"type\">INT</span>(<span class=\"number\">4</span>) <span class=\"keyword\">NOT</span> <span class=\"keyword\">NULL</span>,</span><br><span class=\"line\">  `name` <span class=\"type\">VARCHAR</span>(<span class=\"number\">20</span>) <span class=\"keyword\">NOT</span> <span class=\"keyword\">NULL</span>,</span><br><span class=\"line\">  `pwd` <span class=\"type\">VARCHAR</span>(<span class=\"number\">50</span>) <span class=\"keyword\">NOT</span> <span class=\"keyword\">NULL</span>,</span><br><span class=\"line\">  <span class=\"keyword\">PRIMARY</span> KEY (`id`)</span><br><span class=\"line\">) ENGINE <span class=\"operator\">=</span> INNODB <span class=\"keyword\">DEFAULT</span> CHARSET <span class=\"operator\">=</span> utf8;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- æ’å…¥æ•°æ®(æ˜æ–‡å¯†ç )</span></span><br><span class=\"line\"><span class=\"keyword\">INSERT</span> <span class=\"keyword\">INTO</span></span><br><span class=\"line\">  testmd5</span><br><span class=\"line\"><span class=\"keyword\">VALUES</span></span><br><span class=\"line\">  (<span class=\"number\">1</span>, <span class=\"string\">&#x27;kuangshen&#x27;</span>, <span class=\"string\">&#x27;123456&#x27;</span>),(<span class=\"number\">2</span>, <span class=\"string\">&#x27;qinjiang&#x27;</span>, <span class=\"string\">&#x27;456789&#x27;</span>);</span><br></pre></td></tr></table></figure>\n<hr>\n</li>\n<li>\n<p>åŠ å¯†</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- åŠ å¯†å…¨åˆ—</span></span><br><span class=\"line\">update</span><br><span class=\"line\">  testmd5</span><br><span class=\"line\"><span class=\"keyword\">set</span></span><br><span class=\"line\">  pwd <span class=\"operator\">=</span> md5(pwd);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- æ’å…¥æ—¶åŠ å¯†</span></span><br><span class=\"line\"><span class=\"keyword\">INSERT</span> <span class=\"keyword\">INTO</span></span><br><span class=\"line\">  testmd5</span><br><span class=\"line\"><span class=\"keyword\">VALUES</span>(<span class=\"number\">4</span>, <span class=\"string\">&#x27;kuangshen3&#x27;</span>, md5(<span class=\"string\">&#x27;123456&#x27;</span>));</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- æ£€æŸ¥è´¦å·å¯†ç æ˜¯å¦å¯¹åº”</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  <span class=\"operator\">*</span></span><br><span class=\"line\"><span class=\"keyword\">FROM</span></span><br><span class=\"line\">  testmd5</span><br><span class=\"line\"><span class=\"keyword\">WHERE</span></span><br><span class=\"line\">  `name` <span class=\"operator\">=</span> <span class=\"string\">&#x27;kuangshen&#x27;</span></span><br><span class=\"line\">  <span class=\"keyword\">AND</span> `pwd` <span class=\"operator\">=</span> MD5(<span class=\"string\">&#x27;123456&#x27;</span>);</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"äº‹åŠ¡\">äº‹åŠ¡</h2>\n<ul>\n<li>ä¸€ç»„éµå¾ª ACID åŸåˆ™çš„ SQL æŒ‡ä»¤</li>\n</ul>\n<h3 id=\"ACID- åŸåˆ™\">ACID åŸåˆ™</h3>\n<ul>\n<li>\n<p>åŸå­æ€§(Atomic)</p>\n<ul>\n<li>åŒä¸€æ‰¹æ¬¡çš„ SQL æŒ‡ä»¤, è¦ä¹ˆå…¨é€šè¿‡, è¦ä¹ˆå…¨å–æ¶ˆ, ä¸å­˜åœ¨ä¸­é—´æ€</li>\n</ul>\n</li>\n<li>\n<p>ä¸€è‡´æ€§(Consist)</p>\n<ul>\n<li>äº‹åŠ¡å‰åæ•°æ®å®Œæ•´æ€§ä¸€è‡´</li>\n</ul>\n</li>\n<li>\n<p>éš”ç¦»æ€§(Isolated)</p>\n<ul>\n<li>\n<p>å¤šä¸ªç”¨æˆ·å¹¶å‘æ‰§è¡Œå¤šäº‹åŠ¡, ä¼šä½¿å…¶ <code> ä¸²è¡ŒåŒ– </code> æ‰§è¡Œ, åŒä¸€æ—¶é—´åªèƒ½æœ‰ä¸€ä¸ªè¯·æ±‚ä½œç”¨äºåŒä¸€æ•°æ®</p>\n</li>\n<li>\n<p>æœ‰å¯èƒ½éš”ç¦»å¤±è´¥å¯¼è‡´ä¸€äº›é—®é¢˜(å¦‚ä¸‹)</p>\n</li>\n</ul>\n<hr>\n<ol>\n<li>\n<p>è„è¯» : ä¸€ä¸ªäº‹åŠ¡è¯»å–äº†å¦ä¸€ä¸ªæ²¡æœ‰æäº¤çš„äº‹åŠ¡</p>\n</li>\n<li>\n<p>ä¸å¯é‡å¤è¯» : åœ¨åŒä¸€ä¸ªäº‹åŠ¡å†…ï¼Œå†æ¬¡è¯»å–è¡¨ä¸­çš„æ•°æ®ï¼Œè¡¨å‘ç”Ÿäº†æ”¹å˜</p>\n</li>\n<li>\n<p>å¹»è¯»(è™šè¯») : åœ¨ä¸€ä¸ªäº‹åŠ¡å†…ï¼Œè¯»å–åˆ°äº†åˆ«äººæ’å…¥çš„æ•°æ®ï¼Œå¯¼è‡´å‰åè¯»å‡ºæ¥çš„ç»“æœä¸ä¸€è‡´</p>\n</li>\n</ol>\n</li>\n<li>\n<p>æŒä¹…æ€§(Durable)</p>\n<ul>\n<li>äº‹åŠ¡ä¸€æ—¦æäº¤æˆåŠŸ, ä¾¿ä¸ä¼šè¢«å¤–ç•Œå› ç´ å½±å“è€Œå¯¼è‡´å›æ»š.</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h3 id=\"åŸºæœ¬è¯­æ³•\">åŸºæœ¬è¯­æ³•</h3>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">  MySQL ä¸­é»˜è®¤æ˜¯è‡ªåŠ¨æäº¤, ä½¿ç”¨äº‹åŠ¡æ—¶åº”å…ˆå…³é—­è‡ªåŠ¨æäº¤</span></span><br><span class=\"line\"><span class=\"comment\">  å…³é—­è‡ªåŠ¨æäº¤æ¨¡å¼(0), å¼€å¯(1)</span></span><br><span class=\"line\"><span class=\"comment\">  */</span></span><br><span class=\"line\"><span class=\"keyword\">SET</span> autocommit <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- å¼€å§‹ä¸€ä¸ªäº‹åŠ¡, æ ‡è®°äº‹åŠ¡çš„èµ·å§‹ç‚¹</span></span><br><span class=\"line\"><span class=\"keyword\">START</span> TRANSACTION;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- æ­¤å¤„å†™ä¸šåŠ¡ä»£ç </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">  COMMIT; -- æäº¤ä¸€ä¸ªäº‹åŠ¡ç»™æ•°æ®åº“</span></span><br><span class=\"line\"><span class=\"comment\">  ROLLBACK; -- å°†äº‹åŠ¡å›æ»š, æ•°æ®å›åˆ°æœ¬æ¬¡äº‹åŠ¡çš„åˆå§‹çŠ¶æ€</span></span><br><span class=\"line\"><span class=\"comment\">  ä¿å­˜ç‚¹(äº†è§£, ä¸å¸¸ç”¨)</span></span><br><span class=\"line\"><span class=\"comment\">    SAVEPOINT ` ä¿ å­˜ ç‚¹ å ç§° `; -- è®¾ç½®ä¸€ä¸ªäº‹åŠ¡ä¿å­˜ç‚¹</span></span><br><span class=\"line\"><span class=\"comment\">    ROLLBACK TO SAVEPOINT ` ä¿ å­˜ ç‚¹ å ç§° `; -- å›æ»šåˆ°ä¿å­˜ç‚¹</span></span><br><span class=\"line\"><span class=\"comment\">    RELEASE SAVEPOINT ` ä¿ å­˜ ç‚¹ å ç§° `; -- åˆ é™¤ä¿å­˜ç‚¹</span></span><br><span class=\"line\"><span class=\"comment\">  */</span></span><br><span class=\"line\"><span class=\"keyword\">COMMIT</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- è¿˜åŸ MySQL æ•°æ®åº“çš„è‡ªåŠ¨æäº¤</span></span><br><span class=\"line\"><span class=\"keyword\">SET</span> autocommit <span class=\"operator\">=</span> <span class=\"number\">1</span>;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>\n<p>é€»è¾‘å›¾</p>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVs0E0.png\" alt=\"20210316182445\" />\n</li>\n<li>\n<p>ä¾‹å­</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">CREATE</span> DATABASE `shop` <span class=\"type\">CHARACTER</span> <span class=\"keyword\">SET</span> utf8 <span class=\"keyword\">COLLATE</span> utf8_general_ci;</span><br><span class=\"line\"></span><br><span class=\"line\">USE `shop`;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> `account` (</span><br><span class=\"line\">  `id` <span class=\"type\">INT</span>(<span class=\"number\">11</span>) <span class=\"keyword\">NOT</span> <span class=\"keyword\">NULL</span> AUTO_INCREMENT,</span><br><span class=\"line\">  `name` <span class=\"type\">VARCHAR</span>(<span class=\"number\">32</span>) <span class=\"keyword\">NOT</span> <span class=\"keyword\">NULL</span>,</span><br><span class=\"line\">  `cash` <span class=\"type\">DECIMAL</span>(<span class=\"number\">9</span>, <span class=\"number\">2</span>) <span class=\"keyword\">NOT</span> <span class=\"keyword\">NULL</span>,</span><br><span class=\"line\">  <span class=\"keyword\">PRIMARY</span> KEY (`id`)</span><br><span class=\"line\">) ENGINE <span class=\"operator\">=</span> INNODB <span class=\"keyword\">DEFAULT</span> CHARSET <span class=\"operator\">=</span> utf8;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">INSERT</span> <span class=\"keyword\">INTO</span></span><br><span class=\"line\">  account (`name`, `cash`)</span><br><span class=\"line\"><span class=\"keyword\">VALUES</span>(<span class=\"string\">&#x27;A&#x27;</span>, <span class=\"number\">2000.00</span>),(<span class=\"string\">&#x27;B&#x27;</span>, <span class=\"number\">10000.00</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- å¼€å§‹</span></span><br><span class=\"line\"><span class=\"keyword\">SET</span></span><br><span class=\"line\">  autocommit <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">START</span> TRANSACTION;</span><br><span class=\"line\"></span><br><span class=\"line\">UPDATE</span><br><span class=\"line\">  account</span><br><span class=\"line\"><span class=\"keyword\">SET</span></span><br><span class=\"line\">  cash <span class=\"operator\">=</span> cash <span class=\"number\">-500</span></span><br><span class=\"line\"><span class=\"keyword\">WHERE</span></span><br><span class=\"line\">  `name` <span class=\"operator\">=</span> <span class=\"string\">&#x27;A&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">UPDATE</span><br><span class=\"line\">  account</span><br><span class=\"line\"><span class=\"keyword\">SET</span></span><br><span class=\"line\">  cash <span class=\"operator\">=</span> cash <span class=\"operator\">+</span> <span class=\"number\">500</span></span><br><span class=\"line\"><span class=\"keyword\">WHERE</span></span><br><span class=\"line\">  `name` <span class=\"operator\">=</span> <span class=\"string\">&#x27;B&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">COMMIT</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">SET</span></span><br><span class=\"line\">  autocommit <span class=\"operator\">=</span> <span class=\"number\">1</span>;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"ç´¢å¼•\">ç´¢å¼•</h2>\n<blockquote>\n<p>ç´¢å¼•æ˜¯å¸®åŠ© MySQL é«˜æ ¡è·å–æ•°æ®çš„æ•°æ®ç»“æ„.</p>\n</blockquote>\n<ul>\n<li>æé«˜æŸ¥è¯¢, åˆ†ç»„, å…¨æ–‡æœç´¢é€Ÿåº¦</li>\n<li>è¡¨é—´å‚ç…§ &amp; æ•°æ®å”¯ä¸€æ€§åŠŸèƒ½.</li>\n</ul>\n<h3 id=\"åˆ†ç±»\">åˆ†ç±»</h3>\n<ol>\n<li>\n<p>ä¸»é”®ç´¢å¼• (Primary Key)</p>\n<ul>\n<li>æœ€å¸¸è§, å”¯ä¸€æ€§(ä¸€ä¸ªè¡¨åªèƒ½æœ‰ä¸€ä¸ª)</li>\n</ul>\n</li>\n<li>\n<p>å”¯ä¸€ç´¢å¼• (Unique)</p>\n<ul>\n<li>ä¿è¯æŸåˆ—ä¸­è®°å½•å€¼å”¯ä¸€, åŒä¸€è¡¨å¯ä»¥æœ‰å¤šä¸ªå”¯ä¸€ç´¢å¼•</li>\n</ul>\n</li>\n<li>\n<p>å¸¸è§„ç´¢å¼• (Key/Index)</p>\n<ul>\n<li>é»˜è®¤çš„ç´¢å¼•ç±»å‹</li>\n</ul>\n</li>\n<li>\n<p>å…¨æ–‡ç´¢å¼• (FullText)</p>\n<ul>\n<li>MyISAM/InnoDB å¼•æ“ä¸‹æ‰èƒ½ä½¿ç”¨, å¯¹å­—æ®µç±»å‹ä¹Ÿæœ‰è¦æ±‚, é€‚ç”¨äºå¤§å‹æ•°æ®</li>\n</ul>\n</li>\n</ol>\n<hr>\n<h3 id=\"æ·»åŠ  - åˆ é™¤ç´¢å¼•\">æ·»åŠ  &amp; åˆ é™¤ç´¢å¼•</h3>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">æ–¹æ³•ä¸€ï¼šåˆ›å»ºè¡¨æ—¶ </span><br><span class=\"line\">ã€€<span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> è¡¨å (</span><br><span class=\"line\">    å­—æ®µå<span class=\"number\">1</span> æ•°æ®ç±»å‹ [å®Œæ•´æ€§çº¦æŸæ¡ä»¶â€¦],</span><br><span class=\"line\">    å­—æ®µå<span class=\"number\">2</span> æ•°æ®ç±»å‹ [å®Œæ•´æ€§çº¦æŸæ¡ä»¶â€¦],</span><br><span class=\"line\">    ç´¢å¼•ç±»å‹ [ç´¢å¼•å] (å­—æ®µå[(é•¿åº¦)] [<span class=\"keyword\">ASC</span> <span class=\"operator\">|</span><span class=\"keyword\">DESC</span>])</span><br><span class=\"line\">  );</span><br><span class=\"line\"></span><br><span class=\"line\"> æ–¹æ³•äºŒï¼š<span class=\"keyword\">CREATE</span>åœ¨å·²å­˜åœ¨çš„è¡¨ä¸Šåˆ›å»ºç´¢å¼• </span><br><span class=\"line\">  <span class=\"keyword\">CREATE</span> ç´¢å¼•ç±»å‹ ç´¢å¼•å</span><br><span class=\"line\">  <span class=\"keyword\">ON</span> è¡¨å (å­—æ®µå[(é•¿åº¦)] [<span class=\"keyword\">ASC</span> <span class=\"operator\">|</span><span class=\"keyword\">DESC</span>]) ;</span><br><span class=\"line\"></span><br><span class=\"line\"> æ–¹æ³•ä¸‰ï¼š<span class=\"keyword\">ALTER</span> <span class=\"keyword\">TABLE</span>åœ¨å·²å­˜åœ¨çš„è¡¨ä¸Šåˆ›å»ºç´¢å¼•</span><br><span class=\"line\">  <span class=\"keyword\">ALTER</span> <span class=\"keyword\">TABLE</span> è¡¨å</span><br><span class=\"line\">    <span class=\"keyword\">ADD</span> ç´¢å¼•ç±»å‹ ç´¢å¼•å (å­—æ®µå[(é•¿åº¦)] [<span class=\"keyword\">ASC</span> <span class=\"operator\">|</span><span class=\"keyword\">DESC</span>]) ;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- ä¾‹å­: å¢åŠ å…¨æ–‡ç´¢å¼•</span></span><br><span class=\"line\">  <span class=\"keyword\">ALTER</span> <span class=\"keyword\">TABLE</span> `school`.`student`</span><br><span class=\"line\">    <span class=\"keyword\">ADD</span> FULLTEXT INDEX `studentname` (`studentName`);</span><br><span class=\"line\"></span><br><span class=\"line\"># åˆ é™¤ç´¢å¼•ï¼š<span class=\"keyword\">DROP</span> INDEX ç´¢å¼•å <span class=\"keyword\">ON</span> è¡¨åå­—;</span><br><span class=\"line\"># åˆ é™¤ä¸»é”®ç´¢å¼•: <span class=\"keyword\">ALTER</span> <span class=\"keyword\">TABLE</span> è¡¨å <span class=\"keyword\">DROP</span> <span class=\"keyword\">PRIMARY</span> KEY;</span><br><span class=\"line\"></span><br><span class=\"line\"># æ˜¾ç¤ºç´¢å¼•ä¿¡æ¯: <span class=\"keyword\">SHOW</span> INDEX <span class=\"keyword\">FROM</span> è¡¨å;</span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"EXPLAIN\">EXPLAIN</h3>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">  EXPLAIN : åˆ†æ SQL è¯­å¥æ‰§è¡Œæ€§èƒ½</span></span><br><span class=\"line\"><span class=\"comment\">  å¸¸è§„ç´¢å¼•</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\">EXPLAIN</span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> <span class=\"operator\">*</span></span><br><span class=\"line\"><span class=\"keyword\">FROM</span> student</span><br><span class=\"line\"><span class=\"keyword\">WHERE</span> studentno <span class=\"operator\">=</span> <span class=\"string\">&#x27;1000&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">  ä½¿ç”¨å…¨æ–‡ç´¢å¼•</span></span><br><span class=\"line\"><span class=\"comment\">  å…¨æ–‡æœç´¢é€šè¿‡ MATCH() å‡½æ•°å®Œæˆã€‚</span></span><br><span class=\"line\"><span class=\"comment\">  æœç´¢å­—ç¬¦ä¸²ä½œä¸º against() çš„å‚æ•°è¢«ç»™å®šã€‚å¯¹äºè¡¨ä¸­çš„æ¯ä¸ªè®°å½•è¡Œï¼ŒMATCH() è¿”å›ä¸€ä¸ªç›¸å…³æ€§å€¼ã€‚å³æœç´¢å­—ç¬¦ä¸²ä¸è®°å½•è¡Œåœ¨ MATCH() åˆ—è¡¨ä¸­æŒ‡å®šçš„åˆ—çš„æ–‡æœ¬ä¹‹é—´çš„ç›¸ä¼¼æ€§å°ºåº¦ã€‚</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\">EXPLAIN</span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> <span class=\"operator\">*</span></span><br><span class=\"line\"><span class=\"keyword\">FROM</span> student</span><br><span class=\"line\"><span class=\"keyword\">WHERE</span> <span class=\"keyword\">MATCH</span>(studentname) AGAINST(<span class=\"string\">&#x27; åˆ˜ &#x27;</span>);</span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"æ€§èƒ½åˆ†æ\">æ€§èƒ½åˆ†æ</h3>\n<ul>\n<li>\n<p>å»ºè¡¨</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> `app_user`</span><br><span class=\"line\">(</span><br><span class=\"line\">  `id`          <span class=\"type\">bigint</span>(<span class=\"number\">20</span>) unsigned <span class=\"keyword\">NOT</span> <span class=\"keyword\">NULL</span> AUTO_INCREMENT,</span><br><span class=\"line\">  `name`        <span class=\"type\">varchar</span>(<span class=\"number\">50</span>)              <span class=\"keyword\">DEFAULT</span> <span class=\"string\">&#x27;&#x27;</span> COMMENT <span class=\"string\">&#x27; ç”¨æˆ·æ˜µç§° &#x27;</span>,</span><br><span class=\"line\">  `email`       <span class=\"type\">varchar</span>(<span class=\"number\">50</span>)         <span class=\"keyword\">NOT</span> <span class=\"keyword\">NULL</span> COMMENT <span class=\"string\">&#x27; ç”¨æˆ·é‚®ç®± &#x27;</span>,</span><br><span class=\"line\">  `phone`       <span class=\"type\">varchar</span>(<span class=\"number\">20</span>)              <span class=\"keyword\">DEFAULT</span> <span class=\"string\">&#x27;&#x27;</span> COMMENT <span class=\"string\">&#x27; æ‰‹æœºå· &#x27;</span>,</span><br><span class=\"line\">  `gender`      tinyint(<span class=\"number\">4</span>) unsigned      <span class=\"keyword\">DEFAULT</span> <span class=\"string\">&#x27;0&#x27;</span> COMMENT <span class=\"string\">&#x27; æ€§åˆ«ï¼ˆ0: ç”·ï¼›1ï¼šå¥³ï¼‰&#x27;</span>,</span><br><span class=\"line\">  `password`    <span class=\"type\">varchar</span>(<span class=\"number\">100</span>)        <span class=\"keyword\">NOT</span> <span class=\"keyword\">NULL</span> COMMENT <span class=\"string\">&#x27; å¯†ç  &#x27;</span>,</span><br><span class=\"line\">  `age`         tinyint(<span class=\"number\">4</span>)               <span class=\"keyword\">DEFAULT</span> <span class=\"string\">&#x27;0&#x27;</span> COMMENT <span class=\"string\">&#x27; å¹´é¾„ &#x27;</span>,</span><br><span class=\"line\">  `create_time` datetime                 <span class=\"keyword\">DEFAULT</span> <span class=\"built_in\">CURRENT_TIMESTAMP</span>,</span><br><span class=\"line\">  `update_time` <span class=\"type\">timestamp</span>           <span class=\"keyword\">NULL</span> <span class=\"keyword\">DEFAULT</span> <span class=\"built_in\">CURRENT_TIMESTAMP</span> <span class=\"keyword\">ON</span> UPDATE <span class=\"built_in\">CURRENT_TIMESTAMP</span>,</span><br><span class=\"line\">  <span class=\"keyword\">PRIMARY</span> KEY (`id`)</span><br><span class=\"line\">) ENGINE <span class=\"operator\">=</span> InnoDB</span><br><span class=\"line\">  <span class=\"keyword\">DEFAULT</span> CHARSET <span class=\"operator\">=</span> utf8mb4 COMMENT <span class=\"operator\">=</span><span class=\"string\">&#x27;app ç”¨æˆ·è¡¨ &#x27;</span>;</span><br></pre></td></tr></table></figure>\n<hr>\n</li>\n<li>\n<p>ç”Ÿæˆéšæœºæ•°æ®</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">DELIMITER $$</span><br><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">FUNCTION</span> mock_data()</span><br><span class=\"line\">  <span class=\"keyword\">RETURNS</span> <span class=\"type\">INT</span></span><br><span class=\"line\"><span class=\"keyword\">BEGIN</span></span><br><span class=\"line\">  <span class=\"keyword\">DECLARE</span> num <span class=\"type\">INT</span> <span class=\"keyword\">DEFAULT</span> <span class=\"number\">1000000</span>;</span><br><span class=\"line\">  <span class=\"keyword\">DECLARE</span> i <span class=\"type\">INT</span> <span class=\"keyword\">DEFAULT</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">  WHILE i <span class=\"operator\">&lt;</span> num</span><br><span class=\"line\">    DO</span><br><span class=\"line\">      <span class=\"keyword\">INSERT</span> <span class=\"keyword\">INTO</span> app_user(`name`, `email`, `phone`, `gender`, `password`, `age`)</span><br><span class=\"line\">      <span class=\"keyword\">VALUES</span> (CONCAT(<span class=\"string\">&#x27; ç”¨æˆ· &#x27;</span>, i), <span class=\"string\">&#x27;24736743@qq.com&#x27;</span>, CONCAT(<span class=\"string\">&#x27;18&#x27;</span>, <span class=\"built_in\">FLOOR</span>(RAND() <span class=\"operator\">*</span> (<span class=\"number\">999999999</span> <span class=\"operator\">-</span> <span class=\"number\">100000000</span>) <span class=\"operator\">+</span> <span class=\"number\">100000000</span>)),</span><br><span class=\"line\">              <span class=\"built_in\">FLOOR</span>(RAND() <span class=\"operator\">*</span> <span class=\"number\">2</span>), UUID(), <span class=\"built_in\">FLOOR</span>(RAND() <span class=\"operator\">*</span> <span class=\"number\">100</span>));</span><br><span class=\"line\">      <span class=\"keyword\">SET</span> i <span class=\"operator\">=</span> i <span class=\"operator\">+</span> <span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"keyword\">END</span> WHILE;</span><br><span class=\"line\">  <span class=\"keyword\">RETURN</span> i;</span><br><span class=\"line\"><span class=\"keyword\">END</span>;</span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> mock_data();</span><br></pre></td></tr></table></figure>\n<ul>\n<li>ä¸Šé¢çš„æœ‰å¯èƒ½æ— æ•ˆ, å¯ä»¥ç”¨ä¸‹é¢çš„</li>\n</ul>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">&quot;schema&quot;</span>: <span class=\"string\">&quot;study&quot;</span>,</span><br><span class=\"line\">  <span class=\"attr\">&quot;table&quot;</span>: <span class=\"string\">&quot;app_user&quot;</span>,</span><br><span class=\"line\">  <span class=\"attr\">&quot;mockStartIndex&quot;</span>: <span class=\"string\">&quot;auto&quot;</span>,</span><br><span class=\"line\">  <span class=\"attr\">&quot;mockCount&quot;</span>: <span class=\"number\">100000</span>,</span><br><span class=\"line\">  <span class=\"attr\">&quot;mockValueReference&quot;</span>: <span class=\"string\">&quot;http://mockjs.com/examples.html#DPD&quot;</span>,</span><br><span class=\"line\">  <span class=\"attr\">&quot;mock&quot;</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">&quot;id&quot;</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">&quot;type&quot;</span>: <span class=\"string\">&quot;bigint&quot;</span>,</span><br><span class=\"line\">      <span class=\"attr\">&quot;value&quot;</span>: <span class=\"string\">&quot;$mockIndex&quot;</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">&quot;name&quot;</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">&quot;type&quot;</span>: <span class=\"string\">&quot;varchar&quot;</span>,</span><br><span class=\"line\">      <span class=\"attr\">&quot;value&quot;</span>: <span class=\"string\">&quot;@string(&#x27;lower&#x27;,5)&quot;</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">&quot;email&quot;</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">&quot;type&quot;</span>: <span class=\"string\">&quot;varchar&quot;</span>,</span><br><span class=\"line\">      <span class=\"attr\">&quot;value&quot;</span>: <span class=\"string\">&quot;@string(&#x27;lower&#x27;,5)&quot;</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">&quot;phone&quot;</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">&quot;type&quot;</span>: <span class=\"string\">&quot;varchar&quot;</span>,</span><br><span class=\"line\">      <span class=\"attr\">&quot;value&quot;</span>: <span class=\"string\">&quot;@string(&#x27;lower&#x27;,5)&quot;</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">&quot;gender&quot;</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">&quot;type&quot;</span>: <span class=\"string\">&quot;tinyint&quot;</span>,</span><br><span class=\"line\">      <span class=\"attr\">&quot;value&quot;</span>: <span class=\"string\">&quot;@integer(0,1)&quot;</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">&quot;password&quot;</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">&quot;type&quot;</span>: <span class=\"string\">&quot;varchar&quot;</span>,</span><br><span class=\"line\">      <span class=\"attr\">&quot;value&quot;</span>: <span class=\"string\">&quot;@string(&#x27;lower&#x27;,5)&quot;</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">&quot;age&quot;</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">&quot;type&quot;</span>: <span class=\"string\">&quot;tinyint&quot;</span>,</span><br><span class=\"line\">      <span class=\"attr\">&quot;value&quot;</span>: <span class=\"string\">&quot;@integer(0,100)&quot;</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">&quot;create_time&quot;</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">&quot;type&quot;</span>: <span class=\"string\">&quot;datetime&quot;</span>,</span><br><span class=\"line\">      <span class=\"attr\">&quot;value&quot;</span>: <span class=\"string\">&quot;@now(&#x27;yyyy-MM-dd HH:mm:ss&#x27;)&quot;</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">&quot;update_time&quot;</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">&quot;type&quot;</span>: <span class=\"string\">&quot;timestamp&quot;</span>,</span><br><span class=\"line\">      <span class=\"attr\">&quot;value&quot;</span>: <span class=\"string\">&quot;@now(&#x27;yyyy-MM-dd HH:mm:ss&#x27;)&quot;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n</li>\n<li>\n<p>æ€§èƒ½æµ‹è¯•</p>\n<ul>\n<li>\n<p>æ— ç´¢å¼•ä¸‹ select è€—æ—¶ &amp; æœç´¢è¡Œæ•°</p>\n<figure class=\"highlight pgsql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">study&gt; <span class=\"keyword\">SELECT</span></span><br><span class=\"line\">        *</span><br><span class=\"line\">      <span class=\"keyword\">FROM</span></span><br><span class=\"line\">        app_user</span><br><span class=\"line\">      <span class=\"keyword\">WHERE</span></span><br><span class=\"line\">          <span class=\"type\">name</span> = <span class=\"string\">&#x27;wkjvo&#x27;</span></span><br><span class=\"line\">[<span class=\"number\">2021</span><span class=\"number\">-03</span><span class=\"number\">-17</span> <span class=\"number\">12</span>:<span class=\"number\">06</span>:<span class=\"number\">29</span>] åœ¨ <span class=\"number\">202</span> ms (execution: <span class=\"number\">72</span> ms, fetching: <span class=\"number\">130</span> ms) ä¸­ä» <span class=\"number\">1</span> å¼€å§‹æ£€ç´¢åˆ°<span class=\"number\">1</span> è¡Œ</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">rows</span>: <span class=\"number\">99946</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<ul>\n<li>\n<p>æ·»åŠ ç´¢å¼•</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">CREATE</span> INDEX idx_app_user_name <span class=\"keyword\">ON</span> app_user(name);</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<ul>\n<li>\n<p>æœ‰ç´¢å¼•çš„ select</p>\n<figure class=\"highlight pgsql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">study&gt; <span class=\"keyword\">SELECT</span></span><br><span class=\"line\">        *</span><br><span class=\"line\">      <span class=\"keyword\">FROM</span></span><br><span class=\"line\">        app_user</span><br><span class=\"line\">      <span class=\"keyword\">WHERE</span></span><br><span class=\"line\">          <span class=\"type\">name</span> = <span class=\"string\">&#x27;wkjvo&#x27;</span></span><br><span class=\"line\">[<span class=\"number\">2021</span><span class=\"number\">-03</span><span class=\"number\">-17</span> <span class=\"number\">12</span>:<span class=\"number\">12</span>:<span class=\"number\">11</span>] åœ¨ <span class=\"number\">100</span> ms (execution: <span class=\"number\">6</span> ms, fetching: <span class=\"number\">94</span> ms) ä¸­ä» <span class=\"number\">1</span> å¼€å§‹æ£€ç´¢åˆ°<span class=\"number\">1</span> è¡Œ</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">rows</span>: <span class=\"number\">1</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h3 id=\"ç´¢å¼•è§„çŸ©\">ç´¢å¼•è§„çŸ©</h3>\n<ul>\n<li>\n<p>æ— ç´¢å¼•æ—¶æ˜¯æš´åŠ›éå†æœç´¢, æ•°æ®è¡¨è¶Šå¤§è¶Šæ…¢; æœ‰ç´¢å¼•æ—¶æ˜¯å¯¹ç‰¹å®šæ•°æ®ç»“æ„ç´¢å¼•, æœç´¢é€Ÿåº¦å¿«, ä½†æ˜¯åœ¨å¢åˆ æ”¹æ—¶æœ‰é¢å¤–æ€§èƒ½å¼€é”€.</p>\n<ol>\n<li>ä¸è¦å¯¹ <code> ç»å¸¸å˜åŠ¨ </code> çš„æ•°æ®åŠ ç´¢å¼•</li>\n<li><code>å°æ•°æ®é‡ </code> çš„è¡¨å»ºè®®ä¸è¦åŠ ç´¢å¼•</li>\n<li>ä¸€èˆ¬åªåœ¨æŸ¥æ‰¾æ¡ä»¶çš„å­—æ®µç´¢å¼•</li>\n</ol>\n</li>\n<li>\n<p>ç´¢å¼•æ•°æ®ç»“æ„</p>\n<ol>\n<li>hash å•ä¸ªç´¢å¼•å¿«, èŒƒå›´ç´¢å¼•æ…¢</li>\n<li>Btree</li>\n</ol>\n</li>\n<li>\n<p>ä¸åŒçš„æ•°æ®åº“å¼•æ“æ‰€æ”¯æŒçš„ç´¢å¼•ç±»å‹ä»¥åŠç´¢å¼•æ•°æ®ç»“æ„ä¸åŒ</p>\n<ul>\n<li>InnoDB æ”¯æŒäº‹åŠ¡ï¼Œæ”¯æŒè¡Œçº§åˆ«é”å®šï¼Œæ”¯æŒ B-treeã€Full-text ç­‰ç´¢å¼•ï¼Œä¸æ”¯æŒ Hash ç´¢å¼•</li>\n<li>MyISAM ä¸æ”¯æŒäº‹åŠ¡ï¼Œæ”¯æŒè¡¨çº§åˆ«é”å®šï¼Œæ”¯æŒ B-treeã€Full-text ç­‰ç´¢å¼•ï¼Œä¸æ”¯æŒ Hash ç´¢å¼•</li>\n</ul>\n</li>\n</ul>\n<script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kity@2.0.4/dist/kity.min.js\"></script><script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js\"></script><script defer=\"true\" type=\"text&#x2F;javascript\" src=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js\"></script><link rel=\"stylesheet\" type=\"text&#x2F;css\" href=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css\">",
            "tags": [
                "java",
                "ç¬”è®°",
                "mysql"
            ]
        },
        {
            "id": "https://weidows.github.io/post/Java/SQL/2/",
            "url": "https://weidows.github.io/post/Java/SQL/2/",
            "title": "ğŸš€è¿›ä¿® MySQL~(è´°)",
            "date_published": "2021-03-10T04:14:47.000Z",
            "content_html": "<!--\n * @?: *********************************************************************\n * @Author: Weidows\n * @LastEditors: Weidows\n * @LastEditTime: 2021-05-06 00:02:28\n * @FilePath: \\Weidowsd:\\Game\\Github\\Blog-private\\source\\_posts\\Java\\MySQL\\2.md\n * @Description:\n * @!: *********************************************************************\n-->\n<ul>\n<li><a href=\"#dql-%E6%95%B0%E6%8D%AE%E6%9F%A5%E8%AF%A2\">DQL- æ•°æ®æŸ¥è¯¢</a>\n<ul>\n<li><a href=\"#%E6%80%BB%E8%A7%88\">æ€»è§ˆ</a></li>\n<li><a href=\"#select\">SELECT</a></li>\n<li><a href=\"#%E5%8E%BB%E9%87%8D-distinct\">å»é‡ DISTINCT</a></li>\n<li><a href=\"#%E5%AF%B9%E5%88%97%E4%BD%BF%E7%94%A8%E8%A1%A8%E8%BE%BE%E5%BC%8F\">å¯¹åˆ—ä½¿ç”¨è¡¨è¾¾å¼</a></li>\n<li><a href=\"#where\">where</a>\n<ul>\n<li><a href=\"#%E9%80%BB%E8%BE%91%E6%93%8D%E4%BD%9C%E7%AC%A6\">é€»è¾‘æ“ä½œç¬¦</a></li>\n<li><a href=\"#%E6%A8%A1%E7%B3%8A%E6%9F%A5%E8%AF%A2\">æ¨¡ç³ŠæŸ¥è¯¢</a></li>\n<li><a href=\"#%E9%80%9A%E9%85%8D%E7%AC%A6\">é€šé…ç¬¦</a></li>\n</ul>\n</li>\n<li><a href=\"#%E8%81%94%E8%A1%A8%E6%9F%A5%E8%AF%A2\">è”è¡¨æŸ¥è¯¢</a></li>\n<li><a href=\"#%E8%87%AA%E8%BF%9E%E6%8E%A5\">è‡ªè¿æ¥</a></li>\n<li><a href=\"#%E6%8E%92%E5%BA%8F\">æ’åº</a></li>\n<li><a href=\"#%E5%88%86%E9%A1%B5\">åˆ†é¡µ</a></li>\n<li><a href=\"#%E5%AD%90%E6%9F%A5%E8%AF%A2\">å­æŸ¥è¯¢</a><br>\n<a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></li>\n</ul>\n</li>\n</ul>\n<h2 id=\"DQL- æ•°æ®æŸ¥è¯¢\">DQL- æ•°æ®æŸ¥è¯¢</h2>\n<h3 id=\"æ€»è§ˆ\">æ€»è§ˆ</h3>\n<ul>\n<li>\n<p>è¯­å¥é¡ºåºä¸èƒ½å˜</p>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVscAz.png\" alt=\"20210316194554\" />\n</li>\n</ul>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> [<span class=\"keyword\">ALL</span> <span class=\"operator\">|</span> <span class=\"keyword\">DISTINCT</span>]</span><br><span class=\"line\">&#123;<span class=\"operator\">*</span> <span class=\"operator\">|</span> table.<span class=\"operator\">*</span> <span class=\"operator\">|</span> [table.field1[<span class=\"keyword\">as</span> alias1][,table.field2[<span class=\"keyword\">as</span> alias2]][,...]]&#125;</span><br><span class=\"line\"><span class=\"keyword\">FROM</span> table_name [<span class=\"keyword\">as</span> table_alias]</span><br><span class=\"line\">  [<span class=\"keyword\">left</span> <span class=\"operator\">|</span> <span class=\"keyword\">right</span> <span class=\"operator\">|</span> <span class=\"keyword\">inner</span> <span class=\"keyword\">join</span> table_name2]  <span class=\"comment\">-- è”åˆæŸ¥è¯¢</span></span><br><span class=\"line\">  [<span class=\"keyword\">WHERE</span> ...]  <span class=\"comment\">-- æŒ‡å®šç»“æœéœ€æ»¡è¶³çš„æ¡ä»¶</span></span><br><span class=\"line\">  [<span class=\"keyword\">GROUP</span> <span class=\"keyword\">BY</span> ...]  <span class=\"comment\">-- æŒ‡å®šç»“æœæŒ‰ç…§å“ªå‡ ä¸ªå­—æ®µæ¥åˆ†ç»„</span></span><br><span class=\"line\">  [<span class=\"keyword\">HAVING</span>]  <span class=\"comment\">-- è¿‡æ»¤åˆ†ç»„çš„è®°å½•å¿…é¡»æ»¡è¶³çš„æ¬¡è¦æ¡ä»¶</span></span><br><span class=\"line\">  [<span class=\"keyword\">ORDER</span> <span class=\"keyword\">BY</span> ...]  <span class=\"comment\">-- æŒ‡å®šæŸ¥è¯¢è®°å½•æŒ‰ä¸€ä¸ªæˆ–å¤šä¸ªæ¡ä»¶æ’åº</span></span><br><span class=\"line\">  [LIMIT &#123;[<span class=\"keyword\">offset</span>,]row_count <span class=\"operator\">|</span> row_countOFFSET <span class=\"keyword\">offset</span>&#125;]; <span class=\"comment\">-- æŒ‡å®šæŸ¥è¯¢çš„è®°å½•ä»å“ªæ¡è‡³å“ªæ¡</span></span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"SELECT\">SELECT</h3>\n<blockquote>\n<p>SELECT åˆ—å [AS æ˜¾ç¤ºåˆ—å] FROM è¡¨å [AS æ˜¾ç¤ºè¡¨å];</p>\n</blockquote>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- æŸ¥è¯¢æ‰€æœ‰å­¦ç”Ÿä¿¡æ¯ </span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  <span class=\"operator\">*</span></span><br><span class=\"line\"><span class=\"keyword\">FROM</span></span><br><span class=\"line\">  student;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- æŸ¥è¯¢æŒ‡å®šåˆ—</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  studentid,</span><br><span class=\"line\">  studentname</span><br><span class=\"line\"><span class=\"keyword\">FROM</span></span><br><span class=\"line\">  student;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- è¿™é‡Œæ˜¯ä¸ºåˆ—å–åˆ«å(as å…³é”®è¯å¯ä»¥çœç•¥)</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  studentid <span class=\"keyword\">AS</span> ` å­¦ å· `,</span><br><span class=\"line\">  studentname ` å§“ å `</span><br><span class=\"line\"><span class=\"keyword\">FROM</span></span><br><span class=\"line\">  student;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- as ä¹Ÿå¯ä»¥ä¸ºè¡¨å–åˆ«å(å¹¶ä¸ä¼šæ˜¾ç¤ºå‡ºæ¥)</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  studentid <span class=\"keyword\">AS</span> ` å­¦ å· `,</span><br><span class=\"line\">  studentname <span class=\"keyword\">AS</span> ` å§“ å `</span><br><span class=\"line\"><span class=\"keyword\">FROM</span></span><br><span class=\"line\">  student <span class=\"keyword\">AS</span> ` è¡¨ `;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- é€šè¿‡ CONCAT() å‡½æ•°æ‹¼æ¥å­—ç¬¦ä¸²</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  CONCAT(<span class=\"string\">&#x27; å§“å: &#x27;</span>, studentname) <span class=\"keyword\">AS</span> ` æ‹¼æ¥åçš„åå­— `</span><br><span class=\"line\"><span class=\"keyword\">FROM</span></span><br><span class=\"line\">  student;</span><br></pre></td></tr></table></figure>\n<h3 id=\"å»é‡ -DISTINCT\">å»é‡ DISTINCT</h3>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> <span class=\"keyword\">DISTINCT</span> <span class=\"operator\">*</span> <span class=\"keyword\">FROM</span> student</span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"å¯¹åˆ—ä½¿ç”¨è¡¨è¾¾å¼\">å¯¹åˆ—ä½¿ç”¨è¡¨è¾¾å¼</h3>\n<ul>\n<li>æ•°æ®åº“ä¸­çš„è¡¨è¾¾å¼ : ä¸€èˆ¬ç”±æ–‡æœ¬å€¼ , åˆ—å€¼ , NULL , å‡½æ•°å’Œæ“ä½œç¬¦ç­‰ç»„æˆ</li>\n</ul>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- æŸ¥è¯¢è‡ªå¢æ­¥é•¿</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  @<span class=\"variable\">@auto</span>_increment_increment;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- æŸ¥è¯¢ç‰ˆæœ¬å·</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  VERSION();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- è¡¨è¾¾å¼</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  <span class=\"number\">100</span> <span class=\"operator\">*</span> <span class=\"number\">3</span> <span class=\"number\">-1</span> <span class=\"keyword\">AS</span> ` ç»“æœ `;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- å­¦å‘˜è€ƒè¯•æˆç»©é›†ä½“æåˆ†ä¸€åˆ†æŸ¥çœ‹</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  studentid,</span><br><span class=\"line\">  gradeid <span class=\"operator\">+</span> <span class=\"number\">1</span> <span class=\"keyword\">AS</span> <span class=\"string\">&#x27; å‡çº§å &#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">FROM</span></span><br><span class=\"line\">  student;</span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"where\">where</h3>\n<blockquote>\n<p>è¡¨è¾¾å¼ç»“æœå¿…é¡»æ˜¯ <code>å¸ƒå°”å€¼</code></p>\n</blockquote>\n<h4 id=\"é€»è¾‘æ“ä½œç¬¦\">é€»è¾‘æ“ä½œç¬¦</h4>\n<ul>\n<li>AND &amp;&amp;</li>\n<li>OR ||</li>\n<li>NOT !</li>\n</ul>\n<hr>\n<ul>\n<li>\n<p>ä¾‹å­</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- æ»¡è¶³æ¡ä»¶çš„æŸ¥è¯¢</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> Studentno,StudentResult <span class=\"keyword\">FROM</span> <span class=\"keyword\">result</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- æŸ¥è¯¢è€ƒè¯•æˆç»©åœ¨ 95-100 ä¹‹é—´çš„</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> Studentno,StudentResult</span><br><span class=\"line\"><span class=\"keyword\">FROM</span> <span class=\"keyword\">result</span></span><br><span class=\"line\"><span class=\"keyword\">WHERE</span> StudentResult<span class=\"operator\">&gt;=</span><span class=\"number\">95</span> <span class=\"operator\">&amp;&amp;</span> StudentResult<span class=\"operator\">&lt;=</span><span class=\"number\">100</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- æ¨¡ç³ŠæŸ¥è¯¢</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> Studentno,StudentResult</span><br><span class=\"line\"><span class=\"keyword\">FROM</span> <span class=\"keyword\">result</span></span><br><span class=\"line\"><span class=\"keyword\">WHERE</span> StudentResult <span class=\"keyword\">BETWEEN</span> <span class=\"number\">95</span> <span class=\"keyword\">AND</span> <span class=\"number\">100</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- é™¤äº† 1000 å·åŒå­¦, è¦å…¶ä»–åŒå­¦çš„æˆç»©</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> studentno,studentresult</span><br><span class=\"line\"><span class=\"keyword\">FROM</span> <span class=\"keyword\">result</span></span><br><span class=\"line\"><span class=\"keyword\">WHERE</span> studentno<span class=\"operator\">!=</span><span class=\"number\">1000</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- ä½¿ç”¨ NOT</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> studentno,studentresult</span><br><span class=\"line\"><span class=\"keyword\">FROM</span> <span class=\"keyword\">result</span></span><br><span class=\"line\"><span class=\"keyword\">WHERE</span> <span class=\"operator\">!</span> studentno<span class=\"operator\">=</span><span class=\"number\">1000</span>;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<h4 id=\"æ¨¡ç³ŠæŸ¥è¯¢\">æ¨¡ç³ŠæŸ¥è¯¢</h4>\n  <img src=\"https://www.helloimg.com/images/2022/02/27/GVsS0Y.png\" alt=\"20210312120236\" />\n<ul>\n<li>\n<p>ä¾‹å­</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- LIKE like ç»“åˆä½¿ç”¨çš„é€šé…ç¬¦:  % (ä»£è¡¨ 0 åˆ°ä»»æ„ä¸ªå­—ç¬¦)   _ (ä¸€ä¸ªå­—ç¬¦)</span></span><br><span class=\"line\"><span class=\"comment\">-- =============================================</span></span><br><span class=\"line\"><span class=\"comment\">-- æŸ¥è¯¢å§“åˆ˜çš„åŒå­¦çš„å­¦å·åŠå§“å</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  studentno,</span><br><span class=\"line\">  studentname</span><br><span class=\"line\"><span class=\"keyword\">FROM</span></span><br><span class=\"line\">  student</span><br><span class=\"line\"><span class=\"keyword\">WHERE</span></span><br><span class=\"line\">  studentname <span class=\"keyword\">LIKE</span> <span class=\"string\">&#x27; åˆ˜ %&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- æŸ¥è¯¢å§“åˆ˜çš„åŒå­¦, åé¢åªæœ‰ä¸€ä¸ªå­—çš„</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  studentno,</span><br><span class=\"line\">  studentname</span><br><span class=\"line\"><span class=\"keyword\">FROM</span></span><br><span class=\"line\">  student</span><br><span class=\"line\"><span class=\"keyword\">WHERE</span></span><br><span class=\"line\">  studentname <span class=\"keyword\">LIKE</span> <span class=\"string\">&#x27; åˆ˜_&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- æŸ¥è¯¢å§“åˆ˜çš„åŒå­¦, åé¢åªæœ‰ä¸¤ä¸ªå­—çš„</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  studentno,</span><br><span class=\"line\">  studentname</span><br><span class=\"line\"><span class=\"keyword\">FROM</span></span><br><span class=\"line\">  student</span><br><span class=\"line\"><span class=\"keyword\">WHERE</span></span><br><span class=\"line\">  studentname <span class=\"keyword\">LIKE</span> <span class=\"string\">&#x27; åˆ˜__&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- æŸ¥è¯¢å§“åä¸­å«æœ‰ &#x27; å˜‰ &#x27; å­—çš„</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  studentno,</span><br><span class=\"line\">  studentname</span><br><span class=\"line\"><span class=\"keyword\">FROM</span></span><br><span class=\"line\">  student</span><br><span class=\"line\"><span class=\"keyword\">WHERE</span></span><br><span class=\"line\">  studentname <span class=\"keyword\">LIKE</span> <span class=\"string\">&#x27;% å˜‰ %&#x27;</span>;</span><br><span class=\"line\"><span class=\"comment\">-- æŸ¥è¯¢å§“åä¸­å«æœ‰ç‰¹æ®Šå­—ç¬¦çš„éœ€è¦ä½¿ç”¨è½¬ä¹‰ç¬¦å· &#x27;\\&#x27;</span></span><br><span class=\"line\">  <span class=\"comment\">-- è‡ªå®šä¹‰è½¬ä¹‰ç¬¦å…³é”®å­—: ESCAPE &#x27;:&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- IN</span></span><br><span class=\"line\"><span class=\"comment\">-- =============================================</span></span><br><span class=\"line\"><span class=\"comment\">-- æŸ¥è¯¢å­¦å·ä¸º 1000,1001,1002 çš„å­¦ç”Ÿå§“å</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  studentno,</span><br><span class=\"line\">  studentname</span><br><span class=\"line\"><span class=\"keyword\">FROM</span></span><br><span class=\"line\">  student</span><br><span class=\"line\"><span class=\"keyword\">WHERE</span></span><br><span class=\"line\">  studentno <span class=\"keyword\">IN</span> (<span class=\"number\">1000</span>, <span class=\"number\">1001</span>, <span class=\"number\">1002</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- æŸ¥è¯¢åœ°å€åœ¨åŒ—äº¬, å—äº¬, æ²³å—æ´›é˜³çš„å­¦ç”Ÿ</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  studentno,</span><br><span class=\"line\">  studentname,</span><br><span class=\"line\">  address</span><br><span class=\"line\"><span class=\"keyword\">FROM</span></span><br><span class=\"line\">  student</span><br><span class=\"line\"><span class=\"keyword\">WHERE</span></span><br><span class=\"line\">  address <span class=\"keyword\">IN</span> (<span class=\"string\">&#x27; åŒ—äº¬ &#x27;</span>, <span class=\"string\">&#x27; å—äº¬ &#x27;</span>, <span class=\"string\">&#x27; æ²³å—æ´›é˜³ &#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- å¯¹ NULL åˆ¤æ–­ ä¸èƒ½ç›´æ¥å†™ =NULL, ç”¨ is null</span></span><br><span class=\"line\"><span class=\"comment\">-- =============================================</span></span><br><span class=\"line\"><span class=\"comment\">-- æŸ¥è¯¢å‡ºç”Ÿæ—¥æœŸæ²¡æœ‰å¡«å†™çš„åŒå­¦</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  studentname</span><br><span class=\"line\"><span class=\"keyword\">FROM</span></span><br><span class=\"line\">  student</span><br><span class=\"line\"><span class=\"keyword\">WHERE</span></span><br><span class=\"line\">  BornDate <span class=\"keyword\">IS</span> <span class=\"keyword\">NULL</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- æŸ¥è¯¢å‡ºç”Ÿæ—¥æœŸå¡«å†™çš„åŒå­¦</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  studentname</span><br><span class=\"line\"><span class=\"keyword\">FROM</span></span><br><span class=\"line\">  student</span><br><span class=\"line\"><span class=\"keyword\">WHERE</span></span><br><span class=\"line\">  BornDate <span class=\"keyword\">IS</span> <span class=\"keyword\">NOT</span> <span class=\"keyword\">NULL</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- æŸ¥è¯¢æ²¡æœ‰å†™å®¶åº­ä½å€çš„åŒå­¦</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  studentname</span><br><span class=\"line\"><span class=\"keyword\">FROM</span></span><br><span class=\"line\">  student</span><br><span class=\"line\"><span class=\"keyword\">WHERE</span></span><br><span class=\"line\">  Address <span class=\"operator\">=</span> <span class=\"string\">&#x27;&#x27;</span></span><br><span class=\"line\">  <span class=\"keyword\">OR</span> Address <span class=\"keyword\">IS</span> <span class=\"keyword\">NULL</span>;</span><br></pre></td></tr></table></figure>\n<hr>\n</li>\n</ul>\n<h4 id=\"é€šé…ç¬¦\">é€šé…ç¬¦</h4>\n<p>æ¯”å¦‚æœ‰ä¸ªè¡¨ user, æœ‰ä¸€ä¸ª <code>name</code> æ•°æ®ä¸º <code> å¼ ä¸‰</code>, éœ€è¦é€šè¿‡â€™å¼ â€™å­—æ¨¡ç³ŠæŸ¥è¯¢å‡ºæ¥</p>\n<ul>\n<li>\n<p>è¿™æ ·æ˜¯æŸ¥ä¸å‡ºæ¥çš„, è¿™æ˜¯å…¨å­—åŒ¹é…, æ¢ä¸ºâ€™å¼ ä¸‰â€™å¯ä»¥æŸ¥å‡ºæ¥</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">select</span> <span class=\"operator\">*</span></span><br><span class=\"line\"><span class=\"keyword\">from</span> <span class=\"keyword\">user</span></span><br><span class=\"line\"><span class=\"keyword\">where</span> name <span class=\"keyword\">like</span> <span class=\"string\">&#x27; å¼  &#x27;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>éœ€è¦æ”¹æˆè¿™æ ·: è¿™æ ·æ˜¯ä½œä¸ºé€šé…ç¬¦,name ä¸­å«æœ‰â€™å¼ â€™å­—çš„éƒ½ä¼šè¢«åŒ¹é…å‡ºæ¥.</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">select</span> <span class=\"operator\">*</span></span><br><span class=\"line\"><span class=\"keyword\">from</span> <span class=\"keyword\">user</span></span><br><span class=\"line\"><span class=\"keyword\">where</span> name <span class=\"keyword\">like</span> <span class=\"string\">&#x27;% å¼  %&#x27;</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<h3 id=\"è”è¡¨æŸ¥è¯¢\">è”è¡¨æŸ¥è¯¢</h3>\n<ul>\n<li>\n<p>ä¸ƒç§ SQL joins</p>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVslkM.png\" alt=\"20210313224946\" />\n<ul>\n<li>\n<p>å…±æœ‰å››ç§æ“ä½œç¬¦ <code>inner,full outer,left,right</code></p>\n</li>\n<li>\n<p>ON åé¢è·Ÿçš„æ˜¯ A è¡¨ä¸ B è¡¨æ•°æ®äº¤å‰åˆ—, æ˜¯ join æˆç«‹çš„æ¡ä»¶.</p>\n</li>\n</ul>\n<hr>\n</li>\n<li>\n<p>ä¾‹å­</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- student å’Œ result è¡¨ä¸­éƒ½æœ‰ studentno, å¦‚ä¸æŒ‡å®š select é‚£ä¸ªè¡¨ä¸­çš„, ä¼šæŠ¥é”™ &quot; ä¸æ˜ç¡® &quot;</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  s.studentno,</span><br><span class=\"line\">  studentname,</span><br><span class=\"line\">  subjectno,</span><br><span class=\"line\">  StudentResult</span><br><span class=\"line\"><span class=\"keyword\">FROM</span></span><br><span class=\"line\">  student s</span><br><span class=\"line\">  <span class=\"keyword\">INNER</span> <span class=\"keyword\">JOIN</span> <span class=\"keyword\">result</span> r <span class=\"keyword\">ON</span> r.studentno <span class=\"operator\">=</span> s.studentno</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- å³è¿æ¥</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  s.studentno,</span><br><span class=\"line\">  studentname,</span><br><span class=\"line\">  subjectno,</span><br><span class=\"line\">  StudentResult</span><br><span class=\"line\"><span class=\"keyword\">FROM</span></span><br><span class=\"line\">  student s</span><br><span class=\"line\">  <span class=\"keyword\">RIGHT</span> <span class=\"keyword\">JOIN</span> <span class=\"keyword\">result</span> r <span class=\"keyword\">ON</span> r.studentno <span class=\"operator\">=</span> s.studentno</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- ç­‰å€¼è¿æ¥</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  s.studentno,</span><br><span class=\"line\">  studentname,</span><br><span class=\"line\">  subjectno,</span><br><span class=\"line\">  StudentResult</span><br><span class=\"line\"><span class=\"keyword\">FROM</span></span><br><span class=\"line\">  student s,</span><br><span class=\"line\">  <span class=\"keyword\">result</span> r</span><br><span class=\"line\"><span class=\"keyword\">WHERE</span></span><br><span class=\"line\">  r.studentno <span class=\"operator\">=</span> s.studentno</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- å·¦è¿æ¥ (æŸ¥è¯¢äº†æ‰€æœ‰åŒå­¦, ä¸è€ƒè¯•çš„ä¹Ÿä¼šæŸ¥å‡ºæ¥)</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  s.studentno,</span><br><span class=\"line\">  studentname,</span><br><span class=\"line\">  subjectno,</span><br><span class=\"line\">  StudentResult</span><br><span class=\"line\"><span class=\"keyword\">FROM</span></span><br><span class=\"line\">  student s</span><br><span class=\"line\">  <span class=\"keyword\">LEFT</span> <span class=\"keyword\">JOIN</span> <span class=\"keyword\">result</span> r <span class=\"keyword\">ON</span> r.studentno <span class=\"operator\">=</span> s.studentno</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- æŸ¥ä¸€ä¸‹ç¼ºè€ƒçš„åŒå­¦(å·¦è¿æ¥åº”ç”¨åœºæ™¯)</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  s.studentno,</span><br><span class=\"line\">  studentname,</span><br><span class=\"line\">  subjectno,</span><br><span class=\"line\">  StudentResult</span><br><span class=\"line\"><span class=\"keyword\">FROM</span></span><br><span class=\"line\">  student s</span><br><span class=\"line\">  <span class=\"keyword\">LEFT</span> <span class=\"keyword\">JOIN</span> <span class=\"keyword\">result</span> r <span class=\"keyword\">ON</span> r.studentno <span class=\"operator\">=</span> s.studentno</span><br><span class=\"line\"><span class=\"keyword\">WHERE</span></span><br><span class=\"line\">  StudentResult <span class=\"keyword\">IS</span> <span class=\"keyword\">NULL</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- æŸ¥è¯¢å‚åŠ äº†è€ƒè¯•çš„åŒå­¦ä¿¡æ¯(å­¦å·, å­¦ç”Ÿå§“å, ç§‘ç›®å, åˆ†æ•°)</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  s.studentno,</span><br><span class=\"line\">  studentname,</span><br><span class=\"line\">  subjectname,</span><br><span class=\"line\">  StudentResult</span><br><span class=\"line\"><span class=\"keyword\">FROM</span></span><br><span class=\"line\">  `student` s</span><br><span class=\"line\">  <span class=\"keyword\">INNER</span> <span class=\"keyword\">JOIN</span> `<span class=\"keyword\">result</span>` r <span class=\"keyword\">ON</span> r.studentno <span class=\"operator\">=</span> s.studentno</span><br><span class=\"line\">  <span class=\"keyword\">INNER</span> <span class=\"keyword\">JOIN</span> `subject` sub <span class=\"keyword\">ON</span> sub.subjectno <span class=\"operator\">=</span> r.subjectno</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<h3 id=\"è‡ªè¿æ¥\">è‡ªè¿æ¥</h3>\n<ul>\n<li>\n<p>æŠŠä¸€å¼ è¡¨è§†ä½œä¸¤å¼ è¡¨, ç„¶åæŠŠ <code> åŒä¸€åˆ— </code> çš„ä¸åŒæ•°æ®ç­›é€‰å¼€ <code> ä½œä¸ºä¸¤åˆ— </code> è¾“å‡º</p>\n</li>\n<li>\n<p>åˆå§‹åŒ–æ•°æ®</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- åˆ›å»ºä¸€ä¸ªè¡¨</span></span><br><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> `category` (</span><br><span class=\"line\">  `categoryid` <span class=\"type\">INT</span>(<span class=\"number\">10</span>) UNSIGNED <span class=\"keyword\">NOT</span> <span class=\"keyword\">NULL</span> AUTO_INCREMENT COMMENT <span class=\"string\">&#x27; ä¸»é¢˜ id&#x27;</span>,</span><br><span class=\"line\">  `pid` <span class=\"type\">INT</span>(<span class=\"number\">10</span>) <span class=\"keyword\">NOT</span> <span class=\"keyword\">NULL</span> COMMENT <span class=\"string\">&#x27; çˆ¶ id&#x27;</span>,</span><br><span class=\"line\">  `categoryName` <span class=\"type\">VARCHAR</span>(<span class=\"number\">50</span>) <span class=\"keyword\">NOT</span> <span class=\"keyword\">NULL</span> COMMENT <span class=\"string\">&#x27; ä¸»é¢˜åå­— &#x27;</span>,</span><br><span class=\"line\">  <span class=\"keyword\">PRIMARY</span> KEY (`categoryid`)</span><br><span class=\"line\">) ENGINE <span class=\"operator\">=</span> INNODB AUTO_INCREMENT <span class=\"operator\">=</span> <span class=\"number\">9</span> <span class=\"keyword\">DEFAULT</span> CHARSET <span class=\"operator\">=</span> utf8;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- æ’å…¥æ•°æ®</span></span><br><span class=\"line\"><span class=\"keyword\">INSERT</span> <span class=\"keyword\">INTO</span></span><br><span class=\"line\">  `category` (`categoryid`, `pid`, `categoryName`)</span><br><span class=\"line\"><span class=\"keyword\">VALUES</span>(<span class=\"string\">&#x27;2&#x27;</span>, <span class=\"string\">&#x27;1&#x27;</span>, <span class=\"string\">&#x27; ä¿¡æ¯æŠ€æœ¯ &#x27;</span>),</span><br><span class=\"line\">  (<span class=\"string\">&#x27;3&#x27;</span>, <span class=\"string\">&#x27;1&#x27;</span>, <span class=\"string\">&#x27; è½¯ä»¶å¼€å‘ &#x27;</span>),</span><br><span class=\"line\">  (<span class=\"string\">&#x27;4&#x27;</span>, <span class=\"string\">&#x27;3&#x27;</span>, <span class=\"string\">&#x27; æ•°æ®åº“ &#x27;</span>),</span><br><span class=\"line\">  (<span class=\"string\">&#x27;5&#x27;</span>, <span class=\"string\">&#x27;1&#x27;</span>, <span class=\"string\">&#x27; ç¾æœ¯è®¾è®¡ &#x27;</span>),</span><br><span class=\"line\">  (<span class=\"string\">&#x27;6&#x27;</span>, <span class=\"string\">&#x27;3&#x27;</span>, <span class=\"string\">&#x27;web å¼€å‘ &#x27;</span>),</span><br><span class=\"line\">  (<span class=\"string\">&#x27;7&#x27;</span>, <span class=\"string\">&#x27;5&#x27;</span>, <span class=\"string\">&#x27;ps æŠ€æœ¯ &#x27;</span>),</span><br><span class=\"line\">  (<span class=\"string\">&#x27;8&#x27;</span>, <span class=\"string\">&#x27;2&#x27;</span>, <span class=\"string\">&#x27; åŠå…¬ä¿¡æ¯ &#x27;</span>);</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>select ä¾‹å­</p>\n<ul>\n<li>æŠŠåŒä¸€å¼ è¡¨ä¸­ categoryName è¿™ä¸€åˆ— select å‡ºçˆ¶æ ç›®å’Œå­æ ç›®ä¸¤åˆ—æ•°æ®è¾“å‡º</li>\n</ul>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  a.categoryName <span class=\"keyword\">AS</span> <span class=\"string\">&#x27; çˆ¶æ ç›® &#x27;</span>,</span><br><span class=\"line\">  b.categoryName <span class=\"keyword\">AS</span> <span class=\"string\">&#x27; å­æ ç›® &#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">FROM</span></span><br><span class=\"line\">  category <span class=\"keyword\">AS</span> a,</span><br><span class=\"line\">  category <span class=\"keyword\">AS</span> b</span><br><span class=\"line\"><span class=\"keyword\">WHERE</span></span><br><span class=\"line\">  a.`categoryid` <span class=\"operator\">=</span> b.`pid`;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>è¾“å‡º</p>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVsORR.png\" alt=\"20210315112316\" />\n</li>\n<li>\n<p>å…¶ä»–æ ·ä¾‹</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- æ€è€ƒé¢˜: æŸ¥è¯¢å‚åŠ äº†è€ƒè¯•çš„åŒå­¦ä¿¡æ¯(å­¦å·, å­¦ç”Ÿå§“å, ç§‘ç›®å, åˆ†æ•°)</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  s.studentno,</span><br><span class=\"line\">  studentname,</span><br><span class=\"line\">  subjectname,</span><br><span class=\"line\">  StudentResult</span><br><span class=\"line\"><span class=\"keyword\">FROM</span></span><br><span class=\"line\">  student s</span><br><span class=\"line\">  <span class=\"keyword\">INNER</span> <span class=\"keyword\">JOIN</span> <span class=\"keyword\">result</span> r <span class=\"keyword\">ON</span> r.studentno <span class=\"operator\">=</span> s.studentno</span><br><span class=\"line\">  <span class=\"keyword\">INNER</span> <span class=\"keyword\">JOIN</span> `subject` sub <span class=\"keyword\">ON</span> sub.subjectno <span class=\"operator\">=</span> r.subjectno;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- æŸ¥è¯¢å­¦å‘˜åŠæ‰€å±çš„å¹´çº§(å­¦å·, å­¦ç”Ÿå§“å, å¹´çº§å)</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  studentno <span class=\"keyword\">AS</span> å­¦ å·,</span><br><span class=\"line\">  studentname <span class=\"keyword\">AS</span> å­¦ ç”Ÿ å§“ å,</span><br><span class=\"line\">  gradename <span class=\"keyword\">AS</span> å¹´ çº§ å ç§°</span><br><span class=\"line\"><span class=\"keyword\">FROM</span></span><br><span class=\"line\">  student s</span><br><span class=\"line\">  <span class=\"keyword\">INNER</span> <span class=\"keyword\">JOIN</span> grade g <span class=\"keyword\">ON</span> s.`GradeId` <span class=\"operator\">=</span> g.`GradeID`;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- æŸ¥è¯¢ç§‘ç›®åŠæ‰€å±çš„å¹´çº§(ç§‘ç›®åç§°, å¹´çº§åç§°)</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  subjectname <span class=\"keyword\">AS</span> ç§‘ ç›® å ç§°,</span><br><span class=\"line\">  gradename <span class=\"keyword\">AS</span> å¹´ çº§ å ç§°</span><br><span class=\"line\"><span class=\"keyword\">FROM</span></span><br><span class=\"line\">  SUBJECT sub</span><br><span class=\"line\">  <span class=\"keyword\">INNER</span> <span class=\"keyword\">JOIN</span> grade g <span class=\"keyword\">ON</span> sub.gradeid <span class=\"operator\">=</span> g.gradeid;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- æŸ¥è¯¢ æ•°æ®åº“ç»“æ„ -1 çš„æ‰€æœ‰è€ƒè¯•ç»“æœ(å­¦å· å­¦ç”Ÿå§“å ç§‘ç›®åç§° æˆç»©)</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  s.studentno,</span><br><span class=\"line\">  studentname,</span><br><span class=\"line\">  subjectname,</span><br><span class=\"line\">  StudentResult</span><br><span class=\"line\"><span class=\"keyword\">FROM</span></span><br><span class=\"line\">  student s</span><br><span class=\"line\">  <span class=\"keyword\">INNER</span> <span class=\"keyword\">JOIN</span> <span class=\"keyword\">result</span> r <span class=\"keyword\">ON</span> r.studentno <span class=\"operator\">=</span> s.studentno</span><br><span class=\"line\">  <span class=\"keyword\">INNER</span> <span class=\"keyword\">JOIN</span> `subject` sub <span class=\"keyword\">ON</span> r.subjectno <span class=\"operator\">=</span> sub.subjectno</span><br><span class=\"line\"><span class=\"keyword\">WHERE</span></span><br><span class=\"line\">  subjectname <span class=\"operator\">=</span> <span class=\"string\">&#x27; æ•°æ®åº“ç»“æ„ -1&#x27;</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<h3 id=\"æ’åº\">æ’åº</h3>\n<blockquote>\n<p>ORDER BY åˆ—å ASC/DESC(å‡åº / é™)</p>\n</blockquote>\n<ul>\n<li>\n<p>ä¾‹å­</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- æŒ‰æˆç»©é™åºæ’åº</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  s.studentno,</span><br><span class=\"line\">  studentname,</span><br><span class=\"line\">  subjectname,</span><br><span class=\"line\">  StudentResult</span><br><span class=\"line\"><span class=\"keyword\">FROM</span></span><br><span class=\"line\">  student s</span><br><span class=\"line\">  <span class=\"keyword\">INNER</span> <span class=\"keyword\">JOIN</span> <span class=\"keyword\">result</span> r <span class=\"keyword\">ON</span> r.studentno <span class=\"operator\">=</span> s.studentno</span><br><span class=\"line\">  <span class=\"keyword\">INNER</span> <span class=\"keyword\">JOIN</span> `subject` sub <span class=\"keyword\">ON</span> r.subjectno <span class=\"operator\">=</span> sub.subjectno</span><br><span class=\"line\"><span class=\"keyword\">WHERE</span></span><br><span class=\"line\">  subjectname <span class=\"operator\">=</span> <span class=\"string\">&#x27; æ•°æ®åº“ç»“æ„ -1&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">ORDER</span> <span class=\"keyword\">BY</span></span><br><span class=\"line\">  StudentResult <span class=\"keyword\">DESC</span>;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<h3 id=\"åˆ†é¡µ -2\">åˆ†é¡µ</h3>\n<blockquote>\n<p>LIMIT n,m</p>\n</blockquote>\n<ul>\n<li>\n<p>å«ä¹‰</p>\n<ul>\n<li>\n<p>ä»ç¬¬ n æ¡å¼€å§‹æ˜¾ç¤º</p>\n</li>\n<li>\n<p>æ¯é¡µæ˜¾ç¤º m æ¡æ•°</p>\n</li>\n</ul>\n<hr>\n</li>\n<li>\n<p>æ¯”å¦‚éœ€è¦æ¯é¡µæ˜¾ç¤º 10 æ¡æ•°æ®, å½“å‰è¦çœ‹ç¬¬ä¸€é¡µ</p>\n<ul>\n<li>\n<p><code>LIMIT 0,10</code></p>\n</li>\n<li>\n<p>ç¬¬ n é¡µæ•°æ®å°±æ˜¯ <code>LIMIT 10(n-1),10</code></p>\n</li>\n</ul>\n<hr>\n</li>\n<li>\n<p>ä¾‹å­</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- æ¯é¡µæ˜¾ç¤º 5 æ¡æ•°æ®</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  s.studentno,</span><br><span class=\"line\">  studentname,</span><br><span class=\"line\">  subjectname,</span><br><span class=\"line\">  StudentResult</span><br><span class=\"line\"><span class=\"keyword\">FROM</span></span><br><span class=\"line\">  student s</span><br><span class=\"line\">  <span class=\"keyword\">INNER</span> <span class=\"keyword\">JOIN</span> <span class=\"keyword\">result</span> r <span class=\"keyword\">ON</span> r.studentno <span class=\"operator\">=</span> s.studentno</span><br><span class=\"line\">  <span class=\"keyword\">INNER</span> <span class=\"keyword\">JOIN</span> `subject` sub <span class=\"keyword\">ON</span> r.subjectno <span class=\"operator\">=</span> sub.subjectno</span><br><span class=\"line\"><span class=\"keyword\">WHERE</span></span><br><span class=\"line\">  subjectname <span class=\"operator\">=</span> <span class=\"string\">&#x27; æ•°æ®åº“ç»“æ„ -1&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">ORDER</span> <span class=\"keyword\">BY</span></span><br><span class=\"line\">  StudentResult <span class=\"keyword\">DESC</span>,</span><br><span class=\"line\">  studentno</span><br><span class=\"line\">LIMIT</span><br><span class=\"line\">  <span class=\"number\">0</span>, <span class=\"number\">5</span> ;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- æŸ¥è¯¢ JAVA ç¬¬ä¸€å­¦å¹´ è¯¾ç¨‹æˆç»©å‰ 10 åå¹¶ä¸”åˆ†æ•°å¤§äº 80 çš„å­¦ç”Ÿä¿¡æ¯(å­¦å·, å§“å, è¯¾ç¨‹å, åˆ†æ•°)</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  s.studentno,</span><br><span class=\"line\">  studentname,</span><br><span class=\"line\">  subjectname,</span><br><span class=\"line\">  StudentResult</span><br><span class=\"line\"><span class=\"keyword\">FROM</span></span><br><span class=\"line\">  student s</span><br><span class=\"line\">  <span class=\"keyword\">INNER</span> <span class=\"keyword\">JOIN</span> <span class=\"keyword\">result</span> r <span class=\"keyword\">ON</span> r.studentno <span class=\"operator\">=</span> s.studentno</span><br><span class=\"line\">  <span class=\"keyword\">INNER</span> <span class=\"keyword\">JOIN</span> `subject` sub <span class=\"keyword\">ON</span> r.subjectno <span class=\"operator\">=</span> sub.subjectno</span><br><span class=\"line\"><span class=\"keyword\">WHERE</span></span><br><span class=\"line\">  subjectname <span class=\"operator\">=</span> <span class=\"string\">&#x27;JAVA ç¬¬ä¸€å­¦å¹´ &#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">ORDER</span> <span class=\"keyword\">BY</span></span><br><span class=\"line\">  StudentResult <span class=\"keyword\">DESC</span></span><br><span class=\"line\">LIMIT</span><br><span class=\"line\">  <span class=\"number\">0</span>, <span class=\"number\">10</span>;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<h3 id=\"å­æŸ¥è¯¢\">å­æŸ¥è¯¢</h3>\n<p>æŸ¥è¯¢è¯­å¥ä¸­ where ä¸­åµŒå¥—æŸ¥è¯¢è¯­å¥</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- æŸ¥è¯¢ æ•°æ®åº“ç»“æ„ -1 çš„è€ƒè¯•ç»“æœ(å­¦å·, ç§‘ç›®ç¼–å·, æˆç»©), å¹¶ä¸”æˆç»©é™åºæ’åˆ—</span></span><br><span class=\"line\"><span class=\"comment\">-- æ–¹æ³•ä¸€: ä½¿ç”¨è¿æ¥æŸ¥è¯¢</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  studentno,</span><br><span class=\"line\">  r.subjectno,</span><br><span class=\"line\">  StudentResult</span><br><span class=\"line\"><span class=\"keyword\">FROM</span></span><br><span class=\"line\">  <span class=\"keyword\">result</span> r</span><br><span class=\"line\">  <span class=\"keyword\">INNER</span> <span class=\"keyword\">JOIN</span> `subject` sub <span class=\"keyword\">ON</span> r.`SubjectNo` <span class=\"operator\">=</span> sub.`SubjectNo`</span><br><span class=\"line\"><span class=\"keyword\">WHERE</span></span><br><span class=\"line\">  subjectname <span class=\"operator\">=</span> <span class=\"string\">&#x27; æ•°æ®åº“ç»“æ„ -1&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">ORDER</span> <span class=\"keyword\">BY</span></span><br><span class=\"line\">  studentresult <span class=\"keyword\">DESC</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- æ–¹æ³•äºŒ: ä½¿ç”¨å­æŸ¥è¯¢(æ‰§è¡Œé¡ºåº: ç”±é‡ŒåŠå¤–)</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span></span><br><span class=\"line\">  studentno,</span><br><span class=\"line\">  subjectno,</span><br><span class=\"line\">  StudentResult</span><br><span class=\"line\"><span class=\"keyword\">FROM</span></span><br><span class=\"line\">  <span class=\"keyword\">result</span></span><br><span class=\"line\"><span class=\"keyword\">WHERE</span></span><br><span class=\"line\">  subjectno <span class=\"operator\">=</span>(</span><br><span class=\"line\">    <span class=\"keyword\">SELECT</span></span><br><span class=\"line\">      subjectno</span><br><span class=\"line\">    <span class=\"keyword\">FROM</span></span><br><span class=\"line\">      `subject`</span><br><span class=\"line\">    <span class=\"keyword\">WHERE</span></span><br><span class=\"line\">      subjectname <span class=\"operator\">=</span> <span class=\"string\">&#x27; æ•°æ®åº“ç»“æ„ -1&#x27;</span></span><br><span class=\"line\">  )</span><br><span class=\"line\"><span class=\"keyword\">ORDER</span> <span class=\"keyword\">BY</span></span><br><span class=\"line\">  studentresult <span class=\"keyword\">DESC</span>;</span><br></pre></td></tr></table></figure>\n<script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kity@2.0.4/dist/kity.min.js\"></script><script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js\"></script><script defer=\"true\" type=\"text&#x2F;javascript\" src=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js\"></script><link rel=\"stylesheet\" type=\"text&#x2F;css\" href=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css\">",
            "tags": [
                "java",
                "ç¬”è®°",
                "mysql"
            ]
        },
        {
            "id": "https://weidows.github.io/post/Java/SQL/1/",
            "url": "https://weidows.github.io/post/Java/SQL/1/",
            "title": "ğŸš€è¿›ä¿® MySQL~(å£¹)",
            "date_published": "2021-03-03T15:58:07.000Z",
            "content_html": "<!--\n * @?: *********************************************************************\n * @Author: Weidows\n * @LastEditors: Weidows\n * @LastEditTime: 2021-08-17 17:27:53\n * @FilePath: \\Blog-private\\source\\_posts\\Java\\SQL\\1.md\n * @Description:\n * @!: *********************************************************************\n-->\n<ul>\n<li><a href=\"#%E5%8F%82%E8%80%83\">å‚è€ƒ</a></li>\n<li><a href=\"#%E7%AE%80%E4%BB%8B\">ç®€ä»‹</a></li>\n<li><a href=\"#%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE\">å®‰è£… &amp; é…ç½®</a>\n<ul>\n<li><a href=\"#%E5%AE%89%E8%A3%85\">å®‰è£…</a></li>\n<li><a href=\"#%E8%AE%BE%E7%BD%AE%E5%AF%86%E7%A0%81\">è®¾ç½®å¯†ç </a></li>\n<li><a href=\"#%E9%85%8D%E7%BD%AE\">é…ç½®</a></li>\n</ul>\n</li>\n<li><a href=\"#%E8%BF%9E%E6%8E%A5-mysql\">è¿æ¥ MySQL</a>\n<ul>\n<li><a href=\"#vscode\">VScode</a></li>\n<li><a href=\"#sqlyog\">SQLyog</a></li>\n<li><a href=\"#dbeaver\">DBeaver</a></li>\n<li><a href=\"#%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C\">å¸¸ç”¨æ“ä½œ</a></li>\n</ul>\n</li>\n<li><a href=\"#ddl-%E6%95%B0%E6%8D%AE%E5%AE%9A%E4%B9%89\">DDL- æ•°æ®å®šä¹‰</a>\n<ul>\n<li><a href=\"#%E5%88%97%E7%B1%BB%E5%9E%8B\">åˆ—ç±»å‹</a>\n<ul>\n<li><a href=\"#%E6%95%B0%E5%80%BC\">æ•°å€¼</a></li>\n<li><a href=\"#%E5%AD%97%E7%AC%A6%E4%B8%B2\">å­—ç¬¦ä¸²</a></li>\n<li><a href=\"#%E6%97%A5%E6%9C%9F\">æ—¥æœŸ</a></li>\n<li><a href=\"#null-%E5%80%BC\">NULL å€¼</a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%AD%97%E6%AE%B5%E5%B1%9E%E6%80%A7\">å­—æ®µå±æ€§</a>\n<ul>\n<li><a href=\"#%E9%98%BF%E9%87%8C%E8%A7%84%E8%8C%83\">é˜¿é‡Œè§„èŒƒ</a></li>\n<li><a href=\"#%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83\">å‘½åè§„èŒƒ</a></li>\n</ul>\n</li>\n<li><a href=\"#%E6%95%B0%E6%8D%AE%E8%A1%A8\">æ•°æ®è¡¨</a>\n<ul>\n<li><a href=\"#%E8%A1%A8%E7%B1%BB%E5%9E%8B\">è¡¨ç±»å‹</a></li>\n<li><a href=\"#%E5%AD%98%E6%94%BE%E4%BD%8D%E7%BD%AE\">å­˜æ”¾ä½ç½®</a></li>\n<li><a href=\"#%E7%BC%96%E7%A0%81\">ç¼–ç </a></li>\n<li><a href=\"#%E6%93%8D%E4%BD%9C%E6%95%B0%E6%8D%AE%E8%A1%A8\">æ“ä½œæ•°æ®è¡¨</a></li>\n</ul>\n</li>\n<li><a href=\"#%E6%96%B0%E5%BB%BA%E8%A1%A8-%E4%BE%8B%E5%AD%90\">æ–°å»ºè¡¨ - ä¾‹å­</a></li>\n</ul>\n</li>\n<li><a href=\"#dml-%E6%95%B0%E6%8D%AE%E6%93%8D%E4%BD%9C\">DML- æ•°æ®æ“ä½œ</a>\n<ul>\n<li><a href=\"#%E5%A4%96%E9%94%AE\">å¤–é”®</a></li>\n<li><a href=\"#%E6%B7%BB%E5%8A%A0-insert\">æ·»åŠ  INSERT</a></li>\n<li><a href=\"#%E4%BF%AE%E6%94%B9-update\">ä¿®æ”¹ UPDATE</a></li>\n<li><a href=\"#%E5%88%A0%E9%99%A4-deletetruncate\">åˆ é™¤ DELETE/TRUNCATE</a></li>\n</ul>\n</li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"å‚è€ƒ -3\">å‚è€ƒ</h2>\n<blockquote>\n<p><a href=\"https://csp1999.blog.csdn.net/article/details/109526825?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-6.control&amp;dist_request_id=&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-6.control\">ç‹‚ç¥è¯´ MySQL å­¦ä¹ ç¬”è®°</a></p>\n</blockquote>\n<h2 id=\"ç®€ä»‹ -7\">ç®€ä»‹</h2>\n<ul>\n<li>\n<p><code>DB</code> æ•°æ®åº“ (DataBase)</p>\n<ul>\n<li>\n<p>å…³ç³»å‹æ•°æ®åº“ (SQL), æ¯”å¦‚ MySQL , Oracle , SQL Server , SQLite</p>\n</li>\n<li>\n<p>éå…³ç³»å‹æ•°æ®åº“ (NOSQL), æ¯”å¦‚ Redis , MongoDB</p>\n</li>\n</ul>\n<blockquote>\n<p><a href=\"https://hellogithub.com/report/db-engines/\">æ•°æ®åº“æ’è¡Œæ¦œ</a></p>\n</blockquote>\n</li>\n<li>\n<p><code>DBA</code> æ•°æ®åº“ç®¡ç†å‘˜ï¼ˆDatabase Administrator)</p>\n</li>\n<li>\n<p><code>DBMS</code> æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ (DataBase Management System)</p>\n</li>\n<li>\n<p>æ“ä½œåˆ†ç±», å¯¹åº”ä¸‹æ–‡çš„å¤§æ ‡é¢˜</p>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVmYDR.png\" alt=\"20210305104453\" />\n</li>\n</ul>\n<hr>\n<h2 id=\"å®‰è£… - é…ç½®\">å®‰è£… &amp; é…ç½®</h2>\n<h3 id=\"å®‰è£… -3\">å®‰è£…</h3>\n<ul>\n<li>\n<p>ä½¿ç”¨ scoop å®‰è£…</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">scoop install mysql</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>ç„¶åæ³¨å†Œç³»ç»ŸæœåŠ¡</p>\n<ul>\n<li>(è¿™æ¡ä¿¡æ¯åœ¨å®‰è£…åä¼šæç¤º, éœ€è¦ <code> åœ¨ç®¡ç†å‘˜æ¨¡å¼ </code> çš„å‘½ä»¤è¡Œä¸‹æ‰§è¡Œ)</li>\n</ul>\n<figure class=\"highlight taggerscript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysqld --install MySQL --defaults-file=&quot;D:<span class=\"symbol\">\\G</span>ame<span class=\"symbol\">\\S</span>coop<span class=\"symbol\">\\a</span>pps<span class=\"symbol\">\\m</span>ysql<span class=\"symbol\">\\c</span>urrent<span class=\"symbol\">\\m</span>y.ini&quot;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>ç„¶å <code> é‡å¯ç”µè„‘</code>,MySQL æœåŠ¡ä¼šè‡ªå·±è·‘èµ·æ¥.</p>\n</li>\n</ul>\n<hr>\n<h3 id=\"è®¾ç½®å¯†ç  -2\">è®¾ç½®å¯†ç </h3>\n<ul>\n<li>\n<p>(ä¹Ÿå¯ä»¥ä¸è®¾ç½®å¯†ç , è·³è¿‡.)</p>\n</li>\n<li>\n<p>åœ¨ <code>MySQL/bin/</code>ä¸‹æ‰“å¼€ç»ˆç«¯</p>\n</li>\n<li>\n<p>è¿›å…¥ MySQL ç®¡ç†</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql â€“u root â€“<span class=\"selector-tag\">p</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>æ›´æ–°å¯†ç </p>\n<figure class=\"highlight n1ql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">update</span> mysql.<span class=\"keyword\">user</span> <span class=\"keyword\">set</span> authentication_string=<span class=\"keyword\">password</span>(<span class=\"string\">&#x27;2333&#x27;</span>) <span class=\"keyword\">where</span> <span class=\"keyword\">user</span>=<span class=\"string\">&#x27;root&#x27;</span><span class=\"keyword\">and</span> Host = <span class=\"string\">&#x27;localhost&#x27;</span>;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>åˆ·æ–°æƒé™</p>\n<figure class=\"highlight abnf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">flush privileges<span class=\"comment\">;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>é‡å¯ MySQL æœåŠ¡</p>\n<figure class=\"highlight dos\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">net</span> stop mysql</span><br><span class=\"line\"><span class=\"built_in\">net</span> <span class=\"built_in\">start</span> mysql</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<h3 id=\"é…ç½® -4\">é…ç½®</h3>\n<blockquote>\n<p>æ‰¾åˆ° <code>MySQL/my.ini</code> , è¿™æ˜¯ MySQL é…ç½®æ–‡ä»¶</p>\n</blockquote>\n<blockquote>\n<p><a href=\"https://www.cnblogs.com/ray-xujianguo/p/3322455.html\">MySQL é…ç½®æ–‡ä»¶ -my.ini</a></p>\n</blockquote>\n<ul>\n<li>\n<p>æˆ‘çš„é…ç½®</p>\n<figure class=\"highlight ini\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#[client]å’Œ [mysql] éƒ½æ˜¯å®¢æˆ·ç«¯,[mysqld]æ˜¯æœåŠ¡ç«¯</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"section\">[mysqld]</span></span><br><span class=\"line\"><span class=\"attr\">datadir</span>=D:/Game/Scoop/persist/mysql/data</span><br><span class=\"line\"><span class=\"attr\">character-set-server</span>=utf8</span><br><span class=\"line\"><span class=\"comment\">#port=3306</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"section\">[client]</span></span><br><span class=\"line\"><span class=\"attr\">user</span>=root</span><br><span class=\"line\"><span class=\"comment\">#port=3306</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"section\">[mysql]</span></span><br><span class=\"line\"><span class=\"attr\">default-character-set</span>=utf8</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<blockquote>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n</blockquote>\n<h2 id=\"è¿æ¥ -MySQL\">è¿æ¥ MySQL</h2>\n<h3 id=\"VScode-4\">VScode</h3>\n<ul>\n<li>\n<p>VScode è¿æ¥, éœ€è¦å®‰è£… SQL æ‰©å±•(éšä¾¿é€‰ä¸€ä¸ª)</p>\n</li>\n<li>\n<p>å®‰è£…æ’ä»¶ååªéœ€è¦å¡«å†™éœ€è¦çš„ä¿¡æ¯, å°±å¯ä»¥è¿æ¥ä¸Šäº†.</p>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVm6hX.png\" alt=\"20210304094732\" />\n</li>\n</ul>\n<hr>\n<h3 id=\"SQLyog\">SQLyog</h3>\n<ul>\n<li>\n<p>è·Ÿä¸Šé¢ä¸€æ ·</p>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVmVHn.png\" alt=\"20210304233850\" />\n</li>\n</ul>\n<hr>\n<h3 id=\"DBeaver\">DBeaver</h3>\n<ul>\n<li>\n<p>ä¸ªäººåœ¨åç»­å­¦ä¹ ä¸­å‘ç°çš„æ•°æ®åº“ç®¡ç†å·¥å…·, æ¯”æˆ‘ç”¨è¿‡çš„(åŒ…æ‹¬ MYSQL workbench,IDEA,VScode,SQLYog) éƒ½è¦å¥½ç”¨, ä¼˜ç‚¹:</p>\n<ul>\n<li>\n<p>ç¤¾åŒºç‰ˆå…è´¹, æ²¡å¹¿å‘Š (SQLYog ç•¥å¸¦å¹¿å‘Š)</p>\n</li>\n<li>\n<p>ä¸­æ–‡ç•Œé¢, å¾ˆå‹å¥½, æ“ä½œæ‰‹æ„Ÿå¥½</p>\n</li>\n<li>\n<p>æœ‰æ–¹ä¾¿çš„ ER å›¾å·¥å…·, è¿™ä¸ª <code> éå¸¸éå¸¸éå¸¸èµ!!!</code></p>\n</li>\n<li>\n<p>â€¦ä¸å†èµ˜è¿°, å»ºè®®ç”¨è¿™ä¸ª, å¦‚ä¸‹å›¾:</p>\n</li>\n</ul>\n</li>\n</ul>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVt43h.png\" alt=\"20210405144227\" />\n<hr>\n<h3 id=\"å¸¸ç”¨æ“ä½œ\">å¸¸ç”¨æ“ä½œ</h3>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">update <span class=\"keyword\">user</span> <span class=\"keyword\">set</span> password<span class=\"operator\">=</span>password(<span class=\"string\">&#x27;123456&#x27;</span>)<span class=\"keyword\">where</span> <span class=\"keyword\">user</span><span class=\"operator\">=</span><span class=\"string\">&#x27;root&#x27;</span>; <span class=\"comment\">-- ä¿®æ”¹å¯†ç </span></span><br><span class=\"line\">flush privileges; <span class=\"comment\">-- åˆ·æ–°æ•°æ®åº“æƒé™</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">show</span> databases; <span class=\"comment\">-- æ˜¾ç¤ºæ‰€æœ‰æ•°æ®åº“</span></span><br><span class=\"line\">use dbname; <span class=\"comment\">-- æ‰“å¼€æŸä¸ªæ•°æ®åº“</span></span><br><span class=\"line\"><span class=\"keyword\">create</span> database [if <span class=\"keyword\">not</span> <span class=\"keyword\">exists</span>] æ•°æ®åº“å; <span class=\"comment\">-- åˆ›å»ºæ•°æ®åº“</span></span><br><span class=\"line\"><span class=\"keyword\">drop</span> database [if <span class=\"keyword\">exists</span>] æ•°æ®åº“å; <span class=\"comment\">-- åˆ é™¤æ•°æ®åº“</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">show</span> tables; <span class=\"comment\">-- æ˜¾ç¤ºæ•°æ®åº“ mysql ä¸­æ‰€æœ‰çš„è¡¨</span></span><br><span class=\"line\"><span class=\"keyword\">desc</span> <span class=\"keyword\">user</span>; <span class=\"comment\">-- æ˜¾ç¤ºè¡¨ user è¡¨çš„ä¿¡æ¯</span></span><br><span class=\"line\"><span class=\"keyword\">create</span> database name; <span class=\"comment\">-- åˆ›å»ºæ•°æ®åº“</span></span><br><span class=\"line\">use databasename; <span class=\"comment\">-- é€‰æ‹©æ•°æ®åº“</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- å•è¡Œæ³¨é‡Š</span></span><br><span class=\"line\"><span class=\"comment\">/* å¤šè¡Œæ³¨é‡Š */</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li>\n<p>ä½¿ç”¨ SQLyog</p>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVmj4A.png\" alt=\"20210305111225\" />\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVmhCz.png\" alt=\"20210305111244\" />\n</li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"DDL- æ•°æ®å®šä¹‰\">DDL- æ•°æ®å®šä¹‰</h2>\n<h3 id=\"åˆ—ç±»å‹\">åˆ—ç±»å‹</h3>\n<ul>\n<li>æ ‡çº¢çš„ä¸ºå¸¸ç”¨çš„.</li>\n</ul>\n<h4 id=\"æ•°å€¼\">æ•°å€¼</h4>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVmu05.png\" alt=\"20210305115939\" />\n<h4 id=\"å­—ç¬¦ä¸²\">å­—ç¬¦ä¸²</h4>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVmyh0.png\" alt=\"20210305115957\" />\n<h4 id=\"æ—¥æœŸ\">æ—¥æœŸ</h4>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVsoHr.png\" alt=\"20210305120011\" />\n<h4 id=\"NULL- å€¼\">NULL å€¼</h4>\n<ul>\n<li>ä¸è¦ç”¨ NULL è¿›è¡Œç®—æœ¯è¿ç®— , ç»“æœä»ä¸º NULL</li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h3 id=\"å­—æ®µå±æ€§\">å­—æ®µå±æ€§</h3>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVsGgc.png\" alt=\"20210305155250\" />\n<ul>\n<li>\n<p>UnSigned</p>\n<ul>\n<li>æ— ç¬¦å·çš„</li>\n<li>å£°æ˜è¯¥æ•°æ®åˆ—ä¸å…è®¸è´Ÿæ•° .</li>\n</ul>\n</li>\n<li>\n<p>ZEROFILL</p>\n<ul>\n<li>0 å¡«å……çš„</li>\n<li>ä¸è¶³ä½æ•°çš„ç”¨ 0 æ¥å¡«å…… , å¦‚ int(3),5 åˆ™ä¸º 005</li>\n</ul>\n</li>\n<li>\n<p>Auto_InCrement</p>\n<ul>\n<li>è‡ªåŠ¨å¢é•¿çš„ , æ¯æ·»åŠ ä¸€æ¡æ•°æ® , è‡ªåŠ¨åœ¨ä¸Šä¸€ä¸ªè®°å½•æ•°ä¸ŠåŠ  1(é»˜è®¤)</li>\n<li>é€šå¸¸ç”¨äºè®¾ç½®ä¸»é”® , ä¸”ä¸ºæ•´æ•°ç±»å‹</li>\n<li>å¯å®šä¹‰èµ·å§‹å€¼å’Œæ­¥é•¿, å½“å‰è¡¨è®¾ç½®æ­¥é•¿(AUTO_INCREMENT=100) : åªå½±å“å½“å‰è¡¨</li>\n<li>SET @@auto_increment_increment=5 ; å½±å“æ‰€æœ‰ä½¿ç”¨è‡ªå¢çš„è¡¨(å…¨å±€)</li>\n</ul>\n</li>\n<li>\n<p>NOT NULL</p>\n<ul>\n<li>é»˜è®¤ä¸º NULL , å³æ²¡æœ‰æ’å…¥è¯¥åˆ—çš„æ•°å€¼</li>\n<li>å¦‚æœè®¾ç½®ä¸º NOT NULL , åˆ™è¯¥åˆ—å¿…é¡»æœ‰å€¼</li>\n</ul>\n</li>\n<li>\n<p>DEFAULT</p>\n<ul>\n<li>é»˜è®¤çš„, ç”¨äºè®¾ç½®é»˜è®¤å€¼</li>\n<li>ä¾‹å¦‚, æ€§åˆ«å­—æ®µ, é»˜è®¤ä¸º &quot; ç”· &quot; , å¦åˆ™ä¸º â€œå¥³â€ ; è‹¥æ— æŒ‡å®šè¯¥åˆ—çš„å€¼ , åˆ™é»˜è®¤å€¼ä¸º &quot; ç”· &quot; çš„å€¼</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h4 id=\"é˜¿é‡Œè§„èŒƒ\">é˜¿é‡Œè§„èŒƒ</h4>\n<ul>\n<li>\n<p>æ¯ä¸ªè¡¨å¿…é¡»æœ‰çš„äº”ä¸ªå­—æ®µå±æ€§</p>\n<ul>\n<li>id ä¸»é”®</li>\n<li>version ä¹è§‚é”</li>\n<li>is_delete ä¼ªåˆ é™¤</li>\n<li>gmt_create åˆ›å»ºæ—¶é—´</li>\n<li>gmt_update ä¿®æ”¹æ—¶é—´</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h4 id=\"å‘½åè§„èŒƒ\">å‘½åè§„èŒƒ</h4>\n<ul>\n<li>\n<p>ä¸ºä»€ä¹ˆä½¿ç”¨ <code> ä¸‹åˆ’çº¿å‘½åæ³• </code> è€Œé <code> é©¼å³°å‘½åæ³•</code>?</p>\n<p>æ—©æœŸçš„ Oracle ä¼šæŠŠæ‰€æœ‰å­—æ®µå±æ€§åå˜ä¸ºå¤§å†™: lastName -&gt; LASTNAME</p>\n<p>è¿™æ ·å°±çœ‹ä¸å‡ºæ¥äº†, æ‰€ä»¥ç”¨ä¸‹åˆ’çº¿å‘½åæ³•: last_name -&gt; LAST_NAME</p>\n<p>è¿™ä¸ªæƒ¯æ€§ä¸€ç›´å»¶ç»­è‡³ä»Š, ä¸€äº›æ•°æ®åº“ / æ¡†æ¶ä¹Ÿå‘å±•å¤„ç›¸åº”çš„ä½¿ç”¨è§„åˆ™, å°±æˆäº†ä¸€ç§è§„èŒƒ</p>\n</li>\n</ul>\n<hr>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h3 id=\"æ•°æ®è¡¨\">æ•°æ®è¡¨</h3>\n<h4 id=\"è¡¨ç±»å‹\">è¡¨ç±»å‹</h4>\n<blockquote>\n<p><a href=\"https://www.cnblogs.com/EasonJim/p/7741164.html\">MySQL å¸¸ç”¨çš„ä¸ƒç§è¡¨ç±»å‹ï¼ˆè½¬ï¼‰</a></p>\n</blockquote>\n<ul>\n<li>\n<p>æœ‰åå¤šç§ç±»å‹äº†, ä½†å¸¸ç”¨çš„å°±ä¸¤ç§:<code>MyISAM</code> ä¸ <code>InnoDB</code>, å¯¹æ¯”:</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\"></th>\n<th>MyISAM</th>\n<th>InnoDB</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">äº‹åŠ¡å¤„ç†</td>\n<td>ä¸æ”¯æŒ</td>\n<td>æ”¯æŒ</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">æ•°æ®è¡Œé”å®š</td>\n<td>ä¸æ”¯æŒ</td>\n<td>æ”¯æŒ</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">å¤–é”®çº¦æŸ</td>\n<td>ä¸æ”¯æŒ</td>\n<td>æ”¯æŒ</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">å…¨æ–‡ç´¢å¼•</td>\n<td>æ”¯æŒ</td>\n<td>ä¸æ”¯æŒ</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">ç©ºé—´å ç”¨</td>\n<td>è¾ƒå°</td>\n<td>è¾ƒå¤§(çº¦ä¸¤å€)</td>\n</tr>\n</tbody>\n</table>\n<hr>\n</li>\n<li>\n<p>é€‚ç”¨åœºæ™¯:</p>\n<ul>\n<li>MyISAM : èŠ‚çº¦ç©ºé—´åŠç›¸åº”é€Ÿåº¦</li>\n<li>InnoDB : å®‰å…¨æ€§ , äº‹åŠ¡å¤„ç†åŠå¤šç”¨æˆ·æ“ä½œæ•°æ®è¡¨</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h4 id=\"å­˜æ”¾ä½ç½®\">å­˜æ”¾ä½ç½®</h4>\n<blockquote>\n<p>Mysql å®‰è£…ç›®å½• /data/ å¯¹åº”è¡¨å /</p>\n</blockquote>\n<hr>\n<h4 id=\"ç¼–ç \">ç¼–ç </h4>\n<ul>\n<li>\n<p>é»˜è®¤æ˜¯ Latin1 ç¼–ç , ä¸æ”¯æŒä¸­æ–‡</p>\n<ul>\n<li>å¯ä»¥åœ¨ MySQL é…ç½®æ–‡ä»¶ä¸­ä¿®æ”¹é»˜è®¤ç¼–ç </li>\n</ul>\n</li>\n<li>\n<p>ä¹Ÿå¯ä»¥åœ¨åˆ›å»ºè¡¨æ—¶æŒ‡å®šç¼–ç ä¸º <code>utf8</code></p>\n</li>\n</ul>\n<hr>\n<h4 id=\"æ“ä½œæ•°æ®è¡¨\">æ“ä½œæ•°æ®è¡¨</h4>\n<ul>\n<li>\n<p>ä¿®æ”¹è¡¨å</p>\n<ul>\n<li>ALTER TABLE æ—§è¡¨å RENAME AS æ–°è¡¨å</li>\n</ul>\n</li>\n<li>\n<p>åˆ é™¤æ•°æ®è¡¨</p>\n<ul>\n<li>DROP TABLE [IF EXISTS] è¡¨å</li>\n</ul>\n<hr>\n</li>\n<li>\n<p>æ·»åŠ å­—æ®µ</p>\n<ul>\n<li>ALTER TABLE è¡¨å ADD å­—æ®µå åˆ—å±æ€§[å±æ€§å€¼]</li>\n</ul>\n</li>\n<li>\n<p>ä¿®æ”¹å­—æ®µ</p>\n<ul>\n<li>\n<p>ALTER TABLE è¡¨å MODIFY å­—æ®µå åˆ—ç±»å‹[å±æ€§å€¼]</p>\n</li>\n<li>\n<p>ALTER TABLE è¡¨å CHANGE æ—§å­—æ®µå æ–°å­—æ®µå åˆ—å±æ€§[å±æ€§å€¼]</p>\n</li>\n</ul>\n</li>\n<li>\n<p>åˆ é™¤å­—æ®µ</p>\n<ul>\n<li>ALTER TABLE è¡¨å DROP å­—æ®µå</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h3 id=\"æ–°å»ºè¡¨ - ä¾‹å­\">æ–°å»ºè¡¨ - ä¾‹å­</h3>\n<ul>\n<li>\n<p>æ¿æ —</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> IF <span class=\"keyword\">NOT</span> <span class=\"keyword\">EXISTS</span> `student`(</span><br><span class=\"line\">  <span class=\"comment\">-- CREATE TABLE [IF NOT EXISTS] ` è¡¨å `(</span></span><br><span class=\"line\">  id <span class=\"type\">int</span> <span class=\"keyword\">NOT</span> <span class=\"keyword\">NULL</span> <span class=\"keyword\">primary</span> key AUTO_INCREMENT comment <span class=\"string\">&#x27;primary key&#x27;</span>,</span><br><span class=\"line\">  create_time DATETIME COMMENT <span class=\"string\">&#x27;create time&#x27;</span>,</span><br><span class=\"line\">  update_time DATETIME COMMENT <span class=\"string\">&#x27;update time&#x27;</span>,</span><br><span class=\"line\">  <span class=\"comment\">-- ` å­—æ®µå ` åˆ—ç±»å‹ [å­—æ®µå±æ€§] [ç´¢å¼•] [æ³¨é‡Š],</span></span><br><span class=\"line\">  <span class=\"comment\">-- ` å­—æ®µå ` åˆ—ç±»å‹ [å­—æ®µå±æ€§] [ç´¢å¼•] [æ³¨é‡Š],</span></span><br><span class=\"line\">  <span class=\"comment\">-- ` å­—æ®µå ` åˆ—ç±»å‹ [å­—æ®µå±æ€§] [ç´¢å¼•] [æ³¨é‡Š],</span></span><br><span class=\"line\">) <span class=\"keyword\">default</span> charset utf8 comment <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\"><span class=\"comment\">-- ) [è¡¨ç±»å‹] [å­—ç¬¦é›†] [æ³¨é‡Š];</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<ul>\n<li>\n<p>ä¸¾ä¾‹</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">  åˆ›å»ºä¸€ä¸ª school æ•°æ®åº“ -&gt; åˆ›å»ºå­¦ç”Ÿè¡¨(åˆ—, å­—æ®µ)</span></span><br><span class=\"line\"><span class=\"comment\">  å­¦å· int ç™»å½•å¯†ç  varchar(20) å§“å, æ€§åˆ« varchar(2), å‡ºç”Ÿæ—¥æœŸ(datatime), å®¶åº­ä½å€,email</span></span><br><span class=\"line\"><span class=\"comment\">  åˆ›å»ºè¡¨ä¹‹å‰ , ä¸€å®šè¦å…ˆé€‰æ‹©æ•°æ®åº“</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\">USE `school`;</span><br><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> IF <span class=\"keyword\">NOT</span> <span class=\"keyword\">EXISTS</span> `stu_data` (</span><br><span class=\"line\">  `id` <span class=\"type\">int</span>(<span class=\"number\">4</span>) <span class=\"keyword\">NOT</span> <span class=\"keyword\">NULL</span> AUTO_INCREMENT COMMENT <span class=\"string\">&#x27; å­¦å· &#x27;</span>,</span><br><span class=\"line\">  `name` <span class=\"type\">varchar</span>(<span class=\"number\">30</span>) <span class=\"keyword\">NOT</span> <span class=\"keyword\">NULL</span> <span class=\"keyword\">DEFAULT</span> <span class=\"string\">&#x27; åŒ¿å &#x27;</span> COMMENT <span class=\"string\">&#x27; å§“å &#x27;</span>,</span><br><span class=\"line\">  `pwd` <span class=\"type\">varchar</span>(<span class=\"number\">20</span>) <span class=\"keyword\">NOT</span> <span class=\"keyword\">NULL</span> <span class=\"keyword\">DEFAULT</span> <span class=\"string\">&#x27;123456&#x27;</span> COMMENT <span class=\"string\">&#x27; å¯†ç  &#x27;</span>,</span><br><span class=\"line\">  `sex` <span class=\"type\">varchar</span>(<span class=\"number\">2</span>) <span class=\"keyword\">NOT</span> <span class=\"keyword\">NULL</span> <span class=\"keyword\">DEFAULT</span> <span class=\"string\">&#x27; ç”· &#x27;</span> COMMENT <span class=\"string\">&#x27; æ€§åˆ« &#x27;</span>,</span><br><span class=\"line\">  `birthday` datetime <span class=\"keyword\">DEFAULT</span> <span class=\"keyword\">NULL</span> COMMENT <span class=\"string\">&#x27; ç”Ÿæ—¥ &#x27;</span>,</span><br><span class=\"line\">  `address` <span class=\"type\">varchar</span>(<span class=\"number\">100</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"keyword\">NULL</span> COMMENT <span class=\"string\">&#x27; åœ°å€ &#x27;</span>,</span><br><span class=\"line\">  `email` <span class=\"type\">varchar</span>(<span class=\"number\">50</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"keyword\">NULL</span> COMMENT <span class=\"string\">&#x27; é‚®ç®± &#x27;</span>,</span><br><span class=\"line\">  <span class=\"keyword\">PRIMARY</span> KEY (`id`)</span><br><span class=\"line\">) ENGINE <span class=\"operator\">=</span> InnoDB <span class=\"keyword\">DEFAULT</span> CHARSET <span class=\"operator\">=</span> utf8;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"DML- æ•°æ®æ“ä½œ\">DML- æ•°æ®æ“ä½œ</h2>\n<h3 id=\"å¤–é”®\">å¤–é”®</h3>\n<ul>\n<li>\n<p>ä¸€ä¸ªè¡¨å†…çš„æŸ <code> åˆ—</code>å¼•ç”¨å¦å¤–ä¸€ä¸ªè¡¨ä¸­çš„ä¸€ <code> åˆ—</code>, è¢«å¼•ç”¨çš„è¡¨æ˜¯ <code> ä¸»è¡¨ </code>, å¼•ç”¨çš„è¡¨æ˜¯<code> ä»è¡¨</code>, ä»è¡¨é€šè¿‡å»ºç«‹åˆ—çš„ç´¢å¼•æ¥å¼•ç”¨å¦ä¸€ä¸ªè¡¨çš„ç´¢å¼•, è¿™ä¸ªå…³ç³»å«åšå¤–é”®.</p>\n<ul>\n<li>\n<p>ä¸»è¡¨ä¸­è¢«å¼•ç”¨çš„åˆ—å¿…é¡»æœ‰ç´¢å¼•(æ¯”å¦‚ PRIMARY,KEY ç±»å‹)<br>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVsXjo.png\" alt=\"20210307123305\" /></p>\n</li>\n<li>\n<p>åœ¨å¤–é”®å­˜åœ¨çš„æƒ…å†µä¸‹, ä¸»è¡¨æ— æ³•è¢«åˆ é™¤, ä¸»ä»è¡¨çš„å…³è”ç´¢å¼•ä¹Ÿæ— æ³•è¢«åˆ é™¤, ä½†å¯ä»¥ä¿®æ”¹(ç±»å‹).<br>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVsx9S.png\" alt=\"20210307124315\" /></p>\n</li>\n</ul>\n<hr>\n</li>\n<li>\n<p>å»ºç«‹æ–¹æ³•</p>\n<ol>\n<li>åˆ›å»ºä¸¤å¼ è¡¨</li>\n<li>ä¸»ä»è¡¨å„åˆ›å»ºä¸€ä¸ªç´¢å¼•(PRIMARY æˆ–è€… KEY éƒ½å¯ä»¥)</li>\n<li>æŠŠä»è¡¨çš„ç´¢å¼•çº¦æŸåˆ°ä¸»è¡¨çš„ç´¢å¼•ä¸Š</li>\n<li>å¤–é”®å»ºç«‹æˆåŠŸ!</li>\n</ol>\n<hr>\n</li>\n<li>\n<p>ä»£ç å½¢å¼</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- å¹´çº§è¡¨ (id, å¹´çº§åç§°)</span></span><br><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> `grade` (</span><br><span class=\"line\">  `gradeid` <span class=\"type\">INT</span>(<span class=\"number\">10</span>) <span class=\"keyword\">NOT</span> <span class=\"keyword\">NULL</span> AUTO_INCREMENT COMMENT <span class=\"string\">&#x27; å¹´çº§ ID&#x27;</span>,</span><br><span class=\"line\">  `gradename` <span class=\"type\">VARCHAR</span>(<span class=\"number\">50</span>) <span class=\"keyword\">NOT</span> <span class=\"keyword\">NULL</span> COMMENT <span class=\"string\">&#x27; å¹´çº§åç§° &#x27;</span>,</span><br><span class=\"line\">  <span class=\"keyword\">PRIMARY</span> KEY (`gradeid`)</span><br><span class=\"line\">) ENGINE <span class=\"operator\">=</span> INNODB <span class=\"keyword\">DEFAULT</span> CHARSET <span class=\"operator\">=</span> utf8;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- å­¦ç”Ÿä¿¡æ¯è¡¨ (å­¦å·, å§“å, æ€§åˆ«, å¹´çº§, æ‰‹æœº, åœ°å€, å‡ºç”Ÿæ—¥æœŸ, é‚®ç®±, èº«ä»½è¯å·)</span></span><br><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> `student` (</span><br><span class=\"line\">  `studentid` <span class=\"type\">INT</span>(<span class=\"number\">4</span>) <span class=\"keyword\">NOT</span> <span class=\"keyword\">NULL</span> COMMENT <span class=\"string\">&#x27; å­¦å· &#x27;</span>,</span><br><span class=\"line\">  `studentname` <span class=\"type\">VARCHAR</span>(<span class=\"number\">20</span>) <span class=\"keyword\">NOT</span> <span class=\"keyword\">NULL</span> <span class=\"keyword\">DEFAULT</span> <span class=\"string\">&#x27; åŒ¿å &#x27;</span> COMMENT <span class=\"string\">&#x27; å§“å &#x27;</span>,</span><br><span class=\"line\">  `sex` TINYINT(<span class=\"number\">1</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"string\">&#x27;1&#x27;</span> COMMENT <span class=\"string\">&#x27; æ€§åˆ« &#x27;</span>,</span><br><span class=\"line\">  `gradeid` <span class=\"type\">INT</span>(<span class=\"number\">10</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"keyword\">NULL</span> COMMENT <span class=\"string\">&#x27; å¹´çº§ &#x27;</span>,</span><br><span class=\"line\">  `phoneNum` <span class=\"type\">VARCHAR</span>(<span class=\"number\">50</span>) <span class=\"keyword\">NOT</span> <span class=\"keyword\">NULL</span> COMMENT <span class=\"string\">&#x27; æ‰‹æœº &#x27;</span>,</span><br><span class=\"line\">  `address` <span class=\"type\">VARCHAR</span>(<span class=\"number\">255</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"keyword\">NULL</span> COMMENT <span class=\"string\">&#x27; åœ°å€ &#x27;</span>,</span><br><span class=\"line\">  `borndate` DATETIME <span class=\"keyword\">DEFAULT</span> <span class=\"keyword\">NULL</span> COMMENT <span class=\"string\">&#x27; ç”Ÿæ—¥ &#x27;</span>,</span><br><span class=\"line\">  `email` <span class=\"type\">VARCHAR</span>(<span class=\"number\">50</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"keyword\">NULL</span> COMMENT <span class=\"string\">&#x27; é‚®ç®± &#x27;</span>,</span><br><span class=\"line\">  `idCard` <span class=\"type\">VARCHAR</span>(<span class=\"number\">18</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"keyword\">NULL</span> COMMENT <span class=\"string\">&#x27; èº«ä»½è¯å· &#x27;</span>,</span><br><span class=\"line\">  <span class=\"keyword\">PRIMARY</span> KEY (`studentid`),</span><br><span class=\"line\">  <span class=\"comment\">-- åˆ› å»º å¤– é”® çš„ æ–¹ å¼ ä¸€: åˆ› å»º å­ è¡¨ åŒ æ—¶ åˆ› å»º å¤– é”®</span></span><br><span class=\"line\">  KEY `FK_gradeid` (`gradeid`), <span class=\"comment\">-- åˆ›å»ºä¸€ä¸ª KEY ç±»å‹çš„ç´¢å¼•</span></span><br><span class=\"line\">  <span class=\"keyword\">CONSTRAINT</span> `FK_gradeid` <span class=\"keyword\">FOREIGN</span> KEY (`gradeid`) <span class=\"keyword\">REFERENCES</span> `grade` (`gradeid`) <span class=\"comment\">-- æŠŠç´¢å¼•çº¦æŸåˆ°ä¸»è¡¨ç´¢å¼•</span></span><br><span class=\"line\">) ENGINE <span class=\"operator\">=</span> INNODB <span class=\"keyword\">DEFAULT</span> CHARSET <span class=\"operator\">=</span> utf8;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- åˆ›å»ºå¤–é”®æ–¹å¼äºŒ : åˆ›å»ºå­è¡¨å®Œæ¯•å, ä¿®æ”¹å­è¡¨æ·»åŠ å¤–é”®</span></span><br><span class=\"line\"><span class=\"keyword\">ALTER</span> <span class=\"keyword\">TABLE</span></span><br><span class=\"line\">  `student`</span><br><span class=\"line\"><span class=\"keyword\">ADD</span></span><br><span class=\"line\">  <span class=\"keyword\">CONSTRAINT</span> `FK_gradeid` <span class=\"keyword\">FOREIGN</span> KEY (`gradeid`) <span class=\"keyword\">REFERENCES</span> `grade` (`gradeid`);</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>ä»¥ä¸Šæ˜¯è¡¨çš„å¤–é”®, ä¸å»ºè®®ä½¿ç”¨æ•°æ®åº“çº§åˆ«çš„å¤–é”®</p>\n<ul>\n<li>\n<p>ä»¥åå¦‚éœ€å¼•ç”¨å¤šè¡¨æ•°æ®, å¸¸ç”¨ç¨‹åºå®ç°</p>\n</li>\n<li>\n<p>é˜¿é‡Œè§„èŒƒ:<code>ä¸èƒ½ä½¿ç”¨å¤–é”®å’Œçº§è”</code>, åœ¨ delete æˆ– update æ—¶éœ€è¦è€ƒè™‘å¤–é”®å› ç´ , å¢åŠ è´Ÿæ‹…</p>\n</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h3 id=\"æ·»åŠ  -INSERT\">æ·»åŠ  INSERT</h3>\n<blockquote>\n<p>è¯­æ³• : INSERT INTO è¡¨å[(å­—æ®µ 1, å­—æ®µ 2, å­—æ®µ 3,â€¦)] VALUES (â€˜å€¼ 1â€™,â€˜å€¼ 2â€™,â€˜å€¼ 3â€™)</p>\n</blockquote>\n<ul>\n<li>\n<p>å­—æ®µä¸å€¼ä½ç½®å¯¹åº”</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">INSERT</span> <span class=\"keyword\">INTO</span></span><br><span class=\"line\">  grade(gradename, gradeid)</span><br><span class=\"line\"><span class=\"keyword\">VALUES</span></span><br><span class=\"line\">  (<span class=\"string\">&#x27; å¤§ä¸€ &#x27;</span>, <span class=\"string\">&#x27;2&#x27;</span>);</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>çœç•¥å­—æ®µçš„è¯, å€¼å¾—é¡ºåºå¿…é¡»ä¸æ•°æ®è¡¨ä¸­çš„å­—æ®µé¡ºåºä¸€è‡´</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">INSERT</span> <span class=\"keyword\">INTO</span></span><br><span class=\"line\">  grade</span><br><span class=\"line\"><span class=\"keyword\">VALUES</span></span><br><span class=\"line\">  (<span class=\"string\">&#x27;1&#x27;</span>, <span class=\"string\">&#x27; å¤§äºŒ &#x27;</span>);</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>ä¸€æ¬¡æ’å…¥å¤šæ¡æ•°æ®</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">INSERT</span> <span class=\"keyword\">INTO</span></span><br><span class=\"line\">  grade(gradename)</span><br><span class=\"line\"><span class=\"keyword\">VALUES</span></span><br><span class=\"line\">  (<span class=\"string\">&#x27; å¤§ä¸‰ &#x27;</span>),(<span class=\"string\">&#x27; å¤§å›› &#x27;</span>);</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<h3 id=\"ä¿®æ”¹ -UPDATE\">ä¿®æ”¹ UPDATE</h3>\n<blockquote>\n<p>UPDATE <code>è¡¨å </code> SET <code> åˆ—å 1</code>=value <code>åˆ—å 2</code>=value [WHERE æ¡ä»¶];</p>\n</blockquote>\n<ul>\n<li>\n<p>value ä¸ºä¿®æ”¹åçš„æ•°æ® , å¯ä»¥ä¸ºå˜é‡ , å…·ä½“å€¼ , è¡¨è¾¾å¼æˆ–è€…åµŒå¥—çš„ SELECT ç»“æœ</p>\n</li>\n<li>\n<p>ä¸æŒ‡å®š where çš„è¯, ä¼šä¿®æ”¹è¡¨å†…æ‰€æœ‰æ•°æ®</p>\n</li>\n<li>\n<p>æ³¨æ„ value ç”¨å•å¼•å·â€™å¼•èµ·æ¥, ä¸æ˜¯é£˜ `</p>\n</li>\n<li>\n<p>ä¾‹å­(éšæœºç”Ÿæˆ 20 æ¡æ•°æ®åå¤šæ¡ä»¶ç­›é€‰)</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">UPDATE</span><br><span class=\"line\">  `grade`</span><br><span class=\"line\"><span class=\"keyword\">SET</span></span><br><span class=\"line\">  `gradename` <span class=\"operator\">=</span> <span class=\"string\">&#x27; å¤§ä¸€ &#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">WHERE</span></span><br><span class=\"line\">  gradeid <span class=\"operator\">&gt;</span> <span class=\"number\">1</span></span><br><span class=\"line\">  <span class=\"keyword\">AND</span> gradeid <span class=\"operator\">&lt;</span> <span class=\"number\">10</span></span><br><span class=\"line\">  <span class=\"keyword\">OR</span> gradeid <span class=\"operator\">=</span> <span class=\"number\">15</span>;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>ç»“æœ(json)</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    <span class=\"attr\">&quot;gradeid&quot;</span>: <span class=\"string\">&quot;1&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">&quot;gradename&quot;</span>: <span class=\"string\">&quot;lonrd&quot;</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    <span class=\"attr\">&quot;gradeid&quot;</span>: <span class=\"string\">&quot;2&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">&quot;gradename&quot;</span>: <span class=\"string\">&quot; å¤§ä¸€ &quot;</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    <span class=\"attr\">&quot;gradeid&quot;</span>: <span class=\"string\">&quot;3&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">&quot;gradename&quot;</span>: <span class=\"string\">&quot; å¤§ä¸€ &quot;</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    <span class=\"attr\">&quot;gradeid&quot;</span>: <span class=\"string\">&quot;4&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">&quot;gradename&quot;</span>: <span class=\"string\">&quot; å¤§ä¸€ &quot;</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    <span class=\"attr\">&quot;gradeid&quot;</span>: <span class=\"string\">&quot;5&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">&quot;gradename&quot;</span>: <span class=\"string\">&quot; å¤§ä¸€ &quot;</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    <span class=\"attr\">&quot;gradeid&quot;</span>: <span class=\"string\">&quot;6&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">&quot;gradename&quot;</span>: <span class=\"string\">&quot; å¤§ä¸€ &quot;</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    <span class=\"attr\">&quot;gradeid&quot;</span>: <span class=\"string\">&quot;7&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">&quot;gradename&quot;</span>: <span class=\"string\">&quot; å¤§ä¸€ &quot;</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    <span class=\"attr\">&quot;gradeid&quot;</span>: <span class=\"string\">&quot;8&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">&quot;gradename&quot;</span>: <span class=\"string\">&quot; å¤§ä¸€ &quot;</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    <span class=\"attr\">&quot;gradeid&quot;</span>: <span class=\"string\">&quot;9&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">&quot;gradename&quot;</span>: <span class=\"string\">&quot; å¤§ä¸€ &quot;</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    <span class=\"attr\">&quot;gradeid&quot;</span>: <span class=\"string\">&quot;10&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">&quot;gradename&quot;</span>: <span class=\"string\">&quot;fmtdq&quot;</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    <span class=\"attr\">&quot;gradeid&quot;</span>: <span class=\"string\">&quot;11&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">&quot;gradename&quot;</span>: <span class=\"string\">&quot;tvyoh&quot;</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    <span class=\"attr\">&quot;gradeid&quot;</span>: <span class=\"string\">&quot;12&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">&quot;gradename&quot;</span>: <span class=\"string\">&quot;ovhvu&quot;</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    <span class=\"attr\">&quot;gradeid&quot;</span>: <span class=\"string\">&quot;13&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">&quot;gradename&quot;</span>: <span class=\"string\">&quot;hipnh&quot;</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    <span class=\"attr\">&quot;gradeid&quot;</span>: <span class=\"string\">&quot;14&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">&quot;gradename&quot;</span>: <span class=\"string\">&quot;kjdxr&quot;</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    <span class=\"attr\">&quot;gradeid&quot;</span>: <span class=\"string\">&quot;15&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">&quot;gradename&quot;</span>: <span class=\"string\">&quot; å¤§ä¸€ &quot;</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    <span class=\"attr\">&quot;gradeid&quot;</span>: <span class=\"string\">&quot;16&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">&quot;gradename&quot;</span>: <span class=\"string\">&quot;xvlbp&quot;</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    <span class=\"attr\">&quot;gradeid&quot;</span>: <span class=\"string\">&quot;17&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">&quot;gradename&quot;</span>: <span class=\"string\">&quot;bgphq&quot;</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    <span class=\"attr\">&quot;gradeid&quot;</span>: <span class=\"string\">&quot;18&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">&quot;gradename&quot;</span>: <span class=\"string\">&quot;jcpmc&quot;</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    <span class=\"attr\">&quot;gradeid&quot;</span>: <span class=\"string\">&quot;19&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">&quot;gradename&quot;</span>: <span class=\"string\">&quot;gjuof&quot;</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    <span class=\"attr\">&quot;gradeid&quot;</span>: <span class=\"string\">&quot;20&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">&quot;gradename&quot;</span>: <span class=\"string\">&quot;owxri&quot;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<h3 id=\"åˆ é™¤ -DELETE-TRUNCATE\">åˆ é™¤ DELETE/TRUNCATE</h3>\n<blockquote>\n<p>DELETE FROM è¡¨å [WHERE condition];</p>\n</blockquote>\n<ul>\n<li>\n<p>å¦‚ä¸æŒ‡å®š where, ä¼šåˆ é™¤è¡¨ä¸­æ‰€æœ‰æ•°æ®</p>\n</li>\n<li>\n<p>ä¾‹å­</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">DELETE</span> <span class=\"keyword\">FROM</span></span><br><span class=\"line\">  grade</span><br><span class=\"line\"><span class=\"keyword\">WHERE</span></span><br><span class=\"line\">  gradeid <span class=\"operator\">=</span> <span class=\"number\">5</span>;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<blockquote>\n<p>TRUNCATE [TABLE] è¡¨å;</p>\n</blockquote>\n<ul>\n<li>\n<p>æ¸…ç©ºè¡¨, è¡¨çš„ç»“æ„å’Œç´¢å¼•ä¸å˜</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">TRUNCATE</span> `student`</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<ul>\n<li>\n<p>äºŒè€…éƒ½èƒ½åˆ é™¤æ•°æ®, ä¸å½±å“è¡¨ç»“æ„</p>\n<ul>\n<li>DELETE åˆ é™¤æ•°æ®åä¸å½±å“ <code> è‡ªåŠ¨å¢é‡</code>, ä¼šè®°å½•æ—¥å¿—.</li>\n<li>TRUNCATE æ¸…ç©ºè¡¨ä¹‹åä¼šæŠŠ <code> è‡ªåŠ¨å¢é‡ </code> å½’é›¶, ä¸ä¼šè®°å½•æ—¥å¿—.</li>\n</ul>\n<hr>\n</li>\n<li>\n<p>ä½¿ç”¨ DELETE æ¸…ç©ºä¸åŒå¼•æ“çš„æ•°æ®åº“è¡¨æ•°æ®. é‡å¯æ•°æ®åº“æœåŠ¡å</p>\n<ul>\n<li>\n<p>InnoDB : è‡ªå¢åˆ—ä»åˆå§‹å€¼é‡æ–°å¼€å§‹ (å› ä¸ºæ˜¯å­˜å‚¨åœ¨å†…å­˜ä¸­, æ–­ç”µå³å¤±)</p>\n</li>\n<li>\n<p>MyISAM : è‡ªå¢åˆ—ä¾ç„¶ä»ä¸Šä¸€ä¸ªè‡ªå¢æ•°æ®åŸºç¡€ä¸Šå¼€å§‹ (å­˜åœ¨æ–‡ä»¶ä¸­, ä¸ä¼šä¸¢å¤±)</p>\n</li>\n</ul>\n</li>\n</ul>\n<script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kity@2.0.4/dist/kity.min.js\"></script><script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js\"></script><script defer=\"true\" type=\"text&#x2F;javascript\" src=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js\"></script><link rel=\"stylesheet\" type=\"text&#x2F;css\" href=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css\">",
            "tags": [
                "java",
                "ç¬”è®°",
                "mysql"
            ]
        },
        {
            "id": "https://weidows.github.io/post/Java/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/1/",
            "url": "https://weidows.github.io/post/Java/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/1/",
            "title": "ğŸ¶Java ç½‘ç»œç¼–ç¨‹",
            "date_published": "2021-02-28T09:06:28.000Z",
            "content_html": "<!--\n * @?: *********************************************************************\n * @Author: Weidows\n * @LastEditors: Weidows\n * @LastEditTime: 2021-05-22 10:47:37\n * @FilePath: \\Weidowsd:\\Game\\Github\\Blog-private\\source\\_posts\\Java\\ ç½‘ç»œç¼–ç¨‹ \\1.md\n * @Description:\n * @!: *********************************************************************\n-->\n<ul>\n<li><a href=\"#%E5%8F%82%E8%80%83\">å‚è€ƒ</a></li>\n<li><a href=\"#%E7%AE%80%E4%BB%8B\">ç®€ä»‹</a></li>\n<li><a href=\"#ip\">IP</a></li>\n<li><a href=\"#%E7%AB%AF%E5%8F%A3\">ç«¯å£</a></li>\n<li><a href=\"#%E9%80%9A%E4%BF%A1%E5%8D%8F%E8%AE%AE\">é€šä¿¡åè®®</a>\n<ul>\n<li><a href=\"#tcp\">TCP</a></li>\n<li><a href=\"#udp\">UDP</a></li>\n</ul>\n</li>\n<li><a href=\"#tcp-%E8%BF%9E%E6%8E%A5\">TCP è¿æ¥</a>\n<ul>\n<li><a href=\"#server-%E7%AB%AF\">Server ç«¯</a></li>\n<li><a href=\"#client-%E7%AB%AF\">Client ç«¯</a></li>\n</ul>\n</li>\n<li><a href=\"#%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93\">æ–‡ä»¶ä¼ è¾“</a>\n<ul>\n<li><a href=\"#server\">Server</a></li>\n<li><a href=\"#client\">Client</a></li>\n</ul>\n</li>\n<li><a href=\"#udp-%E8%BF%9E%E6%8E%A5\">UDP è¿æ¥</a>\n<ul>\n<li><a href=\"#server-1\">Server</a></li>\n<li><a href=\"#client-1\">Client</a></li>\n</ul>\n</li>\n<li><a href=\"#udp-%E5%BE%AA%E7%8E%AF%E5%8F%91%E9%80%81\">UDP å¾ªç¯å‘é€</a>\n<ul>\n<li><a href=\"#server-2\">Server</a></li>\n<li><a href=\"#client-2\">Client</a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%8F%8C%E5%90%91%E8%81%8A%E5%A4%A9\">åŒå‘èŠå¤©</a>\n<ul>\n<li><a href=\"#%E5%8F%91%E9%80%81%E7%BA%BF%E7%A8%8B\">å‘é€çº¿ç¨‹</a></li>\n<li><a href=\"#%E6%8E%A5%E6%94%B6%E7%BA%BF%E7%A8%8B\">æ¥æ”¶çº¿ç¨‹</a></li>\n<li><a href=\"#%E8%80%81%E5%B8%88\">è€å¸ˆ</a></li>\n<li><a href=\"#%E5%AD%A6%E7%94%9F\">å­¦ç”Ÿ</a></li>\n</ul>\n</li>\n<li><a href=\"#url\">URL</a></li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"å‚è€ƒ -4\">å‚è€ƒ</h2>\n<blockquote>\n<p>åœ¨æ­¤æ–‡ç« è®°å½•äº†: <a href=\"../../../others/LearnWay#%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B\">ğŸ˜Weidows ã®æˆé•¿è·¯çº¿.# ç½‘ç»œç¼–ç¨‹</a></p>\n</blockquote>\n<hr>\n<h2 id=\"ç®€ä»‹ -9\">ç®€ä»‹</h2>\n<ul>\n<li>\n<p>æ¶æ„åŒºåˆ†</p>\n<ul>\n<li>ç½‘é¡µç¼–ç¨‹: B/S</li>\n<li>ç½‘ç»œç¼–ç¨‹: C/S</li>\n</ul>\n<hr>\n</li>\n<li>\n<p>é€šä¿¡è¦ç´ (TCP/IP)</p>\n<ul>\n<li>IP</li>\n<li>ç«¯å£</li>\n</ul>\n<hr>\n</li>\n<li>\n<p>åè®®å‚è€ƒ</p>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVmdqS.png\" alt=\"20210228232437\" />\n<blockquote>\n<p>æ›´ä¸ºè¯¦ç»†çš„: <a href=\"http://www.colasoft.com.cn/download/protocols_map.php\">ç§‘æ¥ç½‘ç»œé€šè®¯åè®®å›¾ 2020 ç‰ˆ</a></p>\n</blockquote>\n<ul>\n<li>æ­¤å¤„é’ˆå¯¹ä¼ è¾“å±‚ TCP/UDP å­¦ä¹ .</li>\n</ul>\n</li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"IP\">IP</h2>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.net.InetAddress;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.net.UnknownHostException;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Ip</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// write your code here</span></span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">      <span class=\"comment\">// è·å–æœ¬æœºå†…ç½‘ IP åœ°å€</span></span><br><span class=\"line\">      InetAddress inetAddress1 = InetAddress.getByName(<span class=\"string\">&quot;127.0.0.1&quot;</span>);</span><br><span class=\"line\">      System.out.println(inetAddress1);</span><br><span class=\"line\">      InetAddress inetAddress2 = InetAddress.getByName(<span class=\"string\">&quot;localhost&quot;</span>);</span><br><span class=\"line\">      System.out.println(inetAddress2);</span><br><span class=\"line\">      InetAddress inetAddress3 = InetAddress.getLocalHost();</span><br><span class=\"line\">      System.out.println(inetAddress3);</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// æŸ¥è¯¢ç½‘ç«™ ip åœ°å€</span></span><br><span class=\"line\">      InetAddress inetAddress4 = InetAddress.getByName(<span class=\"string\">&quot;www.bilibili.com&quot;</span>);</span><br><span class=\"line\">      System.out.println(inetAddress4);</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// å¸¸ç”¨æ–¹æ³•</span></span><br><span class=\"line\">      System.out.println(inetAddress4.getAddress());</span><br><span class=\"line\">      System.out.println(inetAddress4.getCanonicalHostName()); <span class=\"comment\">// è§„èŒƒçš„åå­—</span></span><br><span class=\"line\">      System.out.println(inetAddress4.getHostAddress()); <span class=\"comment\">//ip</span></span><br><span class=\"line\">      System.out.println(inetAddress4.getHostName()); <span class=\"comment\">// åŸŸåï¼Œæˆ–è€…è‡ªå·±ç”µè„‘çš„åå­—</span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">catch</span> (UnknownHostException e) &#123;</span><br><span class=\"line\">      e.printStackTrace();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">    /127.0.0.1</span></span><br><span class=\"line\"><span class=\"comment\">    localhost/127.0.0.1</span></span><br><span class=\"line\"><span class=\"comment\">    DESKTOP-CTDDD3K/192.168.114.1</span></span><br><span class=\"line\"><span class=\"comment\">    www.bilibili.com/121.17.123.130</span></span><br><span class=\"line\"><span class=\"comment\">    [B@2a3046da</span></span><br><span class=\"line\"><span class=\"comment\">    121.17.123.130</span></span><br><span class=\"line\"><span class=\"comment\">    121.17.123.130</span></span><br><span class=\"line\"><span class=\"comment\">    www.bilibili.com</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"ç«¯å£\">ç«¯å£</h2>\n<ul>\n<li>\n<p>TCP ä¸ UDP å„æœ‰ 65535 ä¸ªç«¯å£</p>\n<ul>\n<li>\n<p>ä¸¤ä¸ªåè®®é—´ä¸å†²çª</p>\n</li>\n<li>\n<p>ä½†æ˜¯ä¸€ä¸ªåè®®ä¸‹çš„ä¸€ä¸ªç«¯å£åªèƒ½åŒæ—¶è¢«ä¸€ä¸ªè½¯ä»¶å ç”¨.</p>\n</li>\n</ul>\n<hr>\n</li>\n<li>\n<p>ç«¯å£åˆ†ç±»</p>\n<ul>\n<li>\n<p>å…¬æœ‰ç«¯å£ 0 ~ 1023</p>\n<ul>\n<li>\n<p>HTTPï¼š80</p>\n</li>\n<li>\n<p>HTTPSï¼š443</p>\n</li>\n<li>\n<p>FTPï¼š21</p>\n</li>\n<li>\n<p>Telentï¼š23</p>\n</li>\n</ul>\n</li>\n<li>\n<p>ç¨‹åºæ³¨å†Œç«¯å£ï¼š1024 ~ 49151ï¼Œåˆ†é…ç»™ç”¨æˆ·æˆ–è€…ç¨‹åº</p>\n<ul>\n<li>\n<p>Tomcatï¼š8080</p>\n</li>\n<li>\n<p>MySQLï¼š3306</p>\n</li>\n<li>\n<p>Oracleï¼š1512</p>\n</li>\n</ul>\n</li>\n<li>\n<p>åŠ¨æ€ã€ç§æœ‰ï¼š49152 ~ 65535</p>\n</li>\n</ul>\n<hr>\n</li>\n<li>\n<p>å¸¸ç”¨ shell æŒ‡ä»¤</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">netstat -ano #æŸ¥çœ‹æ‰€æœ‰çš„ç«¯å£</span><br><span class=\"line\">netstat -ano | finstr &quot;5900&quot; #æŸ¥çœ‹æŒ‡å®šçš„ç«¯å£</span><br><span class=\"line\">tasklist | findstr &quot;8696&quot; #æŸ¥çœ‹æŒ‡å®šç«¯å£çš„è¿›ç¨‹</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>InetSocketAddress</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.net.InetSocketAddress;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Port</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> </span>&#123;</span><br><span class=\"line\">    InetSocketAddress socketAddress = <span class=\"keyword\">new</span> InetSocketAddress(<span class=\"string\">&quot;localhost&quot;</span>, <span class=\"number\">8080</span>);</span><br><span class=\"line\">    System.out.println(socketAddress);</span><br><span class=\"line\"></span><br><span class=\"line\">    System.out.println(socketAddress.getAddress());</span><br><span class=\"line\">    System.out.println(socketAddress.getHostName());</span><br><span class=\"line\">    System.out.println(socketAddress.getPort());</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">    localhost/127.0.0.1:8080</span></span><br><span class=\"line\"><span class=\"comment\">    localhost/127.0.0.1</span></span><br><span class=\"line\"><span class=\"comment\">    localhost</span></span><br><span class=\"line\"><span class=\"comment\">    8080</span></span><br><span class=\"line\"><span class=\"comment\">  */</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"é€šä¿¡åè®®\">é€šä¿¡åè®®</h2>\n<ul>\n<li>\n<p>é€šè¿‡çº¦å®šåè®®æ¥ç®¡æ§é€šä¿¡çš„é€Ÿç‡, ç ç‡ç­‰é—®é¢˜</p>\n</li>\n<li>\n<p>å¹¶é€šè¿‡åè®®åˆ†å±‚æ¥ç®€åŒ–å¤æ‚åº¦</p>\n<hr>\n</li>\n<li>\n<p>å‡ ç§åè®®</p>\n<ul>\n<li>\n<p>TCP: ç”¨æˆ·ä¼ è¾“åè®®</p>\n</li>\n<li>\n<p>UDP: ç”¨æˆ·æ•°æ®æŠ¥åè®®</p>\n</li>\n<li>\n<p>IP: ç½‘ç»œäº’è¿åè®®</p>\n</li>\n<li>\n<p>TCP/IP åè®®ç°‡: æ˜¯ä¸€ç»„åè®® (å››å±‚æ¦‚å¿µæ¨¡å‹)</p>\n</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h3 id=\"TCP\">TCP</h3>\n<ul>\n<li>\n<p>TCP æ˜¯å®¢æˆ·ç«¯ &lt;â€“&gt; æœåŠ¡ç«¯åŒå‘çš„ä¿¡æ¯æ²Ÿé€š, å¯é•¿æ—¶é—´ç¨³å®šè¿æ¥</p>\n</li>\n<li>\n<p>ç¨³å®šè¿æ¥æœ€å°éªŒè¯ <code> ä¸‰æ¬¡æ¡æ‰‹, å››æ¬¡æŒ¥æ‰‹</code></p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">æœ€å°‘éœ€è¦ä¸‰æ¬¡ï¼Œä¿è¯ç¨³å®šè¿æ¥ï¼</span><br><span class=\"line\"><span class=\"selector-tag\">A</span>ï¼šä½ ç…å•¥ï¼Ÿ</span><br><span class=\"line\"><span class=\"selector-tag\">B</span>ï¼šç…ä½ å’‹åœ°ï¼Ÿ</span><br><span class=\"line\"><span class=\"selector-tag\">A</span>ï¼šå¹²ä¸€åœºï¼</span><br><span class=\"line\"></span><br><span class=\"line\">è‡³å°‘å››æ¬¡, åŒæ–¹æ‰èƒ½éƒ½æ–­å¼€è¿æ¥</span><br><span class=\"line\"><span class=\"selector-tag\">A</span>ï¼šæˆ‘è¦èµ°äº†</span><br><span class=\"line\"><span class=\"selector-tag\">B</span>ï¼šä½ çœŸçš„è¦èµ°äº†å—ï¼Ÿ</span><br><span class=\"line\"><span class=\"selector-tag\">B</span>ï¼šä½ çœŸçš„çœŸçš„è¦èµ°äº†å—ï¼Ÿ</span><br><span class=\"line\"><span class=\"selector-tag\">A</span>ï¼šæˆ‘çœŸçš„è¦èµ°äº†</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<hr>\n<h3 id=\"UDP\">UDP</h3>\n<ul>\n<li>\n<p>å•å‘çš„ä¿¡æ¯ä¼ é€’</p>\n</li>\n<li>\n<p>æ²¡æœ‰å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯ç•Œé™</p>\n</li>\n<li>\n<p>æ— è®ºæœ‰æ²¡æœ‰æ¥æ”¶æ–¹, æ— è®ºæ¥æ”¶æ–¹æ˜¯å¦æ¥æ”¶, å‘é€æ–¹åªç®¡å‘é€</p>\n</li>\n<li>\n<p>å¸¸è§çš„<code>DDOS æ”»å‡»</code>, è®©å¤§é‡åƒåœ¾ä¿¡æ¯æ±¡æŸ“æœåŠ¡å™¨æ¥æ”¶ç«¯å£, ä½¿å…¶ç˜«ç—ª.</p>\n</li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"TCP- è¿æ¥\">TCP è¿æ¥</h2>\n<ul>\n<li>Server æœåŠ¡ç«¯ä¸ Client å®¢æˆ·ç«¯é€šè¿‡ TCP æ–¹å¼åˆ›å»ºæ•°æ®è¿æ¥.</li>\n</ul>\n<h3 id=\"Server- ç«¯\">Server ç«¯</h3>\n<ul>\n<li>\n<p>å»ºç«‹æœåŠ¡çš„ç«¯å£ ServerScoket</p>\n</li>\n<li>\n<p>ç­‰å¾…ç”¨æˆ·çš„è¿æ¥ accept</p>\n</li>\n<li>\n<p>æ¥æ”¶ç”¨æˆ·çš„æ¶ˆæ¯</p>\n</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.io.ByteArrayOutputStream;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.IOException;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.InputStream;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.net.ServerSocket;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.net.Socket;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Server</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> <span class=\"keyword\">throws</span> IOException </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//1ã€æˆ‘å¾—æœ‰ä¸€ä¸ªåœ°å€</span></span><br><span class=\"line\">    ServerSocket serverSocket = <span class=\"keyword\">new</span> ServerSocket(<span class=\"number\">9999</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">while</span> (<span class=\"keyword\">true</span>) &#123; <span class=\"comment\">// è¿ç»­æ¥æ”¶æ•°æ®</span></span><br><span class=\"line\">      <span class=\"comment\">//2ã€ç­‰å¾…å®¢æˆ·ç«¯è¿æ¥è¿‡æ¥</span></span><br><span class=\"line\">      Socket accept = serverSocket.accept();</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">//3ã€è¯»å–å®¢æˆ·ç«¯çš„æ¶ˆæ¯</span></span><br><span class=\"line\">      InputStream inputStream = accept.getInputStream();</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">       * é€šå¸¸ IO æ–¹å¼, å¦‚æœæ˜¯é•¿æ•°æ®ä¼ è¾“, ä¼šå¯¼è‡´å‡ºé”™</span></span><br><span class=\"line\"><span class=\"comment\">       *</span></span><br><span class=\"line\"><span class=\"comment\">        byte[] buffer = new byte[1024];</span></span><br><span class=\"line\"><span class=\"comment\">        int length;</span></span><br><span class=\"line\"><span class=\"comment\">        while ((length = inputStream.read(buffer)) != -1) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">        String s = new String(buffer, 0, length);</span></span><br><span class=\"line\"><span class=\"comment\">        System.out.println(s);</span></span><br><span class=\"line\"><span class=\"comment\">        &#125;</span></span><br><span class=\"line\"><span class=\"comment\">       */</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">//4. ç®¡é“æµæ¥æ”¶æ•°æ®</span></span><br><span class=\"line\">      ByteArrayOutputStream byteArrayOutputStream = <span class=\"keyword\">new</span> ByteArrayOutputStream();</span><br><span class=\"line\">      <span class=\"keyword\">byte</span>[] buffer = <span class=\"keyword\">new</span> <span class=\"keyword\">byte</span>[<span class=\"number\">1024</span>];</span><br><span class=\"line\">      <span class=\"keyword\">int</span> length;</span><br><span class=\"line\">      <span class=\"keyword\">while</span> ((length = inputStream.read(buffer)) != -<span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">        byteArrayOutputStream.write(buffer, <span class=\"number\">0</span>, length);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (byteArrayOutputStream.toString().matches(<span class=\"string\">&quot;quit&quot;</span>)) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">break</span>;</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        System.out.println(byteArrayOutputStream.toString());</span><br><span class=\"line\">        byteArrayOutputStream.close();</span><br><span class=\"line\">        inputStream.close();</span><br><span class=\"line\">        accept.close();</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//5. æœ€åå…³é—­</span></span><br><span class=\"line\">    serverSocket.close();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"Client- ç«¯\">Client ç«¯</h3>\n<ul>\n<li>\n<p>è¿æ¥æœåŠ¡å™¨ Socket</p>\n</li>\n<li>\n<p>å‘é€æ¶ˆæ¯</p>\n</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.io.OutputStream;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.net.InetAddress;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.net.Socket;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Client</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> <span class=\"keyword\">throws</span> Exception </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//1ã€è¦çŸ¥é“æœåŠ¡å™¨çš„åœ°å€ï¼Œç«¯å£å·</span></span><br><span class=\"line\">    InetAddress address = InetAddress.getLocalHost();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">int</span> port = <span class=\"number\">9999</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//2ã€åˆ›å»ºä¸€ä¸ª socket è¿æ¥</span></span><br><span class=\"line\">    Socket socket = <span class=\"keyword\">new</span> Socket(address, port);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//3ã€å‘é€æ¶ˆæ¯ IO æµ</span></span><br><span class=\"line\">    OutputStream outputStream = socket.getOutputStream();</span><br><span class=\"line\">    outputStream.write(<span class=\"string\">&quot;Weidows connecting here.&quot;</span>.getBytes());</span><br><span class=\"line\">    <span class=\"comment\">// outputStream.write(&quot;quit&quot;.getBytes());</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//4. å…³é—­é€šé“</span></span><br><span class=\"line\">    outputStream.close();</span><br><span class=\"line\">    socket.close();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"æ–‡ä»¶ä¼ è¾“ -2\">æ–‡ä»¶ä¼ è¾“</h2>\n<h3 id=\"Server\">Server</h3>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.io.File;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.FileOutputStream;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.InputStream;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.OutputStream;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.net.ServerSocket;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.net.Socket;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Server</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> <span class=\"keyword\">throws</span> Exception </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//1ã€åˆ›å»ºæœåŠ¡</span></span><br><span class=\"line\">    ServerSocket serverSocket = <span class=\"keyword\">new</span> ServerSocket(<span class=\"number\">9999</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//2ã€ç›‘å¬å®¢æˆ·ç«¯çš„è¿æ¥</span></span><br><span class=\"line\">    Socket socket = serverSocket.accept(); <span class=\"comment\">// é˜»å¡å¼ç›‘å¬ï¼Œä¼šä¸€ç›´ç­‰å¾…å®¢æˆ·ç«¯è¿æ¥</span></span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;Server å¼€å§‹ç›‘å¬.&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//3ã€è·å–è¾“å…¥æµ</span></span><br><span class=\"line\">    InputStream is = socket.getInputStream();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//4ã€æ–‡ä»¶è¾“å‡º</span></span><br><span class=\"line\">    FileOutputStream fos = <span class=\"keyword\">new</span> FileOutputStream(<span class=\"keyword\">new</span> File(<span class=\"string\">&quot;Java/src/main/java/twenty_one/net/file_upload/receive.png&quot;</span>));</span><br><span class=\"line\">    <span class=\"keyword\">byte</span>[] buffer = <span class=\"keyword\">new</span> <span class=\"keyword\">byte</span>[<span class=\"number\">1024</span>];</span><br><span class=\"line\">    <span class=\"keyword\">int</span> len;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> ((len = is.read(buffer)) != -<span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">      fos.write(buffer, <span class=\"number\">0</span>, len);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;Server æ¥æ”¶å®Œæ¯•.&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// é€šçŸ¥å®¢æˆ·ç«¯æˆ‘æ¥æ”¶å®Œæ¯•äº†</span></span><br><span class=\"line\">    OutputStream os = socket.getOutputStream();</span><br><span class=\"line\">    os.write(<span class=\"string\">&quot;Server é€šçŸ¥: æ¥å—å®Œæ¯•ï¼ŒClient å¯ä»¥æ–­å¼€äº† &quot;</span>.getBytes());</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//5ã€å…³é—­èµ„æº</span></span><br><span class=\"line\">    fos.close();</span><br><span class=\"line\">    is.close();</span><br><span class=\"line\">    socket.close();</span><br><span class=\"line\">    serverSocket.close();</span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;Server å·²å‘é€éªŒè¯å¹¶æ–­å¼€è¿æ¥.&quot;</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">    Server å¼€å§‹ç›‘å¬.</span></span><br><span class=\"line\"><span class=\"comment\">    Server æ¥æ”¶å®Œæ¯•.</span></span><br><span class=\"line\"><span class=\"comment\">    Server å·²å‘é€éªŒè¯å¹¶æ–­å¼€è¿æ¥.</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"Client\">Client</h3>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.io.ByteArrayOutputStream;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.File;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.FileInputStream;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.InputStream;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.OutputStream;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.net.InetAddress;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.net.Socket;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Client</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> <span class=\"keyword\">throws</span> Exception </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//1ã€åˆ›å»ºä¸€ä¸ª Socket è¿æ¥</span></span><br><span class=\"line\">    Socket socket = <span class=\"keyword\">new</span> Socket(InetAddress.getByName(<span class=\"string\">&quot;localhost&quot;</span>), <span class=\"number\">9999</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//2ã€åˆ›å»ºä¸€ä¸ªè¾“å‡ºæµ</span></span><br><span class=\"line\">    OutputStream os = socket.getOutputStream();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//3ã€è¯»å–æ–‡ä»¶</span></span><br><span class=\"line\">    FileInputStream fis = <span class=\"keyword\">new</span> FileInputStream(<span class=\"keyword\">new</span> File(<span class=\"string\">&quot;Java/src/main/java/twenty_one/net/file_upload/upload.png&quot;</span>));</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//4ã€å†™å‡ºæ–‡ä»¶</span></span><br><span class=\"line\">    <span class=\"keyword\">byte</span>[] buffer = <span class=\"keyword\">new</span> <span class=\"keyword\">byte</span>[<span class=\"number\">1024</span>];</span><br><span class=\"line\">    <span class=\"keyword\">int</span> len;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> ((len = fis.read(buffer)) != -<span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">      os.write(buffer, <span class=\"number\">0</span>, len);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;Client ä¼ è¾“å®Œæ¯•.&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// é€šçŸ¥æœåŠ¡å™¨ï¼Œæˆ‘å·²ç»ç»“æŸäº†</span></span><br><span class=\"line\">    socket.shutdownOutput(); <span class=\"comment\">// æˆ‘å·²ç»ä¼ è¾“å®Œäº†ï¼</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// ç¡®å®šæœåŠ¡å™¨æ¥æ”¶å®Œæ¯•ï¼Œæ‰èƒ½å¤Ÿæ–­å¼€è¿æ¥</span></span><br><span class=\"line\">    InputStream inputStream = socket.getInputStream();</span><br><span class=\"line\">    <span class=\"comment\">//String byte[]</span></span><br><span class=\"line\">    ByteArrayOutputStream baos = <span class=\"keyword\">new</span> ByteArrayOutputStream();</span><br><span class=\"line\">    <span class=\"keyword\">byte</span>[] buffer2 = <span class=\"keyword\">new</span> <span class=\"keyword\">byte</span>[<span class=\"number\">1024</span>];</span><br><span class=\"line\">    <span class=\"keyword\">int</span> len2;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> ((len2 = inputStream.read(buffer2)) != -<span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">      baos.write(buffer2, <span class=\"number\">0</span>, len2);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    System.out.println(baos.toString());</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//5ã€å…³é—­èµ„æº</span></span><br><span class=\"line\">    baos.close();</span><br><span class=\"line\">    inputStream.close();</span><br><span class=\"line\">    fis.close();</span><br><span class=\"line\">    os.close();</span><br><span class=\"line\">    socket.close();</span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;Client å·²æ¥æ”¶åˆ°éªŒè¯å¹¶æ–­å¼€è¿æ¥ &quot;</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">    Client ä¼ è¾“å®Œæ¯•.</span></span><br><span class=\"line\"><span class=\"comment\">    Server é€šçŸ¥: æ¥å—å®Œæ¯•ï¼ŒClient å¯ä»¥æ–­å¼€äº†</span></span><br><span class=\"line\"><span class=\"comment\">    Client å·²æ¥æ”¶åˆ°éªŒè¯å¹¶æ–­å¼€è¿æ¥</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"UDP- è¿æ¥\">UDP è¿æ¥</h2>\n<h3 id=\"Server-2\">Server</h3>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.net.DatagramPacket;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.net.DatagramSocket;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Server</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> <span class=\"keyword\">throws</span> Exception </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// 1. å¼€æ”¾ç«¯å£</span></span><br><span class=\"line\">    DatagramSocket datagramSocket = <span class=\"keyword\">new</span> DatagramSocket(<span class=\"number\">9999</span>);</span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot; ç­‰å¾…æ•°æ®ä¼ å…¥ä¸­...&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 2. æ¥æ”¶æ•°æ®</span></span><br><span class=\"line\">    <span class=\"keyword\">byte</span>[] buffer = <span class=\"keyword\">new</span> <span class=\"keyword\">byte</span>[<span class=\"number\">1024</span>];</span><br><span class=\"line\">    DatagramPacket datagramPacket = <span class=\"keyword\">new</span> DatagramPacket(buffer, buffer.length);</span><br><span class=\"line\">    datagramSocket.receive(datagramPacket); <span class=\"comment\">// é˜»å¡æ¥æ”¶</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 3. è¾“å‡º</span></span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;Server æ¥æ”¶åˆ°æ•°æ®:&quot;</span> + <span class=\"keyword\">new</span> String(datagramPacket.getData()));</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 4. å…³é—­</span></span><br><span class=\"line\">    datagramSocket.close();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"Client-2\">Client</h3>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.net.DatagramPacket;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.net.DatagramSocket;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.net.InetAddress;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Client</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> <span class=\"keyword\">throws</span> Exception </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// 1. åˆ›å»ºæ•°æ®åŒ…</span></span><br><span class=\"line\">    InetAddress localHost = InetAddress.getLocalHost();</span><br><span class=\"line\">    <span class=\"keyword\">int</span> port = <span class=\"number\">9999</span>;</span><br><span class=\"line\">    <span class=\"keyword\">byte</span>[] data = <span class=\"string\">&quot; è¿™æ˜¯ Client å‘é€çš„æ•°æ®.&quot;</span>.getBytes();</span><br><span class=\"line\">    DatagramPacket datagramPacket = <span class=\"keyword\">new</span> DatagramPacket(data, data.length, localHost, port);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 2. åˆ›å»º Socket</span></span><br><span class=\"line\">    DatagramSocket datagramSocket = <span class=\"keyword\">new</span> DatagramSocket();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 3. å‘é€æ•°æ®</span></span><br><span class=\"line\">    datagramSocket.send(datagramPacket);</span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot; ä¼ è¾“æˆåŠŸ.&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 4. å…³é—­è¿æ¥</span></span><br><span class=\"line\">    datagramSocket.close();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"UDP- å¾ªç¯å‘é€\">UDP å¾ªç¯å‘é€</h2>\n<h3 id=\"Server-3\">Server</h3>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.net.DatagramPacket;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.net.DatagramSocket;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Server2</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> <span class=\"keyword\">throws</span> Exception </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// 1. å‡†å¤‡è¿æ¥ </span></span><br><span class=\"line\">    DatagramSocket datagramSocket = <span class=\"keyword\">new</span> DatagramSocket(<span class=\"number\">9999</span>);</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (<span class=\"keyword\">true</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">byte</span>[] bytes = <span class=\"keyword\">new</span> <span class=\"keyword\">byte</span>[<span class=\"number\">1024</span>];</span><br><span class=\"line\">      DatagramPacket datagramPacket = <span class=\"keyword\">new</span> DatagramPacket(bytes, bytes.length);</span><br><span class=\"line\">      System.out.println(<span class=\"string\">&quot;Server å‡†å¤‡æ¥æ”¶æ•°æ®ä¸­.&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// 2. æ¥æ”¶æ•°æ®</span></span><br><span class=\"line\">      datagramSocket.receive(datagramPacket);</span><br><span class=\"line\">      String string = <span class=\"keyword\">new</span> String(datagramPacket.getData());</span><br><span class=\"line\">      System.out.println(<span class=\"string\">&quot; æ¥æ”¶åˆ°æ•°æ®:\\t&quot;</span> + datagramPacket.getAddress() + <span class=\"string\">&quot;:&quot;</span> + datagramPacket.getPort() + <span class=\"string\">&quot;\\t&quot;</span> + string);</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// è¿™é‡Œçš„ string=&quot;quitxxxxxxxxxxxxxx&quot;, æ€»é•¿ä¸ºä¸Šé¢çš„ 1024, ç”¨.equals() æ— æ³•åˆ¤æ–­.</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (string.contains(<span class=\"string\">&quot;quit&quot;</span>)) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">break</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 3. æ–­å¼€è¿æ¥</span></span><br><span class=\"line\">    datagramSocket.close();</span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;Server å·²å…³é—­è¿æ¥.&quot;</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"Client-3\">Client</h3>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.io.BufferedReader;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.InputStreamReader;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.net.DatagramPacket;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.net.DatagramSocket;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.net.InetSocketAddress;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Client2</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> <span class=\"keyword\">throws</span> Exception </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// 0. å‡†å¤‡è¿æ¥</span></span><br><span class=\"line\">    BufferedReader bufferedReader = <span class=\"keyword\">new</span> BufferedReader(<span class=\"keyword\">new</span> InputStreamReader(System.in));</span><br><span class=\"line\">    DatagramSocket datagramSocket = <span class=\"keyword\">new</span> DatagramSocket();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">while</span> (<span class=\"keyword\">true</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// 1. å‡†å¤‡æ•°æ®</span></span><br><span class=\"line\">      System.out.println(<span class=\"string\">&quot;Client å‡†å¤‡è¯»å– Terminal æ•°æ®:&quot;</span>);</span><br><span class=\"line\">      String readLine = bufferedReader.readLine();</span><br><span class=\"line\">      <span class=\"keyword\">byte</span>[] bytes = readLine.getBytes();</span><br><span class=\"line\">      DatagramPacket datagramPacket = <span class=\"keyword\">new</span> DatagramPacket(bytes, bytes.length, <span class=\"keyword\">new</span> InetSocketAddress(<span class=\"string\">&quot;localhost&quot;</span>, <span class=\"number\">9999</span>));</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// 2. å‘é€æ•°æ®</span></span><br><span class=\"line\">      datagramSocket.send(datagramPacket);</span><br><span class=\"line\">      System.out.println(<span class=\"string\">&quot;Client å·²ç»å‘é€æ•°æ®.&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (readLine.equals(<span class=\"string\">&quot;quit&quot;</span>)) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">break</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 3. æ–­å¼€è¿æ¥</span></span><br><span class=\"line\">    datagramSocket.close();</span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;Client å·²å…³é—­è¿æ¥.&quot;</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"åŒå‘èŠå¤©\">åŒå‘èŠå¤©</h2>\n<ul>\n<li>\n<p>å®ç° <code> å‘é€ </code>,<code> æ¥æ”¶ </code> ä¸¤ä¸ªçº¿ç¨‹ç±»</p>\n</li>\n<li>\n<p>è€å¸ˆå’Œå­¦ç”Ÿå„å¼€ä¸Šé¢ä¸¤ä¸ªçº¿ç¨‹, å®ç° <code> å‘, æ”¶ </code> åŠŸèƒ½.</p>\n</li>\n</ul>\n<h3 id=\"å‘é€çº¿ç¨‹\">å‘é€çº¿ç¨‹</h3>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.io.BufferedReader;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.IOException;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.InputStreamReader;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.net.DatagramPacket;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.net.DatagramSocket;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.net.InetSocketAddress;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.net.SocketException;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">TalkSend</span> <span class=\"keyword\">implements</span> <span class=\"title\">Runnable</span> </span>&#123;</span><br><span class=\"line\">  BufferedReader bufferedReader = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">  DatagramSocket datagramSocket = <span class=\"keyword\">null</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">private</span> String targetIP;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">int</span> targetPort;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">TalkSend</span><span class=\"params\">(String targetIP, <span class=\"keyword\">int</span> targetPort)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.targetIP = targetIP;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.targetPort = targetPort;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">      <span class=\"comment\">// 0. å‡†å¤‡è¿æ¥</span></span><br><span class=\"line\">      bufferedReader = <span class=\"keyword\">new</span> BufferedReader(<span class=\"keyword\">new</span> InputStreamReader(System.in));</span><br><span class=\"line\">      datagramSocket = <span class=\"keyword\">new</span> DatagramSocket();</span><br><span class=\"line\">    &#125; <span class=\"keyword\">catch</span> (SocketException e) &#123;</span><br><span class=\"line\">      e.printStackTrace();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Override</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">run</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (<span class=\"keyword\">true</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// 1. å‡†å¤‡æ•°æ®</span></span><br><span class=\"line\">      System.out.println(<span class=\"string\">&quot;Client å‡†å¤‡è¯»å– Terminal æ•°æ®:&quot;</span>);</span><br><span class=\"line\">      <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">        String readLine = bufferedReader.readLine();</span><br><span class=\"line\">        <span class=\"keyword\">byte</span>[] bytes = readLine.getBytes();</span><br><span class=\"line\">        DatagramPacket datagramPacket = <span class=\"keyword\">new</span> DatagramPacket(bytes, bytes.length,</span><br><span class=\"line\">            <span class=\"keyword\">new</span> InetSocketAddress(targetIP, targetPort));</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 2. å‘é€æ•°æ®</span></span><br><span class=\"line\">        datagramSocket.send(datagramPacket);</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;Client å·²ç»å‘é€æ•°æ®.&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (readLine.equals(<span class=\"string\">&quot;quit&quot;</span>)) &#123;</span><br><span class=\"line\">          <span class=\"keyword\">break</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125; <span class=\"keyword\">catch</span> (IOException e) &#123;</span><br><span class=\"line\">        e.printStackTrace();</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 3. æ–­å¼€è¿æ¥</span></span><br><span class=\"line\">    datagramSocket.close();</span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;Client å·²å…³é—­è¿æ¥.&quot;</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"æ¥æ”¶çº¿ç¨‹\">æ¥æ”¶çº¿ç¨‹</h3>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.io.IOException;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.net.DatagramPacket;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.net.DatagramSocket;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.net.SocketException;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">TalkReceive</span> <span class=\"keyword\">implements</span> <span class=\"title\">Runnable</span> </span>&#123;</span><br><span class=\"line\">  DatagramSocket datagramSocket = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">int</span> localPort;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">TalkReceive</span><span class=\"params\">(<span class=\"keyword\">int</span> localPort)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.localPort = localPort;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">      datagramSocket = <span class=\"keyword\">new</span> DatagramSocket(<span class=\"keyword\">this</span>.localPort);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">catch</span> (SocketException e) &#123;</span><br><span class=\"line\">      e.printStackTrace();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Override</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">run</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// 1. å‡†å¤‡è¿æ¥ </span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> (<span class=\"keyword\">true</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">byte</span>[] bytes = <span class=\"keyword\">new</span> <span class=\"keyword\">byte</span>[<span class=\"number\">1024</span>];</span><br><span class=\"line\">        DatagramPacket datagramPacket = <span class=\"keyword\">new</span> DatagramPacket(bytes, bytes.length);</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;Server å‡†å¤‡æ¥æ”¶æ•°æ®ä¸­.&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 2. æ¥æ”¶æ•°æ®</span></span><br><span class=\"line\">        datagramSocket.receive(datagramPacket);</span><br><span class=\"line\"></span><br><span class=\"line\">        String string = <span class=\"keyword\">new</span> String(datagramPacket.getData());</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot; æ¥æ”¶åˆ°æ•°æ®:\\t&quot;</span> + datagramPacket.getAddress() + <span class=\"string\">&quot;:&quot;</span> + datagramPacket.getPort() + <span class=\"string\">&quot;\\t&quot;</span> + string);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// è¿™é‡Œçš„ string=&quot;quitxxxxxxxxxxxxxx&quot;, æ€»é•¿ä¸ºä¸Šé¢çš„ 1024, ç”¨.equals() æ— æ³•åˆ¤æ–­.</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (string.contains(<span class=\"string\">&quot;quit&quot;</span>)) &#123;</span><br><span class=\"line\">          <span class=\"keyword\">break</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125; <span class=\"keyword\">catch</span> (IOException e) &#123;</span><br><span class=\"line\">        e.printStackTrace();</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 3. æ–­å¼€è¿æ¥</span></span><br><span class=\"line\">    datagramSocket.close();</span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;Server å·²å…³é—­è¿æ¥.&quot;</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"è€å¸ˆ\">è€å¸ˆ</h3>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Teacher</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// è€å¸ˆ</span></span><br><span class=\"line\">    <span class=\"keyword\">new</span> Thread(<span class=\"keyword\">new</span> TalkReceive(<span class=\"number\">7777</span>)).start();</span><br><span class=\"line\">    <span class=\"keyword\">new</span> Thread(<span class=\"keyword\">new</span> TalkSend(<span class=\"string\">&quot;localhost&quot;</span>, <span class=\"number\">8888</span>)).start();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">    Server å‡†å¤‡æ¥æ”¶æ•°æ®ä¸­.</span></span><br><span class=\"line\"><span class=\"comment\">    Client å‡†å¤‡è¯»å– Terminal æ•°æ®:</span></span><br><span class=\"line\"><span class=\"comment\">    æ¥æ”¶åˆ°æ•°æ®:     /127.0.0.1:50277        15465</span></span><br><span class=\"line\"><span class=\"comment\">    Server å‡†å¤‡æ¥æ”¶æ•°æ®ä¸­.</span></span><br><span class=\"line\"><span class=\"comment\">    123456</span></span><br><span class=\"line\"><span class=\"comment\">    Client å·²ç»å‘é€æ•°æ®.</span></span><br><span class=\"line\"><span class=\"comment\">    Client å‡†å¤‡è¯»å– Terminal æ•°æ®:</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"å­¦ç”Ÿ\">å­¦ç”Ÿ</h3>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Student</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// å­¦ç”Ÿ</span></span><br><span class=\"line\">    <span class=\"keyword\">new</span> Thread(<span class=\"keyword\">new</span> TalkReceive(<span class=\"number\">8888</span>)).start();</span><br><span class=\"line\">    <span class=\"keyword\">new</span> Thread(<span class=\"keyword\">new</span> TalkSend(<span class=\"string\">&quot;localhost&quot;</span>, <span class=\"number\">7777</span>)).start();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">    Server å‡†å¤‡æ¥æ”¶æ•°æ®ä¸­.</span></span><br><span class=\"line\"><span class=\"comment\">    Client å‡†å¤‡è¯»å– Terminal æ•°æ®:</span></span><br><span class=\"line\"><span class=\"comment\">    15465</span></span><br><span class=\"line\"><span class=\"comment\">    Client å·²ç»å‘é€æ•°æ®.</span></span><br><span class=\"line\"><span class=\"comment\">    Client å‡†å¤‡è¯»å– Terminal æ•°æ®:</span></span><br><span class=\"line\"><span class=\"comment\">    æ¥æ”¶åˆ°æ•°æ®:     /127.0.0.1:50279        123456</span></span><br><span class=\"line\"><span class=\"comment\">    Server å‡†å¤‡æ¥æ”¶æ•°æ®ä¸­.</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"URL-2\">URL</h2>\n<ul>\n<li>æ–‡ä»¶ä¸‹è½½</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.io.File;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.FileOutputStream;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.InputStream;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.net.URL;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">GetURL</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> <span class=\"keyword\">throws</span> Exception </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// 1. è®¾ç½® URL å’Œæ–‡ä»¶è·¯å¾„</span></span><br><span class=\"line\">    URL url = <span class=\"keyword\">new</span> URL(<span class=\"string\">&quot;https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png&quot;</span>);</span><br><span class=\"line\">    String path = <span class=\"string\">&quot;Java/src/main/java/twenty_one/net/&quot;</span>;</span><br><span class=\"line\">    String fileName = url.getPath().substring(url.getPath().lastIndexOf(<span class=\"string\">&#x27;/&#x27;</span>) + <span class=\"number\">1</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * ! URL ç±»ç”¨æ³•</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">      System.out.println(url.getProtocol());</span></span><br><span class=\"line\"><span class=\"comment\">      System.out.println(url.getHost());</span></span><br><span class=\"line\"><span class=\"comment\">      System.out.println(url.getPort());</span></span><br><span class=\"line\"><span class=\"comment\">      System.out.println(url.getPath());</span></span><br><span class=\"line\"><span class=\"comment\">      System.out.println(url.getFile());</span></span><br><span class=\"line\"><span class=\"comment\">      System.out.println(url.getQuery());</span></span><br><span class=\"line\"><span class=\"comment\">    *</span></span><br><span class=\"line\"><span class=\"comment\">      https</span></span><br><span class=\"line\"><span class=\"comment\">      cdn.jsdelivr.net</span></span><br><span class=\"line\"><span class=\"comment\">      /gh/Weidows/Images@master/img/divider.png</span></span><br><span class=\"line\"><span class=\"comment\">      /gh/Weidows/Images@master/img/divider.png</span></span><br><span class=\"line\"><span class=\"comment\">      null</span></span><br><span class=\"line\"><span class=\"comment\">    */</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 2. è¾“å…¥è¾“å‡ºæµ</span></span><br><span class=\"line\">    InputStream openStream = url.openStream();</span><br><span class=\"line\">    FileOutputStream fileOutputStream = <span class=\"keyword\">new</span> FileOutputStream(<span class=\"keyword\">new</span> File(path + fileName));</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 3. ä¼ è¾“æ•°æ®</span></span><br><span class=\"line\">    <span class=\"keyword\">byte</span>[] bytes = <span class=\"keyword\">new</span> <span class=\"keyword\">byte</span>[<span class=\"number\">1024</span>];</span><br><span class=\"line\">    <span class=\"keyword\">int</span> length;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> ((length = openStream.read(bytes)) != -<span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">      fileOutputStream.write(bytes, <span class=\"number\">0</span>, length);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 4. å…³é—­è¿æ¥</span></span><br><span class=\"line\">    fileOutputStream.close();</span><br><span class=\"line\">    openStream.close();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kity@2.0.4/dist/kity.min.js\"></script><script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js\"></script><script defer=\"true\" type=\"text&#x2F;javascript\" src=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js\"></script><link rel=\"stylesheet\" type=\"text&#x2F;css\" href=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css\">",
            "tags": [
                "java",
                "ç¬”è®°"
            ]
        },
        {
            "id": "https://weidows.github.io/post/Java/%E6%B3%A8%E8%A7%A3%E4%B8%8E%E5%8F%8D%E5%B0%84/2/",
            "url": "https://weidows.github.io/post/Java/%E6%B3%A8%E8%A7%A3%E4%B8%8E%E5%8F%8D%E5%B0%84/2/",
            "title": "ğŸ”¥Java æ³¨è§£ä¸åå°„å¤ä¹ ~(è´°)",
            "date_published": "2021-02-27T09:31:03.000Z",
            "content_html": "<!--\n * @?: *********************************************************************\n * @Author: Weidows\n * @LastEditors: Weidows\n * @LastEditTime: 2022-02-27 16:27:36\n * @FilePath: \\Blog-private\\source\\_posts\\Java\\ æ³¨è§£ä¸åå°„ \\2.md\n * @Description:\n * @!: *********************************************************************\n-->\n<ul>\n<li><a href=\"#%E6%93%8D%E4%BD%9C-class-%E5%AF%B9%E8%B1%A1\">æ“ä½œ Class å¯¹è±¡</a></li>\n<li><a href=\"#%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90\">æ€§èƒ½åˆ†æ</a></li>\n<li><a href=\"#%E5%8F%8D%E5%B0%84%E6%93%8D%E4%BD%9C%E6%B3%9B%E5%9E%8B\">åå°„æ“ä½œæ³›å‹</a></li>\n<li><a href=\"#%E5%8F%8D%E5%B0%84%E6%93%8D%E4%BD%9C%E6%B3%A8%E8%A7%A3\">åå°„æ“ä½œæ³¨è§£</a></li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"æ“ä½œ -Class- å¯¹è±¡\">æ“ä½œ Class å¯¹è±¡</h2>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.lang.reflect.Constructor;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.lang.reflect.Field;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.lang.reflect.Method;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Demo6</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> <span class=\"keyword\">throws</span> Exception </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// è·å¾— class å¯¹è±¡</span></span><br><span class=\"line\">    Class c1 = User.class;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// åˆ›å»ºä¸€ä¸ªå¯¹è±¡</span></span><br><span class=\"line\">    User user = (User) c1.newInstance();<span class=\"comment\">// æœ¬è´¨æ˜¯è°ƒç”¨äº†ç±»çš„æ— å‚æ„é€ å™¨</span></span><br><span class=\"line\">    System.out.println(user);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// é€šè¿‡æ„é€ å™¨åˆ›å»ºå¯¹è±¡</span></span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;============================&quot;</span>);</span><br><span class=\"line\">    Constructor constructor = c1.getDeclaredConstructor(String.class, <span class=\"keyword\">int</span>.class);</span><br><span class=\"line\">    User user2 = (User) constructor.newInstance(<span class=\"string\">&quot; æ‰“çˆ† &quot;</span>, <span class=\"number\">22</span>);</span><br><span class=\"line\">    System.out.println(user2);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// é€šè¿‡åå°„è·å–ä¸€ä¸ªæ–¹æ³•</span></span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;============================&quot;</span>);</span><br><span class=\"line\">    Method setName = c1.getDeclaredMethod(<span class=\"string\">&quot;setName&quot;</span>, String.class);</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * invoke: æ¿€æ´»</span></span><br><span class=\"line\"><span class=\"comment\">     * invoke(æ‰§è¡Œæ–¹æ³•çš„å¯¹è±¡ + åŸæ–¹æ³•çš„å‚æ•° 1+ åŸæ–¹æ³•çš„å‚æ•° 2+...)</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    setName.invoke(user, <span class=\"string\">&quot;Weidows&quot;</span>);</span><br><span class=\"line\">    System.out.println(user.getName());</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// é€šè¿‡åå°„æ“ä½œå±æ€§</span></span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;============================&quot;</span>);</span><br><span class=\"line\">    User user3 = (User) c1.newInstance();</span><br><span class=\"line\">    Field name = c1.getDeclaredField(<span class=\"string\">&quot;name&quot;</span>);</span><br><span class=\"line\">    <span class=\"comment\">// ä¸èƒ½ç›´æ¥æ“ä½œç§æœ‰å±æ€§ï¼Œæˆ‘ä»¬éœ€è¦å…³é—­ç¨‹åºçš„å®‰å…¨ç›‘æµ‹ï¼Œå±æ€§æˆ–æ–¹æ³•çš„ setAccessible(true)</span></span><br><span class=\"line\">    name.setAccessible(<span class=\"keyword\">true</span>);</span><br><span class=\"line\">    name.set(user3, <span class=\"string\">&quot; é½ä¸‹æ— è´° &quot;</span>);</span><br><span class=\"line\">    System.out.println(user3.getName());</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">      twenty_one.reflection.User@59f95c5d</span></span><br><span class=\"line\"><span class=\"comment\">      ============================</span></span><br><span class=\"line\"><span class=\"comment\">      twenty_one.reflection.User@5c8da962</span></span><br><span class=\"line\"><span class=\"comment\">      ============================</span></span><br><span class=\"line\"><span class=\"comment\">      Weidows</span></span><br><span class=\"line\"><span class=\"comment\">      ============================</span></span><br><span class=\"line\"><span class=\"comment\">      é½ä¸‹æ— è´°</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">User</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> String name;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">int</span> age;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">User</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">getName</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> name;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">setName</span><span class=\"params\">(String name)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.name = name;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">User</span><span class=\"params\">(String name, <span class=\"keyword\">int</span> age)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.name = name;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.age = age;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"æ€§èƒ½åˆ†æ -2\">æ€§èƒ½åˆ†æ</h2>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.lang.reflect.Method;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">PerformanceInfluence</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> <span class=\"keyword\">throws</span> Exception </span>&#123;</span><br><span class=\"line\">    test1();</span><br><span class=\"line\">    test2();</span><br><span class=\"line\">    test3();</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">      æ™®é€šæ–¹å¼æ‰§è¡Œ 4ms</span></span><br><span class=\"line\"><span class=\"comment\">      åå°„æ–¹å¼, å¼€å¯æ£€æµ‹æ‰§è¡Œ 2794ms</span></span><br><span class=\"line\"><span class=\"comment\">      åå°„æ–¹å¼, å…³é—­æ£€æµ‹æ‰§è¡Œ 1771ms</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">test1</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    User user = <span class=\"keyword\">new</span> User();</span><br><span class=\"line\">    <span class=\"keyword\">long</span> start = System.currentTimeMillis();</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">1000000000</span>; i++) &#123;</span><br><span class=\"line\">      user.getName();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">long</span> end = System.currentTimeMillis();</span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot; æ™®é€šæ–¹å¼æ‰§è¡Œ &quot;</span> + (end - start) + <span class=\"string\">&quot;ms&quot;</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">test2</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> Exception </span>&#123;</span><br><span class=\"line\">    User user = <span class=\"keyword\">new</span> User();</span><br><span class=\"line\">    Class c1 = user.getClass();</span><br><span class=\"line\">    Method getName = c1.getDeclaredMethod(<span class=\"string\">&quot;getName&quot;</span>, <span class=\"keyword\">null</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">long</span> start = System.currentTimeMillis();</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">1000000000</span>; i++) &#123;</span><br><span class=\"line\">      getName.invoke(user, <span class=\"keyword\">null</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">long</span> end = System.currentTimeMillis();</span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot; åå°„æ–¹å¼, å¼€å¯æ£€æµ‹æ‰§è¡Œ &quot;</span> + (end - start) + <span class=\"string\">&quot;ms&quot;</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">test3</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> Exception </span>&#123;</span><br><span class=\"line\">    User user = <span class=\"keyword\">new</span> User();</span><br><span class=\"line\">    Class c1 = user.getClass();</span><br><span class=\"line\">    Method getName = c1.getDeclaredMethod(<span class=\"string\">&quot;getName&quot;</span>, <span class=\"keyword\">null</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">long</span> start = System.currentTimeMillis();</span><br><span class=\"line\">    getName.setAccessible(<span class=\"keyword\">true</span>);</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">1000000000</span>; i++) &#123;</span><br><span class=\"line\">      getName.invoke(user, <span class=\"keyword\">null</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">long</span> end = System.currentTimeMillis();</span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot; åå°„æ–¹å¼, å…³é—­æ£€æµ‹æ‰§è¡Œ &quot;</span> + (end - start) + <span class=\"string\">&quot;ms&quot;</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>å¯è§ä½¿ç”¨ <code> åå°„æ–¹å¼æ‰§è¡Œæ•ˆç‡è¿œè¿œè¿œè¿œä½äºæ­£å¸¸æ‰§è¡Œ</code>, å…³é—­è®¿é—®æƒé™æ£€æµ‹ä¹Ÿåªèƒ½é™ä½éƒ¨åˆ†æ€§èƒ½æŸè€—</li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"åå°„æ“ä½œæ³›å‹\">åå°„æ“ä½œæ³›å‹</h2>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.lang.reflect.Method;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.lang.reflect.ParameterizedType;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.lang.reflect.Type;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.List;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.Map;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Generic</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">test01</span><span class=\"params\">(Map&lt;String, User&gt; map, List&lt;User&gt; list)</span> </span>&#123;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> Map&lt;String, User&gt; <span class=\"title\">test02</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">null</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> <span class=\"keyword\">throws</span> NoSuchMethodException </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * è·å–å‚æ•° (map,list) çš„æ³›å‹å‚æ•°(String,User)</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    Method method = Generic.class.getMethod(<span class=\"string\">&quot;test01&quot;</span>, Map.class, List.class);</span><br><span class=\"line\">    Type[] genericParameterTypes = method.getGenericParameterTypes();</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (Type genericParameterType : genericParameterTypes) &#123;</span><br><span class=\"line\">      System.out.println(<span class=\"string\">&quot; èŒƒå‹å‚æ•° &quot;</span> + genericParameterType);</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (genericParameterType <span class=\"keyword\">instanceof</span> ParameterizedType) &#123;</span><br><span class=\"line\">        Type[] actualTypeAnguments = ((ParameterizedType) genericParameterType).getActualTypeArguments();</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (Type actualTypeAngument : actualTypeAnguments) &#123;</span><br><span class=\"line\">          System.out.println(<span class=\"string\">&quot;  å®é™…å‚æ•°èŒƒå‹ &quot;</span> + actualTypeAngument);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;--------------------------------------------&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * è·å–è¿”å›å€¼çš„æ³›å‹å‚æ•°</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    Method method1 = Generic.class.getMethod(<span class=\"string\">&quot;test02&quot;</span>, <span class=\"keyword\">null</span>);</span><br><span class=\"line\">    Type getGenericReturnType = method1.getGenericReturnType();</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (getGenericReturnType <span class=\"keyword\">instanceof</span> ParameterizedType) &#123;</span><br><span class=\"line\">      Type[] actualTypeArguments = ((ParameterizedType) getGenericReturnType).getActualTypeArguments();</span><br><span class=\"line\">      <span class=\"keyword\">for</span> (Type actualTypeArgument : actualTypeArguments) &#123;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot; è¿”å›å€¼èŒƒå‹ &quot;</span> + actualTypeArgument);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">    èŒƒå‹å‚æ•° java.util.Map&lt;java.lang.String, twenty_one.reflection.User&gt;</span></span><br><span class=\"line\"><span class=\"comment\">    å®é™…å‚æ•°èŒƒå‹ class java.lang.String</span></span><br><span class=\"line\"><span class=\"comment\">    å®é™…å‚æ•°èŒƒå‹ class twenty_one.reflection.User</span></span><br><span class=\"line\"><span class=\"comment\">    èŒƒå‹å‚æ•° java.util.List&lt;twenty_one.reflection.User&gt;</span></span><br><span class=\"line\"><span class=\"comment\">    å®é™…å‚æ•°èŒƒå‹ class twenty_one.reflection.User</span></span><br><span class=\"line\"><span class=\"comment\">    --------------------------------------------</span></span><br><span class=\"line\"><span class=\"comment\">    è¿”å›å€¼èŒƒå‹ class java.lang.String</span></span><br><span class=\"line\"><span class=\"comment\">    è¿”å›å€¼èŒƒå‹ class twenty_one.reflection.User</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"åå°„æ“ä½œæ³¨è§£\">åå°„æ“ä½œæ³¨è§£</h2>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.lang.annotation.ElementType;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.lang.annotation.Retention;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.lang.annotation.RetentionPolicy;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.lang.annotation.Target;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Annotation</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> <span class=\"keyword\">throws</span> NoSuchFieldException, SecurityException </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// * é€šè¿‡åå°„è·å–æ³¨è§£</span></span><br><span class=\"line\">    java.lang.annotation.Annotation[] annotations = Student1.class.getAnnotations();</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (java.lang.annotation.Annotation annotation : annotations) &#123;</span><br><span class=\"line\">      System.out.println(annotation);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// * è·å–æ³¨è§£çš„ value</span></span><br><span class=\"line\">    Table annotation = Student1.class.getAnnotation(Table.class); <span class=\"comment\">// è·å– Student1 ç±»ä¸Š Table ç±»å‹çš„æ³¨è§£</span></span><br><span class=\"line\">    System.out.println(annotation.value());</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// * è·å–æŒ‡å®šçš„ value</span></span><br><span class=\"line\">    java.lang.reflect.Field f = Student1.class.getDeclaredField(<span class=\"string\">&quot;name&quot;</span>);</span><br><span class=\"line\">    Field annotation1 = f.getAnnotation(Field.class);</span><br><span class=\"line\">    System.out.println(annotation1.columnName() + <span class=\"string\">&quot;\\t&quot;</span> + annotation1.type() + <span class=\"string\">&quot;\\t&quot;</span> + annotation1.length());</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">    <span class=\"doctag\">@twenty</span>_one.reflection.Table(value=&quot;db_student&quot;)</span></span><br><span class=\"line\"><span class=\"comment\">    db_student</span></span><br><span class=\"line\"><span class=\"comment\">    db_name varchar 3</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Table(value = &quot;db_student&quot;)</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Student1</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"meta\">@Field(columnName = &quot;db_id&quot;, type = &quot;int&quot;, length = 10)</span></span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">int</span> id;</span><br><span class=\"line\">  <span class=\"meta\">@Field(columnName = &quot;db_age&quot;, type = &quot;int&quot;, length = 10)</span></span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">int</span> age;</span><br><span class=\"line\">  <span class=\"meta\">@Field(columnName = &quot;db_name&quot;, type = &quot;varchar&quot;, length = 3)</span></span><br><span class=\"line\">  <span class=\"keyword\">private</span> String name;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">Student1</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">Student1</span><span class=\"params\">(<span class=\"keyword\">int</span> id, <span class=\"keyword\">int</span> age, String name)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.id = id;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.age = age;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.name = name;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">getId</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> id;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">setId</span><span class=\"params\">(<span class=\"keyword\">int</span> id)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.id = id;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">getAge</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> age;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">setAge</span><span class=\"params\">(<span class=\"keyword\">int</span> age)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.age = age;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">getName</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> name;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">setName</span><span class=\"params\">(String name)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.name = name;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Override</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">toString</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&quot;Student [age=&quot;</span> + age + <span class=\"string\">&quot;, id=&quot;</span> + id + <span class=\"string\">&quot;, name=&quot;</span> + name + <span class=\"string\">&quot;]&quot;</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ! ç±»åçš„æ³¨è§£</span></span><br><span class=\"line\"><span class=\"meta\">@Target(ElementType.TYPE)</span></span><br><span class=\"line\"><span class=\"meta\">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class=\"line\"><span class=\"meta\">@interface</span> Table &#123;</span><br><span class=\"line\">  <span class=\"function\">String <span class=\"title\">value</span><span class=\"params\">()</span></span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ! å±æ€§çš„æ³¨è§£</span></span><br><span class=\"line\"><span class=\"meta\">@Target(ElementType.FIELD)</span></span><br><span class=\"line\"><span class=\"meta\">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class=\"line\"><span class=\"meta\">@interface</span> Field &#123;</span><br><span class=\"line\">  <span class=\"function\">String <span class=\"title\">columnName</span><span class=\"params\">()</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\">String <span class=\"title\">type</span><span class=\"params\">()</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">length</span><span class=\"params\">()</span></span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kity@2.0.4/dist/kity.min.js\"></script><script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js\"></script><script defer=\"true\" type=\"text&#x2F;javascript\" src=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js\"></script><link rel=\"stylesheet\" type=\"text&#x2F;css\" href=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css\">",
            "tags": [
                "java",
                "ç¬”è®°",
                "æ³¨è§£",
                "åå°„"
            ]
        },
        {
            "id": "https://weidows.github.io/post/Java/%E6%B3%A8%E8%A7%A3%E4%B8%8E%E5%8F%8D%E5%B0%84/1/",
            "url": "https://weidows.github.io/post/Java/%E6%B3%A8%E8%A7%A3%E4%B8%8E%E5%8F%8D%E5%B0%84/1/",
            "title": "ğŸ”¥Java æ³¨è§£ä¸åå°„å¤ä¹ ~(å£¹)",
            "date_published": "2021-02-25T03:20:20.000Z",
            "content_html": "<!--\n * @?: *********************************************************************\n * @Author: Weidows\n * @LastEditors: Weidows\n * @LastEditTime: 2022-02-27 16:27:42\n * @FilePath: \\Blog-private\\source\\_posts\\Java\\ æ³¨è§£ä¸åå°„ \\1.md\n * @Description:\n * @!: *********************************************************************\n-->\n<ul>\n<li><a href=\"#%E5%86%85%E7%BD%AE%E6%B3%A8%E8%A7%A3\">å†…ç½®æ³¨è§£</a></li>\n<li><a href=\"#%E5%85%83%E6%B3%A8%E8%A7%A3\">å…ƒæ³¨è§£</a></li>\n<li><a href=\"#%E8%87%AA%E5%AE%9A%E4%B9%89%E6%B3%A8%E8%A7%A3\">è‡ªå®šä¹‰æ³¨è§£</a></li>\n<li><a href=\"#%E5%8F%8D%E5%B0%84\">åå°„</a>\n<ul>\n<li><a href=\"#class-%E7%B1%BB\">Class ç±»</a></li>\n<li><a href=\"#%E7%B1%BB%E7%9A%84%E5%8A%A0%E8%BD%BD%E8%BF%87%E7%A8%8B\">ç±»çš„åŠ è½½è¿‡ç¨‹</a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%AE%9E%E4%BE%8B%E5%8C%96%E4%B8%8E-static-%E5%8A%A0%E8%BD%BD\">å®ä¾‹åŒ–ä¸ static åŠ è½½</a>\n<ul>\n<li><a href=\"#%E4%BB%80%E4%B9%88%E6%97%B6%E5%80%99%E4%BC%9A%E5%8F%91%E7%94%9F%E7%B1%BB%E5%88%9D%E5%A7%8B%E5%8C%96\">ä»€ä¹ˆæ—¶å€™ä¼šå‘ç”Ÿç±»åˆå§‹åŒ–?</a></li>\n</ul>\n</li>\n<li><a href=\"#%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8\">ç±»åŠ è½½å™¨</a></li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"å†…ç½®æ³¨è§£\">å†…ç½®æ³¨è§£</h2>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Anno1</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Override</span> <span class=\"comment\">// é‡å†™æ–¹æ³•</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">toString</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">super</span>.toString();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Deprecated</span> <span class=\"comment\">// è¡¨ç¤ºå¼ƒç”¨æ–¹æ³•, ä½†ä»å¯ä½¿ç”¨</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">test</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@SuppressWarnings(&quot;all&quot;)</span> <span class=\"comment\">// æŠ‘åˆ¶è­¦å‘Š</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">test01</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> age;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> </span>&#123;</span><br><span class=\"line\">    test();</span><br><span class=\"line\">    test01();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"å…ƒæ³¨è§£\">å…ƒæ³¨è§£</h2>\n<ul>\n<li>\n<p><code>ä½œç”¨äºå…¶ä»–æ³¨è§£çš„æ³¨è§£</code></p>\n</li>\n<li>\n<p>åœ¨ java.lang.annotation åŒ…ä¸­å¯ä»¥æ‰¾åˆ°.(@ Target , @Retentionï¼Œ@Documented , @Inherited)</p>\n<ul>\n<li>@Target : ç”¨äºæè¿°æ³¨è§£çš„ä½¿ç”¨èŒƒå›´(å³: è¢«æè¿°çš„æ³¨è§£å¯ä»¥ç”¨åœ¨ä»€ä¹ˆåœ°æ–¹)</li>\n<li>@Retention : è¡¨ç¤ºéœ€è¦åœ¨ä»€ä¹ˆçº§åˆ«ä¿å­˜è¯¥æ³¨é‡Šä¿¡æ¯, ç”¨äºæè¿°æ³¨è§£çš„ç”Ÿå‘½å‘¨æœŸ(SOURCE &lt; CLASS &lt; RUNTIME)</li>\n<li>@Document: è¯´æ˜è¯¥æ³¨è§£å°†è¢«åŒ…å«åœ¨ javadoc ä¸­</li>\n<li>@Inherited: è¯´æ˜å­ç±»å¯ä»¥ç»§æ‰¿çˆ¶ç±»ä¸­çš„è¯¥æ³¨è§£</li>\n</ul>\n</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.lang.annotation.*;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@MyAnnotation</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Anno2</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"meta\">@MyAnnotation</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">test</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//Target è¡¨ç¤ºæˆ‘ä»¬çš„æ³¨è§£å¯ä»¥ç”¨åœ¨å“ªäº›åœ°æ–¹.</span></span><br><span class=\"line\"><span class=\"meta\">@Target(value = &#123; ElementType.METHOD, ElementType.TYPE &#125;)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//Retention è¡¨ç¤ºæˆ‘ä»¬çš„æ³¨è§£åœ¨ä»€ä¹ˆåœ°æ–¹è¿˜æœ‰æ•ˆã€‚runtime&gt;class&gt;sources</span></span><br><span class=\"line\"><span class=\"meta\">@Retention(value = RetentionPolicy.RUNTIME)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//Documented è¡¨ç¤ºæ˜¯å¦å°†æˆ‘ä»¬çš„æ³¨è§£ç”Ÿæˆåœ¨ Javadoc ä¸­</span></span><br><span class=\"line\"><span class=\"meta\">@Documented</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//Inherited å­ç±»å¯ä»¥ç»§æ‰¿çˆ¶ç±»çš„æ³¨è§£</span></span><br><span class=\"line\"><span class=\"meta\">@Inherited</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@interface</span> MyAnnotation &#123;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"è‡ªå®šä¹‰æ³¨è§£\">è‡ªå®šä¹‰æ³¨è§£</h2>\n<ul>\n<li>ä½¿ç”¨ @interface è‡ªå®šä¹‰æ³¨è§£æ—¶, è‡ªåŠ¨ç»§æ‰¿äº† java.lang .annotation.Annotation æ¥å£</li>\n<li>@interface ç”¨æ¥å£°æ˜ä¸€ä¸ªæ³¨è§£, æ ¼å¼: public @ interface æ³¨è§£å{å®šä¹‰å†…å®¹}\n<ol>\n<li>å…¶ä¸­çš„æ¯ä¸€ä¸ªæ–¹æ³•å®é™…ä¸Šæ˜¯å£°æ˜äº†ä¸€ä¸ªé…ç½®å‚æ•°.</li>\n<li>æ–¹æ³•çš„åç§°å°±æ˜¯å‚æ•°çš„åç§°.</li>\n<li>è¿”å›å€¼ç±»å‹å°±æ˜¯å‚æ•°çš„ç±»å‹(è¿”å›å€¼åªèƒ½æ˜¯åŸºæœ¬ç±»å‹,Class , String , enum).</li>\n<li>å¯ä»¥é€šè¿‡ default æ¥å£°æ˜å‚æ•°çš„é»˜è®¤å€¼</li>\n<li>å¦‚æœåªæœ‰ä¸€ä¸ªå‚æ•°æˆå‘˜, ä¸€èˆ¬å‚æ•°åä¸º value</li>\n<li>æ³¨è§£å…ƒç´ å¿…é¡»è¦æœ‰å€¼ï¼Œæˆ‘ä»¬å®šä¹‰æ³¨è§£å…ƒç´ æ—¶, ç»å¸¸ä½¿ç”¨ç©ºå­—ç¬¦ä¸²ï¼Œ0 ä½œä¸ºé»˜è®¤å€¼.</li>\n</ol>\n</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.lang.annotation.*;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Anno3</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// æ³¨è§£å¯ä»¥æ˜¾ç¤ºèµ‹å€¼ï¼Œå¦‚æœæ²¡æœ‰é»˜è®¤å€¼ ï¼Œæˆ‘ä»¬å°±å¿…é¡»ç»™æ³¨è§£èµ‹å€¼</span></span><br><span class=\"line\">  <span class=\"meta\">@MyAnnotation2(name = &#123;&quot;Weidows&quot;, &quot; é½ä¸‹æ— è´° &quot;&#125;, age = 21)</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">test</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@MyAnnotation3(&quot;Weidows&quot;)</span> <span class=\"comment\">// å‚æ•°åªæœ‰ä¸€ä¸ªï¼Œä¸”å‚æ•°åä¸º value</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">test1</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Target(&#123;ElementType.METHOD, ElementType.TYPE&#125;)</span></span><br><span class=\"line\"><span class=\"meta\">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class=\"line\"><span class=\"meta\">@interface</span> MyAnnotation2 &#123;</span><br><span class=\"line\">  <span class=\"comment\">// æ³¨è§£çš„å‚æ•°: å‚æ•°ç±»å‹ + å‚æ•°å();</span></span><br><span class=\"line\">  String[] name() <span class=\"keyword\">default</span> &#123;<span class=\"string\">&quot;&quot;</span>&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">age</span><span class=\"params\">()</span> <span class=\"keyword\">default</span> 0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">id</span><span class=\"params\">()</span> <span class=\"keyword\">default</span> -1</span>; <span class=\"comment\">// å¦‚æœé»˜è®¤å€¼ä¸º -1, ä»£è¡¨ä¸å­˜åœ¨ã€‚</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\">String <span class=\"title\">schools</span><span class=\"params\">()</span> <span class=\"keyword\">default</span> &quot; å®¶é‡Œè¹²å¤§å­¦ &quot;</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@Target</span>(value = &#123; ElementType.TYPE, ElementType.METHOD &#125;)</span></span><br><span class=\"line\"><span class=\"comment\"> * åªæœ‰ä¸€ä¸ªå‚æ•°æ—¶å¯ä»¥çœç•¥å‚æ•°å, å¤šä¸ªå‚æ•°æ—¶ä¸å¯çœç•¥</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"meta\">@Target(&#123;ElementType.TYPE, ElementType.METHOD&#125;)</span></span><br><span class=\"line\"><span class=\"meta\">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class=\"line\"><span class=\"meta\">@interface</span> MyAnnotation3 &#123;</span><br><span class=\"line\">  <span class=\"comment\">// åªæœ‰ä¸€ä¸ªå‚æ•°æ—¶ï¼Œå‚æ•°åä¸º value æ—¶ï¼Œä½¿ç”¨æ—¶ä¸éœ€å‚æ•°å</span></span><br><span class=\"line\">  <span class=\"function\">String <span class=\"title\">value</span><span class=\"params\">()</span></span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>ç°åœ¨, æ³¨è§£å®šä¹‰å’Œä½¿ç”¨ç»“æŸäº†, ä¸‹é¢ç»“åˆåå°„æ¥è¯»å–æ³¨è§£æ•°æ®.</p>\n</blockquote>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"åå°„\">åå°„</h2>\n<ul>\n<li>å¯ä»¥åœ¨è¿è¡Œæ—¶å®ç°åŠ¨æ€åˆ›å»ºå¯¹è±¡å’Œç¼–è¯‘, æœ‰å¾ˆå¤§çš„çµæ´»æ€§, ä½†ä¼šå½±å“ä¸€å®šæ€§èƒ½</li>\n</ul>\n<h3 id=\"Class- ç±»\">Class ç±»</h3>\n<ul>\n<li>\n<p>Class ç±»æ—¶åå°„æœºåˆ¶çš„æ ¹æº, å¸¸ç”¨æ–¹æ³•å¦‚ä¸‹:</p>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVmAfm.png\" alt=\"20210226151038\" />\n</li>\n<li>\n<p>è·å– Class ç±»çš„å¯¹è±¡</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Demo1</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> <span class=\"keyword\">throws</span> ClassNotFoundException </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// æ–¹å¼ä¸€ï¼šé€šè¿‡å¯¹è±¡è·å–</span></span><br><span class=\"line\">    Class c1 = <span class=\"keyword\">new</span> Student().getClass();</span><br><span class=\"line\">    System.out.println(c1);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// æ–¹å¼äºŒï¼šé€šè¿‡ forname è·å–</span></span><br><span class=\"line\">    Class c2 = Class.forName(<span class=\"string\">&quot;twenty_one.reflection.Person&quot;</span>);</span><br><span class=\"line\">    System.out.println(c2);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// é€šè¿‡ç±»å.class è·å¾—(æœ€å¯é , é«˜æ•ˆ)</span></span><br><span class=\"line\">    Class c3 = Student.class;</span><br><span class=\"line\">    System.out.println(c3);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// æ–¹å¼å››ï¼šåŸºæœ¬å†…ç½®ç±»å‹çš„åŒ…è£…ç±»éƒ½æœ‰ä¸€ä¸ª TYPE å±æ€§</span></span><br><span class=\"line\">    Class c4 = Integer.TYPE;</span><br><span class=\"line\">    System.out.println(c4);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Person</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">public</span> String name;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">Person</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">Person</span><span class=\"params\">(String name)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.name = name;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Override</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">toString</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&quot;Person&#123;&quot;</span> + <span class=\"string\">&quot;name=&#x27;&quot;</span> + name + <span class=\"string\">&#x27;\\&#x27;&#x27;</span> + <span class=\"string\">&#x27;&#125;&#x27;</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Student</span> <span class=\"keyword\">extends</span> <span class=\"title\">Person</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">Student</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.name = <span class=\"string\">&quot;Student&quot;</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Teacher</span> <span class=\"keyword\">extends</span> <span class=\"title\">Person</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">Teacher</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.name = <span class=\"string\">&quot;Teacher&quot;</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n</li>\n<li>\n<p>Class å¯¹è±¡ç±»å‹</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.lang.annotation.ElementType;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Demo2</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> </span>&#123;</span><br><span class=\"line\">    Class c1 = Object.class; <span class=\"comment\">// ç±»</span></span><br><span class=\"line\">    Class c2 = Runnable.class; <span class=\"comment\">// æ¥å£</span></span><br><span class=\"line\">    Class c3 = String[].class; <span class=\"comment\">//- - ç»´æ•°ç»„</span></span><br><span class=\"line\">    Class c4 = <span class=\"keyword\">int</span>[][].class; <span class=\"comment\">// äºŒç»´æ•°ç»„</span></span><br><span class=\"line\">    Class c5 = Override.class; <span class=\"comment\">// æ³¨è§£</span></span><br><span class=\"line\">    Class c6 = ElementType.class; <span class=\"comment\">// æšä¸¾</span></span><br><span class=\"line\">    Class c7 = Integer.class; <span class=\"comment\">// åŸºæœ¬æ•°æ®ç±»å‹</span></span><br><span class=\"line\">    Class c8 = <span class=\"keyword\">void</span>.class; <span class=\"comment\">//void</span></span><br><span class=\"line\">    Class c9 = Class.class; <span class=\"comment\">//Class</span></span><br><span class=\"line\">    System.out.println(c1);<span class=\"comment\">//class java.lang.Object</span></span><br><span class=\"line\">    System.out.println(c2);<span class=\"comment\">//interface java.lang.Comparable</span></span><br><span class=\"line\">    System.out.println(c3);<span class=\"comment\">//class [Ljava.lang.String;</span></span><br><span class=\"line\">    System.out.println(c4);<span class=\"comment\">//class [[I</span></span><br><span class=\"line\">    System.out.println(c5);<span class=\"comment\">//interface java.lang.Override</span></span><br><span class=\"line\">    System.out.println(c6);<span class=\"comment\">//class java.lang.annotation.ElementType</span></span><br><span class=\"line\">    System.out.println(c7);<span class=\"comment\">//class java.lang.Integer</span></span><br><span class=\"line\">    System.out.println(c8);<span class=\"comment\">//void</span></span><br><span class=\"line\">    System.out.println(c9);<span class=\"comment\">//class java.lang.Class</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h3 id=\"ç±»çš„åŠ è½½è¿‡ç¨‹\">ç±»çš„åŠ è½½è¿‡ç¨‹</h3>\n<ol>\n<li>\n<p>åŠ è½½: é¦–å…ˆç±»åŠ è½½å™¨è¯»å–.class å­—èŠ‚ç æ–‡ä»¶åˆ°æ–¹æ³•åŒºå†…å­˜, è½¬æ¢æ•°æ®ç»“æ„ä¸ºè¿è¡Œæ—¶, å¹¶ç”Ÿæˆ java.lang.Class å¯¹è±¡.</p>\n<ul>\n<li>åœ¨åå°„ä¸­è·å– Class å¯¹è±¡å¹¶ä¸æ˜¯åˆ›å»º, è€Œæ˜¯ä»å†…å­˜ä¸­è·å–.</li>\n</ul>\n</li>\n<li>\n<p>é“¾æ¥: å°† Java ç±»çš„äºŒè¿›åˆ¶ä»£ç åˆå¹¶åˆ° JVM çš„è¿è¡ŒçŠ¶æ€ä¹‹ä¸­çš„è¿‡ç¨‹ã€‚</p>\n<ul>\n<li>éªŒè¯: ç¡®ä¿åŠ è½½çš„ç±»ä¿¡æ¯ç¬¦åˆ JVM è§„èŒƒï¼Œæ²¡æœ‰å®‰å…¨æ–¹é¢çš„é—®é¢˜</li>\n<li>å‡†å¤‡: æ­£å¼ä¸ºç±»å˜é‡(static) åˆ†é…å†…å­˜å¹¶è®¾ç½®ç±»å˜é‡é»˜è®¤åˆå§‹å€¼çš„é˜¶æ®µ, è¿™äº›å†…å­˜éƒ½å°†åœ¨æ–¹æ³•åŒºä¸­è¿›è¡Œåˆ†é…ã€‚</li>\n<li>è§£æ: è™šæ‹Ÿæœºå¸¸é‡æ± å†…çš„ç¬¦å·å¼•ç”¨ (å¸¸é‡å) æ›¿æ¢ä¸ºç›´æ¥å¼•ç”¨ (åœ°å€) çš„è¿‡ç¨‹ã€‚</li>\n</ul>\n</li>\n<li>\n<p>åˆå§‹åŒ–:</p>\n<ul>\n<li>æ‰§è¡Œç±»æ„é€ å™¨ &lt; clinit&gt; ()æ–¹æ³•çš„è¿‡ç¨‹ã€‚<code>ç±»æ„é€ å™¨ &lt; clinit&gt; ()æ–¹æ³•æ˜¯ç”±ç¼–è¯‘æœŸè‡ªåŠ¨æ”¶é›†ç±»ä¸­æ‰€æœ‰ç±»å˜é‡çš„èµ‹å€¼åŠ¨ä½œå’Œé™æ€ä»£ç å—ä¸­çš„è¯­å¥åˆå¹¶äº§ç”Ÿçš„ã€‚</code>(ç±»æ„é€  å™¨æ˜¯æ„é€ ç±»ä¿¡æ¯çš„ï¼Œä¸æ˜¯æ„é€ è¯¥ç±»å¯¹è±¡çš„æ„é€ å™¨)ã€‚</li>\n<li>å½“åˆå§‹åŒ–ä¸€ä¸ªç±»çš„æ—¶å€™ï¼Œå¦‚æœå‘ç°å…¶çˆ¶ç±»è¿˜æ²¡æœ‰è¿›è¡Œåˆå§‹åŒ–ï¼Œåˆ™éœ€è¦å…ˆè§¦å‘å…¶çˆ¶ç±»çš„åˆå§‹åŒ–ã€‚</li>\n<li>è™šæ‹Ÿæœºä¼šä¿è¯ä¸€ ä¸ªç±»çš„ ()æ–¹æ³•åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­è¢«æ­£ç¡®åŠ é”å’ŒåŒæ­¥ã€‚</li>\n</ul>\n<hr>\n</li>\n</ol>\n<ul>\n<li>\n<p>ä¾‹å­</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Demo3</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> </span>&#123;</span><br><span class=\"line\">    A a = <span class=\"keyword\">new</span> A();</span><br><span class=\"line\">    System.out.println(A.m);<span class=\"comment\">//300</span></span><br><span class=\"line\">    <span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">      1. åŠ è½½åˆ°å†…å­˜ï¼Œäº§ç”Ÿä¸€ä¸ªç±»å¯¹åº” Class å¯¹è±¡</span></span><br><span class=\"line\"><span class=\"comment\">      2. é“¾æ¥ï¼Œé“¾æ¥ç»“æŸå m=â—</span></span><br><span class=\"line\"><span class=\"comment\">      3. åˆå§‹åŒ–</span></span><br><span class=\"line\"><span class=\"comment\">      &lt;clinit&gt;()&#123;</span></span><br><span class=\"line\"><span class=\"comment\">          m=100;</span></span><br><span class=\"line\"><span class=\"comment\">          System.out.println(&quot;A ç±»é™æ€ä»£ç å—åˆå§‹åŒ– &quot;);</span></span><br><span class=\"line\"><span class=\"comment\">          m = 300;</span></span><br><span class=\"line\"><span class=\"comment\">      &#125;</span></span><br><span class=\"line\"><span class=\"comment\">    */</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">A</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// * 1.1</span></span><br><span class=\"line\">  <span class=\"keyword\">static</span> <span class=\"keyword\">int</span> m = <span class=\"number\">100</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// * 1.2</span></span><br><span class=\"line\">  <span class=\"keyword\">static</span> &#123;</span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;A ç±»é™æ€ä»£ç å—åˆå§‹åŒ– &quot;</span>);</span><br><span class=\"line\">    m = <span class=\"number\">300</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// * 2</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">A</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;A ç±»çš„æ„é€ åˆå§‹åŒ– &quot;</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVmSeh.png\" alt=\"20210226172346\" />\n</li>\n</ul>\n<hr>\n<h2 id=\"å®ä¾‹åŒ–ä¸ -static- åŠ è½½\">å®ä¾‹åŒ–ä¸ static åŠ è½½</h2>\n<ul>\n<li>\n<p>å°è¯•ä¸‹å®ä¾‹åŒ–ä¸å¦å¯¹ static èµ„æºè°ƒç”¨çš„å½±å“</p>\n</li>\n<li>\n<p>å®ä¾‹åŒ– + è°ƒç”¨</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Demo3</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> </span>&#123;</span><br><span class=\"line\">    A a = <span class=\"keyword\">new</span> A();</span><br><span class=\"line\">    System.out.println(A.m);<span class=\"comment\">//300</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">A</span>ç±»é™æ€ä»£ç å—åˆå§‹åŒ– </span><br><span class=\"line\"><span class=\"selector-tag\">A</span> ç±»çš„æ„é€ åˆå§‹åŒ–</span><br><span class=\"line\"><span class=\"number\">300</span></span><br></pre></td></tr></table></figure>\n<hr>\n</li>\n<li>\n<p>å®ä¾‹åŒ– + ä¸è°ƒç”¨</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Demo3</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> </span>&#123;</span><br><span class=\"line\">    A a = <span class=\"keyword\">new</span> A();</span><br><span class=\"line\">    <span class=\"comment\">// System.out.println(A.m);//300</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">A</span>ç±»é™æ€ä»£ç å—åˆå§‹åŒ– </span><br><span class=\"line\"><span class=\"selector-tag\">A</span> ç±»çš„æ„é€ åˆå§‹åŒ–</span><br></pre></td></tr></table></figure>\n<hr>\n</li>\n<li>\n<p>ä¸å®ä¾‹åŒ– + è°ƒç”¨</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Demo3</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// A a = new A();</span></span><br><span class=\"line\">    System.out.println(A.m);<span class=\"comment\">//300</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">A</span>ç±»é™æ€ä»£ç å—åˆå§‹åŒ–</span><br><span class=\"line\"><span class=\"number\">300</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>å¯ä»¥å‘ç°åœ¨å®ä¾‹åŒ–å¯¹è±¡ä¹‹åè°ƒç”¨ static èµ„æº, å¹¶ä¸ä¼šå†æ¬¡æ‰§è¡Œé™æ€ä»£ç å—</p>\n<ul>\n<li>å¦‚æœæ²¡å®ä¾‹åŒ–çš„æƒ…å†µä¸‹è°ƒå– static èµ„æº, ç±»ä¼šåŠ è½½, ä½†ä¸ä¼šæ‰§è¡Œæ„é€ å™¨</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h3 id=\"ä»€ä¹ˆæ—¶å€™ä¼šå‘ç”Ÿç±»åˆå§‹åŒ–\">ä»€ä¹ˆæ—¶å€™ä¼šå‘ç”Ÿç±»åˆå§‹åŒ–?</h3>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVmbFr.png\" alt=\"20210226172913\" />\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Demo4</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">static</span> &#123;</span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;main ç±»è¢«åŠ è½½ &quot;</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> <span class=\"keyword\">throws</span> ClassNotFoundException </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//1. ä¸»åŠ¨å¼•ç”¨</span></span><br><span class=\"line\">    <span class=\"comment\">// Son son = new Son();</span></span><br><span class=\"line\">    <span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">    * main ç±»è¢«åŠ è½½</span></span><br><span class=\"line\"><span class=\"comment\">    * çˆ¶ç±»è¢«åŠ è½½</span></span><br><span class=\"line\"><span class=\"comment\">    * å­ç±»è¢«åŠ è½½</span></span><br><span class=\"line\"><span class=\"comment\">    * */</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// åå°„ä¹Ÿä¼šäº§ç”Ÿä¸»åŠ¨å¼•ç”¨</span></span><br><span class=\"line\">    <span class=\"comment\">// Class.forName(&quot;twenty_one.reflection.Son&quot;);</span></span><br><span class=\"line\">    <span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">     * main ç±»è¢«åŠ è½½</span></span><br><span class=\"line\"><span class=\"comment\">     * çˆ¶ç±»è¢«åŠ è½½</span></span><br><span class=\"line\"><span class=\"comment\">     * å­ç±»è¢«åŠ è½½</span></span><br><span class=\"line\"><span class=\"comment\">     * */</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// ä¸ä¼šäº§ç”Ÿç±»çš„å¼•ç”¨çš„æ–¹æ³•</span></span><br><span class=\"line\">    <span class=\"comment\">// System.out.println(Son.b);</span></span><br><span class=\"line\">    <span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">    * main ç±»è¢«åŠ è½½</span></span><br><span class=\"line\"><span class=\"comment\">    * çˆ¶ç±»è¢«åŠ è½½</span></span><br><span class=\"line\"><span class=\"comment\">    * 2</span></span><br><span class=\"line\"><span class=\"comment\">    * */</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// åªä¼š main ç±»è¢«åŠ è½½</span></span><br><span class=\"line\">    <span class=\"comment\">// System.out.println(Son.M);</span></span><br><span class=\"line\">    <span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">     * main ç±»è¢«åŠ è½½</span></span><br><span class=\"line\"><span class=\"comment\">     * 1</span></span><br><span class=\"line\"><span class=\"comment\">     * */</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// å…¨åŠ è½½</span></span><br><span class=\"line\">    System.out.println(Son.m);</span><br><span class=\"line\">    <span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">     * main ç±»è¢«åŠ è½½</span></span><br><span class=\"line\"><span class=\"comment\">     * çˆ¶ç±»è¢«åŠ è½½</span></span><br><span class=\"line\"><span class=\"comment\">     * å­ç±»è¢«åŠ è½½</span></span><br><span class=\"line\"><span class=\"comment\">     * 100</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Father</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">static</span> <span class=\"keyword\">int</span> b = <span class=\"number\">2</span>;</span><br><span class=\"line\">  <span class=\"keyword\">static</span> &#123;</span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot; çˆ¶ç±»è¢«åŠ è½½ &quot;</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Son</span> <span class=\"keyword\">extends</span> <span class=\"title\">Father</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">static</span> &#123;</span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot; å­ç±»è¢«åŠ è½½ &quot;</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">static</span> <span class=\"keyword\">int</span> m = <span class=\"number\">100</span>;</span><br><span class=\"line\">  <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> <span class=\"keyword\">int</span> M = <span class=\"number\">1</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"ç±»åŠ è½½å™¨\">ç±»åŠ è½½å™¨</h2>\n<ul>\n<li>\n<p>ä½œç”¨</p>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVmlnT.png\" alt=\"20210227171646\" />\n</li>\n<li>\n<p>åˆ†ç±»</p>\n<img src=\"https://www.helloimg.com/images/2022/02/27/GVmM71.png\" alt=\"20210227172006\" />\n<hr>\n</li>\n<li>\n<p>æ“ä½œç±»åŠ è½½å™¨</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Demo5</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> <span class=\"keyword\">throws</span> ClassNotFoundException </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// è·å–ç³»ç»Ÿçš„ç±»åŠ è½½å™¨</span></span><br><span class=\"line\">    ClassLoader systemClassLoader = ClassLoader.getSystemClassLoader();</span><br><span class=\"line\">    System.out.println(systemClassLoader);<span class=\"comment\">//jdk.internal.loader.ClassLoaders$AppClassLoader@4459eb14</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// è·å–ç³»ç»Ÿç±»åŠ è½½å™¨çš„çˆ¶ç±»åŠ è½½å™¨ --&gt; æ‰©å±•ç±»åŠ è½½å™¨</span></span><br><span class=\"line\">    ClassLoader parent = systemClassLoader.getParent();</span><br><span class=\"line\">    System.out.println(parent);<span class=\"comment\">//jdk.internal.loader.ClassLoaders$PlatformClassLoader@7960847b</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// è·å–æ‰©å±•ç±»åŠ è½½å™¨çš„çˆ¶ç±»åŠ è½½å™¨ --&gt; æ ¹åŠ è½½å™¨(C/C++)</span></span><br><span class=\"line\">    ClassLoader grantparent = parent.getParent();</span><br><span class=\"line\">    System.out.println(grantparent);<span class=\"comment\">//null</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// æµ‹è¯•å½“å‰ç±»æ˜¯å“ªä¸ªåŠ è½½å™¨åŠ è½½çš„</span></span><br><span class=\"line\">    ClassLoader classLoader = Demo5.class.getClassLoader();</span><br><span class=\"line\">    System.out.println(classLoader);<span class=\"comment\">//jdk.internal.loader.ClassLoaders$AppClassLoader@4459eb14</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// æµ‹è¯• JDK å†…ç½®çš„ç±»æ˜¯è°åŠ è½½çš„</span></span><br><span class=\"line\">    ClassLoader classLoader1 = Class.forName(<span class=\"string\">&quot;java.lang.Object&quot;</span>).getClassLoader();</span><br><span class=\"line\">    System.out.println(classLoader1);<span class=\"comment\">//null</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// å¦‚ä½•è·å¾—ç³»ç»Ÿç±»åŠ è½½å™¨å¯ä»¥åŠ è½½çš„è·¯å¾„</span></span><br><span class=\"line\">    System.out.println(System.getProperty(<span class=\"string\">&quot;java.class.path&quot;</span>));<span class=\"comment\">//D:\\Game\\Weidows\\Java\\target\\classes;D:\\Game\\Scoop\\persist\\maven\\mvn-repository\\commons-io\\commons-io\\2.8.0\\commons-io-2.8.0.jar</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kity@2.0.4/dist/kity.min.js\"></script><script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js\"></script><script defer=\"true\" type=\"text&#x2F;javascript\" src=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js\"></script><link rel=\"stylesheet\" type=\"text&#x2F;css\" href=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css\">",
            "tags": [
                "java",
                "ç¬”è®°",
                "æ³¨è§£",
                "åå°„"
            ]
        },
        {
            "id": "https://weidows.github.io/post/Java/%E5%A4%9A%E7%BA%BF%E7%A8%8B/3/",
            "url": "https://weidows.github.io/post/Java/%E5%A4%9A%E7%BA%BF%E7%A8%8B/3/",
            "title": "ğŸŒ­å›é¡¾ä¸€ä¸‹ Java å¤šçº¿ç¨‹~(å)",
            "date_published": "2021-02-24T09:14:17.000Z",
            "content_html": "<!--\n * @?: *********************************************************************\n * @Author: Weidows\n * @LastEditors: Weidows\n * @LastEditTime: 2021-03-19 00:14:47\n * @FilePath: \\Weidowsd:\\Game\\Github\\Blog-private\\source\\_posts\\Java\\ å¤šçº¿ç¨‹ \\3.md\n * @Description:\n * @!: *********************************************************************\n-->\n<ul>\n<li><a href=\"#%E5%8F%AF%E9%87%8D%E5%85%A5%E9%94%81-reentrantlock\">å¯é‡å…¥é” ReentrantLock</a></li>\n<li><a href=\"#%E5%A4%9A%E7%BA%BF%E7%A8%8B%E4%B8%8E%E5%BE%AA%E7%8E%AF%E6%8E%A7%E5%88%B6\">å¤šçº¿ç¨‹ä¸å¾ªç¯æ§åˆ¶</a></li>\n<li><a href=\"#%E5%BB%B6%E8%BF%9F%E5%AF%B9%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%BD%B1%E5%93%8D\">å»¶è¿Ÿå¯¹å¤šçº¿ç¨‹çš„å½±å“</a>\n<ul>\n<li><a href=\"#%E4%B8%80\">ä¸€</a></li>\n<li><a href=\"#%E4%BA%8C\">äºŒ</a></li>\n<li><a href=\"#%E4%B8%89\">ä¸‰</a></li>\n</ul>\n</li>\n<li><a href=\"#%E7%BA%BF%E7%A8%8B%E9%80%9A%E4%BF%A1\">çº¿ç¨‹é€šä¿¡</a></li>\n<li><a href=\"#%E7%BA%BF%E7%A8%8B%E6%B1%A0\">çº¿ç¨‹æ± </a></li>\n<li><a href=\"#over\">Over</a></li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"å¯é‡å…¥é” -ReentrantLock\">å¯é‡å…¥é” ReentrantLock</h2>\n<ul>\n<li>\n<p>ReentrantLock ç±»å®ç°äº† java.util.concurrent.locks.Lock æ¥å£</p>\n</li>\n<li>\n<p>ä¸ synchronized åŒºåˆ«:</p>\n<ul>\n<li>ReentrantLock æ˜¯æ˜¾å¼åŠ è§£é”, å®ƒåªèƒ½é”ä»£ç å—</li>\n<li>æ€§èƒ½æ¯” synchronized å¥½</li>\n</ul>\n</li>\n<li>\n<p>ä½¿ç”¨ä¼˜å…ˆåº¦</p>\n<ul>\n<li>Lock &gt; åŒæ­¥ä»£ç å—(å·²ç»è¿›å…¥äº†æ–¹æ³•ä½“ï¼Œåˆ†é…äº†ç›¸åº”èµ„æº) &gt; åŒæ­¥æ–¹æ³•(åœ¨æ–¹æ³•ä½“ä¹‹å¤–)</li>\n</ul>\n</li>\n<li>\n<p>æ³¨æ„ç‚¹: åŠ è§£é”æœ€å¥½è¦åœ¨ try-finally é‡Œ</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">  lock.lock(); <span class=\"comment\">// åŠ é”</span></span><br><span class=\"line\">&#125; <span class=\"keyword\">finally</span> &#123;</span><br><span class=\"line\">  lock.unlock(); <span class=\"comment\">// è§£é”</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>ä¾‹å­</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.util.concurrent.locks.ReentrantLock;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">TestLock</span> <span class=\"keyword\">implements</span> <span class=\"title\">Runnable</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">int</span> ticketNums = <span class=\"number\">10</span>;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">final</span> ReentrantLock lock = <span class=\"keyword\">new</span> ReentrantLock(); <span class=\"comment\">// å®šä¹‰ Lock é”</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Override</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">run</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (<span class=\"keyword\">true</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">        lock.lock(); <span class=\"comment\">// åŠ é”</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (ticketNums &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">          System.out.println(Thread.currentThread().getName() + <span class=\"string\">&quot;--&gt; æ‹¿åˆ°äº†ç¬¬ &quot;</span> + ticketNums-- + <span class=\"string\">&quot; ç¥¨ &quot;</span>);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">          <span class=\"keyword\">break</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125; <span class=\"keyword\">finally</span> &#123;</span><br><span class=\"line\">        lock.unlock(); <span class=\"comment\">// è§£é”</span></span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">          Thread.sleep(<span class=\"number\">500</span>);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (InterruptedException e) &#123;</span><br><span class=\"line\">          e.printStackTrace();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> </span>&#123;</span><br><span class=\"line\">    TestLock testLock = <span class=\"keyword\">new</span> TestLock();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">new</span> Thread(testLock, <span class=\"string\">&quot;a&quot;</span>).start();</span><br><span class=\"line\">    <span class=\"keyword\">new</span> Thread(testLock, <span class=\"string\">&quot;b&quot;</span>).start();</span><br><span class=\"line\">    <span class=\"keyword\">new</span> Thread(testLock, <span class=\"string\">&quot;c&quot;</span>).start();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>ç»“æœ</p>\n<figure class=\"highlight xl\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"title\">a</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬ <span class=\"number\">10</span> ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬ <span class=\"number\">9</span> ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">b</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬ <span class=\"number\">8</span> ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">b</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬ <span class=\"number\">7</span> ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬ <span class=\"number\">6</span> ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">a</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬ <span class=\"number\">5</span> ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">b</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬ <span class=\"number\">4</span> ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">a</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬ <span class=\"number\">3</span> ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬ <span class=\"number\">2</span> ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬ <span class=\"number\">1</span> ç¥¨</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"å¤šçº¿ç¨‹ä¸å¾ªç¯æ§åˆ¶\">å¤šçº¿ç¨‹ä¸å¾ªç¯æ§åˆ¶</h2>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.util.concurrent.locks.ReentrantLock;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">TestLock</span> <span class=\"keyword\">implements</span> <span class=\"title\">Runnable</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">int</span> ticketNums = <span class=\"number\">10</span>;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">final</span> ReentrantLock lock = <span class=\"keyword\">new</span> ReentrantLock(); <span class=\"comment\">// å®šä¹‰ Lock é”</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Override</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">run</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (ticketNums &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">        lock.lock(); <span class=\"comment\">// åŠ é”</span></span><br><span class=\"line\">        Thread.sleep(<span class=\"number\">500</span>);</span><br><span class=\"line\">        System.out.println(Thread.currentThread().getName() + <span class=\"string\">&quot;--&gt; æ‹¿åˆ°äº†ç¬¬ &quot;</span> + ticketNums-- + <span class=\"string\">&quot; ç¥¨ &quot;</span>);</span><br><span class=\"line\">      &#125; <span class=\"keyword\">catch</span> (InterruptedException e) &#123;</span><br><span class=\"line\">        e.printStackTrace();</span><br><span class=\"line\">      &#125; <span class=\"keyword\">finally</span> &#123;</span><br><span class=\"line\">        lock.unlock(); <span class=\"comment\">// è§£é”</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> </span>&#123;</span><br><span class=\"line\">    TestLock testLock = <span class=\"keyword\">new</span> TestLock();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">new</span> Thread(testLock, <span class=\"string\">&quot;a&quot;</span>).start();</span><br><span class=\"line\">    <span class=\"keyword\">new</span> Thread(testLock, <span class=\"string\">&quot;b&quot;</span>).start();</span><br><span class=\"line\">    <span class=\"keyword\">new</span> Thread(testLock, <span class=\"string\">&quot;c&quot;</span>).start();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>\n<p>ä¸Šé¢ä»£ç  while å¾ªç¯ä¼šå­˜åœ¨åˆ¤æ–­å¤±è¯¯</p>\n<figure class=\"highlight xl\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬ <span class=\"number\">10</span> ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬ <span class=\"number\">9</span> ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬ <span class=\"number\">8</span> ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬ <span class=\"number\">7</span> ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬ <span class=\"number\">6</span> ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬ <span class=\"number\">5</span> ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬ <span class=\"number\">4</span> ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬ <span class=\"number\">3</span> ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬ <span class=\"number\">2</span> ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬ <span class=\"number\">1</span> ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">b</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬ <span class=\"number\">0</span> ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">a</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬ -<span class=\"number\">1</span>ç¥¨</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>ticketNums åœ¨åˆ¤æ–­ä¹‹åè¢«å¤šæ¬¡ä¿®æ”¹</p>\n<ul>\n<li>ä¸Šé¢ 10~1 æ¬¡éƒ½æ˜¯ c çº¿ç¨‹æ‰§è¡Œçš„, å®ƒæ‰§è¡Œåè½®åˆ° b å’Œ a</li>\n<li>ä½†æ˜¯ b ä¸ a çº¿ç¨‹å®é™…ä¸Šæ˜¯åœ¨ <code>ticketNums=10</code> æ—¶è¿›å…¥çš„å¾ªç¯, æ‰€ä»¥ä¼šå¯¼è‡´ <code>-1</code> å‡ºç°</li>\n</ul>\n</li>\n<li>\n<p>æ‰€ä»¥å»ºè®®æ˜¯:</p>\n<ul>\n<li>é‡åˆ°å¤šçº¿ç¨‹å¾ªç¯æ§åˆ¶æ—¶, ç›´æ¥<code>while(true)</code>, ç„¶ååœ¨å†…éƒ¨ç”¨<code>if</code></li>\n</ul>\n</li>\n</ul>\n<hr>\n<h2 id=\"å»¶è¿Ÿå¯¹å¤šçº¿ç¨‹çš„å½±å“\">å»¶è¿Ÿå¯¹å¤šçº¿ç¨‹çš„å½±å“</h2>\n<blockquote>\n<p>ä¸‹é¢ä¸‰ä¸ªä¾‹å­æ•°æ®éƒ½æ²¡é”™, å…³é”®çœ‹å¹¶å‘æ•°é‡å’Œæ‰§è¡Œæ—¶é—´</p>\n</blockquote>\n<h3 id=\"ä¸€\">ä¸€</h3>\n<ul>\n<li>\n<p>ç¬é—´æ‰§è¡Œå®Œ, èµ„æºè¢«å•ä¸€çº¿ç¨‹å…¨éƒ¨æŠ¢å </p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.util.concurrent.locks.ReentrantLock;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">TestLock</span> <span class=\"keyword\">implements</span> <span class=\"title\">Runnable</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">int</span> ticketNums = <span class=\"number\">10</span>;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">final</span> ReentrantLock lock = <span class=\"keyword\">new</span> ReentrantLock(); <span class=\"comment\">// å®šä¹‰ Lock é”</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Override</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">run</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (<span class=\"keyword\">true</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">        lock.lock(); <span class=\"comment\">// åŠ é”</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (ticketNums &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">          System.out.println(Thread.currentThread().getName() + <span class=\"string\">&quot;--&gt; æ‹¿åˆ°äº†ç¬¬ &quot;</span> + ticketNums-- + <span class=\"string\">&quot; ç¥¨ &quot;</span>);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">          <span class=\"keyword\">break</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125; <span class=\"keyword\">finally</span> &#123;</span><br><span class=\"line\">        lock.unlock(); <span class=\"comment\">// è§£é”</span></span><br><span class=\"line\">        <span class=\"comment\">// try &#123;</span></span><br><span class=\"line\">        <span class=\"comment\">//   Thread.sleep(500);</span></span><br><span class=\"line\">        <span class=\"comment\">// &#125; catch (InterruptedException e) &#123;</span></span><br><span class=\"line\">        <span class=\"comment\">//   e.printStackTrace();</span></span><br><span class=\"line\">        <span class=\"comment\">// &#125;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> </span>&#123;</span><br><span class=\"line\">    TestLock testLock = <span class=\"keyword\">new</span> TestLock();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">new</span> Thread(testLock, <span class=\"string\">&quot;a&quot;</span>).start();</span><br><span class=\"line\">    <span class=\"keyword\">new</span> Thread(testLock, <span class=\"string\">&quot;b&quot;</span>).start();</span><br><span class=\"line\">    <span class=\"keyword\">new</span> Thread(testLock, <span class=\"string\">&quot;c&quot;</span>).start();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight xl\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬ <span class=\"number\">9</span> ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬ <span class=\"number\">8</span> ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬ <span class=\"number\">7</span> ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬ <span class=\"number\">6</span> ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬ <span class=\"number\">5</span> ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬ <span class=\"number\">4</span> ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬ <span class=\"number\">3</span> ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬ <span class=\"number\">2</span> ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬ <span class=\"number\">1</span> ç¥¨</span><br></pre></td></tr></table></figure>\n<hr>\n</li>\n</ul>\n<h3 id=\"äºŒ\">äºŒ</h3>\n<ul>\n<li>\n<p>ç»™ä»–åŠ ä¸ªå»¶è¿Ÿè¯•è¯•:</p>\n<ul>\n<li>ä¸‰çº¿ç¨‹å¹¶å‘, èµ„æºåˆ†é…åˆç†</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">run</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (<span class=\"keyword\">true</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">      lock.lock(); <span class=\"comment\">// åŠ é”</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (ticketNums &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">        System.out.println(Thread.currentThread().getName() + <span class=\"string\">&quot;--&gt; æ‹¿åˆ°äº†ç¬¬ &quot;</span> + ticketNums-- + <span class=\"string\">&quot; ç¥¨ &quot;</span>);</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">break</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">finally</span> &#123;</span><br><span class=\"line\">      lock.unlock(); <span class=\"comment\">// è§£é”</span></span><br><span class=\"line\">      <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">        Thread.sleep(<span class=\"number\">500</span>);</span><br><span class=\"line\">      &#125; <span class=\"keyword\">catch</span> (InterruptedException e) &#123;</span><br><span class=\"line\">        e.printStackTrace();</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight xl\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"title\">b</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬ <span class=\"number\">10</span> ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">a</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬ <span class=\"number\">9</span> ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬ <span class=\"number\">8</span> ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">b</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬ <span class=\"number\">7</span> ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">a</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬ <span class=\"number\">6</span> ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬ <span class=\"number\">5</span> ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬ <span class=\"number\">4</span> ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">a</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬ <span class=\"number\">3</span> ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">b</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬ <span class=\"number\">2</span> ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">b</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬ <span class=\"number\">1</span> ç¥¨</span><br></pre></td></tr></table></figure>\n<hr>\n</li>\n</ul>\n<h3 id=\"ä¸‰\">ä¸‰</h3>\n<ul>\n<li>\n<p>å†è¯•è¯•å»¶è¿Ÿä¹‹åè§£å¼€åŒæ­¥é”</p>\n<ul>\n<li>å•çº¿æ‰§è¡Œ, èµ„æºåˆ†é…ä¸å¹³è¡¡</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">run</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (<span class=\"keyword\">true</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">      lock.lock(); <span class=\"comment\">// åŠ é”</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (ticketNums &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">        System.out.println(Thread.currentThread().getName() + <span class=\"string\">&quot;--&gt; æ‹¿åˆ°äº†ç¬¬ &quot;</span> + ticketNums-- + <span class=\"string\">&quot; ç¥¨ &quot;</span>);</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">break</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">finally</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">        Thread.sleep(<span class=\"number\">500</span>);</span><br><span class=\"line\">      &#125; <span class=\"keyword\">catch</span> (InterruptedException e) &#123;</span><br><span class=\"line\">        e.printStackTrace();</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      lock.unlock(); <span class=\"comment\">// è§£é”</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight xl\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"title\">a</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬ <span class=\"number\">10</span> ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">a</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬ <span class=\"number\">9</span> ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬ <span class=\"number\">8</span> ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬ <span class=\"number\">7</span> ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬ <span class=\"number\">6</span> ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬ <span class=\"number\">5</span> ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬ <span class=\"number\">4</span> ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬ <span class=\"number\">3</span> ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">c</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬ <span class=\"number\">2</span> ç¥¨</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">b</span>--&gt;</span>æ‹¿åˆ°äº†ç¬¬ <span class=\"number\">1</span> ç¥¨</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"çº¿ç¨‹é€šä¿¡\">çº¿ç¨‹é€šä¿¡</h2>\n<blockquote>\n<p><a href=\"https://github.com/Weidows/Java/blob/master/Java/src/main/java/twenty/november/thread/producer_and_customer/Test.java\">ç”Ÿäº§è€…ä¸æ¶ˆè´¹è€…æ¨¡å‹</a></p>\n</blockquote>\n<hr>\n<h2 id=\"çº¿ç¨‹æ± \">çº¿ç¨‹æ± </h2>\n<ul>\n<li>\n<p>çº¿ç¨‹æ± çš„å‡ºç°æ˜¯ä¸ºäº†æ–¹ä¾¿å¤§é‡çš„çº¿ç¨‹åˆ›å»º, å›æ”¶å’Œç®¡ç†</p>\n</li>\n<li>\n<p>éœ€è¦äº†è§£ <code>ExecutorService</code> çº¿ç¨‹æ± æ¥å£; ä»¥åŠ <code>Executors</code> çº¿ç¨‹æ± å·¥å…·ç±».</p>\n<ul>\n<li>\n<p>corePoolSize: æ ¸å¿ƒæ± çš„å¤§å°</p>\n</li>\n<li>\n<p>maximumPoolSize: æœ€å¤§çº¿ç¨‹æ•°</p>\n</li>\n<li>\n<p>keepAliveTime: çº¿ç¨‹æ²¡æœ‰ä»»åŠ¡æ—¶æœ€å¤šä¿æŒå¤šé•¿æ—¶é—´åä¼šç»ˆæ­¢</p>\n</li>\n<li>\n<p>void execute(Runnable command) : æ‰§è¡Œä»»åŠ¡ / å‘½ä»¤, æ²¡æœ‰è¿”å›å€¼ï¼Œä¸€èˆ¬ç”¨æ¥æ‰§ Runnable</p>\n</li>\n<li>\n<p><T> Future<T> submit(Callable<T> task) : æ‰§è¡Œä»»åŠ¡, æœ‰è¿”å›å€¼ï¼Œä¸€èˆ¬ç”¨æ¥æ‰§è¡Œ Callable</p>\n</li>\n</ul>\n</li>\n<li>\n<p>ä¾‹å­</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.util.concurrent.Callable;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.concurrent.ExecutionException;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.concurrent.ExecutorService;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.concurrent.Executors;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">TestThreadPool</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// 1. åˆ›å»ºæœåŠ¡ï¼Œåˆ›å»ºçº¿ç¨‹æ± </span></span><br><span class=\"line\">    ExecutorService service = Executors.newFixedThreadPool(<span class=\"number\">10</span>); <span class=\"comment\">// å‚æ•°ä¸ºçº¿ç¨‹æ± å¤§å°</span></span><br><span class=\"line\">    Runnable myThread = () -&gt; &#123;</span><br><span class=\"line\">      System.out.println(Thread.currentThread().getName());</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    Callable&lt;String&gt; myThread2 = () -&gt; &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"string\">&quot;Running in &quot;</span> + Thread.currentThread().getName();</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// æ‰§è¡Œ: å‰äº”ä¸ªæ˜¯ Runnable, åäº”ä¸ªæ˜¯ Callable</span></span><br><span class=\"line\">    service.execute(myThread);</span><br><span class=\"line\">    service.execute(myThread);</span><br><span class=\"line\">    service.execute(myThread);</span><br><span class=\"line\">    service.execute(myThread);</span><br><span class=\"line\">    service.execute(myThread);</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">      System.out.println(service.submit(myThread2).get());</span><br><span class=\"line\">      System.out.println(service.submit(myThread2).get());</span><br><span class=\"line\">      System.out.println(service.submit(myThread2).get());</span><br><span class=\"line\">      System.out.println(service.submit(myThread2).get());</span><br><span class=\"line\">      System.out.println(service.submit(myThread2).get());</span><br><span class=\"line\">    &#125; <span class=\"keyword\">catch</span> (InterruptedException | ExecutionException e) &#123;</span><br><span class=\"line\">      e.printStackTrace();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 2. å…³é—­è¿æ¥</span></span><br><span class=\"line\">    service.shutdown();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// class MyThread implements Runnable &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//   @Override</span></span><br><span class=\"line\"><span class=\"comment\">//   public void run() &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//     System.out.println(Thread.currentThread().getName());</span></span><br><span class=\"line\"><span class=\"comment\">//   &#125;</span></span><br><span class=\"line\"><span class=\"comment\">// &#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// class MyThread2 implements Callable &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//   @Override</span></span><br><span class=\"line\"><span class=\"comment\">//   public Object call() throws Exception &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//     return &quot;Running in &quot; + Thread.currentThread().getName();</span></span><br><span class=\"line\"><span class=\"comment\">//   &#125;</span></span><br><span class=\"line\"><span class=\"comment\">// &#125;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>ç»“æœ</p>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">pool</span>-<span class=\"number\">1</span>-thread-<span class=\"number\">2</span></span><br><span class=\"line\"><span class=\"attribute\">Running</span> in pool-<span class=\"number\">1</span>-thread-<span class=\"number\">6</span></span><br><span class=\"line\"><span class=\"attribute\">pool</span>-<span class=\"number\">1</span>-thread-<span class=\"number\">4</span></span><br><span class=\"line\"><span class=\"attribute\">pool</span>-<span class=\"number\">1</span>-thread-<span class=\"number\">5</span></span><br><span class=\"line\"><span class=\"attribute\">pool</span>-<span class=\"number\">1</span>-thread-<span class=\"number\">3</span></span><br><span class=\"line\"><span class=\"attribute\">pool</span>-<span class=\"number\">1</span>-thread-<span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"attribute\">Running</span> in pool-<span class=\"number\">1</span>-thread-<span class=\"number\">7</span></span><br><span class=\"line\"><span class=\"attribute\">Running</span> in pool-<span class=\"number\">1</span>-thread-<span class=\"number\">8</span></span><br><span class=\"line\"><span class=\"attribute\">Running</span> in pool-<span class=\"number\">1</span>-thread-<span class=\"number\">9</span></span><br><span class=\"line\"><span class=\"attribute\">Running</span> in pool-<span class=\"number\">1</span>-thread-<span class=\"number\">10</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p><a><img src=\"https://cdn.jsdelivr.net/gh/Weidows/Images/img/divider.png\" alt=\"åˆ†å‰²çº¿\"></a></p>\n<h2 id=\"Over\">Over</h2>\n<script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kity@2.0.4/dist/kity.min.js\"></script><script type=\"text&#x2F;javascript\" src=\"https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js\"></script><script defer=\"true\" type=\"text&#x2F;javascript\" src=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js\"></script><link rel=\"stylesheet\" type=\"text&#x2F;css\" href=\"https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css\">",
            "tags": [
                "java",
                "ç¬”è®°",
                "å¤šçº¿ç¨‹"
            ]
        }
    ]
}